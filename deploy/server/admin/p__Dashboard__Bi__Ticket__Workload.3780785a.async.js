"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6826],{93689:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(83910),a=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},u=n(54183),c=function(e,t){return a.createElement(u.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var o=a.forwardRef(c)},90151:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(83910),a=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},u=n(54183),c=function(e,t){return a.createElement(u.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var o=a.forwardRef(c)},80556:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(83910),a=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},u=n(54183),c=function(e,t){return a.createElement(u.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var o=a.forwardRef(c)},33019:function(e,t,n){n.d(t,{Lr:function(){return g},_t:function(){return l},sE:function(){return v},x_:function(){return p}});var r=n(90819),a=n.n(r),i=n(73193),u=n.n(i),c=n(89933),o=n.n(c),s=n(39497),d=n(14906);function l(e){return f.apply(this,arguments)}function f(){return(f=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/query/org",{method:"GET",params:u()(u()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/create",{method:"POST",data:u()(u()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/update",{method:"POST",data:u()(u()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/agent/delete",{method:"POST",data:u()(u()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2218:function(e,t,n){n.d(t,{If:function(){return g},dF:function(){return l},j4:function(){return v},v$:function(){return p}});var r=n(90819),a=n.n(r),i=n(73193),u=n.n(i),c=n(89933),o=n.n(c),s=n(39497),d=n(14906);function l(e){return f.apply(this,arguments)}function f(){return(f=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/department/query/org",{method:"GET",params:u()(u()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/department/create",{method:"POST",data:u()(u()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/department/update",{method:"POST",data:u()(u()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/department/delete",{method:"POST",data:u()(u()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8664:function(e,t,n){n.d(t,{AD:function(){return l}});var r=n(90819),a=n.n(r),i=n(73193),u=n.n(i),c=n(89933),o=n.n(c),s=n(39497),d=n(14906);function l(e){return f.apply(this,arguments)}function f(){return(f=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/ticket/statistic/query/date",{method:"GET",params:u()(u()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},11534:function(e,t,n){n.r(t);var r=n(90819),a=n.n(r),i=n(89933),u=n.n(i),c=n(45332),o=n.n(c),s=n(44194),d=n(35281),l=n(13847),f=n(39487),p=n(33797),m=n(87629),v=n(40110),h=n(79369),g=n(82770),y=n(34201),x=n(79489),k=n(94447),w=n(54943),b=n(80556),j=n(10022),R=n(90151),M=n(48004),Z=n(14906),D=n(8664),T=n(19433),Y=n(98830),S=n(10404),A=n(33019),z=n(91361),C=n(39497),O=n(96596),E=n.n(O),q=n(2218),I=n(65728),B=n(93689),U=n(31549),H=d.default.RangePicker,J=l.Z.Option;t.default=function(){var e,t,n,r,i=(0,Z.useIntl)(),c=(0,z.Z)().translateStringTranct,d=(0,s.useState)(E()().startOf("day")),O=o()(d,2),F=O[0],P=O[1],X=(0,s.useState)(E()().endOf("day")),L=o()(X,2),W=L[0],G=L[1],_=(0,s.useState)("today"),N=o()(_,2),V=N[0],Q=N[1],K=(0,s.useState)(C.whQ),$=o()(K,2),ee=$[0],te=$[1],ne=(0,s.useState)(),re=o()(ne,2),ae=re[0],ie=re[1],ue=(0,s.useState)(),ce=o()(ue,2),oe=ce[0],se=ce[1],de=(0,Y.u)((function(e){return e.currentOrg})),le=(0,S.E)((function(e){return e})),fe=le.agentResult,pe=le.setAgentResult,me=(0,I.H)((function(e){return e})),ve=me.departmentResult,he=me.setDepartmentResult,ge=(0,s.useState)(),ye=o()(ge,2),xe=ye[0],ke=ye[1],we=(0,s.useState)(!1),be=o()(we,2),je=be[0],Re=be[1],Me=[{label:(0,U.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.today"}),value:"today"},{label:(0,U.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.yesterday"}),value:"yesterday"},{label:(0,U.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.week"}),value:"week"},{label:(0,U.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,U.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.month"}),value:"month"},{label:(0,U.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.custom"}),value:"custom"}];(0,s.useEffect)((function(){if("custom"===V)P(F),G(W);else{var e=E()();"today"===V?(P(e),G(e)):"yesterday"===V?(P(e.subtract(1,"day")),G(e.subtract(1,"day"))):"week"===V?(P(e.startOf("week")),G(e.endOf("week"))):"lastWeek"===V?(P(e.subtract(1,"week").startOf("week")),G(e.subtract(1,"week").endOf("week"))):"month"===V&&(P(e.startOf("month")),G(e.endOf("month")))}}),[V]);var Ze=function(){var e=u()(a()().mark((function e(){var t,n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T.yw.loading("loading"),t={pageNumber:0,pageSize:100,orgUid:null==de?void 0:de.uid},e.next=4,(0,q.dF)(t);case 4:200===(n=e.sent).code?(T.yw.destroy(),he(n),n.data.content.length>0&&se(n.data.content[0].uid)):(T.yw.destroy(),T.yw.error(n.message));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=u()(a()().mark((function e(){var t,n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T.yw.loading("loading"),t={pageNumber:0,pageSize:50,orgUid:null==de?void 0:de.uid},e.next=4,(0,A._t)(t);case 4:200===(n=e.sent).code?(T.yw.destroy(),pe(n),n.data.content.length>0&&ie(n.data.content[0].uid)):(T.yw.destroy(),T.yw.error(c(n.message)));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=u()(a()().mark((function e(){var t,n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Re(!0),e.prev=1,T.yw.loading("loading"),t={type:ee,startDate:null==F?void 0:F.format("YYYY-MM-DD"),endDate:null==W?void 0:W.format("YYYY-MM-DD"),departmentUid:oe,assigneeUid:ae,orgUid:null==de?void 0:de.uid},e.next=6,(0,D.AD)(t);case 6:n=e.sent,console.log("queryStatisticTicketByDate response:",n.data,t),200===n.code?(T.yw.destroy(),ke(n.data)):(T.yw.destroy(),T.yw.error(n.message)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),T.yw.error(i.formatMessage({id:"ticket.message.operation.failed"}));case 14:return e.prev=14,Re(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){Ze(),De()}),[]),(0,s.useEffect)((function(){Te()}),[ee,ae,oe]),(0,s.useEffect)((function(){Te()}),[F,W]);var Ye=(null===(e=fe.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(e,t){return{key:null==e?void 0:e.uid,name:c(null==e?void 0:e.nickname),avatar:null==e?void 0:e.avatar,totalTickets:(null==xe?void 0:xe.assigneeTickets)||0,resolvedTickets:(null==xe?void 0:xe.resolvedTickets)||0,avgResolutionTime:"".concat((null==xe?void 0:xe.averageResolutionTime)||0,"小时"),workHours:"8小时",efficiency:(null==xe?void 0:xe.assigneeResolutionRate)||0}})))||[],Se=[{title:i.formatMessage({id:"bi.ticket.table.agentName"}),dataIndex:"name",key:"name",render:function(e,t){return(0,U.jsxs)(f.Z,{children:[(0,U.jsx)(p.Z,{src:t.avatar,size:"small"}),(0,U.jsx)("span",{children:e})]})}},{title:i.formatMessage({id:"bi.ticket.table.assigneeTickets"}),dataIndex:"totalTickets",key:"totalTickets"},{title:i.formatMessage({id:"bi.ticket.table.resolvedTickets"}),dataIndex:"resolvedTickets",key:"resolvedTickets"},{title:i.formatMessage({id:"bi.ticket.table.avgResolutionTime"}),dataIndex:"avgResolutionTime",key:"avgResolutionTime",render:function(e){return"".concat(e).concat(i.formatMessage({id:"bi.ticket.unit.minute"}))}},{title:i.formatMessage({id:"bi.ticket.table.efficiency"}),dataIndex:"efficiency",key:"efficiency",render:function(e){return(0,U.jsx)(m.Z,{percent:e,size:"small",format:function(e){return"".concat(e,"%")}})}}];return(0,U.jsxs)("div",{style:{padding:"24px"},children:[(0,U.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,U.jsx)("h2",{children:i.formatMessage({id:"bi.ticket.title.workload"})}),(0,U.jsxs)("p",{children:[i.formatMessage({id:"bi.ticket.description.workload"}),"today"===V&&(0,U.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",F.format("YYYY-MM-DD"),")"]}),"yesterday"===V&&(0,U.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",F.format("YYYY-MM-DD"),")"]}),("week"===V||"lastWeek"===V||"month"===V||"custom"===V)&&(0,U.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",F.format("YYYY-MM-DD")," ~ ",W.format("YYYY-MM-DD"),")"]})]})]}),(0,U.jsx)(v.Z,{style:{marginBottom:16},children:(0,U.jsx)(f.Z,{direction:"vertical",style:{width:"100%"},children:(0,U.jsxs)(f.Z,{wrap:!0,style:{width:"100%",justifyContent:"space-between"},children:[(0,U.jsxs)(f.Z,{wrap:!0,children:[(0,U.jsx)(h.ZP.Group,{value:V,onChange:function(e){return Q(e.target.value)},children:Me.map((function(e){return(0,U.jsx)(h.ZP.Button,{value:e.value,children:e.label},e.value)}))}),"custom"===V&&(0,U.jsx)(H,{value:[F,W],onChange:function(e){P(e[0]),G(e[1])}})]}),(0,U.jsxs)(f.Z,{wrap:!0,children:[(0,U.jsxs)(l.Z,{value:ee,onChange:te,style:{width:120},placeholder:i.formatMessage({id:"bi.ticket.filter.type"}),children:[(0,U.jsx)(J,{value:C.whQ,children:i.formatMessage({id:"bi.ticket.filterType.organization"})}),(0,U.jsx)(J,{value:C.fyH,children:i.formatMessage({id:"bi.ticket.filterType.agent"})}),(0,U.jsx)(J,{value:C.nYM,children:i.formatMessage({id:"bi.ticket.filterType.department"})})]}),ee===C.fyH&&(0,U.jsx)(l.Z,{value:ae,onChange:ie,style:{width:150},placeholder:i.formatMessage({id:"bi.ticket.filter.agent"}),allowClear:!0,children:null===(t=fe.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return(0,U.jsx)(J,{value:e.uid,children:c(e.nickname)},e.uid)}))}),ee===C.nYM&&(0,U.jsx)(l.Z,{value:oe,onChange:se,style:{width:150},placeholder:i.formatMessage({id:"bi.ticket.filter.department"}),allowClear:!0,children:null===(n=ve.data)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.map((function(e){return(0,U.jsx)(J,{value:e.uid,children:c(e.name)},e.uid)}))}),(0,U.jsx)(g.ZP,{type:"primary",icon:(0,U.jsx)(b.Z,{}),onClick:function(){return Te()},children:(0,U.jsx)(Z.FormattedMessage,{id:"bi.common.refresh"})})]})]})})}),(0,U.jsxs)(y.Z,{gutter:16,style:{marginBottom:"24px"},children:[(0,U.jsx)(x.Z,{span:6,children:(0,U.jsx)(v.Z,{children:(0,U.jsx)(k.Z,{title:i.formatMessage({id:"bi.ticket.card.onlineAgents"}),value:(null===(r=fe.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)||0,prefix:(0,U.jsx)(j.Z,{}),valueStyle:{color:"#3f8600"}})})}),(0,U.jsx)(x.Z,{span:6,children:(0,U.jsx)(v.Z,{children:(0,U.jsx)(k.Z,{title:i.formatMessage({id:"bi.ticket.card.totalTickets"}),value:(null==xe?void 0:xe.totalTickets)||0,prefix:(0,U.jsx)(R.Z,{}),valueStyle:{color:"#1890ff"}})})}),(0,U.jsx)(x.Z,{span:6,children:(0,U.jsx)(v.Z,{children:(0,U.jsx)(k.Z,{title:i.formatMessage({id:"bi.ticket.card.avgResponseTime"}),value:(null==xe?void 0:xe.averageFirstResponseTime)||0,prefix:(0,U.jsx)(M.Z,{}),valueStyle:{color:"#722ed1"},suffix:i.formatMessage({id:"bi.ticket.unit.minute"})})})}),(0,U.jsx)(x.Z,{span:6,children:(0,U.jsx)(v.Z,{children:(0,U.jsx)(k.Z,{title:i.formatMessage({id:"bi.ticket.card.assigneeResolutionRate"}),value:(null==xe?void 0:xe.assigneeResolutionRate)||0,prefix:(0,U.jsx)(B.Z,{}),valueStyle:{color:"#eb2f96"},suffix:i.formatMessage({id:"bi.ticket.unit.percent"})})})})]}),(0,U.jsx)(v.Z,{title:"客服工作量详细数据",loading:je,children:(0,U.jsx)(w.Z,{columns:Se,dataSource:Ye,pagination:!1,size:"middle"})})]})}},10404:function(e,t,n){n.d(t,{E:function(){return l}});var r=n(73193),a=n.n(r),i=n(76711),u=n.n(i),c=n(39497),o=n(58063),s=n(66266),d=n(31403),l=(0,o.Ue)()((0,s.mW)((0,s.tJ)((0,d.n)((function(e,t){return{agentResult:{data:{content:[]}},currentAgent:{uid:"",orgUid:""},insertAgent:function(t){e((function(e){e.agentResult.data.content.unshift(t)}))},updateAgent:function(t){e((function(e){var n=e.agentResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Agent with uid ".concat(t.uid," not found."))}))},setAgentResult:function(n){var r;(e({agentResult:n}),""===t().currentAgent.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentAgent:n.data.content[0]}))},setCurrentAgent:function(n){var r=t().agentResult.data.content,i=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==i){var c=[].concat(u()(r.slice(0,i)),[n],u()(r.slice(i+1))),o=a()(a()({},t().agentResult),{},{data:{content:c}});e({agentResult:o,currentAgent:n})}else console.warn("Agent with the specified uid not found."),e({currentAgent:n})},deleteCurrentAgent:function(n){var r=t().agentResult.data.content,i=r.findIndex((function(e){return e.uid===n}));-1!==i?e({agentResult:a()(a()({},t().agentResult),{},{data:{content:[].concat(u()(r.slice(0,i)),u()(r.slice(i+1)))}})}):console.warn("Agent not found in cache:",n),t().currentAgent.uid===n&&e({currentAgent:{uid:"",orgUid:""}})},deleteAgentCache:function(){return e({},!0)}}})),{name:c.zzK})))},65728:function(e,t,n){n.d(t,{H:function(){return p}});var r=n(86222),a=n.n(r),i=n(76711),u=n.n(i),c=n(73193),o=n.n(c),s=n(39497),d=n(58063),l=n(66266),f=n(31403),p=(0,d.Ue)()((0,l.mW)((0,l.tJ)((0,f.n)((function(e,t){return{departmentResult:{data:{content:[]}},currentDepartment:{uid:s.zBg,nickname:s.zBg},insertDepartment:function(t){e((function(e){var n=e.departmentResult.data.content;if(t.parentUid){var r=n.find((function(e){return e.uid===t.parentUid}));r&&(r.children||(r.children=[]),r.children.push(t))}else n.push(t)}))},upgradeDepartment:function(t){e((function(e){var n=e.departmentResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:n.forEach((function(e){if(e.children){var n=e.children.findIndex((function(e){return e.uid===t.uid}));-1!==n&&(e.children[n]=t)}}))}))},setDepartmentResult:function(n){var r,a={uid:s.zBg,name:s.zBg};(e({departmentResult:o()(o()({},n),{},{data:{content:[a].concat(u()(n.data.content))}})}),""===t().currentDepartment.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentDepartment:n.data.content[0]}))},setCurrentDepartment:function(n){var r=t().departmentResult.data.content,a=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==a){var i=[].concat(u()(r.slice(0,a)),[n],u()(r.slice(a+1))),c=o()(o()({},t().departmentResult),{},{data:{content:i}});e({departmentResult:c,currentDepartment:n})}else console.warn("Department with the specified uid not found."),e({currentDepartment:n})},removeDepartment:function(n){e((function(e){var t=e.departmentResult.data.content;e.departmentResult.data.content=function e(t,n){return t.filter((function(t){return t.uid!==n&&(t.children&&(t.children=e(t.children,n)),!0)}))}(t,n)})),t().currentDepartment.uid===n&&e({currentDepartment:{uid:""}})},setCurrentDepUid:function(n){var r,i,u=null===(r=t().departmentResult)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.find((function(e){return e.uid===n}));if(u)e({currentDepartment:u});else{!function t(r){var i,u=a()(r);try{for(u.s();!(i=u.n()).done;){var c=i.value;if(c.uid===n)return void e({currentDepartment:c});c.children&&c.children.length>0&&t(c.children)}}catch(e){u.e(e)}finally{u.f()}}((null===(i=t().departmentResult)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.content)||[])}},deleteDepartmentCache:function(){return e({},!0)}}})),{name:s.xY_})))}}]);