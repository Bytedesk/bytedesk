"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1824],{28031:function(e,t,a){a.d(t,{Z:function(){return d}});var r=a(83910),n=a(44194),s={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},i=a(5901),o=function(e,t){return n.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:s}))};var d=n.forwardRef(o)},22014:function(e,t,a){a.d(t,{Z:function(){return d}});var r=a(83910),n=a(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},i=a(5901),o=function(e,t){return n.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:s}))};var d=n.forwardRef(o)},26608:function(e,t,a){var r=a(94433),n=a(38956),s=a(44194),i=a(46659),o=a(31549),d=["fieldProps","proFieldProps"],c=function(e,t){var a=e.fieldProps,s=e.proFieldProps,c=(0,n.Z)(e,d);return(0,o.jsx)(i.Z,(0,r.Z)({ref:t,valueType:"textarea",fieldProps:a,proFieldProps:s},c))};t.Z=s.forwardRef(c)},81337:function(e,t,a){a.r(t),a.d(t,{default:function(){return ce}});var r=a(88130),n=a(38552),s=a(68992),i=a(92066),o=a(84176),d=a.n(o),c=a(73193),l=a.n(c),u=a(90819),f=a.n(u),g=a(89933),p=a.n(g),A=a(45332),m=a.n(A),h=a(44194),M=a(66248),x=a(76429),v=a(33633),k=a(62954),w=a(72264),y=a(6237),b=a(61489),j=a(62395);function S(e){return Z.apply(this,arguments)}function Z(){return(Z=p()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,j.request)("/api/v1/feedback/query/org",{method:"GET",params:l()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return B.apply(this,arguments)}function B(){return(B=p()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,j.request)("/api/v1/feedback/create",{method:"POST",data:l()(l()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return Q.apply(this,arguments)}function Q(){return(Q=p()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,j.request)("/api/v1/feedback/update",{method:"POST",data:l()(l()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return E.apply(this,arguments)}function E(){return(E=p()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,j.request)("/api/v1/feedback/delete",{method:"POST",data:l()(l()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return T.apply(this,arguments)}function T(){return(T=p()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,j.request)("/api/v1/feedback/delete/all",{method:"POST",data:l()(l()({},t),{},{channel:s.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=a(77686),q=a(77643),F=a(76711),Y=a.n(F),G=a(89007),H=a(47268),R=a(26608),L=a(69650),O=a(41059),z=a(89654),J=a(2348),V=a(22014),N=a(31549),K=L.Z.Text,W=function(e){var t=e.isEdit,a=e.isViewMode,r=void 0!==a&&a,n=e.feedback,s=e.open,i=(e.level,e.onClose),o=e.onSubmit,d=G.A.useForm(),c=m()(d,1)[0],u=(0,j.useIntl)(),f=(0,P.u)((function(e){return e.currentOrg})),g=(0,h.useState)([]),p=m()(g,2),A=p[0],M=p[1];(0,h.useEffect)((function(){t&&n&&c?(c.setFieldsValue({uid:null==n?void 0:n.uid,title:null==n?void 0:n.title,content:null==n?void 0:n.content,imageUrl:null==n?void 0:n.imageUrl}),null!=n&&n.imageUrl?M([{uid:"-1",name:"feedback-image.jpg",status:"done",url:n.imageUrl}]):M([])):(console.log("form resetFields"),c.resetFields(),M([]))}),[n,c,t]);var v=function(){console.log("handleSubmit"),c.validateFields().then((function(e){var a;console.log("Form values:",e);var r="";A.length>0&&null!==(a=A[0].response)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&a.url?r=A[0].response.data.url:A.length>0&&A[0].url&&(r=A[0].url);var s={uid:t?null==n?void 0:n.uid:"",title:e.title,content:e.content,imageUrl:r,categoryUids:[],orgUid:null==f?void 0:f.uid};console.log("feedbackObject:",s),o(s)})).catch((function(e){console.log("Form errors:",e)}))},k={name:"file",action:"/api/v1/upload/image",headers:{authorization:"Bearer "+localStorage.getItem("access_token")},fileList:A,onChange:function(e){var t=Y()(e.fileList);t=(t=t.slice(-1)).map((function(e){var t;e.response&&(e.url=null===(t=e.response.data)||void 0===t?void 0:t.url);return e})),M(t)},maxCount:1,accept:"image/*"},y=r?u.formatMessage({id:"pages.feedback.drawer.view",defaultMessage:"查看反馈"}):t?u.formatMessage({id:"pages.feedback.drawer.edit",defaultMessage:"编辑反馈"}):u.formatMessage({id:"pages.feedback.drawer.create",defaultMessage:"新建反馈"});return(0,N.jsx)("div",{children:(0,N.jsx)(O.Z,{title:y,width:650,onClose:i,open:s,extra:r?null:(0,N.jsxs)(z.Z,{children:[(0,N.jsx)(w.ZP,{onClick:i,children:u.formatMessage({id:"pages.feedback.drawer.cancel",defaultMessage:"取消"})}),(0,N.jsx)(w.ZP,{onClick:v,type:"primary",children:u.formatMessage({id:"pages.feedback.drawer.save",defaultMessage:"保存"})})]}),children:(0,N.jsxs)(G.A,{form:c,name:"feedback",submitter:!t&&!r&&{searchConfig:{resetText:u.formatMessage({id:"pages.feedback.drawer.cancel",defaultMessage:"取消"}),submitText:u.formatMessage({id:"pages.feedback.drawer.save",defaultMessage:"保存"})},onReset:i},onFinish:t||r?void 0:v,children:[(0,N.jsx)(H.Z,{label:u.formatMessage({id:"pages.feedback.drawer.title",defaultMessage:"标题"}),name:"title",required:!0,readonly:r,tooltip:u.formatMessage({id:"pages.feedback.drawer.title.tooltip",defaultMessage:"反馈标题"}),fieldProps:{placeholder:u.formatMessage({id:"pages.feedback.drawer.title.placeholder",defaultMessage:"请输入反馈标题"})}}),(0,N.jsx)(R.Z,{label:u.formatMessage({id:"pages.feedback.drawer.content",defaultMessage:"内容"}),name:"content",required:!0,readonly:r,fieldProps:{placeholder:u.formatMessage({id:"pages.feedback.drawer.content.placeholder",defaultMessage:"请输入反馈内容"}),rows:6},tooltip:u.formatMessage({id:"pages.feedback.drawer.content.tooltip",defaultMessage:"详细描述您的意见或建议"})}),(0,N.jsx)(G.A.Item,{label:u.formatMessage({id:"pages.feedback.drawer.image",defaultMessage:"图片"}),name:"imageUrl",tooltip:u.formatMessage({id:"pages.feedback.drawer.image.tooltip",defaultMessage:"可上传相关截图或图片"}),children:r?(0,N.jsx)("div",{children:null!=n&&n.imageUrl?(0,N.jsx)(x.Z,{width:200,src:n.imageUrl,placeholder:"加载中...",fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3Ik1RnG4W+FgYxN..."}):(0,N.jsx)(K,{type:"secondary",children:u.formatMessage({id:"pages.feedback.drawer.image.none",defaultMessage:"无图片"})})}):(0,N.jsx)(J.Z,l()(l()({},k),{},{children:(0,N.jsx)(w.ZP,{icon:(0,N.jsx)(V.Z,{}),children:u.formatMessage({id:"pages.feedback.drawer.image.upload",defaultMessage:"点击上传"})})}))})]})})})},X=a(83381),_=a(43837),$=a(6992),ee=a(28031),te=a(80503),ae=a(91768),re=a(54596),ne=a(45634),se=a.n(ne),ie=a(87005),oe=["current","pageSize","title","content"],de=function(e){var t=e.level,a=(0,h.useRef)(),r=(0,j.useIntl)(),n=(0,h.useState)(!0),i=m()(n,2),o=i[0],c=i[1],u=(0,h.useState)(1),g=m()(u,2),A=g[0],Z=g[1],B=(0,h.useState)(10),Q=m()(B,2),E=Q[0],T=Q[1],F=(0,h.useState)(!1),Y=m()(F,2),G=Y[0],H=Y[1],R=(0,h.useState)({}),L=m()(R,2),O=L[0],z=L[1],J=(0,P.u)((function(e){return e.currentOrg})),V=(0,q.v)((function(e){return e.currentCategory})),K=M.Z.useModal(),ne=m()(K,2),de=ne[0],ce=ne[1],le=(0,h.useState)(0),ue=m()(le,2),fe=ue[0],ge=ue[1],pe=(0,h.useState)({}),Ae=m()(pe,2),me=Ae[0],he=Ae[1],Me=function(){de.confirm({title:r.formatMessage({id:"deleteTip"}),icon:(0,N.jsx)(X.Z,{}),content:r.formatMessage({id:"deleteAllAffirm",defaultMessage:"Delete all feedback?"}),onOk:function(){ve()},okText:r.formatMessage({id:"ok"}),cancelText:r.formatMessage({id:"cancel"})})},xe=function(){var e=p()(f()().mark((function e(t){var n,s;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.yw.loading(r.formatMessage({id:"deleting",defaultMessage:"Deleting"})),e.next=3,I({uid:t.uid});case 3:200===(n=e.sent).code?(b.yw.destroy(),b.yw.success(r.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),null===(s=a.current)||void 0===s||s.reload()):(b.yw.destroy(),b.yw.error(n.message));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=p()(f()().mark((function e(){var t,n;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.yw.loading(r.formatMessage({id:"deleting",defaultMessage:"Deleting"})),e.next=3,C({orgUid:null==J?void 0:J.uid});case 3:200===(t=e.sent).code?(b.yw.destroy(),b.yw.success(r.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),null===(n=a.current)||void 0===n||n.reload()):(b.yw.destroy(),b.yw.error(t.message));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=p()(f()().mark((function e(t){var n,s,i,d;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=8;break}return b.yw.loading(r.formatMessage({id:"updating",defaultMessage:"Updating"})),e.next=4,U(t);case 4:200===(n=e.sent).code?(b.yw.success(r.formatMessage({id:"update.success",defaultMessage:"update success"})),null===(s=a.current)||void 0===s||s.reload(),H(!1)):b.yw.error(n.message),e.next=13;break;case 8:return b.yw.loading(r.formatMessage({id:"creating",defaultMessage:"Creating"})),e.next=11,D(t);case 11:200===(i=e.sent).code?(b.yw.success(r.formatMessage({id:"create.success",defaultMessage:"create success"})),null===(d=a.current)||void 0===d||d.reload(),H(!1)):b.yw.error(i.message);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=(0,h.useState)(!1),ye=m()(we,2),be=ye[0],je=ye[1];(0,h.useEffect)((function(){var e;null===(e=a.current)||void 0===e||e.reload()}),[V]);var Se=function(){var e=p()(f()().mark((function e(a,r,n){var i,o;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",a,r,n),i=localStorage.getItem(s.LA8),o=l()({orgUid:t===s.Hxq?"":null==J?void 0:J.uid,categoryUids:(null==V?void 0:V.uid)===s.zBg?"":null==V?void 0:V.uid,accessToken:i||"",exportType:a},me),"current"===a?(o.pageNumber=String(A-1),o.pageSize=String(E)):"all"===a?(o.pageNumber="0",o.pageSize="1000"):"range"===a&&void 0!==r&&void 0!==n&&(o.pageNumber=String(r),o.pageSize=String(n)),window.open((0,ie.kG)()+"/api/v1/feedback/export?"+new URLSearchParams(o).toString());case 5:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),Ze=function(e){for(var t=[],a=1e3,r=Math.ceil(e/a),n=function(){var r=s,n=s*a+1,i=Math.min((s+1)*a,e);t.push({key:"export-".concat(s),label:"".concat(n,"-").concat(i," (").concat(i-n+1,"条)"),onClick:function(){return Se("range",r,a)}})},s=0;s<r;s++)n();return t},De=[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:r.formatMessage({id:"pages.feedback.title",defaultMessage:"标题"}),dataIndex:"title",hideInSearch:!1,fixed:"left",width:200,copyable:!0,ellipsis:!0,tooltip:r.formatMessage({id:"pages.feedback.title.tooltip",defaultMessage:"反馈标题"}),render:function(e,t){return t.title||"-"}},{title:r.formatMessage({id:"pages.feedback.content",defaultMessage:"内容"}),dataIndex:"content",ellipsis:!0,hideInSearch:!1,copyable:!0,width:300,tooltip:r.formatMessage({id:"pages.feedback.content.tooltip",defaultMessage:"反馈内容"}),render:function(e,t){return t.content||"-"}},{title:r.formatMessage({id:"pages.feedback.image",defaultMessage:"图片"}),dataIndex:"imageUrl",width:100,hideInSearch:!0,tooltip:r.formatMessage({id:"pages.feedback.image.tooltip",defaultMessage:"反馈图片"}),render:function(e,t){return t.imageUrl?(0,N.jsx)(x.Z,{width:60,height:60,src:t.imageUrl,placeholder:"加载中...",fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3Ik1RnG4W+FgYxN..."}):"-"}},{title:r.formatMessage({id:"pages.feedback.categories",defaultMessage:"类别"}),dataIndex:"categoryUids",width:150,hideInSearch:!0,tooltip:r.formatMessage({id:"pages.feedback.categories.tooltip",defaultMessage:"反馈类别"}),render:function(e,t){return t.categoryUids&&t.categoryUids.length>0?(0,N.jsx)("div",{children:t.categoryUids.map((function(e,t){return(0,N.jsx)(v.Z,{color:"blue",children:e},t)}))}):"-"}},{title:r.formatMessage({id:"pages.feedback.createdAt",defaultMessage:"创建时间"}),dataIndex:"createdAt",valueType:"dateTime",sorter:!0,width:160,hideInSearch:!0,tooltip:r.formatMessage({id:"pages.feedback.createdAt.tooltip",defaultMessage:"反馈创建时间"}),render:function(e,t){return t.createdAt?se()(t.createdAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:r.formatMessage({id:"pages.feedback.updatedAt",defaultMessage:"更新时间"}),dataIndex:"updatedAt",valueType:"dateTime",sorter:!0,hideInSearch:!0,width:160,tooltip:r.formatMessage({id:"pages.feedback.updatedAt.tooltip",defaultMessage:"反馈最后更新时间"}),render:function(e,t){return t.updatedAt?se()(t.updatedAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:r.formatMessage({id:"actions",defaultMessage:"操作"}),dataIndex:"option",valueType:"option",width:120,fixed:"right",tooltip:r.formatMessage({id:"pages.feedback.actions.tooltip",defaultMessage:"可进行的操作"}),render:function(e,t){return[(0,N.jsx)(k.Z,{title:r.formatMessage({id:"pages.feedback.view",defaultMessage:"查看"}),children:(0,N.jsx)("a",{onClick:function(){return function(e){c(!0),je(!0),z(e),H(!0)}(t)},children:(0,N.jsx)(_.Z,{})})},"view"),(0,N.jsx)("a",{onClick:function(){return function(e){c(!0),je(!1),z(e),H(!0)}(t)},children:r.formatMessage({id:"pages.feedback.edit",defaultMessage:"Edit"})},"edit"),(0,N.jsx)("a",{onClick:function(){return e=t,void de.confirm({title:r.formatMessage({id:"deleteTip"}),icon:(0,N.jsx)(X.Z,{}),content:"".concat(r.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(e.title,"】？"),onOk:function(){xe(e)},okText:r.formatMessage({id:"ok"}),cancelText:r.formatMessage({id:"cancel"})});var e},children:r.formatMessage({id:"pages.feedback.delete",defaultMessage:"Delete"})},"delete")]}}],Be=function(){var e=p()(f()().mark((function e(a,n,i){var o,c,u,g,p,A,m,h,M,x;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.yw.loading(r.formatMessage({id:"loading",defaultMessage:"Loading"})),o=a.current,c=a.pageSize,u=a.title,g=a.content,p=d()(a,oe),Z(o),T(c),he(l()(l()({},p),{},{title:u,content:g})),A=void 0,m=void 0,n&&Object.keys(n).length>0&&(h=Object.keys(n)[0],A=h,m="ascend"===n[h]?"ascend":"descend"),M=l()({pageNumber:o-1,pageSize:c,orgUid:t===s.Hxq?"":null==J?void 0:J.uid,categoryUids:(null==V?void 0:V.uid)===s.zBg?[]:[(null==V?void 0:V.uid)||""],title:u,content:g,sortBy:A,sortDirection:m},p),e.next=11,S(M);case 11:if(x=e.sent,console.log("queryFeedbacksByOrg response:",x,M),200!==x.code){e.next=19;break}return b.yw.destroy(),ge(x.data.totalElements),e.abrupt("return",{data:x.data.content,success:!0,total:x.data.totalElements});case 19:return b.yw.destroy(),b.yw.error(x.message),e.abrupt("return",{data:[],success:!1,total:0});case 22:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(re.Z,{columns:De,actionRef:a,cardBordered:!0,rowKey:"uid",scroll:{x:1e3},search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,pageSize:10,onChange:function(e,t){Z(e),T(t)}},dateFormatter:"string",headerTitle:r.formatMessage({id:"pages.feedback.list",defaultMessage:"意见反馈列表"}),toolBarRender:function(){var e=[(0,N.jsx)(w.ZP,{type:"primary",onClick:function(){c(!1),je(!1),z({}),H(!0)},icon:(0,N.jsx)($.Z,{}),children:r.formatMessage({id:"pages.feedback.create",defaultMessage:"添加反馈"})},"create")],t=[{key:"export-current",icon:(0,N.jsx)(ee.Z,{}),label:r.formatMessage({id:"export.current",defaultMessage:"导出当前页"}),onClick:function(){return Se("current")}}];return fe>0&&(fe<=1e3?t.push({key:"export-all",icon:(0,N.jsx)(ee.Z,{}),label:r.formatMessage({id:"export.all",defaultMessage:"导出全部"})+" (".concat(fe,"条)"),onClick:function(){return Se("all")}}):t.push({key:"export-range",icon:(0,N.jsx)(ee.Z,{}),label:r.formatMessage({id:"export.range",defaultMessage:"分段导出"})+" (".concat(fe,"条)"),children:Ze(fe)})),e.push((0,N.jsx)(y.Z,{menu:{items:t},placement:"bottom",children:(0,N.jsxs)(w.ZP,{type:"primary",icon:(0,N.jsx)(ee.Z,{}),children:[r.formatMessage({id:"export",defaultMessage:"导出"}),(0,N.jsx)(te.Z,{})]})},"export")),e.push((0,N.jsx)(w.ZP,{danger:!0,onClick:Me,icon:(0,N.jsx)(ae.Z,{}),children:r.formatMessage({id:"pages.feedback.deleteAll",defaultMessage:"删除全部"})},"deleteAll")),e},request:Be}),G&&(0,N.jsx)(W,{isEdit:o,isViewMode:be,feedback:O,level:t,open:G,onClose:function(){H(!1),je(!1)},onSubmit:ke}),ce]})},ce=function(){var e=(0,n.Z)(),t=e.leftSiderStyle,a=(e.leftSiderWidth,e.contentStyle);return(0,N.jsxs)(r.Z,{style:{height:"100%"},children:[(0,N.jsx)(r.Z.Panel,{defaultSize:"20%",min:"10%",max:"40%",style:t,children:(0,N.jsx)(i.Z,{type:s.ohE,level:s.whQ,showKbase:!1})}),(0,N.jsx)(r.Z.Panel,{style:a,children:(0,N.jsx)(de,{level:s.whQ})})]})}}}]);