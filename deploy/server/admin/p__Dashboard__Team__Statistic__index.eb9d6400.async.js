"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6805],{28619:function(e,t,s){var a=s(18232),i=s(54305),n=s(43906);t.Z=function(){var e=(0,n.useIntl)();return{translateString:function(t){return null==t?t:t&&(null!=t&&t.startsWith(a.VoP)||null!=t&&t.startsWith("ROLE_"))?e.formatMessage({id:t,defaultMessage:t}):t},translateStringTranct:function(t){return null==t?t:null!=t&&t.startsWith(a.VoP)||null!=t&&t.startsWith("ROLE_")?(0,i.aS)(e.formatMessage({id:t,defaultMessage:t}),10):(0,i.aS)(t,10)}}}},22655:function(e,t,s){s.r(t),s.d(t,{default:function(){return xe}});var a=s(73193),i=s.n(a),n=s(90819),r=s.n(n),l=s(89933),o=s.n(l),u=s(45332),d=s.n(u),c=s(44194),x=s(46030),g=s(75002),m=s(97868),j=s(64827),p=s(99898),f=s(39038),v=s(17966),Z=s(34353),h=s(60762),y=s(99098),k=s(80057),F=s(86675),M=s(89011),w=s(37141),R=s(41313),b=s(44064),W=s(27938),S=s(20097),C=s(95912),O=s(9947),T=s(43906),A=s(83941),z={},I={},D={},P={},E={},U={},H={},q={},L={data:[{time:"00:00",value:120},{time:"02:00",value:80}],xField:"time",yField:"value",smooth:!0},V={data:[{day:"1天",value:95},{day:"7天",value:82},{day:"30天",value:75}],xField:"day",yField:"value"},B={data:[{time:"09:00",response:2.5,volume:580},{time:"10:00",response:1.8,volume:780}],xField:"time",yField:["response","volume"]},J={data:[{group:"研发群",efficiency:85},{group:"产品群",efficiency:78}],xField:"group",yField:"efficiency"},K=s(28977),$=s.n(K),_=s(61107),G=s(80556),N=s(86994),Q=s(58791),X=s(40776),Y=s(48004),ee=s(40074),te=s(47305),se=s(85642),ae=s(55439),ie=s(18232),ne=s(36914),re=s(17817),le=s(9942),oe=s(28619),ue=s(31549),de=x.default.RangePicker,ce=(g.Z.TabPane,m.Z.Option),xe=function(){var e,t,s=(0,T.useIntl)(),a=((0,T.useAccess)(),(0,c.useState)(!1)),n=d()(a,2),l=(n[0],n[1]),u=(0,c.useState)("today"),x=d()(u,2),K=x[0],xe=x[1],ge=(0,c.useState)($()().startOf("day")),me=d()(ge,2),je=me[0],pe=me[1],fe=(0,c.useState)($()().endOf("day")),ve=d()(fe,2),Ze=ve[0],he=ve[1],ye=(0,c.useState)({sessions:{total:0,active:0,avgDuration:0,peakHour:"00:00",quality:0,crossDept:0},users:{total:0,active:0,online:0,new:0,retention:0,dau:0},messages:{total:0,unread:0,avgResponse:0,peakValue:0,broadcast:0,types:{text:0,image:0,file:0,other:0}},groups:{total:0,active:0,avgSize:0,messageCount:0,activeness:0,crossDept:0}}),ke=d()(ye,2),Fe=ke[0],Me=(ke[1],(0,c.useState)({data:[{time:"09:00",messages:580,users:256},{time:"10:00",messages:780,users:312}],xField:"time",yField:["messages","users"],smooth:!0})),we=d()(Me,1)[0],Re=(0,c.useState)({data:[{dept1:"技术部",dept2:"产品部",value:89},{dept1:"技术部",dept2:"市场部",value:45}],xField:"dept1",yField:"dept2",colorField:"value"}),be=d()(Re,1)[0],We=(0,c.useState)(ie.AOk),Se=d()(We,2),Ce=Se[0],Oe=Se[1],Te=(0,c.useState)(),Ae=d()(Te,2),ze=Ae[0],Ie=Ae[1],De=(0,c.useState)(),Pe=d()(De,2),Ee=Pe[0],Ue=Pe[1],He=(0,oe.Z)().translateStringTranct,qe=((0,le.u)((function(e){return e.currentOrg})),(0,ne.E)((function(e){return e.agentResult}))),Le=(0,re.$)((function(e){return e.workgroupResult})),Ve=[{label:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}];(0,c.useEffect)((function(){if("custom"===K)pe(je),he(Ze);else{var e=$()();"today"===K?(pe(e.startOf("day")),he(e.endOf("day"))):"yesterday"===K?(pe(e.subtract(1,"day").startOf("day")),he(e.subtract(1,"day").endOf("day"))):"week"===K?(pe(e.startOf("week")),he(e.endOf("week"))):"lastWeek"===K?(pe(e.subtract(1,"week").startOf("week")),he(e.subtract(1,"week").endOf("week"))):"month"===K&&(pe(e.startOf("month")),he(e.endOf("month")))}}),[K]);var Be=function(){var e=o()(r()().mark((function e(){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{l(!0)}catch(e){A.ZP.error(s.formatMessage({id:"team.statistic.fetch.failed"}))}finally{l(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){Be();var e=setInterval(Be,3e4);return function(){return clearInterval(e)}}),[je,Ze]),(0,c.useEffect)((function(){Be()}),[Ce,ze,Ee]),(0,ue.jsxs)("div",{style:{padding:16},children:[(0,ue.jsx)(j.Z,{style:{marginBottom:16},children:(0,ue.jsxs)(p.Z,{direction:"vertical",style:{width:"100%"},children:[(0,ue.jsxs)(p.Z,{wrap:!0,children:[(0,ue.jsx)(f.ZP.Group,{value:K,onChange:function(e){return xe(e.target.value)},children:Ve.map((function(e){return(0,ue.jsx)(f.ZP.Button,{value:e.value,children:e.label},e.value)}))}),"custom"===K&&(0,ue.jsx)(de,{value:[je,Ze],onChange:function(e){pe(e[0]),he(e[1])}})]}),(0,ue.jsxs)(p.Z,{wrap:!0,children:[(0,ue.jsxs)(m.Z,{placeholder:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.filter.type"}),style:{width:200},value:Ce,onChange:function(e){return Oe(e)},children:[(0,ue.jsx)(ce,{value:ie.AOk,children:(0,ue.jsx)(T.FormattedMessage,{id:"i18n.all"})}),(0,ue.jsx)(ce,{value:ie.pHh,children:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.filter.agent"})}),(0,ue.jsx)(ce,{value:ie.ti4,children:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.filter.workgroup"})})]}),Ce===ie.pHh&&(0,ue.jsx)(m.Z,{placeholder:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.filter.agent"}),style:{width:200},value:ze,onChange:function(e){return Ie(e)},children:null===(e=qe.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(e){return(0,ue.jsx)(ce,{value:null==e?void 0:e.uid,children:He(null==e?void 0:e.nickname)},null==e?void 0:e.uid)}))}),Ce===ie.ti4&&(0,ue.jsx)(m.Z,{placeholder:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.filter.department"}),style:{width:200},value:Ee,onChange:function(e){return Ue(e)},children:null===(t=Le.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return(0,ue.jsx)(ce,{value:null==e?void 0:e.uid,children:He(null==e?void 0:e.nickname)},null==e?void 0:e.uid)}))}),(0,ue.jsx)(v.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.filter.export"}),children:(0,ue.jsx)(Z.ZP,{icon:(0,ue.jsx)(_.Z,{}),onClick:function(){A.ZP.warning("TODO: 待实现")},children:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.filter.export"})})}),(0,ue.jsx)(v.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.filter.refresh"}),children:(0,ue.jsx)(Z.ZP,{icon:(0,ue.jsx)(G.Z,{}),onClick:function(){return Be()},children:(0,ue.jsx)(T.FormattedMessage,{id:"ticket.statistic.filter.refresh"})})}),!1]})]})}),(0,ue.jsxs)(h.Z,{gutter:[16,16],children:[(0,ue.jsx)(y.Z,{span:6,children:(0,ue.jsxs)(j.Z,{children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.sessions.total"}),value:Fe.sessions.total,prefix:(0,ue.jsx)(N.Z,{}),suffix:(0,ue.jsx)(v.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.sessions.active"}),children:(0,ue.jsx)(F.Z,{count:Fe.sessions.active,overflowCount:999,style:{backgroundColor:"#52c41a"}})})}),(0,ue.jsx)(M.Z,{percent:20*Fe.sessions.quality,size:"small",status:"active",format:function(e){return"".concat(Fe.sessions.quality,"分")}})]})}),(0,ue.jsx)(y.Z,{span:6,children:(0,ue.jsxs)(j.Z,{children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.users.total"}),value:Fe.users.total,prefix:(0,ue.jsx)(Q.Z,{}),valueStyle:{color:"#1890ff"}}),(0,ue.jsxs)("div",{style:{marginTop:8},children:[(0,ue.jsx)(F.Z,{status:"processing",text:"".concat(Fe.users.online," 在线")}),(0,ue.jsx)(F.Z,{status:"success",text:"".concat(Fe.users.active," 活跃"),style:{marginLeft:8}})]})]})}),(0,ue.jsx)(y.Z,{span:6,children:(0,ue.jsxs)(j.Z,{children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.messages.total"}),value:Fe.messages.total,prefix:(0,ue.jsx)(N.Z,{}),valueStyle:{color:"#52c41a"}}),(0,ue.jsx)(M.Z,{percent:Fe.messages.types.text,success:{percent:Fe.messages.types.image},size:"small"})]})}),(0,ue.jsx)(y.Z,{span:6,children:(0,ue.jsxs)(j.Z,{children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.groups.total"}),value:Fe.groups.total,prefix:(0,ue.jsx)(X.Z,{}),valueStyle:{color:"#faad14"}}),(0,ue.jsx)(M.Z,{percent:Fe.groups.activeness,size:"small",status:"active"})]})})]}),(0,ue.jsxs)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.session.detail"}),style:{marginTop:16},children:[(0,ue.jsxs)(h.Z,{gutter:[16,16],children:[(0,ue.jsx)(y.Z,{span:8,children:(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.session.avgDuration"}),value:Fe.sessions.avgDuration,suffix:"min",prefix:(0,ue.jsx)(Y.Z,{})})}),(0,ue.jsx)(y.Z,{span:8,children:(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.session.peakHour"}),value:Fe.sessions.peakHour,suffix:(0,ue.jsx)(Y.Z,{})})}),(0,ue.jsx)(y.Z,{span:8,children:(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.session.crossDept"}),value:Fe.sessions.crossDept,suffix:"%",prefix:(0,ue.jsx)(Q.Z,{})})})]}),(0,ue.jsx)("div",{style:{marginTop:16},children:(0,ue.jsx)(b.Z,i()({},L))})]}),(0,ue.jsxs)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.user.retention.analysis"}),style:{marginTop:16},children:[(0,ue.jsxs)(h.Z,{gutter:[16,16],children:[(0,ue.jsxs)(y.Z,{span:12,children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.user.new"}),value:Fe.users.new,prefix:(0,ue.jsx)(ee.Z,{}),valueStyle:{color:"#52c41a"}}),(0,ue.jsx)(M.Z,{percent:Fe.users.new/100,size:"small"})]}),(0,ue.jsxs)(y.Z,{span:12,children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.user.distribution"}),value:(Fe.users.active/Fe.users.total*100).toFixed(1),suffix:"%",prefix:(0,ue.jsx)(te.Z,{})}),(0,ue.jsx)(M.Z,{percent:Fe.users.active/Fe.users.total*100,size:"small",status:"active"})]})]}),(0,ue.jsx)("div",{style:{marginTop:16},children:(0,ue.jsx)(W.Z,i()({},V))})]}),(0,ue.jsxs)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.message.response"}),style:{marginTop:16},children:[(0,ue.jsxs)(h.Z,{gutter:[16,16],children:[(0,ue.jsxs)(y.Z,{span:8,children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.message.unread"}),value:Fe.messages.unread,valueStyle:{color:"#ff4d4f"},prefix:(0,ue.jsx)(se.Z,{})}),(0,ue.jsx)(M.Z,{percent:Fe.messages.unread/Fe.messages.total*100,size:"small",status:"exception"})]}),(0,ue.jsxs)(y.Z,{span:8,children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.message.avgResponse"}),value:Fe.messages.avgResponse,suffix:"min",prefix:(0,ue.jsx)(Y.Z,{})}),(0,ue.jsx)(M.Z,{percent:(5-Fe.messages.avgResponse)/5*100,size:"small",status:"active"})]}),(0,ue.jsxs)(y.Z,{span:8,children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.message.broadcast"}),value:Fe.messages.broadcast,suffix:"%",prefix:(0,ue.jsx)(ae.Z,{})}),(0,ue.jsx)(M.Z,{percent:Fe.messages.broadcast,size:"small"})]})]}),(0,ue.jsx)("div",{style:{marginTop:16},children:(0,ue.jsx)(S.Z,i()({},B))})]}),(0,ue.jsxs)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.group.efficiency"}),style:{marginTop:16},children:[(0,ue.jsxs)(h.Z,{gutter:[16,16],children:[(0,ue.jsxs)(y.Z,{span:8,children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.group.avgSize"}),value:Fe.groups.avgSize,suffix:(0,ue.jsx)(Q.Z,{})}),(0,ue.jsx)(M.Z,{percent:Fe.groups.avgSize/30*100,size:"small"})]}),(0,ue.jsxs)(y.Z,{span:8,children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.group.messageCount"}),value:Fe.groups.messageCount,prefix:(0,ue.jsx)(N.Z,{})}),(0,ue.jsx)(M.Z,{percent:Fe.groups.messageCount/1e5*100,size:"small",status:"active"})]}),(0,ue.jsxs)(y.Z,{span:8,children:[(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.group.crossDept"}),value:Fe.groups.crossDept,suffix:"%",prefix:(0,ue.jsx)(Q.Z,{})}),(0,ue.jsx)(M.Z,{percent:Fe.groups.crossDept,size:"small"})]})]}),(0,ue.jsx)("div",{style:{marginTop:16},children:(0,ue.jsx)(W.Z,i()({},J))})]}),(0,ue.jsx)(j.Z,{style:{marginTop:16},children:(0,ue.jsx)(g.Z,{defaultActiveKey:"trend",items:[{key:"trend",label:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.realtime.trend"}),children:(0,ue.jsx)(S.Z,i()({},we))},{key:"heatmap",label:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.dept.heatmap"}),children:(0,ue.jsx)(W.Z,i()({},be))}]})}),(0,ue.jsxs)(h.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,ue.jsx)(y.Z,{span:12,children:(0,ue.jsx)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.message.analysis"}),children:(0,ue.jsx)(C.Z,{data:Object.entries(Fe.messages.types).map((function(e){var t=d()(e,2);return{type:t[0],value:t[1]}})),angleField:"value",colorField:"type",radius:.8})})}),(0,ue.jsx)(y.Z,{span:12,children:(0,ue.jsx)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.group.analysis"}),children:(0,ue.jsx)(W.Z,{data:[{type:"技术部",value:Fe.groups.active},{type:"产品部",value:.8*Fe.groups.active}],xField:"type",yField:"value"})})})]}),(0,ue.jsx)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.efficiency"}),style:{marginTop:16},children:(0,ue.jsxs)(h.Z,{gutter:[16,16],children:[(0,ue.jsx)(y.Z,{span:6,children:(0,ue.jsx)(O.Z,{percent:Fe.sessions.quality/5,range:{color:["#f5222d","#faad14","#52c41a"]}})}),(0,ue.jsx)(y.Z,{span:18,children:(0,ue.jsx)(w.Z,{columns:[{title:"部门",dataIndex:"dept"},{title:"响应时间",dataIndex:"responseTime"},{title:"解决率",dataIndex:"resolveRate"},{title:"满意度",dataIndex:"satisfaction"}],dataSource:[],size:"small"})})]})}),(0,ue.jsx)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.user.activity"}),style:{marginTop:16},children:(0,ue.jsxs)(h.Z,{gutter:[16,16],children:[(0,ue.jsx)(y.Z,{span:8,children:(0,ue.jsx)(k.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.user.dau"}),value:Fe.users.dau,suffix:(0,ue.jsx)(v.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.user.retention"}),children:(0,ue.jsxs)(R.Z,{color:"blue",children:[Fe.users.retention,"%"]})})})}),(0,ue.jsx)(y.Z,{span:16,children:(0,ue.jsx)(b.Z,i()({},z))})]})}),(0,ue.jsx)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.dept.collaboration"}),style:{marginTop:16},children:(0,ue.jsx)(g.Z,{items:[{key:"network",label:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.dept.network"}),children:(0,ue.jsx)(C.Z,i()({},I))},{key:"matrix",label:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.dept.matrix"}),children:(0,ue.jsx)(W.Z,i()({},D))}]})}),(0,ue.jsxs)(h.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,ue.jsx)(y.Z,{span:12,children:(0,ue.jsx)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.group.size"}),children:(0,ue.jsx)(C.Z,i()({},P))})}),(0,ue.jsx)(y.Z,{span:12,children:(0,ue.jsx)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.group.activity"}),children:(0,ue.jsx)(W.Z,i()({},E))})})]}),(0,ue.jsx)(j.Z,{title:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.message.detail"}),style:{marginTop:16},children:(0,ue.jsx)(g.Z,{items:[{key:"trend",label:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.message.trend"}),children:(0,ue.jsx)(S.Z,i()({},U))},{key:"type",label:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.message.type"}),children:(0,ue.jsx)(C.Z,i()({},H))},{key:"hour",label:(0,ue.jsx)(T.FormattedMessage,{id:"team.statistic.message.hour"}),children:(0,ue.jsx)(W.Z,i()({},q))}]})})]})}},36914:function(e,t,s){s.d(t,{E:function(){return c}});var a=s(73193),i=s.n(a),n=s(76711),r=s.n(n),l=s(18232),o=s(16894),u=s(45034),d=s(47401),c=(0,o.Ue)()((0,u.mW)((0,u.tJ)((0,d.n)((function(e,t){return{agentResult:{data:{content:[]}},currentAgent:{uid:"",orgUid:""},insertAgent:function(t){e((function(e){e.agentResult.data.content.unshift(t)}))},updateAgent:function(t){e((function(e){var s=e.agentResult.data.content,a=s.findIndex((function(e){return e.uid===t.uid}));-1!==a?s[a]=t:console.warn("Agent with uid ".concat(t.uid," not found."))}))},setAgentResult:function(s){var a;(e({agentResult:s}),""===t().currentAgent.uid)&&((null===(a=s.data)||void 0===a||null===(a=a.content)||void 0===a?void 0:a.length)>0&&e({currentAgent:s.data.content[0]}))},setCurrentAgent:function(s){var a=t().agentResult.data.content,n=a.findIndex((function(e){return e.uid===s.uid}));if(-1!==n){var l=[].concat(r()(a.slice(0,n)),[s],r()(a.slice(n+1))),o=i()(i()({},t().agentResult),{},{data:{content:l}});e({agentResult:o,currentAgent:s})}else console.warn("Agent with the specified uid not found."),e({currentAgent:s})},deleteCurrentAgent:function(s){var a=t().agentResult.data.content,n=a.findIndex((function(e){return e.uid===s}));-1!==n?e({agentResult:i()(i()({},t().agentResult),{},{data:{content:[].concat(r()(a.slice(0,n)),r()(a.slice(n+1)))}})}):console.warn("Agent not found in cache:",s),t().currentAgent.uid===s&&e({currentAgent:{uid:"",orgUid:""}})},deleteAgentCache:function(){return e({},!0)}}})),{name:l.zzK})))},17817:function(e,t,s){s.d(t,{$:function(){return c}});var a=s(73193),i=s.n(a),n=s(76711),r=s.n(n),l=s(18232),o=s(16894),u=s(45034),d=s(47401),c=(0,o.Ue)()((0,u.mW)((0,u.tJ)((0,d.n)((function(e,t){return{workgroupResult:{data:{content:[]}},currentWorkgroup:{uid:"",nickname:"",avatar:"",description:"",orgUid:""},insertWorkgroup:function(t){e((function(e){e.workgroupResult.data.content.unshift(t)}))},updateWorkgroup:function(t){e((function(e){var s=e.workgroupResult.data.content,a=s.findIndex((function(e){return e.uid===t.uid}));-1!==a?s[a]=t:console.warn("Workgroup with uid ".concat(t.uid," not found."))}))},deleteWorkgroup:function(t){e((function(e){var s=e.workgroupResult.data.content,a=s.findIndex((function(e){return e.uid===t.uid}));-1!==a?s.splice(a,1):console.warn("Workgroup with uid ".concat(t.uid," not found."))}))},setWorkgroupResult:function(s){var a;(e({workgroupResult:s}),""===t().currentWorkgroup.uid)&&((null===(a=s.data)||void 0===a||null===(a=a.content)||void 0===a?void 0:a.length)>0&&e({currentWorkgroup:s.data.content[0]}))},setCurrentWorkgroup:function(s){var a=t().workgroupResult.data.content,n=a.findIndex((function(e){return e.uid===s.uid}));if(-1!==n){var l=[].concat(r()(a.slice(0,n)),[s],r()(a.slice(n+1))),o=i()(i()({},t().workgroupResult),{},{data:{content:l}});e({workgroupResult:o,currentWorkgroup:s})}else console.warn("Workgroup with the specified uid not found."),e({currentWorkgroup:s})},deleteCurrentWorkgroup:function(s){var a=t().workgroupResult.data.content,n=a.findIndex((function(e){return e.uid===s}));-1!==n?e({workgroupResult:i()(i()({},t().workgroupResult),{},{data:{content:[].concat(r()(a.slice(0,n)),r()(a.slice(n+1)))}})}):console.warn("Workgroup not found in cache:",s),t().currentWorkgroup.uid===s&&e({currentWorkgroup:{uid:"",orgUid:""}})},deleteWorkgroupCache:function(){return e({},!0)}}})),{name:l.b6l})))}}]);