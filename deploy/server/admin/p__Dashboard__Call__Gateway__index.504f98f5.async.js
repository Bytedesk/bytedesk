"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7794],{51344:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(83910),a=r(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},o=r(5901),i=function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var l=a.forwardRef(i)},83381:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(83910),a=r(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},o=r(5901),i=function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var l=a.forwardRef(i)},28031:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(83910),a=r(44194),s={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},o=r(5901),i=function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var l=a.forwardRef(i)},80503:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(83910),a=r(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},o=r(5901),i=function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var l=a.forwardRef(i)},50447:function(e,t,r){var n=r(94433),a=r(38956),s=r(75477),o=r(44194),i=r(18758),l=r(46659),c=r(31549),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(e,t){var r=e.fieldProps,d=e.children,p=e.params,f=e.proFieldProps,h=e.mode,m=e.valueEnum,g=e.request,v=e.showSearch,x=e.options,w=(0,a.Z)(e,u),y=(0,o.useContext)(i.Z);return(0,c.jsx)(l.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(m),request:g,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:x,mode:h,showSearch:v,getPopupContainer:y.getPopupContainer},r),ref:t,proFieldProps:f},w),{},{children:d}))},f=o.forwardRef((function(e,t){var r=e.fieldProps,u=e.children,p=e.params,f=e.proFieldProps,h=e.mode,m=e.valueEnum,g=e.request,v=e.options,x=(0,a.Z)(e,d),w=(0,n.Z)({options:v,mode:h||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},r),y=(0,o.useContext)(i.Z);return(0,c.jsx)(l.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(m),request:g,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:y.getPopupContainer},w),ref:t,proFieldProps:f},x),{},{children:u}))})),h=o.forwardRef(p);h.SearchSelect=f,h.displayName="ProFormComponent",t.Z=h},59853:function(e,t,r){var n=r(94433),a=r(38956),s=r(44194),o=r(46659),i=r(31549),l=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],c=s.forwardRef((function(e,t){var r=e.fieldProps,s=e.unCheckedChildren,c=e.checkedChildren,u=e.proFieldProps,d=(0,a.Z)(e,l);return(0,i.jsx)(o.Z,(0,n.Z)({valueType:"switch",fieldProps:(0,n.Z)({unCheckedChildren:s,checkedChildren:c},r),ref:t,valuePropName:"checked",proFieldProps:u,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},d))}));t.Z=c},47268:function(e,t,r){var n=r(32906),a=r(94433),s=r(38956),o=r(92032),i=r(70878),l=r(35068),c=r(21762),u=r(44194),d=r(46659),p=r(31549),f=["fieldProps","proFieldProps"],h=["fieldProps","proFieldProps"],m="text",g=function(e){var t=(0,o.Z)(e.open||!1,{value:e.open,onChange:e.onOpenChange}),r=(0,n.Z)(t,2),s=r[0],c=r[1];return(0,p.jsx)(i.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(t){var r,n=t.getFieldValue(e.name||[]);return(0,p.jsx)(l.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return c(e)},content:(0,p.jsxs)("div",{style:{padding:"4px 0"},children:[null===(r=e.statusRender)||void 0===r?void 0:r.call(e,n),e.strengthText?(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)("span",{children:e.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},e.popoverProps),{},{open:s,children:e.children}))}})},v=function(e){var t=e.fieldProps,r=e.proFieldProps,n=(0,s.Z)(e,f);return(0,p.jsx)(d.Z,(0,a.Z)({valueType:m,fieldProps:t,filedConfig:{valueType:m},proFieldProps:r},n))};v.Password=function(e){var t=e.fieldProps,r=e.proFieldProps,o=(0,s.Z)(e,h),i=(0,u.useState)(!1),l=(0,n.Z)(i,2),f=l[0],v=l[1];return null!=t&&t.statusRender&&o.name?(0,p.jsx)(g,{name:o.name,statusRender:null==t?void 0:t.statusRender,popoverProps:null==t?void 0:t.popoverProps,strengthText:null==t?void 0:t.strengthText,open:f,onOpenChange:v,children:(0,p.jsx)("div",{children:(0,p.jsx)(d.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,c.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(e){var r;null==t||null===(r=t.onBlur)||void 0===r||r.call(t,e),v(!1)},onClick:function(e){var r;null==t||null===(r=t.onClick)||void 0===r||r.call(t,e),v(!0)}}),proFieldProps:r,filedConfig:{valueType:m}},o))})}):(0,p.jsx)(d.Z,(0,a.Z)({valueType:"password",fieldProps:t,proFieldProps:r,filedConfig:{valueType:m}},o))},v.displayName="ProFormComponent",t.Z=v},26608:function(e,t,r){var n=r(94433),a=r(38956),s=r(44194),o=r(46659),i=r(31549),l=["fieldProps","proFieldProps"],c=function(e,t){var r=e.fieldProps,s=e.proFieldProps,c=(0,a.Z)(e,l);return(0,i.jsx)(o.Z,(0,n.Z)({ref:t,valueType:"textarea",fieldProps:r,proFieldProps:s},c))};t.Z=s.forwardRef(c)},39173:function(e,t,r){r.r(t),r.d(t,{default:function(){return te}});var n=r(84176),a=r.n(n),s=r(73193),o=r.n(s),i=r(86222),l=r.n(i),c=r(90819),u=r.n(c),d=r(89933),p=r.n(d),f=r(45332),h=r.n(f),m=r(61489),g=r(68992),v=r(62395);function x(e){return w.apply(this,arguments)}function w(){return(w=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/gateway/query/org",{method:"GET",params:o()(o()({},t),{},{channel:g.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return Z.apply(this,arguments)}function Z(){return(Z=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/gateway/create",{method:"POST",data:o()(o()({},t),{},{channel:g.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return M.apply(this,arguments)}function M(){return(M=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/gateway/update",{method:"POST",data:o()(o()({},t),{},{channel:g.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return P.apply(this,arguments)}function P(){return(P=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/gateway/delete",{method:"POST",data:o()(o()({},t),{},{channel:g.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return j.apply(this,arguments)}function j(){return(j=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/freeswitch/gateway/delete/all",{method:"POST",data:o()(o()({},t),{},{channel:g.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=r(77686),S=r(41881),F=r(83381),I=r(6992),R=r(91768),z=r(51344),E=r(28031),N=r(80503),q=r(54596),A=r(66248),O=r(33633),V=r(15065),H=r(77902),B=r(72264),J=r(6237),L=r(44194),U=r(89007),D=r(47268),X=r(26608),G=r(59853),K=r(50447),W=r(41059),Q=r(31549),Y=function(e){var t=e.isEdit,r=e.open,n=e.gateway,a=e.onClose,s=e.onSubmit,o=(0,v.useIntl)();return(0,Q.jsx)(W.Z,{title:t?"编辑网关":"创建网关",width:600,open:r,onClose:a,destroyOnClose:!0,children:(0,Q.jsxs)(U.A,{initialValues:n,onFinish:function(){var e=p()(u()().mark((function e(t){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),submitter:{searchConfig:{submitText:o.formatMessage({id:"ok",defaultMessage:"确定"}),resetText:o.formatMessage({id:"cancel",defaultMessage:"取消"})}},children:[(0,Q.jsx)(D.Z,{name:"gatewayName",label:"网关名称",placeholder:"请输入网关名称",rules:[{required:!0,message:"请输入网关名称"}]}),(0,Q.jsx)(X.Z,{name:"description",label:"描述",placeholder:"请输入网关描述"}),(0,Q.jsx)(D.Z,{name:"proxy",label:"代理服务器",placeholder:"请输入代理服务器地址",rules:[{required:!0,message:"请输入代理服务器地址"}]}),(0,Q.jsx)(D.Z,{name:"username",label:"用户名",placeholder:"请输入用户名",rules:[{required:!0,message:"请输入用户名"}]}),(0,Q.jsx)(D.Z.Password,{name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请输入密码"}]}),(0,Q.jsx)(D.Z,{name:"fromUser",label:"From用户",placeholder:"请输入From用户"}),(0,Q.jsx)(D.Z,{name:"fromDomain",label:"From域名",placeholder:"请输入From域名"}),(0,Q.jsx)(G.Z,{name:"register",label:"注册",fieldProps:{checkedChildren:"开启",unCheckedChildren:"关闭"}}),(0,Q.jsx)(K.Z,{name:"registerTransport",label:"注册传输协议",options:[{label:"UDP",value:"udp"},{label:"TCP",value:"tcp"},{label:"TLS",value:"tls"}]}),(0,Q.jsx)(K.Z,{name:"status",label:"状态",options:[{label:"在线",value:"online"},{label:"离线",value:"offline"},{label:"故障",value:"fault"}]}),(0,Q.jsx)(G.Z,{name:"enabled",label:"启用",fieldProps:{checkedChildren:"开启",unCheckedChildren:"关闭"}}),(0,Q.jsx)(X.Z,{name:"configJson",label:"配置JSON",placeholder:"请输入额外配置JSON"}),(0,Q.jsx)(X.Z,{name:"remarks",label:"备注",placeholder:"请输入备注信息"})]})})},$=r(87005),_=["current","pageSize"],ee=function(){var e=(0,v.useIntl)(),t=(0,L.useRef)(),r=(0,L.useState)(1),n=h()(r,2),s=n[0],i=n[1],c=(0,L.useState)(10),d=h()(c,2),f=d[0],w=d[1],Z=(0,T.u)((function(e){return e.currentOrg})),M=(0,L.useState)(!1),P=h()(M,2),j=P[0],U=P[1],D=(0,L.useState)({}),X=h()(D,2),G=X[0],K=X[1],W=(0,L.useState)(!1),ee=h()(W,2),te=ee[0],re=ee[1],ne=A.Z.useModal(),ae=h()(ne,2),se=ae[0],oe=ae[1],ie=(0,L.useState)([]),le=h()(ie,2),ce=le[0],ue=le[1],de=(0,L.useState)([]),pe=h()(de,2),fe=pe[0],he=pe[1],me=(0,L.useState)(0),ge=h()(me,2),ve=ge[0],xe=ge[1],we=(0,L.useState)({}),ye=h()(we,2),Ze=ye[0],be=ye[1],Me=[].concat([{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:"网关名称",dataIndex:"gatewayName",copyable:!0,fixed:"left",width:150},{title:"代理服务器",dataIndex:"proxy",copyable:!0,width:200},{title:"用户名",dataIndex:"username",width:120},{title:"密码",dataIndex:"password",width:120,hideInTable:!0},{title:"From用户",dataIndex:"fromUser",width:120},{title:"From域名",dataIndex:"fromDomain",width:150},{title:"注册状态",dataIndex:"register",width:100,render:function(e,t){return(0,Q.jsx)(O.Z,{color:t.register?"green":"red",children:t.register?"已注册":"未注册"})}},{title:"状态",dataIndex:"status",width:100,render:function(e,t){return(0,Q.jsx)(O.Z,{color:"ONLINE"===t.status?"green":"red",children:"ONLINE"===t.status?"在线":"离线"})}},{title:"启用",dataIndex:"enabled",width:80,render:function(e,t){return(0,Q.jsx)(V.Z,{checked:t.enabled,disabled:!0,checkedChildren:"开启",unCheckedChildren:"关闭"})}},{title:"描述",dataIndex:"description",width:200,ellipsis:!0},{title:"创建时间",dataIndex:"createdAt",width:160,valueType:"dateTime"},{title:"更新时间",dataIndex:"updatedAt",width:160,valueType:"dateTime"}],[{title:e.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",fixed:"right",width:120,render:function(t,r){return[(0,Q.jsxs)("a",{onClick:function(){K(r),re(!0),U(!0)},children:[(0,Q.jsx)(S.Z,{})," 编辑"]},"edit"),(0,Q.jsx)(H.Z,{title:e.formatMessage({id:"deleteTip"}),description:"".concat(e.formatMessage({id:"deleteAffirm"})," 该网关配置？"),onConfirm:function(){return ke(r)},okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"}),icon:(0,Q.jsx)(F.Z,{style:{color:"red"}}),children:(0,Q.jsx)(B.ZP,{type:"link",danger:!0,children:e.formatMessage({id:"delete",defaultMessage:"Delete"})})},"delete")]}}]),ke=function(){var r=p()(u()().mark((function r(n){var a,s;return u()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,k(n);case 2:200===(a=r.sent).code?(m.yw.success(e.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),null===(s=t.current)||void 0===s||s.reload()):m.yw.error(a.message);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),Pe=function(){var e=p()(u()().mark((function e(r){var n,a;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(r);case 2:200===(n=e.sent).code?(null===(a=t.current)||void 0===a||a.reload(),U(!1)):m.yw.error(n.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=p()(u()().mark((function e(r){var n,a;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.uid=null==G?void 0:G.uid,e.next=3,b(r);case 3:200===(n=e.sent).code?(null===(a=t.current)||void 0===a||a.reload(),U(!1)):m.yw.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){U(!0),re(!1),K({})},Te=function(){var r=p()(u()().mark((function r(){var n,a,s,o,i,c;return u()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==fe.length){r.next=3;break}return m.yw.warning(e.formatMessage({id:"batch.delete.noselection",defaultMessage:"请选择要删除的项目"})),r.abrupt("return");case 3:m.yw.loading(e.formatMessage({id:"deleting",defaultMessage:"正在删除..."})),a=0,s=0,o=l()(fe),r.prev=7,o.s();case 9:if((i=o.n()).done){r.next=23;break}return c=i.value,r.prev=11,r.next=14,k(c);case 14:200===r.sent.code?a++:s++,r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),s++;case 21:r.next=9;break;case 23:r.next=28;break;case 25:r.prev=25,r.t1=r.catch(7),o.e(r.t1);case 28:return r.prev=28,o.f(),r.finish(28);case 31:m.yw.destroy(),0===s?m.yw.success(e.formatMessage({id:"batch.delete.success",defaultMessage:"成功删除 {count} 条记录"},{count:a})):m.yw.warning(e.formatMessage({id:"batch.delete.partial",defaultMessage:"删除了 {success} 条记录，{fail} 条记录删除失败"},{success:a,fail:s})),ue([]),he([]),null===(n=t.current)||void 0===n||n.reloadAndRest();case 36:case"end":return r.stop()}}),r,null,[[7,25,28,31],[11,18]])})));return function(){return r.apply(this,arguments)}}(),Se=function(){var r=p()(u()().mark((function r(){var n,a,s;return u()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==ve){r.next=3;break}return m.yw.warning(e.formatMessage({id:"deleteAll.nodata",defaultMessage:"没有数据可删除"})),r.abrupt("return");case 3:return m.yw.loading(e.formatMessage({id:"deleting.all",defaultMessage:"正在删除所有数据..."})),r.prev=4,n={orgUid:null==Z?void 0:Z.uid},r.next=8,C(n);case 8:200===(a=r.sent).code?(m.yw.destroy(),m.yw.success(e.formatMessage({id:"deleteAll.success",defaultMessage:"成功删除所有数据"})),null===(s=t.current)||void 0===s||s.reloadAndRest()):(m.yw.destroy(),m.yw.error(a.message||e.formatMessage({id:"deleteAll.failed",defaultMessage:"删除失败"}))),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(4),m.yw.destroy(),m.yw.error(e.formatMessage({id:"deleteAll.error",defaultMessage:"删除过程发生错误"})),console.error("删除全部数据错误:",r.t0);case 17:case"end":return r.stop()}}),r,null,[[4,12]])})));return function(){return r.apply(this,arguments)}}(),Fe=function(){var e=p()(u()().mark((function e(t,r,n){var a,i;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem(g.LA8),i=o()({orgUid:(null==Z?void 0:Z.uid)||"",accessToken:a||"",exportType:t},Ze),"current"===t?(i.pageNumber=String(s-1),i.pageSize=String(f)):"all"===t?(i.pageNumber="0",i.pageSize="1000"):"range"===t&&void 0!==r&&void 0!==n&&(i.pageNumber=String(r),i.pageSize=String(n)),window.open((0,$.kG)()+"/api/v1/freeswitch/gateway/export?"+new URLSearchParams(i).toString());case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ie=function(e){for(var t=[],r=1e3,n=Math.ceil(e/r),a=function(){var n=s,a=s*r+1,o=Math.min((s+1)*r,e);t.push({key:"export-".concat(s),label:"".concat(a,"-").concat(o," (").concat(o-a+1,"条)"),onClick:function(){return Fe("range",n,r)}})},s=0;s<n;s++)a();return t},Re={selectedRowKeys:ce,onChange:function(e,t){ue(e),he(t)}},ze=function(){var e=p()(u()().mark((function e(t,r,n){var s,l,c,d,p;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.current,l=t.pageSize,c=a()(t,_),i(s),w(l),be(c),d=o()({pageNumber:s-1,pageSize:l,orgUid:null==Z?void 0:Z.uid},c),e.next=7,x(d);case 7:return 200===(p=e.sent).code?xe(p.data.totalElements):m.yw.error(p.message),e.abrupt("return",{data:p.data.content,success:!0,total:p.data.totalElements});case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return(0,Q.jsxs)(Q.Fragment,{children:[j&&(0,Q.jsx)(Y,{isEdit:te,open:j,gateway:G,onClose:function(){U(!1)},onSubmit:function(e){te?Ce(e):Pe(e)}}),(0,Q.jsx)(q.Z,{columns:Me,actionRef:t,cardBordered:!0,rowSelection:Re,request:ze,scroll:{x:1500},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e,t){i(e),w(t)}},dateFormatter:"string",headerTitle:"网关配置列表",toolBarRender:function(){return function(){var t=[(0,Q.jsx)(B.ZP,{type:"primary",icon:(0,Q.jsx)(I.Z,{}),onClick:je,children:e.formatMessage({id:"create",defaultMessage:"Create"})},"create")],r=[];ce.length>0&&r.push({key:"batchDelete",icon:(0,Q.jsx)(R.Z,{}),danger:!0,label:e.formatMessage({id:"batch.delete"})+" (".concat(ce.length,")"),onClick:function(){se.confirm({title:e.formatMessage({id:"batch.deleteTip"}),content:"".concat(e.formatMessage({id:"batch.deleteAffirm"})," ").concat(ce.length," ").concat(e.formatMessage({id:"items"}),"?"),onOk:Te,okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"})})}}),r.push({key:"deleteAll",icon:(0,Q.jsx)(z.Z,{}),danger:!0,label:e.formatMessage({id:"deleteAll",defaultMessage:"删除所有"}),onClick:function(){se.confirm({title:e.formatMessage({id:"deleteAll.tip",defaultMessage:"删除确认"}),content:e.formatMessage({id:"deleteAll.confirm",defaultMessage:"确定要删除所有网关配置数据吗？此操作不可恢复!"}),onOk:Se,okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"})})}});var n=[{key:"export-current",icon:(0,Q.jsx)(E.Z,{}),label:e.formatMessage({id:"export.current",defaultMessage:"导出当前页"}),onClick:function(){return Fe("current")}}];return ve>0&&(ve<=1e3?n.push({key:"export-all",icon:(0,Q.jsx)(E.Z,{}),label:e.formatMessage({id:"export.all",defaultMessage:"导出全部"})+" (".concat(ve,"条)"),onClick:function(){return Fe("all")}}):n.push({key:"export-range",icon:(0,Q.jsx)(E.Z,{}),label:e.formatMessage({id:"export.range",defaultMessage:"分段导出"})+" (".concat(ve,"条)"),children:Ie(ve)})),t.push((0,Q.jsx)(J.Z,{menu:{items:n},placement:"bottom",children:(0,Q.jsxs)(B.ZP,{type:"primary",children:[e.formatMessage({id:"import.export",defaultMessage:"导入导出"}),(0,Q.jsx)(N.Z,{})]})},"importExport")),r.length>0&&t.push((0,Q.jsx)(J.Z,{menu:{items:r},placement:"bottom",children:(0,Q.jsxs)(B.ZP,{type:ce.length>0?"primary":"default",danger:ce.length>0,children:[ce.length>0?e.formatMessage({id:"batch.operations",defaultMessage:"批量操作"})+" (".concat(ce.length,")"):e.formatMessage({id:"more.operations",defaultMessage:"更多操作"}),(0,Q.jsx)(N.Z,{})]})},"batchOperations")),t}()}}),oe]})},te=function(){return(0,Q.jsx)(ee,{})}}}]);