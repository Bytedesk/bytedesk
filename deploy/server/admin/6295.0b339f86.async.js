"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6295],{91886:function(e,n,t){t.d(n,{XS:function(){return d},k4:function(){return g},uu:function(){return v},yr:function(){return y}});var r=t(90819),a=t.n(r),u=t(73193),o=t.n(u),c=t(89933),s=t.n(c),i=t(68992),l=t(62395);function d(e){return f.apply(this,arguments)}function f(){return(f=s()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/category/query/org",{method:"GET",params:o()(o()({},n),{},{channel:i.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=s()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/category/create",{method:"POST",data:o()(o()({},n),{},{channel:i.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return h.apply(this,arguments)}function h(){return(h=s()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/category/update",{method:"POST",data:o()(o()({},n),{},{channel:i.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return w.apply(this,arguments)}function w(){return(w=s()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/category/delete",{method:"POST",data:o()(o()({},n),{},{channel:i.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},38552:function(e,n,t){var r=t(70097);n.Z=function(){var e=(0,r.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto",padding:10}}}},99202:function(e,n,t){t.d(n,{HK:function(){return d},ht:function(){return g},i8:function(){return f},sT:function(){return p}});var r=t(90819),a=t.n(r),u=t(89933),o=t.n(u),c=t(61489),s=t(91886),i=t(77643),l=t(68992),d=function(){var e=o()(a()().mark((function e(n,t,r,u,o){var d,f,g;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=i.v.getState().setCategoryResult,null!=o&&o.showLoading&&c.yw.loading((null==o?void 0:o.loadingMessage)||"Loading..."),f={pageNumber:(null==o?void 0:o.pageNumber)||0,pageSize:(null==o?void 0:o.pageSize)||20,type:n,kbUid:r,orgUid:u===l.Hxq?"":t,level:u,name:(null==o?void 0:o.searchName)||""},e.prev=3,e.next=6,(0,s.XS)(f);case 6:if(g=e.sent,console.log("queryCategoriesByOrg response: ",g,f),200!==g.code){e.next=14;break}return d(g),null!=o&&o.showLoading&&c.yw.destroy(),e.abrupt("return",g);case 14:return null!=o&&o.showLoading&&c.yw.destroy(),c.yw.error(g.message),e.abrupt("return",null);case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(3),null!=o&&o.showLoading&&c.yw.destroy(),c.yw.error((null==o?void 0:o.errorMessage)||"Failed to fetch categories"),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(n,t,r,a,u){return e.apply(this,arguments)}}(),f=function(){var e=o()(a()().mark((function e(n,t){var r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.showLoading&&c.yw.loading((null==t?void 0:t.loadingMessage)||"Creating..."),e.prev=1,e.next=4,(0,s.k4)(n);case 4:if(r=e.sent,console.log("createCategory response:",r),200!==r.code){e.next=12;break}return null!=t&&t.showLoading&&c.yw.destroy(),c.yw.success((null==t?void 0:t.successMessage)||"Create Success"),e.abrupt("return",r);case 12:return null!=t&&t.showLoading&&c.yw.destroy(),c.yw.error(r.message),e.abrupt("return",null);case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(1),null!=t&&t.showLoading&&c.yw.destroy(),c.yw.error((null==t?void 0:t.errorMessage)||"Failed to create category"),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(n,t){return e.apply(this,arguments)}}(),g=function(){var e=o()(a()().mark((function e(n,t){var r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.showLoading&&c.yw.loading((null==t?void 0:t.loadingMessage)||"Updating..."),e.prev=1,e.next=4,(0,s.yr)(n);case 4:if(r=e.sent,console.log("updateCategory response:",r),200!==r.code){e.next=12;break}return null!=t&&t.showLoading&&c.yw.destroy(),c.yw.success((null==t?void 0:t.successMessage)||"Update Success"),e.abrupt("return",r);case 12:return null!=t&&t.showLoading&&c.yw.destroy(),c.yw.error(r.message),e.abrupt("return",null);case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(1),null!=t&&t.showLoading&&c.yw.destroy(),c.yw.error((null==t?void 0:t.errorMessage)||"Failed to update category"),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=o()(a()().mark((function e(n,t){var r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.showLoading&&c.yw.loading((null==t?void 0:t.loadingMessage)||"Deleting..."),e.prev=1,e.next=4,(0,s.uu)(n);case 4:if(r=e.sent,console.log("deleteCategory response:",r),200!==r.code){e.next=12;break}return null!=t&&t.showLoading&&c.yw.destroy(),c.yw.success((null==t?void 0:t.successMessage)||"Delete Success"),e.abrupt("return",r);case 12:return null!=t&&t.showLoading&&c.yw.destroy(),c.yw.error(r.message),e.abrupt("return",null);case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(1),null!=t&&t.showLoading&&c.yw.destroy(),c.yw.error((null==t?void 0:t.errorMessage)||"Failed to delete category"),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(n,t){return e.apply(this,arguments)}}()},77643:function(e,n,t){t.d(n,{v:function(){return f}});var r=t(73193),a=t.n(r),u=t(76711),o=t.n(u),c=t(68992),s=t(58063),i=t(66266),l=t(31403),d=t(46130);var f=(0,s.Ue)()((0,i.mW)((0,i.tJ)((0,l.n)((function(e,n){return{categoryResult:{data:{content:[]}},categoryTreeOptions:[],categorySelectOptions:[],currentCategory:{uid:c.zBg,name:c.zBg},setCategoryResult:function(n){var t=function(e){var n=[];return e.data.content.forEach((function(e){var t={label:e.name,value:e.uid};n.push(t)})),n}(n),r=function(e){var n,t=(null==e||null===(n=e.data)||void 0===n?void 0:n.content)||[],r=function e(n){var t={title:n.name||"",key:n.uid||""};return n.children&&n.children.length>0&&(t.children=n.children.map((function(n){return e(n)}))),t};return t.filter((function(e){return e&&e.uid&&e.uid!==c.zBg})).map((function(e){return r(e)}))}(n),u=[{title:c.zBg,key:c.zBg}].concat(o()(r)),s={uid:c.zBg,name:c.zBg},i=a()(a()({},n),{},{data:a()(a()({},n.data),{},{content:[s].concat(o()(n.data.content))})});e({categoryResult:i,categoryTreeOptions:u,categorySelectOptions:t}),0===n.data.content.length&&e({currentCategory:{uid:c.zBg,name:c.zBg}})},insertCategory:function(n){e((function(e){e.categoryResult.data.content.unshift(n)}))},upgradeCategory:function(n){e((function(e){var t=e.categoryResult.data.content,r=t.findIndex((function(e){return e.uid===n.uid}));-1!==r?t[r]=n:console.warn("Category with uid ".concat(n.uid," not found."))}))},setCurrentCategory:function(n){e({currentCategory:n})},resetDefaultCategory:function(){d.Z.log("resetDefaultCategory"),e({currentCategory:{uid:c.zBg,name:c.zBg}})},setCurrentCategoryUid:function(t){var r=n().categoryResult.data.content.find((function(e){return e.uid===t}));e({currentCategory:r})},deleteCategoryCache:function(){return e({},!0)}}})),{name:c.OMm})))},49840:function(e,n,t){t.d(n,{j:function(){return d}});var r=t(73193),a=t.n(r),u=t(76711),o=t.n(u),c=t(68992),s=t(58063),i=t(66266),l=t(31403),d=(0,s.Ue)()((0,i.mW)((0,i.tJ)((0,l.n)((function(e,n){return{currentKbase:{uid:"",orgUid:""},kbaseResult:{data:{content:[]}},insertKbase:function(n){e((function(e){e.kbaseResult.data.content.unshift(n)}))},updateKbase:function(n){e((function(e){var t=e.kbaseResult.data.content,r=t.findIndex((function(e){return e.uid===n.uid}));-1!==r?t[r]=n:console.warn("Kbase with uid ".concat(n.uid," not found."))}))},setKbaseResult:function(n){var t;e({kbaseResult:n}),(null===(t=n.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.length)>0&&e({currentKbase:n.data.content[0]})},setCurrentKbase:function(t){var r=n().kbaseResult.data.content,u=r.findIndex((function(e){return e.uid===t.uid}));if(-1!==u){var c=[].concat(o()(r.slice(0,u)),[t],o()(r.slice(u+1))),s=a()(a()({},n().kbaseResult),{},{data:{content:c}});e({kbaseResult:s,currentKbase:t})}else console.warn("Kbase with the specified uid not found."),e({currentKbase:t})},removeKbase:function(t){var r=n().kbaseResult.data.content,u=r.findIndex((function(e){return e.uid===t}));-1!==u?e({kbaseResult:a()(a()({},n().kbaseResult),{},{data:{content:[].concat(o()(r.slice(0,u)),o()(r.slice(u+1)))}})}):console.warn("Kbase not found in cache:",t),n().currentKbase.uid===t&&e({currentKbase:{uid:"",orgUid:""}})},deleteKbaseCache:function(){return e({},!0)}}})),{name:c.wKE})))}}]);