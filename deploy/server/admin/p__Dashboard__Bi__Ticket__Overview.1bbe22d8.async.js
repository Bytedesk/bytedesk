"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[4577],{93689:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(83910),a=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},c=n(54183),s=function(t,e){return a.createElement(c.Z,(0,r.Z)({},t,{ref:e,icon:i}))};var o=a.forwardRef(s)},15722:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(83910),a=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},c=n(54183),s=function(t,e){return a.createElement(c.Z,(0,r.Z)({},t,{ref:e,icon:i}))};var o=a.forwardRef(s)},90151:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(83910),a=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},c=n(54183),s=function(t,e){return a.createElement(c.Z,(0,r.Z)({},t,{ref:e,icon:i}))};var o=a.forwardRef(s)},80556:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(83910),a=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},c=n(54183),s=function(t,e){return a.createElement(c.Z,(0,r.Z)({},t,{ref:e,icon:i}))};var o=a.forwardRef(s)},33019:function(t,e,n){n.d(e,{Lr:function(){return g},_t:function(){return d},sE:function(){return m},x_:function(){return p}});var r=n(90819),a=n.n(r),i=n(73193),c=n.n(i),s=n(89933),o=n.n(s),u=n(39497),l=n(14906);function d(t){return f.apply(this,arguments)}function f(){return(f=o()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/agent/query/org",{method:"GET",params:c()(c()({},e),{},{channel:u.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return(h=o()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/agent/create",{method:"POST",data:c()(c()({},e),{},{channel:u.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=o()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/agent/update",{method:"POST",data:c()(c()({},e),{},{channel:u.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return k.apply(this,arguments)}function k(){return(k=o()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/agent/delete",{method:"POST",data:c()(c()({},e),{},{channel:u.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},2218:function(t,e,n){n.d(e,{If:function(){return g},dF:function(){return d},j4:function(){return m},v$:function(){return p}});var r=n(90819),a=n.n(r),i=n(73193),c=n.n(i),s=n(89933),o=n.n(s),u=n(39497),l=n(14906);function d(t){return f.apply(this,arguments)}function f(){return(f=o()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/department/query/org",{method:"GET",params:c()(c()({},e),{},{channel:u.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return(h=o()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/department/create",{method:"POST",data:c()(c()({},e),{},{channel:u.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=o()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/department/update",{method:"POST",data:c()(c()({},e),{},{channel:u.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return k.apply(this,arguments)}function k(){return(k=o()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/department/delete",{method:"POST",data:c()(c()({},e),{},{channel:u.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},8664:function(t,e,n){n.d(e,{AD:function(){return d}});var r=n(90819),a=n.n(r),i=n(73193),c=n.n(i),s=n(89933),o=n.n(s),u=n(39497),l=n(14906);function d(t){return f.apply(this,arguments)}function f(){return(f=o()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/ticket/statistic/query/date",{method:"GET",params:c()(c()({},e),{},{channel:u.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},90599:function(t,e,n){n.r(e);var r=n(90819),a=n.n(r),i=n(89933),c=n.n(i),s=n(45332),o=n.n(s),u=n(44194),l=n(35281),d=n(13847),f=n(87629),p=n(40110),h=n(39487),m=n(79369),v=n(82770),g=n(34201),k=n(79489),x=n(94447),y=n(54943),w=n(80556),b=n(90151),j=n(48004),T=n(93689),M=n(15722),Z=n(14906),R=n(8664),D=n(19433),Y=n(98830),z=n(10404),S=n(33019),C=n(91361),A=n(39497),I=n(96596),O=n.n(I),B=n(2218),E=n(65728),q=n(31549),U=l.default.RangePicker,J=d.Z.Option;e.default=function(){var t,e,n=(0,Z.useIntl)(),r=(0,C.Z)().translateStringTranct,i=(0,u.useState)(O()().startOf("day")),s=o()(i,2),l=s[0],I=s[1],P=(0,u.useState)(O()().endOf("day")),H=o()(P,2),F=H[0],X=H[1],L=(0,u.useState)("today"),W=o()(L,2),G=W[0],V=W[1],_=(0,u.useState)(A.whQ),N=o()(_,2),Q=N[0],K=N[1],$=(0,u.useState)(),tt=o()($,2),et=tt[0],nt=tt[1],rt=(0,u.useState)(),at=o()(rt,2),it=at[0],ct=at[1],st=(0,Y.u)((function(t){return t.currentOrg})),ot=(0,z.E)((function(t){return t})),ut=ot.agentResult,lt=ot.setAgentResult,dt=(0,E.H)((function(t){return t})),ft=dt.departmentResult,pt=dt.setDepartmentResult,ht=(0,u.useState)(),mt=o()(ht,2),vt=mt[0],gt=mt[1],kt=(0,u.useState)(!1),xt=o()(kt,2),yt=(xt[0],xt[1]),wt=[{label:(0,q.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.today"}),value:"today"},{label:(0,q.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.yesterday"}),value:"yesterday"},{label:(0,q.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.week"}),value:"week"},{label:(0,q.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,q.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.month"}),value:"month"},{label:(0,q.jsx)(Z.FormattedMessage,{id:"bi.ticket.timeRange.custom"}),value:"custom"}];(0,u.useEffect)((function(){if("custom"===G)I(l),X(F);else{var t=O()();"today"===G?(I(t),X(t)):"yesterday"===G?(I(t.subtract(1,"day")),X(t.subtract(1,"day"))):"week"===G?(I(t.startOf("week")),X(t.endOf("week"))):"lastWeek"===G?(I(t.subtract(1,"week").startOf("week")),X(t.subtract(1,"week").endOf("week"))):"month"===G&&(I(t.startOf("month")),X(t.endOf("month")))}}),[G]);var bt=function(){var t=c()(a()().mark((function t(){var e,n;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D.yw.loading("loading"),e={pageNumber:0,pageSize:100,orgUid:null==st?void 0:st.uid},t.next=4,(0,B.dF)(e);case 4:200===(n=t.sent).code?(D.yw.destroy(),pt(n),n.data.content.length>0&&ct(n.data.content[0].uid)):(D.yw.destroy(),D.yw.error(n.message));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),jt=function(){var t=c()(a()().mark((function t(){var e,n;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D.yw.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==st?void 0:st.uid},t.next=4,(0,S._t)(e);case 4:200===(n=t.sent).code?(D.yw.destroy(),lt(n),n.data.content.length>0&&nt(n.data.content[0].uid)):(D.yw.destroy(),D.yw.error(r(n.message)));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Tt=function(){var t=c()(a()().mark((function t(){var e,r;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return yt(!0),t.prev=1,D.yw.loading("loading"),e={type:Q,startDate:null==l?void 0:l.format("YYYY-MM-DD"),endDate:null==F?void 0:F.format("YYYY-MM-DD"),departmentUid:it,assigneeUid:et,orgUid:null==st?void 0:st.uid},t.next=6,(0,R.AD)(e);case 6:r=t.sent,console.log("queryStatisticTicketByDate response:",r.data,e),200===r.code?(D.yw.destroy(),gt(r.data)):(D.yw.destroy(),D.yw.error(r.message)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),D.yw.error(n.formatMessage({id:"ticket.message.operation.failed"}));case 14:return t.prev=14,yt(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(){return t.apply(this,arguments)}}();(0,u.useEffect)((function(){bt(),jt()}),[]),(0,u.useEffect)((function(){Tt()}),[Q,et,it]),(0,u.useEffect)((function(){Tt()}),[l,F]);var Mt=[{status:"新建",count:(null==vt?void 0:vt.newTickets)||0,percentage:null!=vt&&vt.totalTickets?Math.round(vt.newTickets/vt.totalTickets*100):0,color:"#1890ff"},{status:"处理中",count:(null==vt?void 0:vt.processingTickets)||0,percentage:null!=vt&&vt.totalTickets?Math.round(vt.processingTickets/vt.totalTickets*100):0,color:"#faad14"},{status:"已解决",count:(null==vt?void 0:vt.resolvedTickets)||0,percentage:null!=vt&&vt.totalTickets?Math.round(vt.resolvedTickets/vt.totalTickets*100):0,color:"#52c41a"},{status:"已关闭",count:(null==vt?void 0:vt.closedTickets)||0,percentage:null!=vt&&vt.totalTickets?Math.round(vt.closedTickets/vt.totalTickets*100):0,color:"#666"}].filter((function(t){return t.count>0})),Zt=[{key:"1",date:null==l?void 0:l.format("YYYY-MM-DD"),totalTickets:(null==vt?void 0:vt.totalTickets)||0,newTickets:(null==vt?void 0:vt.newTickets)||0,inProgress:(null==vt?void 0:vt.processingTickets)||0,resolved:(null==vt?void 0:vt.resolvedTickets)||0,closed:(null==vt?void 0:vt.closedTickets)||0,avgResolutionTime:"".concat((null==vt?void 0:vt.averageResolutionTime)||0,"小时"),priority:(null==vt?void 0:vt.criticalTickets)>0?"高":(null==vt?void 0:vt.highTickets)>0?"中":"低"}],Rt=[{title:n.formatMessage({id:"bi.ticket.table.date"}),dataIndex:"date",key:"date"},{title:n.formatMessage({id:"bi.ticket.table.totalTickets"}),dataIndex:"totalTickets",key:"totalTickets"},{title:n.formatMessage({id:"bi.ticket.table.processingTickets"}),dataIndex:"processingTickets",key:"processingTickets",render:function(t,e){return(0,q.jsx)(f.Z,{percent:e.totalTickets>0?Math.round(t/e.totalTickets*100):0,size:"small",format:function(e){return"".concat(t," (").concat(e,"%)")}})}},{title:n.formatMessage({id:"bi.ticket.table.resolvedTickets"}),dataIndex:"resolvedTickets",key:"resolvedTickets",render:function(t,e){return(0,q.jsx)(f.Z,{percent:e.totalTickets>0?Math.round(t/e.totalTickets*100):0,size:"small",format:function(e){return"".concat(t," (").concat(e,"%)")}})}},{title:n.formatMessage({id:"bi.ticket.table.closedTickets"}),dataIndex:"closedTickets",key:"closedTickets",render:function(t,e){return(0,q.jsx)(f.Z,{percent:e.totalTickets>0?Math.round(t/e.totalTickets*100):0,size:"small",format:function(e){return"".concat(t," (").concat(e,"%)")}})}},{title:n.formatMessage({id:"bi.ticket.table.resolutionRate"}),dataIndex:"resolutionRate",key:"resolutionRate",render:function(t){return"".concat(t,"%")}},{title:n.formatMessage({id:"bi.ticket.table.avgResolutionTime"}),dataIndex:"avgResolutionTime",key:"avgResolutionTime",render:function(t){return"".concat(t).concat(n.formatMessage({id:"bi.ticket.unit.minute"}))}}];return(0,q.jsxs)("div",{style:{padding:"24px"},children:[(0,q.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,q.jsx)("h2",{children:n.formatMessage({id:"bi.ticket.title.overview"})}),(0,q.jsxs)("p",{children:[n.formatMessage({id:"bi.ticket.description.overview"}),"today"===G&&(0,q.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",l.format("YYYY-MM-DD"),")"]}),"yesterday"===G&&(0,q.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",l.format("YYYY-MM-DD"),")"]}),("week"===G||"lastWeek"===G||"month"===G||"custom"===G)&&(0,q.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",l.format("YYYY-MM-DD")," ~ ",F.format("YYYY-MM-DD"),")"]})]})]}),(0,q.jsx)(p.Z,{style:{marginBottom:16},children:(0,q.jsx)(h.Z,{direction:"vertical",style:{width:"100%"},children:(0,q.jsxs)(h.Z,{wrap:!0,style:{width:"100%",justifyContent:"space-between"},children:[(0,q.jsxs)(h.Z,{wrap:!0,children:[(0,q.jsx)(m.ZP.Group,{value:G,onChange:function(t){return V(t.target.value)},children:wt.map((function(t){return(0,q.jsx)(m.ZP.Button,{value:t.value,children:t.label},t.value)}))}),"custom"===G&&(0,q.jsx)(U,{value:[l,F],onChange:function(t){I(t[0]),X(t[1])}})]}),(0,q.jsxs)(h.Z,{wrap:!0,children:[(0,q.jsxs)(d.Z,{value:Q,onChange:K,style:{width:120},placeholder:n.formatMessage({id:"bi.ticket.filter.type"}),children:[(0,q.jsx)(J,{value:A.whQ,children:n.formatMessage({id:"bi.ticket.filterType.organization"})}),(0,q.jsx)(J,{value:A.fyH,children:n.formatMessage({id:"bi.ticket.filterType.agent"})}),(0,q.jsx)(J,{value:A.nYM,children:n.formatMessage({id:"bi.ticket.filterType.department"})})]}),Q===A.fyH&&(0,q.jsx)(d.Z,{value:et,onChange:nt,style:{width:150},placeholder:n.formatMessage({id:"bi.ticket.filter.agent"}),allowClear:!0,children:null===(t=ut.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(t){return(0,q.jsx)(J,{value:t.uid,children:r(t.nickname)},t.uid)}))}),Q===A.nYM&&(0,q.jsx)(d.Z,{value:it,onChange:ct,style:{width:150},placeholder:n.formatMessage({id:"bi.ticket.filter.department"}),allowClear:!0,children:null===(e=ft.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(t){return(0,q.jsx)(J,{value:t.uid,children:r(t.name)},t.uid)}))}),(0,q.jsx)(v.ZP,{type:"primary",icon:(0,q.jsx)(w.Z,{}),onClick:function(){return Tt()},children:(0,q.jsx)(Z.FormattedMessage,{id:"bi.common.refresh"})})]})]})})}),(0,q.jsxs)(g.Z,{gutter:16,style:{marginBottom:"24px"},children:[(0,q.jsx)(k.Z,{span:6,children:(0,q.jsx)(p.Z,{children:(0,q.jsx)(x.Z,{title:n.formatMessage({id:"bi.ticket.card.totalTickets"}),value:(null==vt?void 0:vt.totalTickets)||0,prefix:(0,q.jsx)(b.Z,{}),valueStyle:{color:"#3f8600"}})})}),(0,q.jsx)(k.Z,{span:6,children:(0,q.jsx)(p.Z,{children:(0,q.jsx)(x.Z,{title:n.formatMessage({id:"bi.ticket.card.processingTickets"}),value:(null==vt?void 0:vt.processingTickets)||0,prefix:(0,q.jsx)(j.Z,{}),valueStyle:{color:"#1890ff"}})})}),(0,q.jsx)(k.Z,{span:6,children:(0,q.jsx)(p.Z,{children:(0,q.jsx)(x.Z,{title:n.formatMessage({id:"bi.ticket.card.resolvedTickets"}),value:(null==vt?void 0:vt.resolvedTickets)||0,prefix:(0,q.jsx)(T.Z,{}),valueStyle:{color:"#722ed1"}})})}),(0,q.jsx)(k.Z,{span:6,children:(0,q.jsx)(p.Z,{children:(0,q.jsx)(x.Z,{title:n.formatMessage({id:"bi.ticket.card.avgResolutionTime"}),value:(null==vt?void 0:vt.averageResolutionTime)||0,prefix:(0,q.jsx)(M.Z,{}),valueStyle:{color:"#eb2f96"},suffix:n.formatMessage({id:"bi.ticket.unit.minute"})})})})]}),(0,q.jsxs)(g.Z,{gutter:16,style:{marginBottom:"24px"},children:[(0,q.jsx)(k.Z,{span:12,children:(0,q.jsx)(p.Z,{title:n.formatMessage({id:"bi.ticket.statusDistribution"}),children:(0,q.jsx)("div",{style:{height:300},children:Mt.map((function(t,e){return(0,q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12},children:[(0,q.jsx)("span",{children:t.status}),(0,q.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,q.jsx)("div",{style:{width:12,height:12,backgroundColor:t.color,marginRight:8,borderRadius:2}}),(0,q.jsx)("span",{style:{marginRight:8},children:t.count}),(0,q.jsxs)("span",{style:{color:"#666"},children:["(",t.percentage,"%)"]})]})]},e)}))})})}),(0,q.jsx)(k.Z,{span:12,children:(0,q.jsx)(p.Z,{title:n.formatMessage({id:"bi.ticket.resolutionTrend"}),children:(0,q.jsx)("div",{style:{height:300,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,q.jsxs)("div",{style:{textAlign:"center"},children:[(0,q.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#52c41a"},children:[null!=vt&&vt.totalTickets?Math.round(vt.resolvedTickets/vt.totalTickets*100):0,"%"]}),(0,q.jsx)("div",{style:{color:"#666"},children:"今日解决率"}),(0,q.jsxs)("div",{style:{marginTop:16,color:"#999"},children:["客户满意度: ",(null==vt?void 0:vt.customerSatisfactionRate)||0,"%"]})]})})})})]}),(0,q.jsx)(p.Z,{title:n.formatMessage({id:"bi.ticket.statusDistribution"}),children:(0,q.jsx)(y.Z,{columns:Rt,dataSource:Zt,pagination:!1,size:"middle"})})]})}},10404:function(t,e,n){n.d(e,{E:function(){return d}});var r=n(73193),a=n.n(r),i=n(76711),c=n.n(i),s=n(39497),o=n(58063),u=n(66266),l=n(31403),d=(0,o.Ue)()((0,u.mW)((0,u.tJ)((0,l.n)((function(t,e){return{agentResult:{data:{content:[]}},currentAgent:{uid:"",orgUid:""},insertAgent:function(e){t((function(t){t.agentResult.data.content.unshift(e)}))},updateAgent:function(e){t((function(t){var n=t.agentResult.data.content,r=n.findIndex((function(t){return t.uid===e.uid}));-1!==r?n[r]=e:console.warn("Agent with uid ".concat(e.uid," not found."))}))},setAgentResult:function(n){var r;(t({agentResult:n}),""===e().currentAgent.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&t({currentAgent:n.data.content[0]}))},setCurrentAgent:function(n){var r=e().agentResult.data.content,i=r.findIndex((function(t){return t.uid===n.uid}));if(-1!==i){var s=[].concat(c()(r.slice(0,i)),[n],c()(r.slice(i+1))),o=a()(a()({},e().agentResult),{},{data:{content:s}});t({agentResult:o,currentAgent:n})}else console.warn("Agent with the specified uid not found."),t({currentAgent:n})},deleteCurrentAgent:function(n){var r=e().agentResult.data.content,i=r.findIndex((function(t){return t.uid===n}));-1!==i?t({agentResult:a()(a()({},e().agentResult),{},{data:{content:[].concat(c()(r.slice(0,i)),c()(r.slice(i+1)))}})}):console.warn("Agent not found in cache:",n),e().currentAgent.uid===n&&t({currentAgent:{uid:"",orgUid:""}})},deleteAgentCache:function(){return t({},!0)}}})),{name:s.zzK})))},65728:function(t,e,n){n.d(e,{H:function(){return p}});var r=n(86222),a=n.n(r),i=n(76711),c=n.n(i),s=n(73193),o=n.n(s),u=n(39497),l=n(58063),d=n(66266),f=n(31403),p=(0,l.Ue)()((0,d.mW)((0,d.tJ)((0,f.n)((function(t,e){return{departmentResult:{data:{content:[]}},currentDepartment:{uid:u.zBg,nickname:u.zBg},insertDepartment:function(e){t((function(t){var n=t.departmentResult.data.content;if(e.parentUid){var r=n.find((function(t){return t.uid===e.parentUid}));r&&(r.children||(r.children=[]),r.children.push(e))}else n.push(e)}))},upgradeDepartment:function(e){t((function(t){var n=t.departmentResult.data.content,r=n.findIndex((function(t){return t.uid===e.uid}));-1!==r?n[r]=e:n.forEach((function(t){if(t.children){var n=t.children.findIndex((function(t){return t.uid===e.uid}));-1!==n&&(t.children[n]=e)}}))}))},setDepartmentResult:function(n){var r,a={uid:u.zBg,name:u.zBg};(t({departmentResult:o()(o()({},n),{},{data:{content:[a].concat(c()(n.data.content))}})}),""===e().currentDepartment.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&t({currentDepartment:n.data.content[0]}))},setCurrentDepartment:function(n){var r=e().departmentResult.data.content,a=r.findIndex((function(t){return t.uid===n.uid}));if(-1!==a){var i=[].concat(c()(r.slice(0,a)),[n],c()(r.slice(a+1))),s=o()(o()({},e().departmentResult),{},{data:{content:i}});t({departmentResult:s,currentDepartment:n})}else console.warn("Department with the specified uid not found."),t({currentDepartment:n})},removeDepartment:function(n){t((function(t){var e=t.departmentResult.data.content;t.departmentResult.data.content=function t(e,n){return e.filter((function(e){return e.uid!==n&&(e.children&&(e.children=t(e.children,n)),!0)}))}(e,n)})),e().currentDepartment.uid===n&&t({currentDepartment:{uid:""}})},setCurrentDepUid:function(n){var r,i,c=null===(r=e().departmentResult)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.find((function(t){return t.uid===n}));if(c)t({currentDepartment:c});else{!function e(r){var i,c=a()(r);try{for(c.s();!(i=c.n()).done;){var s=i.value;if(s.uid===n)return void t({currentDepartment:s});s.children&&s.children.length>0&&e(s.children)}}catch(t){c.e(t)}finally{c.f()}}((null===(i=e().departmentResult)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.content)||[])}},deleteDepartmentCache:function(){return t({},!0)}}})),{name:u.xY_})))}}]);