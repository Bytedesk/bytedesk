"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1096],{31806:function(e,n,t){t.d(n,{Z:function(){return l}});var a=t(83910),r=t(44194),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},s=t(54183),i=function(e,n){return r.createElement(s.Z,(0,a.Z)({},e,{ref:n,icon:u}))};var l=r.forwardRef(i)},7704:function(e,n,t){t.d(n,{AP:function(){return f},_J:function(){return h},t5:function(){return g},v_:function(){return v}});var a=t(90819),r=t.n(a),u=t(73193),s=t.n(u),i=t(89933),l=t.n(i),o=t(39497),c=t(14906);function f(e){return d.apply(this,arguments)}function d(){return(d=l()(r()().mark((function e(n){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/kbase/query/org",{method:"GET",params:s()(s()({},n),{},{channel:o.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=l()(r()().mark((function e(n){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/kbase/create",{method:"POST",data:s()(s()({},n),{},{channel:o.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=l()(r()().mark((function e(n){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/kbase/update",{method:"POST",data:s()(s()({},n),{},{channel:o.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return(b=l()(r()().mark((function e(n){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/kbase/delete",{method:"POST",data:s()(s()({},n),{},{channel:o.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},417:function(e,n,t){var a=t(90819),r=t.n(a),u=t(89933),s=t.n(u),i=t(45332),l=t.n(i),o=t(73614),c=t(91361),f=t(71256),d=t(11329),v=t(25784),m=(t(2250),t(89965),t(41196)),g=t(14906),p=t(44194),h=t(33019),b=t(98830),y=(t(39497),t(31549));n.Z=function(e){var n,t,a=e.messageLeaveSettings,u=e.onMessageLeaveSettingsChange,i=(0,g.useIntl)(),L=(0,c.Z)().translateString,k=v.A.useForm(),M=l()(k,1)[0],x=(null===(n=m.Z.useWatch)||void 0===n||n.call(m.Z,"messageLeaveNotify",M),null===(t=m.Z.useWatch)||void 0===t?void 0:t.call(m.Z,"messageLeaveNotifyType",M)),S=(0,b.u)((function(e){return e.currentOrg})),w=(0,p.useMemo)((function(){return null!=a?a:{}}),[a]),T=(0,p.useMemo)((function(){var e,n;return null!==(e=null!==(n=null==w?void 0:w.draft)&&void 0!==n?n:null==w?void 0:w.live)&&void 0!==e?e:void 0}),[w]),E=((0,p.useMemo)((function(){return[{label:i.formatMessage({id:"leavemsg.notify.email",defaultMessage:"Email"}),value:"EMAIL"},{label:i.formatMessage({id:"leavemsg.notify.sms",defaultMessage:"SMS"}),value:"SMS"},{label:i.formatMessage({id:"leavemsg.notify.email_sms",defaultMessage:"Email + SMS"}),value:"EMAIL_SMS"}]}),[i]),(0,p.useRef)("")),Z=(0,p.useState)(""),N=l()(Z,2),A=N[0],C=N[1],q=(0,p.useCallback)((function(e){e&&0!==Object.keys(e).length&&(null==u||u(e))}),[u]);(0,p.useEffect)((function(){var e,n,t;M.setFieldsValue({messageLeaveEnabled:null===(e=null==T?void 0:T.messageLeaveEnabled)||void 0===e||e,messageLeaveAgentUid:null==T?void 0:T.messageLeaveAgentUid,messageLeaveNotify:null!==(n=null==T?void 0:T.messageLeaveNotify)&&void 0!==n&&n,messageLeaveNotifyType:null!==(t=null==T?void 0:T.messageLeaveNotifyType)&&void 0!==t?t:"EMAIL",messageLeaveNotifyEmail:null==T?void 0:T.messageLeaveNotifyEmail,messageLeaveNotifyMobile:null==T?void 0:T.messageLeaveNotifyMobile,messageLeaveForm:null==T?void 0:T.messageLeaveForm});var a=L(null==T?void 0:T.messageLeaveTip)||"";E.current!==a&&(E.current=a,C(a),M.setFieldValue("messageLeaveTip",a))}),[T,M,L]);var V=(0,p.useCallback)((function(e){q(e)}),[q]),j=(0,p.useCallback)((function(e){E.current=e,C(e),M.setFieldValue("messageLeaveTip",e),q({messageLeaveTip:e})}),[q,M]),F=((0,p.useCallback)(function(){var e=s()(r()().mark((function e(n){var t,a,u;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=S&&S.uid){e.next=2;break}return e.abrupt("return",[]);case 2:return e.prev=2,e.next=5,(0,h._t)({pageNumber:0,pageSize:100,orgUid:S.uid,searchText:null!=n?n:""});case 5:if(200!==(null==(t=e.sent)?void 0:t.code)){e.next=8;break}return e.abrupt("return",(null!==(a=null==t||null===(u=t.data)||void 0===u?void 0:u.content)&&void 0!==a?a:[]).map((function(e){return{label:(null==e?void 0:e.nickname)||(null==e?void 0:e.uid),value:null==e?void 0:e.uid}})).filter((function(e){return Boolean(e.value)})));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),[null==S?void 0:S.uid]),!1);null!=x||null==T||T.messageLeaveNotifyType;return(0,y.jsxs)(v.A,{form:M,submitter:!1,style:{marginLeft:"20px"},onValuesChange:function(e){return V(e)},children:[!1,(0,y.jsx)(v.A.Item,{name:"messageLeaveTip",label:(0,y.jsxs)("span",{children:[i.formatMessage({id:"agent.settings.leave.msg"}),(0,y.jsx)(o.Z,{type:"messageLeave",keys:["messageLeaveTip"],live:null==w?void 0:w.live,draft:null==w?void 0:w.draft})]}),rules:[{required:!0,message:i.formatMessage({id:"agent.settings.leave.msg.required"})}],children:(0,y.jsx)(d.Z,{placeholder:i.formatMessage({id:"agent.settings.leave.msg.placeholder"}),value:A,toolbarKeys:(0,f.eD)(),style:{height:"150px",width:"600px"},maxLength:200,onChange:j},"messageLeaveTipEditor")}),!1,F,F,false,false]})}},52260:function(e,n,t){t(73193),t(84176),t(45332),t(14906),t(44194),t(31549)},75112:function(e,n,t){var a=t(14597);n.Z=function(){var e=(0,a.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto",padding:10}}}}}]);