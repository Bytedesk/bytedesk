"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[524],{60150:function(t,e,s){s.d(e,{RU:function(){return u},xL:function(){return g}});var i=s(90819),a=s.n(i),n=s(73193),r=s.n(n),o=s(89933),d=s.n(o),c=s(55735),l=s(30921);function u(t){return x.apply(this,arguments)}function x(){return(x=d()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/service/statistic/query/date",{method:"GET",params:r()(r()({},e),{},{client:c.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return m.apply(this,arguments)}function m(){return(m=d()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/v1/service/statistic/calculate",{method:"POST",data:r()(r()({},e),{},{client:c.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},86263:function(t,e,s){s.r(e);var i=s(90819),a=s.n(i),n=s(89933),r=s.n(n),o=s(45332),d=s.n(o),c=s(44194),l=s(98123),u=s(44781),x=s(9452),g=s(95454),m=s(3849),p=s(75365),j=s(72608),f=s(62673),h=s(67402),y=s(88996),Z=s(88201),v=s(5602),M=s(59485),k=s(7875),F=s(61107),w=s(80556),b=s(86994),q=s(58087),S=s(94322),P=s(29818),T=s(57976),I=s(61650),R=s(58791),O=s(32693),C=s(30921),A=s(5939),Y=s(24562),U=s(89717),D=s(21499),E=s(24170),z=s(72614),K=s(76750),W=s(40612),B=s(1902),H=s(95490),G=s(55735),N=s(28977),Q=s.n(N),V=s(60150),L=s(31549),$=l.default.RangePicker,_=u.default.Option;e.default=function(){var t,e,s=(0,C.useIntl)(),i=(0,K.Z)().translateStringTranct,n=(0,c.useState)(Q()().startOf("day")),o=d()(n,2),l=o[0],N=o[1],J=(0,c.useState)(Q()().endOf("day")),X=d()(J,2),tt=X[0],et=X[1],st=(0,c.useState)("today"),it=d()(st,2),at=it[0],nt=it[1],rt=(0,c.useState)(G.AOk),ot=d()(rt,2),dt=ot[0],ct=ot[1],lt=(0,c.useState)(),ut=d()(lt,2),xt=ut[0],gt=ut[1],mt=(0,c.useState)(),pt=d()(mt,2),jt=pt[0],ft=pt[1],ht=(0,W.u)((function(t){return t.currentOrg})),yt=(0,B.E)((function(t){return t})),Zt=yt.agentResult,vt=yt.setAgentResult,Mt=(0,H.$)((function(t){return t})),kt=Mt.workgroupResult,Ft=Mt.setWorkgroupResult,wt=(0,c.useState)(),bt=d()(wt,2),qt=(bt[0],bt[1]),St=(0,c.useState)(G.OwA),Pt=d()(St,2),Tt=Pt[0],It=Pt[1],Rt=(0,c.useState)(!1),Ot=d()(Rt,2),Ct=(Ot[0],Ot[1]),At=[{label:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}],Yt=12580,Ut=85.6,Dt=25600,Et=78.9,zt=[{date:"2024-01-01",type:s.formatMessage({id:"ai.statistic.trend.total"}),value:1200},{date:"2024-01-02",type:s.formatMessage({id:"ai.statistic.trend.total"}),value:1300},{date:"2024-01-01",type:s.formatMessage({id:"ai.statistic.trend.resolved"}),value:1e3},{date:"2024-01-02",type:s.formatMessage({id:"ai.statistic.trend.resolved"}),value:1100}],Kt=(s.formatMessage({id:"ai.statistic.intent.product"}),s.formatMessage({id:"ai.statistic.intent.technical"}),s.formatMessage({id:"ai.statistic.intent.account"}),s.formatMessage({id:"ai.statistic.intent.other"}),.8),Wt=2.5,Bt=256,Ht=1580.5,Gt=[{key:"1",question:s.formatMessage({id:"ai.statistic.question.password"}),count:256,solved:245},{key:"2",question:s.formatMessage({id:"ai.statistic.question.upgrade"}),count:198,solved:180},{key:"3",question:s.formatMessage({id:"ai.statistic.question.price"}),count:156,solved:156}],Nt={totalArticles:1580,hitRate:78.5,updateFrequency:s.formatMessage({id:"ai.statistic.frequency.daily"}),unmatchedCount:125},Qt=[{depth:s.formatMessage({id:"ai.statistic.depth.one"}),count:3500},{depth:s.formatMessage({id:"ai.statistic.depth.two"}),count:2800},{depth:s.formatMessage({id:"ai.statistic.depth.three"}),count:1500},{depth:s.formatMessage({id:"ai.statistic.depth.more"}),count:800}],Vt=(s.formatMessage({id:"ai.statistic.cost.api"}),s.formatMessage({id:"ai.statistic.cost.token"}),s.formatMessage({id:"ai.statistic.cost.storage"}),[{key:"u1",question:s.formatMessage({id:"ai.statistic.question.complex"}),count:45,category:s.formatMessage({id:"ai.statistic.category.product"})},{key:"u2",question:s.formatMessage({id:"ai.statistic.question.unclear"}),count:38,category:s.formatMessage({id:"ai.statistic.category.technical"})}]),Lt=[{type:s.formatMessage({id:"ai.statistic.feedback.positive"}),value:75},{type:s.formatMessage({id:"ai.statistic.feedback.neutral"}),value:15},{type:s.formatMessage({id:"ai.statistic.feedback.negative"}),value:10}],$t={rate:15.5,reasons:[{type:s.formatMessage({id:"ai.statistic.abandon.timeout"}),count:120},{type:s.formatMessage({id:"ai.statistic.abandon.userQuit"}),count:85}]},_t={rate:15.8,reasons:[{type:s.formatMessage({id:"ai.statistic.transfer.complex"}),count:156},{type:s.formatMessage({id:"ai.statistic.transfer.emotion"}),count:89},{type:s.formatMessage({id:"ai.statistic.transfer.request"}),count:67}],trend:[{date:"2024-01-01",value:16.2},{date:"2024-01-02",value:15.8}]},Jt={overall:92.5,byCategory:[{key:"intent-1",category:s.formatMessage({id:"ai.statistic.intent.product"}),accuracy:94.2,samples:1200},{key:"intent-2",category:s.formatMessage({id:"ai.statistic.intent.technical"}),accuracy:91.8,samples:800}]},Xt=[{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.group"}),dataIndex:"group",key:"group"},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.questions"}),dataIndex:"questions",key:"questions",render:function(t){return(0,L.jsx)(x.Z,{size:"small",dataSource:t,renderItem:function(t,e){return(0,L.jsx)(x.Z.Item,{children:t},"question-".concat(e))}})}},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.count"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.similarity"}),dataIndex:"similarity",key:"similarity",render:function(t){return(0,L.jsx)(g.Z,{percent:100*t,size:"small",status:t>.9?"success":"normal"})}},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.table.operation"}),key:"action",render:function(){return(0,L.jsxs)(m.Z,{children:[(0,L.jsx)(p.ZP,{type:"link",children:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.merge"})}),(0,L.jsx)(p.ZP,{type:"link",children:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.split"})})]})}}];(0,c.useEffect)((function(){if("custom"===at)N(l),et(tt),It(G.dd4);else{var t=Q()();"today"===at?(N(t),et(t),It(G.OwA)):"yesterday"===at?(N(t.subtract(1,"day")),et(t.subtract(1,"day")),It(G.OwA)):"week"===at?(N(t.startOf("week")),et(t.endOf("week")),It(G.dd4)):"lastWeek"===at?(N(t.subtract(1,"week").startOf("week")),et(t.subtract(1,"week").endOf("week")),It(G.dd4)):"month"===at&&(N(t.startOf("month")),et(t.endOf("month")),It(G.dd4))}}),[at]);var te=function(){var t=r()(a()().mark((function t(){var e,s;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j.ZP.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==ht?void 0:ht.uid},t.next=4,(0,z.u7)(e);case 4:s=t.sent,console.log("fetchAllWorkgroups: ",s),200===s.code?(j.ZP.destroy(),Ft(s),s.data.content.length>0&&ft(s.data.content[0].uid)):(j.ZP.destroy(),j.ZP.error(s.message));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ee=function(){var t=r()(a()().mark((function t(){var e,s;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j.ZP.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==ht?void 0:ht.uid},t.next=4,(0,E._t)(e);case 4:s=t.sent,console.log("fetchAllAgents: ",s),200===s.code?(j.ZP.destroy(),vt(s),s.data.content.length>0&&gt(s.data.content[0].uid)):(j.ZP.destroy(),j.ZP.error(i(s.message))),console.log("queryAllAgents response",s);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),se=function(){var t=r()(a()().mark((function t(){var e,i;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ct(!0),t.prev=1,j.ZP.loading("loading"),e={type:dt,statisticStartTime:null==l?void 0:l.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==tt?void 0:tt.format("YYYY-MM-DD 23:59:59"),workgroupUid:jt,assigneeUid:xt,orgUid:null==ht?void 0:ht.uid},t.next=6,(0,V.RU)(e);case 6:i=t.sent,console.log("queryStatisticServicesByOrg response",i,e),200===i.code?(j.ZP.destroy(),qt(i.data)):(j.ZP.destroy(),j.ZP.error(i.message)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),j.ZP.error(s.formatMessage({id:"ticket.message.operation.failed"}));case 14:return t.prev=14,Ct(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=r()(a()().mark((function t(){var e,s;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j.ZP.loading("loading"),e={type:dt,statisticStartTime:null==l?void 0:l.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==tt?void 0:tt.format("YYYY-MM-DD 23:59:59"),workgroupUid:jt,assigneeUid:xt,orgUid:null==ht?void 0:ht.uid},t.next=4,(0,V.RU)(e);case 4:s=t.sent,console.log("queryStatisticServicesByOrg response",s,e),200===s.code?j.ZP.destroy():(j.ZP.destroy(),j.ZP.error(s.message));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){te(),ee()}),[]),(0,c.useEffect)((function(){se()}),[dt,xt,jt]),(0,c.useEffect)((function(){ie()}),[Tt,dt,xt,jt]),(0,c.useEffect)((function(){se()}),[l,tt]),(0,L.jsxs)("div",{style:{padding:16},children:[(0,L.jsx)(f.Z,{style:{marginBottom:16},children:(0,L.jsxs)(m.Z,{direction:"vertical",style:{width:"100%"},children:[(0,L.jsxs)(m.Z,{wrap:!0,children:[(0,L.jsx)(h.ZP.Group,{value:at,onChange:function(t){return nt(t.target.value)},children:At.map((function(t){return(0,L.jsx)(h.ZP.Button,{value:t.value,children:t.label},t.value)}))}),"custom"===at&&(0,L.jsx)($,{value:[l,tt],onChange:function(t){N(t[0]),et(t[1])}})]}),(0,L.jsxs)(m.Z,{wrap:!0,children:[(0,L.jsxs)(u.default,{placeholder:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.type"}),style:{width:200},value:dt,onChange:function(t){return ct(t)},children:[(0,L.jsx)(_,{value:G.AOk,children:(0,L.jsx)(C.FormattedMessage,{id:"i18n.all"})}),(0,L.jsx)(_,{value:G.pHh,children:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.agent"})}),(0,L.jsx)(_,{value:G.ti4,children:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.workgroup"})})]}),dt===G.pHh&&(0,L.jsx)(u.default,{placeholder:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.agent"}),style:{width:200},value:xt,onChange:function(t){return gt(t)},children:null===(t=Zt.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(t){return(0,L.jsx)(_,{value:null==t?void 0:t.uid,children:i(null==t?void 0:t.nickname)},null==t?void 0:t.uid)}))}),dt===G.ti4&&(0,L.jsx)(u.default,{placeholder:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.department"}),style:{width:200},value:jt,onChange:function(t){return ft(t)},children:null===(e=kt.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(t){return(0,L.jsx)(_,{value:null==t?void 0:t.uid,children:i(null==t?void 0:t.nickname)},null==t?void 0:t.uid)}))}),(0,L.jsx)(y.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.export"}),children:(0,L.jsx)(p.ZP,{icon:(0,L.jsx)(F.Z,{}),onClick:function(){j.ZP.warning("TODO: 待实现")},children:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.export"})})}),(0,L.jsx)(y.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.refresh"}),children:(0,L.jsx)(p.ZP,{icon:(0,L.jsx)(w.Z,{}),onClick:function(){return se()},children:(0,L.jsx)(C.FormattedMessage,{id:"ticket.statistic.filter.refresh"})})}),!1]})]})}),(0,L.jsxs)(Z.Z,{gutter:[16,16],children:[(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(f.Z,{children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.totalSessions"}),value:Yt,prefix:(0,L.jsx)(b.Z,{}),suffix:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.unit.count"})})})}),(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(f.Z,{children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.resolveRate"}),value:Ut,prefix:(0,L.jsx)(q.Z,{}),suffix:"%"})})}),(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(f.Z,{children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.apiCalls"}),value:Dt,prefix:(0,L.jsx)(S.Z,{}),suffix:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.unit.count"})})})}),(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(f.Z,{children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.kbCoverage"}),value:Et,prefix:(0,L.jsx)(P.Z,{}),suffix:"%"})})})]}),(0,L.jsxs)(Z.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(f.Z,{children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.avgResponseTime"}),value:Kt,prefix:(0,L.jsx)(S.Z,{}),suffix:"s"})})}),(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(f.Z,{children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.errorRate"}),value:Wt,prefix:(0,L.jsx)(T.Z,{}),suffix:"%"})})}),(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(f.Z,{children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.tokenCost"}),value:Ht,prefix:(0,L.jsx)(I.Z,{}),precision:2})})}),(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(f.Z,{children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.concurrentUsers"}),value:Bt,prefix:(0,L.jsx)(R.Z,{})})})})]}),(0,L.jsxs)(Z.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,L.jsx)(v.Z,{span:12,children:(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.trend"}),children:(0,L.jsx)(A.Z,{data:zt,xField:"date",yField:"value",seriesField:"type",animation:{appear:{duration:1e3}}})})}),(0,L.jsx)(v.Z,{span:12,children:(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.intent"}),children:(0,L.jsx)(Y.Z,{})})})]}),(0,L.jsxs)(Z.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,L.jsx)(v.Z,{span:12,children:(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.sessionDepth"}),extra:(0,L.jsx)(y.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.sessionDepth.tip"}),children:(0,L.jsx)(O.Z,{})}),children:(0,L.jsx)(U.Z,{data:Qt,xField:"depth",yField:"count",label:{position:"top"}})})}),(0,L.jsx)(v.Z,{span:12,children:(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.satisfaction"}),children:(0,L.jsx)(A.Z,{data:[{date:"2024-01-01",value:4.2},{date:"2024-01-02",value:4.3}],xField:"date",yField:"value",yAxis:{min:0,max:5}})})})]}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.hotQuestions"}),style:{marginTop:16},children:(0,L.jsx)(k.Z,{dataSource:Gt,columns:[{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.question"}),dataIndex:"question",key:"question"},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.askCount"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.solvedCount"}),dataIndex:"solved",key:"solved"},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.solveRate"}),key:"solveRate",render:function(t,e){return(0,L.jsx)(g.Z,{percent:Math.round(e.solved/e.count*100),size:"small"})}}],pagination:{pageSize:5},rowKey:"key"})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.knowledge"}),style:{marginTop:16},children:(0,L.jsxs)(Z.Z,{gutter:[16,16],children:[(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.knowledge.total"}),value:Nt.totalArticles,suffix:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.unit.article"})})}),(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.knowledge.hitRate"}),value:Nt.hitRate,suffix:"%"})}),(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.knowledge.update"}),value:Nt.updateFrequency})}),(0,L.jsx)(v.Z,{span:6,children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.knowledge.unmatched"}),value:Nt.unmatchedCount,suffix:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.unit.question"})})})]})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.cost"}),style:{marginTop:16},children:(0,L.jsxs)(Z.Z,{gutter:[16,16],children:[(0,L.jsx)(v.Z,{span:12,children:(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.cost.trend"}),children:(0,L.jsx)(A.Z,{data:[{date:"2024-01-01",type:"API",value:580},{date:"2024-01-02",type:"API",value:620},{date:"2024-01-01",type:"Token",value:380},{date:"2024-01-02",type:"Token",value:420}],xField:"date",yField:"value",seriesField:"type"})})}),(0,L.jsx)(v.Z,{span:12,children:(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.cost.distribution"}),children:(0,L.jsx)(Y.Z,{})})})]})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.peakHour.title"}),style:{marginTop:16},children:(0,L.jsx)(D.Z,{data:[{hour:"00",day:"Mon",value:30},{hour:"01",day:"Mon",value:25}],xField:"hour",yField:"day",colorField:"value",tooltip:{formatter:function(t){return{name:s.formatMessage({id:"ai.statistic.peakHour.sessions"}),value:t.value}}}})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.unsolved.title"}),style:{marginTop:16},children:(0,L.jsx)(k.Z,{dataSource:Vt,columns:[{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.question"}),dataIndex:"question",key:"question"},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.category"}),dataIndex:"category",key:"category"},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.count"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}}],pagination:{pageSize:5},rowKey:"key"})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.feedback.title"}),style:{marginTop:16},children:(0,L.jsxs)(Z.Z,{gutter:[16,16],children:[(0,L.jsx)(v.Z,{span:12,children:(0,L.jsx)(Y.Z,{})}),(0,L.jsx)(v.Z,{span:12,children:(0,L.jsx)(x.Z,{dataSource:Lt,renderItem:function(t,e){return(0,L.jsx)(x.Z.Item,{children:(0,L.jsx)(M.Z,{title:t.type,value:t.value,suffix:"%"})},"feedback-".concat(e))}})})]})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.abandon.title"}),style:{marginTop:16},children:(0,L.jsxs)(Z.Z,{gutter:[16,16],children:[(0,L.jsx)(v.Z,{span:8,children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.abandon.rate"}),value:$t.rate,suffix:"%",valueStyle:{color:$t.rate>20?"#cf1322":"#3f8600"}})}),(0,L.jsx)(v.Z,{span:16,children:(0,L.jsx)(U.Z,{data:$t.reasons,xField:"type",yField:"count",label:{position:"top"}})})]})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.similar.title"}),style:{marginTop:16},children:(0,L.jsx)(k.Z,{dataSource:[{key:"s1",group:"账户登录问题",questions:["无法登录","登录失败","登录报错"],count:156,similarity:.85}],columns:Xt,rowKey:"key"})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.repeat.title"}),style:{marginTop:16},children:(0,L.jsx)(k.Z,{dataSource:[{key:"r1",userId:"user123",question:"如何修改密码",frequency:"每日",lastTime:"2024-01-23 14:30",totalTimes:8}],columns:[{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.repeat.user"}),dataIndex:"userId",key:"userId"}],rowKey:"key"})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.coverage.title"}),style:{marginTop:16},children:(0,L.jsx)(Z.Z,{gutter:[16,16],children:[{domain:"产品功能",points:120,covered:98,missing:["高级配置","自定义功能"]}].map((function(t,e){return(0,L.jsx)(v.Z,{span:8,children:(0,L.jsxs)(f.Z,{children:[(0,L.jsx)(M.Z,{title:t.domain,value:Math.round(t.covered/t.points*100),suffix:"%"}),(0,L.jsx)(g.Z,{percent:Math.round(t.covered/t.points*100),status:t.covered/t.points<.8?"exception":"success"})]})},"coverage-".concat(e))}))})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.transfer.title"}),style:{marginTop:16},children:(0,L.jsxs)(Z.Z,{gutter:[16,16],children:[(0,L.jsx)(v.Z,{span:8,children:(0,L.jsx)(M.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.transfer.rate"}),value:_t.rate,suffix:"%",valueStyle:{color:_t.rate>20?"#cf1322":"#3f8600"}})}),(0,L.jsx)(v.Z,{span:16,children:(0,L.jsx)(U.Z,{data:_t.reasons,xField:"type",yField:"count",label:{position:"top"}})})]})}),(0,L.jsx)(f.Z,{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.intent.accuracy.title"}),style:{marginTop:16},children:(0,L.jsxs)(Z.Z,{gutter:[16,16],children:[(0,L.jsx)(v.Z,{span:6}),(0,L.jsx)(v.Z,{span:18,children:(0,L.jsx)(k.Z,{dataSource:Jt.byCategory,columns:[{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.intent.category"}),dataIndex:"category",key:"category"},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.intent.accuracy"}),dataIndex:"accuracy",key:"accuracy",render:function(t){return(0,L.jsx)(g.Z,{percent:t,size:"small"})}},{title:(0,L.jsx)(C.FormattedMessage,{id:"ai.statistic.intent.samples"}),dataIndex:"samples",key:"samples"}],pagination:!1,rowKey:"key"})})]})})]})}}}]);