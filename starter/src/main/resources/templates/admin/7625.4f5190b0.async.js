"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7625],{66916:function(e,t,n){n.d(t,{$l:function(){return m},JT:function(){return S},gf:function(){return x},lg:function(){return v},n1:function(){return y},p0:function(){return c},s9:function(){return f}});var i=n(90819),o=n.n(i),s=n(73193),r=n.n(s),u=n(89933),a=n.n(u),l=n(55735),d=n(30921);function c(e){return g.apply(this,arguments)}function g(){return(g=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/robot/query/org",{method:"GET",params:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return p.apply(this,arguments)}function p(){return(p=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/robot/create",{method:"POST",data:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/robot/create/prompt",{method:"POST",data:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/robot/update",{method:"POST",data:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return q.apply(this,arguments)}function q(){return(q=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/robot/update/avatar",{method:"POST",data:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return b.apply(this,arguments)}function b(){return(b=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/robot/update/prompt",{method:"POST",data:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return F.apply(this,arguments)}function F(){return(F=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/robot/delete",{method:"POST",data:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},99885:function(e,t,n){n.d(t,{Yg:function(){return m},kh:function(){return v},pf:function(){return c},y:function(){return f}});var i=n(90819),o=n.n(i),s=n(73193),r=n.n(s),u=n(89933),a=n.n(u),l=n(55735),d=n(30921);function c(e){return g.apply(this,arguments)}function g(){return(g=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/query/org",{method:"GET",params:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return p.apply(this,arguments)}function p(){return(p=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/create",{method:"POST",data:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/update",{method:"POST",data:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/delete",{method:"POST",data:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},69842:function(e,t,n){n.d(t,{H:function(){return c}});var i=n(90819),o=n.n(i),s=n(73193),r=n.n(s),u=n(89933),a=n.n(u),l=n(55735),d=n(30921);function c(e){return g.apply(this,arguments)}function g(){return(g=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/vip/invoice/query/org",{method:"GET",params:r()(r()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},43705:function(e,t,n){var i=n(73193),o=n.n(i),s=n(90819),r=n.n(s),u=n(89933),a=n.n(u),l=n(45332),d=n.n(l),c=n(86803),g=n(99885),v=n(66916),p=n(76750),f=n(66310),h=n(40612),m=n(56691),w=n(5651),y=n(69169),q=n(48708),S=n(84881),b=n(30921),x=n(32943),F=n(75365),k=n(38775),j=n(3849),M=n(44194),U=n(1902),C=n(95490),Z=n(55735),A=n(24170),T=n(72614),I=n(11184),R=n(31549);t.Z=function(e){var t,n=e.type,i=y.A.useForm(),s=d()(i,1)[0],u=(0,b.useIntl)(),l=(0,b.useNavigate)(),P=(0,p.Z)().translateString,W=(0,I.M)(),N=W.config,V=W.updateConfig,_=(0,h.u)((function(e){return e.currentOrg})),O=(0,M.useState)(),D=d()(O,2),E=D[0],H=D[1],B=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),G=B.currentRobot,L=B.setCurrentRobot,X=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),z=X.currentAgent,Y=X.setCurrentAgent,$=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Q=$.currentWorkgroup,K=$.setCurrentWorkgroup,J=(0,M.useMemo)((function(){return n===Z._X4?{chatType:Z.xtN,chatSid:G.uid}:n===Z.Njn?{chatType:Z.scI,chatSid:z.uid}:n===Z.aZD?{chatType:Z.vPY,chatSid:Q.uid}:{chatType:Z.xtN,chatSid:""}}),[n,G,z,Q]),ee=J.chatType,te=J.chatSid,ne=function(){var e=a()(r()().mark((function e(){var t,n;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:null==_?void 0:_.uid},e.next=4,(0,g.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),c.yw.destroy(),200===n.code?H(n):c.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,M.useEffect)((function(){ne()}),[]),(0,M.useEffect)((function(){var e,t,i;if(n===Z._X4)s.setFieldsValue({showFaqs:null==G||null===(e=G.serviceSettings)||void 0===e?void 0:e.showFaqs,faqUids:null==G||null===(t=G.serviceSettings)||void 0===t||null===(t=t.faqs)||void 0===t?void 0:t.map((function(e){return e.uid}))}),null!=G&&null!==(i=G.serviceSettings)&&void 0!==i&&i.showFaqs?V(o()(o()({},N),{},{window:o()(o()({},N.window),{},{width:680}),chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})})):V(o()(o()({},N),{},{window:o()(o()({},N.window),{},{width:380}),chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}));else if(n===Z.Njn){var r,u,a;s.setFieldsValue({showFaqs:null==z||null===(r=z.serviceSettings)||void 0===r?void 0:r.showFaqs,faqUids:null==z||null===(u=z.serviceSettings)||void 0===u||null===(u=u.faqs)||void 0===u?void 0:u.map((function(e){return e.uid}))}),null!=z&&null!==(a=z.serviceSettings)&&void 0!==a&&a.showFaqs?V(o()(o()({},N),{},{window:o()(o()({},N.window),{},{width:680}),chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})})):V(o()(o()({},N),{},{window:o()(o()({},N.window),{},{width:380}),chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}))}else if(n===Z.aZD){var l,d,c;s.setFieldsValue({showFaqs:null==Q||null===(l=Q.serviceSettings)||void 0===l?void 0:l.showFaqs,faqUids:null==Q||null===(d=Q.serviceSettings)||void 0===d||null===(d=d.faqs)||void 0===d?void 0:d.map((function(e){return e.uid}))}),null!=Q&&null!==(c=Q.serviceSettings)&&void 0!==c&&c.showFaqs?V(o()(o()({},N),{},{window:o()(o()({},N.window),{},{width:680}),chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})})):V(o()(o()({},N),{},{window:o()(o()({},N.window),{},{width:380}),chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}))}}),[G,z,Q,ee,te]);var ie=function(){var e=a()(r()().mark((function e(t){var i,s,a,l,d,g,p,f,h,m,w,y,q,S,b,x,F,k,j,M,U,C,I,R,P;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==Z._X4){e.next=11;break}return g=o()(o()({},G),{},{serviceSettings:o()(o()({},G.serviceSettings),{},{showFaqs:t.showFaqs,faqUids:t.faqUids,welcomeFaqUids:null==G||null===(i=G.serviceSettings)||void 0===i||null===(i=i.welcomeFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),quickFaqUids:null==G||null===(s=G.serviceSettings)||void 0===s||null===(s=s.quickFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})),guessFaqUids:null==G||null===(a=G.serviceSettings)||void 0===a||null===(a=a.guessFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),hotFaqUids:null==G||null===(l=G.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==G||null===(d=G.serviceSettings)||void 0===d||null===(d=d.shortcutFaqs)||void 0===d?void 0:d.map((function(e){return e.uid}))})}),console.log("robotObject:",g),e.next=6,(0,v.$l)(g);case 6:p=e.sent,console.log("updateRobot response:",p),200===p.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),L(p.data)):(c.yw.destroy(),c.yw.error(p.message)),e.next=29;break;case 11:if(n!==Z.Njn){e.next=21;break}return b=o()(o()({},z),{},{serviceSettings:o()(o()({},null==z?void 0:z.serviceSettings),{},{showFaqs:t.showFaqs,faqUids:t.faqUids,welcomeFaqUids:null==z||null===(f=z.serviceSettings)||void 0===f||null===(f=f.welcomeFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),quickFaqUids:null==z||null===(h=z.serviceSettings)||void 0===h||null===(h=h.quickFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),guessFaqUids:null==z||null===(m=z.serviceSettings)||void 0===m||null===(m=m.guessFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),hotFaqUids:null==z||null===(w=z.serviceSettings)||void 0===w||null===(w=w.hotFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),shortcutFaqUids:null==z||null===(y=z.serviceSettings)||void 0===y||null===(y=y.shortcutFaqs)||void 0===y?void 0:y.map((function(e){return e.uid}))}),leaveMsgSettings:o()(o()({},z.leaveMsgSettings),{},{worktimeUids:null==z||null===(q=z.leaveMsgSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),robotSettings:o()(o()({},z.robotSettings),{},{robotUid:null==z||null===(S=z.robotSettings)||void 0===S||null===(S=S.robot)||void 0===S?void 0:S.uid}),autoReplySettings:o()({},z.autoReplySettings)}),console.log("agentObject:",b),e.next=16,(0,A.sE)(b);case 16:x=e.sent,console.log("updateAgent response:",x),200===x.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),Y(x.data)):(c.yw.destroy(),c.yw.error(x.message)),e.next=29;break;case 21:if(n!==Z.aZD){e.next=29;break}return R=o()(o()({},Q),{},{serviceSettings:o()(o()({},Q.serviceSettings),{},{showFaqs:t.showFaqs,faqUids:t.faqUids,welcomeFaqUids:null==Q||null===(F=Q.serviceSettings)||void 0===F||null===(F=F.welcomeFaqs)||void 0===F?void 0:F.map((function(e){return e.uid})),quickFaqUids:null==Q||null===(k=Q.serviceSettings)||void 0===k||null===(k=k.quickFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),guessFaqUids:null==Q||null===(j=Q.serviceSettings)||void 0===j||null===(j=j.guessFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),hotFaqUids:null==Q||null===(M=Q.serviceSettings)||void 0===M||null===(M=M.hotFaqs)||void 0===M?void 0:M.map((function(e){return e.uid})),shortcutFaqUids:null==Q||null===(U=Q.serviceSettings)||void 0===U||null===(U=U.shortcutFaqs)||void 0===U?void 0:U.map((function(e){return e.uid}))}),robotSettings:o()(o()({},Q.robotSettings),{},{robotUid:null==Q||null===(C=Q.robotSettings)||void 0===C||null===(C=C.robot)||void 0===C?void 0:C.uid}),leaveMsgSettings:o()(o()({},Q.leaveMsgSettings),{},{worktimeUids:null==Q||null===(I=Q.leaveMsgSettings)||void 0===I||null===(I=I.worktimes)||void 0===I?void 0:I.map((function(e){return e.uid}))}),agentUids:Q.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",R),e.next=26,(0,T.W5)(R);case 26:P=e.sent,console.log("updateWorkGroup response:",P),200===P.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),K(P.data)):(c.yw.destroy(),c.yw.error(P.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=a()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqs handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{children:[(0,R.jsx)(x.Z,{message:u.formatMessage({id:"faq.create.first"}),type:"success",action:(0,R.jsx)(F.ZP,{type:"link",icon:(0,R.jsx)(m.Z,{}),onClick:function(){return window.open(Z.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,R.jsx)(k.Z,{}),(0,R.jsxs)(y.A,{form:s,layout:"vertical",onFinish:ie,children:[(0,R.jsx)(q.Z,{label:u.formatMessage({id:"faq.show.faqs"}),name:"showFaqs",fieldProps:{onChange:oe}}),(0,R.jsx)(y.A.Item,{children:(0,R.jsx)(F.ZP,{type:"primary",icon:(0,R.jsx)(w.Z,{}),onClick:function(){l("/kb/llm/data")},children:u.formatMessage({id:"faq.add.faqs"})},"github")}),(0,R.jsx)(S.Z,{name:"faqUids",width:"md",label:u.formatMessage({id:"menu.kbase.faq"}),options:null==E||null===(t=E.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return{label:P(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,R.jsx)(b.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]}),(0,R.jsxs)(j.Z,{direction:"horizontal",style:{width:"100%",marginTop:10,marginBottom:10},children:[(0,R.jsx)(F.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.showChat()},children:u.formatMessage({id:"chat.window.show"})}),(0,R.jsx)(F.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.hideChat()},children:u.formatMessage({id:"chat.window.hide"})})]})]})}},61765:function(e,t,n){var i=n(73193),o=n.n(i),s=n(90819),r=n.n(s),u=n(89933),a=n.n(u),l=n(45332),d=n.n(l),c=n(86803),g=n(99885),v=n(66916),p=n(76750),f=n(66310),h=n(40612),m=n(56691),w=n(5651),y=n(69169),q=n(48708),S=n(84881),b=n(30921),x=n(32943),F=n(75365),k=n(38775),j=n(3849),M=n(44194),U=n(1902),C=n(95490),Z=n(55735),A=n(24170),T=n(72614),I=n(11184),R=n(31549);t.Z=function(e){var t,n=e.type,i=y.A.useForm(),s=d()(i,1)[0],u=(0,b.useIntl)(),l=(0,b.useNavigate)(),P=(0,p.Z)().translateString,W=(0,I.M)(),N=W.config,V=W.updateConfig,_=(0,h.u)((function(e){return e.currentOrg})),O=(0,M.useState)(),D=d()(O,2),E=D[0],H=D[1],B=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),G=B.currentRobot,L=B.setCurrentRobot,X=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),z=X.currentAgent,Y=X.setCurrentAgent,$=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Q=$.currentWorkgroup,K=$.setCurrentWorkgroup,J=(0,M.useMemo)((function(){return n===Z._X4?{chatType:Z.xtN,chatSid:G.uid}:n===Z.Njn?{chatType:Z.scI,chatSid:z.uid}:n===Z.aZD?{chatType:Z.vPY,chatSid:Q.uid}:{chatType:Z.xtN,chatSid:""}}),[n,G,z,Q]),ee=J.chatType,te=J.chatSid,ne=function(){var e=a()(r()().mark((function e(){var t,n;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:null==_?void 0:_.uid},e.next=4,(0,g.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),c.yw.destroy(),200===n.code?H(n):c.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,M.useEffect)((function(){ne()}),[_]),(0,M.useEffect)((function(){var e,t;if(n===Z._X4)s.setFieldsValue({showGuessFaqs:null==G||null===(e=G.serviceSettings)||void 0===e?void 0:e.showGuessFaqs,guessFaqUids:null==G||null===(t=G.serviceSettings)||void 0===t||null===(t=t.guessFaqs)||void 0===t?void 0:t.map((function(e){return e.uid}))}),V(o()(o()({},N),{},{chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}));else if(n===Z.Njn){var i,r;s.setFieldsValue({showGuessFaqs:null==z||null===(i=z.serviceSettings)||void 0===i?void 0:i.showGuessFaqs,guessFaqUids:null==z||null===(r=z.serviceSettings)||void 0===r||null===(r=r.guessFaqs)||void 0===r?void 0:r.map((function(e){return e.uid}))}),V(o()(o()({},N),{},{chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}))}else if(n===Z.aZD){var u,a;s.setFieldsValue({showGuessFaqs:null==Q||null===(u=Q.serviceSettings)||void 0===u?void 0:u.showGuessFaqs,guessFaqUids:null==Q||null===(a=Q.serviceSettings)||void 0===a||null===(a=a.guessFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))}),V(o()(o()({},N),{},{chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}))}}),[G,z,Q,ee,te]);var ie=function(){var e=a()(r()().mark((function e(t){var i,s,a,l,d,g,p,f,h,m,w,y,q,S,b,x,F,k,j,M,U,C,I,R,P,W;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==Z._X4){e.next=11;break}return g=o()(o()({},G),{},{serviceSettings:o()(o()({},G.serviceSettings),{},{showGuessFaqs:t.showGuessFaqs,guessFaqUids:t.guessFaqUids,welcomeFaqUids:null==G||null===(i=G.serviceSettings)||void 0===i||null===(i=i.welcomeFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),quickFaqUids:null==G||null===(s=G.serviceSettings)||void 0===s||null===(s=s.quickFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})),faqUids:null==G||null===(a=G.serviceSettings)||void 0===a||null===(a=a.faqs)||void 0===a?void 0:a.map((function(e){return e.uid})),hotFaqUids:null==G||null===(l=G.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==G||null===(d=G.serviceSettings)||void 0===d||null===(d=d.shortcutFaqs)||void 0===d?void 0:d.map((function(e){return e.uid}))})}),console.log("robotObject:",g),e.next=6,(0,v.$l)(g);case 6:p=e.sent,console.log("updateRobot response:",p),200===p.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),L(p.data)):(c.yw.destroy(),c.yw.error(p.message)),e.next=29;break;case 11:if(n!==Z.Njn){e.next=21;break}return b=o()(o()({},z),{},{serviceSettings:o()(o()({},null==z?void 0:z.serviceSettings),{},{showGuessFaqs:t.showGuessFaqs,guessFaqUids:t.guessFaqUids,welcomeFaqUids:null==z||null===(f=z.serviceSettings)||void 0===f||null===(f=f.welcomeFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),quickFaqUids:null==z||null===(h=z.serviceSettings)||void 0===h||null===(h=h.quickFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),faqUids:null==z||null===(m=z.serviceSettings)||void 0===m||null===(m=m.faqs)||void 0===m?void 0:m.map((function(e){return e.uid})),hotFaqUids:null==z||null===(w=z.serviceSettings)||void 0===w||null===(w=w.hotFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),shortcutFaqUids:null==z||null===(y=z.serviceSettings)||void 0===y||null===(y=y.shortcutFaqs)||void 0===y?void 0:y.map((function(e){return e.uid}))}),robotSettings:o()(o()({},z.robotSettings),{},{robotUid:null==z||null===(q=z.robotSettings)||void 0===q||null===(q=q.robot)||void 0===q?void 0:q.uid}),leaveMsgSettings:o()(o()({},z.leaveMsgSettings),{},{worktimeUids:null==z||null===(S=z.leaveMsgSettings)||void 0===S||null===(S=S.worktimes)||void 0===S?void 0:S.map((function(e){return e.uid}))}),autoReplySettings:o()({},z.autoReplySettings)}),console.log("agentObject:",b),e.next=16,(0,A.sE)(b);case 16:x=e.sent,console.log("updateAgent response:",x),200===x.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),Y(x.data)):(c.yw.destroy(),c.yw.error(x.message)),e.next=29;break;case 21:if(n!==Z.aZD){e.next=29;break}return P=o()(o()({},Q),{},{serviceSettings:o()(o()({},Q.serviceSettings),{},{showGuessFaqs:t.showGuessFaqs,guessFaqUids:t.guessFaqUids,welcomeFaqUids:null==Q||null===(F=Q.serviceSettings)||void 0===F||null===(F=F.welcomeFaqs)||void 0===F?void 0:F.map((function(e){return e.uid})),quickFaqUids:null==Q||null===(k=Q.serviceSettings)||void 0===k||null===(k=k.quickFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),faqUids:null==Q||null===(j=Q.serviceSettings)||void 0===j||null===(j=j.faqs)||void 0===j?void 0:j.map((function(e){return e.uid})),hotFaqUids:null==Q||null===(M=Q.serviceSettings)||void 0===M||null===(M=M.hotFaqs)||void 0===M?void 0:M.map((function(e){return e.uid})),shortcutFaqUids:null==Q||null===(U=Q.serviceSettings)||void 0===U||null===(U=U.shortcutFaqs)||void 0===U?void 0:U.map((function(e){return e.uid}))}),robotSettings:o()(o()({},Q.robotSettings),{},{robotUid:null==Q||null===(C=Q.robotSettings)||void 0===C||null===(C=C.robot)||void 0===C?void 0:C.uid}),leaveMsgSettings:o()(o()({},Q.leaveMsgSettings),{},{worktimeUids:null==Q||null===(I=Q.leaveMsgSettings)||void 0===I||null===(I=I.worktimes)||void 0===I?void 0:I.map((function(e){return e.uid}))}),agentUids:null===(R=Q.agents)||void 0===R?void 0:R.map((function(e){return e.uid}))}),console.log("workgroupObject:",P),e.next=26,(0,T.W5)(P);case 26:W=e.sent,console.log("updateWorkGroup response:",W),200===W.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),K(W.data)):(c.yw.destroy(),c.yw.error(W.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=a()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqGuess handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{children:[(0,R.jsx)(x.Z,{message:u.formatMessage({id:"faq.create.first"}),type:"success",action:(0,R.jsx)(F.ZP,{type:"link",icon:(0,R.jsx)(m.Z,{}),onClick:function(){return window.open(Z.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,R.jsx)(k.Z,{}),(0,R.jsxs)(y.A,{form:s,layout:"vertical",onFinish:ie,children:[(0,R.jsx)(q.Z,{label:u.formatMessage({id:"faq.show.guess"}),name:"showGuessFaqs",fieldProps:{onChange:oe}}),(0,R.jsx)(y.A.Item,{children:(0,R.jsx)(F.ZP,{type:"primary",icon:(0,R.jsx)(w.Z,{}),onClick:function(){l("/kb/llm/data")},children:u.formatMessage({id:"faq.add.guess"})},"github")}),(0,R.jsx)(S.Z,{name:"guessFaqUids",width:"md",label:u.formatMessage({id:"menu.kbase.faqGuess"}),options:null==E||null===(t=E.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return{label:P(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,R.jsx)(b.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]}),(0,R.jsxs)(j.Z,{direction:"horizontal",style:{width:"100%",marginTop:10,marginBottom:10},children:[(0,R.jsx)(F.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.showChat()},children:u.formatMessage({id:"chat.window.show"})}),(0,R.jsx)(F.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.hideChat()},children:u.formatMessage({id:"chat.window.hide"})})]})]})}},1461:function(e,t,n){var i=n(73193),o=n.n(i),s=n(90819),r=n.n(s),u=n(89933),a=n.n(u),l=n(45332),d=n.n(l),c=n(86803),g=n(99885),v=n(66916),p=n(76750),f=n(66310),h=n(40612),m=n(56691),w=n(5651),y=n(69169),q=n(48708),S=n(84881),b=n(30921),x=n(32943),F=n(75365),k=n(38775),j=n(3849),M=n(44194),U=n(1902),C=n(95490),Z=n(55735),A=n(24170),T=n(72614),I=n(11184),R=n(31549);t.Z=function(e){var t,n=e.type,i=y.A.useForm(),s=d()(i,1)[0],u=(0,b.useIntl)(),l=(0,b.useNavigate)(),P=(0,p.Z)().translateString,W=(0,I.M)(),N=W.config,V=W.updateConfig,_=(0,h.u)((function(e){return e.currentOrg})),O=(0,M.useState)(),D=d()(O,2),E=D[0],H=D[1],B=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),G=B.currentRobot,L=B.setCurrentRobot,X=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),z=X.currentAgent,Y=X.setCurrentAgent,$=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Q=$.currentWorkgroup,K=$.setCurrentWorkgroup,J=(0,M.useMemo)((function(){return n===Z._X4?{chatType:Z.xtN,chatSid:G.uid}:n===Z.Njn?{chatType:Z.scI,chatSid:z.uid}:n===Z.aZD?{chatType:Z.vPY,chatSid:Q.uid}:{chatType:Z.xtN,chatSid:""}}),[n,G,z,Q]),ee=J.chatType,te=J.chatSid,ne=function(){var e=a()(r()().mark((function e(){var t,n;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:null==_?void 0:_.uid},e.next=4,(0,g.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),c.yw.destroy(),200===n.code?H(n):c.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,M.useEffect)((function(){ne()}),[_]),(0,M.useEffect)((function(){var e;if(n===Z._X4)s.setFieldsValue({showHotFaqs:null==G?void 0:G.serviceSettings.showHotFaqs,hotFaqUids:(null==G||null===(e=G.serviceSettings)||void 0===e||null===(e=e.hotFaqs)||void 0===e?void 0:e.map((function(e){return e.uid})))||[]}),V(o()(o()({},N),{},{chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}));else if(n===Z.Njn){var t;s.setFieldsValue({showHotFaqs:null==z?void 0:z.serviceSettings.showHotFaqs,hotFaqUids:(null==z||null===(t=z.serviceSettings)||void 0===t||null===(t=t.hotFaqs)||void 0===t?void 0:t.map((function(e){return e.uid})))||[]}),V(o()(o()({},N),{},{chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}))}else if(n===Z.aZD){var i;s.setFieldsValue({showHotFaqs:null==Q?void 0:Q.serviceSettings.showHotFaqs,hotFaqUids:(null==Q||null===(i=Q.serviceSettings)||void 0===i||null===(i=i.hotFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})))||[]}),V(o()(o()({},N),{},{chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}))}}),[G,z,Q,ee,te]);var ie=function(){var e=a()(r()().mark((function e(t){var i,s,a,l,d,g,p,f,h,m,w,y,q,S,b,x,F,k,j,M,U,C,I,R,P;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==Z._X4){e.next=11;break}return g=o()(o()({},G),{},{serviceSettings:o()(o()({},G.serviceSettings),{},{showHotFaqs:t.showHotFaqs,hotFaqUids:t.hotFaqUids,welcomeFaqUids:null==G||null===(i=G.serviceSettings)||void 0===i||null===(i=i.welcomeFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),quickFaqUids:null==G||null===(s=G.serviceSettings)||void 0===s||null===(s=s.quickFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})),faqUids:null==G||null===(a=G.serviceSettings)||void 0===a||null===(a=a.faqs)||void 0===a?void 0:a.map((function(e){return e.uid})),guessFaqUids:null==G||null===(l=G.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==G||null===(d=G.serviceSettings)||void 0===d||null===(d=d.shortcutFaqs)||void 0===d?void 0:d.map((function(e){return e.uid}))})}),console.log("robotObject:",g),e.next=6,(0,v.$l)(g);case 6:p=e.sent,console.log("updateRobot response:",p),200===p.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),L(p.data)):(c.yw.destroy(),c.yw.error(p.message)),e.next=29;break;case 11:if(n!==Z.Njn){e.next=21;break}return b=o()(o()({},z),{},{serviceSettings:o()(o()({},null==z?void 0:z.serviceSettings),{},{showHotFaqs:t.showHotFaqs,hotFaqUids:t.hotFaqUids,welcomeFaqUids:null==z||null===(f=z.serviceSettings)||void 0===f||null===(f=f.welcomeFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),quickFaqUids:null==z||null===(h=z.serviceSettings)||void 0===h||null===(h=h.quickFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),guessFaqUids:null==z||null===(m=z.serviceSettings)||void 0===m||null===(m=m.guessFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),faqUids:null==z||null===(w=z.serviceSettings)||void 0===w||null===(w=w.faqs)||void 0===w?void 0:w.map((function(e){return e.uid})),shortcutFaqUids:null==z||null===(y=z.serviceSettings)||void 0===y||null===(y=y.shortcutFaqs)||void 0===y?void 0:y.map((function(e){return e.uid}))}),robotSettings:o()(o()({},z.robotSettings),{},{robotUid:null==z||null===(q=z.robotSettings)||void 0===q||null===(q=q.robot)||void 0===q?void 0:q.uid}),leaveMsgSettings:o()(o()({},z.leaveMsgSettings),{},{worktimeUids:null==z||null===(S=z.leaveMsgSettings)||void 0===S||null===(S=S.worktimes)||void 0===S?void 0:S.map((function(e){return e.uid}))}),autoReplySettings:o()({},z.autoReplySettings)}),console.log("agentObject:",b),e.next=16,(0,A.sE)(b);case 16:x=e.sent,console.log("updateAgent response:",x),200===x.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),Y(x.data)):(c.yw.destroy(),c.yw.error(x.message)),e.next=29;break;case 21:if(n!==Z.aZD){e.next=29;break}return R=o()(o()({},Q),{},{serviceSettings:o()(o()({},Q.serviceSettings),{},{showHotFaqs:t.showHotFaqs,hotFaqUids:t.hotFaqUids,welcomeFaqUids:null==Q||null===(F=Q.serviceSettings)||void 0===F||null===(F=F.welcomeFaqs)||void 0===F?void 0:F.map((function(e){return e.uid})),quickFaqUids:null==Q||null===(k=Q.serviceSettings)||void 0===k||null===(k=k.quickFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),faqUids:null==Q||null===(j=Q.serviceSettings)||void 0===j||null===(j=j.faqs)||void 0===j?void 0:j.map((function(e){return e.uid})),guessFaqUids:null==Q||null===(M=Q.serviceSettings)||void 0===M||null===(M=M.guessFaqs)||void 0===M?void 0:M.map((function(e){return e.uid})),shortcutFaqUids:null==Q||null===(U=Q.serviceSettings)||void 0===U||null===(U=U.shortcutFaqs)||void 0===U?void 0:U.map((function(e){return e.uid}))}),robotSettings:o()(o()({},Q.robotSettings),{},{robotUid:null==Q||null===(C=Q.robotSettings)||void 0===C||null===(C=C.robot)||void 0===C?void 0:C.uid}),leaveMsgSettings:o()(o()({},Q.leaveMsgSettings),{},{worktimeUids:null==Q||null===(I=Q.leaveMsgSettings)||void 0===I||null===(I=I.worktimes)||void 0===I?void 0:I.map((function(e){return e.uid}))}),agentUids:Q.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",R),e.next=26,(0,T.W5)(R);case 26:P=e.sent,console.log("updateWorkGroup response:",P),200===P.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),K(P.data)):(c.yw.destroy(),c.yw.error(P.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=a()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqHots handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{children:[(0,R.jsx)(x.Z,{message:u.formatMessage({id:"faq.create.first"}),type:"success",action:(0,R.jsx)(F.ZP,{type:"link",icon:(0,R.jsx)(m.Z,{}),onClick:function(){return window.open(Z.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,R.jsx)(k.Z,{}),(0,R.jsxs)(y.A,{form:s,layout:"vertical",onFinish:ie,children:[(0,R.jsx)(q.Z,{label:u.formatMessage({id:"faq.show.hot"}),name:"showHotFaqs",fieldProps:{onChange:oe}}),(0,R.jsx)(y.A.Item,{children:(0,R.jsx)(F.ZP,{type:"primary",icon:(0,R.jsx)(w.Z,{}),onClick:function(){l("/kb/llm/data")},children:u.formatMessage({id:"faq.add.hot"})},"github")}),(0,R.jsx)(S.Z,{name:"hotFaqUids",width:"md",label:u.formatMessage({id:"menu.kbase.faqHot"}),options:null==E||null===(t=E.data)||void 0===t?void 0:t.content.map((function(e){return{label:P(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,R.jsx)(b.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]}),(0,R.jsxs)(j.Z,{direction:"horizontal",style:{width:"100%",marginTop:10,marginBottom:10},children:[(0,R.jsx)(F.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.showChat()},children:u.formatMessage({id:"chat.window.show"})}),(0,R.jsx)(F.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.hideChat()},children:u.formatMessage({id:"chat.window.hide"})})]})]})}},71469:function(e,t,n){var i=n(73193),o=n.n(i),s=n(90819),r=n.n(s),u=n(89933),a=n.n(u),l=n(45332),d=n.n(l),c=n(86803),g=n(99885),v=n(66916),p=n(76750),f=n(66310),h=n(40612),m=n(56691),w=n(5651),y=n(69169),q=n(48708),S=n(84881),b=n(30921),x=n(32943),F=n(75365),k=n(38775),j=n(3849),M=n(44194),U=n(1902),C=n(95490),Z=n(55735),A=n(24170),T=n(72614),I=n(11184),R=n(31549);t.Z=function(e){var t,n=e.type,i=y.A.useForm(),s=d()(i,1)[0],u=(0,b.useIntl)(),l=(0,b.useNavigate)(),P=(0,p.Z)().translateString,W=(0,I.M)(),N=W.config,V=W.updateConfig,_=(0,h.u)((function(e){return e.currentOrg})),O=(0,M.useState)(),D=d()(O,2),E=D[0],H=D[1],B=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),G=B.currentRobot,L=B.setCurrentRobot,X=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),z=X.currentAgent,Y=X.setCurrentAgent,$=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Q=$.currentWorkgroup,K=$.setCurrentWorkgroup,J=(0,M.useMemo)((function(){return n===Z._X4?{chatType:Z.xtN,chatSid:G.uid}:n===Z.Njn?{chatType:Z.scI,chatSid:z.uid}:n===Z.aZD?{chatType:Z.vPY,chatSid:Q.uid}:{chatType:Z.xtN,chatSid:""}}),[n,G,z,Q]),ee=J.chatType,te=J.chatSid,ne=function(){var e=a()(r()().mark((function e(){var t,n;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:null==_?void 0:_.uid},e.next=4,(0,g.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),c.yw.destroy(),200===n.code?H(n):c.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,M.useEffect)((function(){ne()}),[_]),(0,M.useEffect)((function(){var e,t;if(n===Z._X4)s.setFieldsValue({showQuickFaqs:null==G||null===(e=G.serviceSettings)||void 0===e?void 0:e.showQuickFaqs,quickFaqUids:null==G||null===(t=G.serviceSettings)||void 0===t||null===(t=t.quickFaqs)||void 0===t?void 0:t.map((function(e){return e.uid}))}),V(o()(o()({},N),{},{chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}));else if(n===Z.Njn){var i,r;s.setFieldsValue({showQuickFaqs:null==z||null===(i=z.serviceSettings)||void 0===i?void 0:i.showQuickFaqs,quickFaqUids:null==z||null===(r=z.serviceSettings)||void 0===r||null===(r=r.quickFaqs)||void 0===r?void 0:r.map((function(e){return e.uid}))}),V(o()(o()({},N),{},{chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}))}else if(n===Z.aZD){var u,a;s.setFieldsValue({showQuickFaqs:null==Q||null===(u=Q.serviceSettings)||void 0===u?void 0:u.showQuickFaqs,quickFaqUids:null==Q||null===(a=Q.serviceSettings)||void 0===a||null===(a=a.quickFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))}),V(o()(o()({},N),{},{chatConfig:o()(o()({},N.chatConfig),{},{org:null==_?void 0:_.uid,t:ee,sid:te})}))}}),[G,z,Q,ee,te]);var ie=function(){var e=a()(r()().mark((function e(t){var i,s,a,l,d,g,p,f,h,m,w,y,q,S,b,x,F,k,j,M,U,C,I,R,P;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==Z._X4){e.next=11;break}return g=o()(o()({},G),{},{serviceSettings:o()(o()({},G.serviceSettings),{},{showQuickFaqs:t.showQuickFaqs,quickFaqUids:t.quickFaqUids,welcomeFaqUids:null==G||null===(i=G.serviceSettings)||void 0===i||null===(i=i.welcomeFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),faqUids:null==G||null===(s=G.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),guessFaqUids:null==G||null===(a=G.serviceSettings)||void 0===a||null===(a=a.guessFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),hotFaqUids:null==G||null===(l=G.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==G||null===(d=G.serviceSettings)||void 0===d||null===(d=d.shortcutFaqs)||void 0===d?void 0:d.map((function(e){return e.uid}))})}),console.log("robotObject:",g),e.next=6,(0,v.$l)(g);case 6:p=e.sent,console.log("updateRobot response:",p),200===p.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),L(p.data)):(c.yw.destroy(),c.yw.error(p.message)),e.next=29;break;case 11:if(n!==Z.Njn){e.next=21;break}return b=o()(o()({},z),{},{serviceSettings:o()(o()({},null==z?void 0:z.serviceSettings),{},{showQuickFaqs:t.showQuickFaqs,quickFaqUids:t.quickFaqUids,welcomeFaqUids:null==z||null===(f=z.serviceSettings)||void 0===f||null===(f=f.welcomeFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),faqUids:null==z||null===(h=z.serviceSettings)||void 0===h||null===(h=h.faqs)||void 0===h?void 0:h.map((function(e){return e.uid})),guessFaqUids:null==z||null===(m=z.serviceSettings)||void 0===m||null===(m=m.guessFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),hotFaqUids:null==z||null===(w=z.serviceSettings)||void 0===w||null===(w=w.hotFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),shortcutFaqUids:null==z||null===(y=z.serviceSettings)||void 0===y||null===(y=y.shortcutFaqs)||void 0===y?void 0:y.map((function(e){return e.uid}))}),robotSettings:o()(o()({},z.robotSettings),{},{robotUid:null==z||null===(q=z.robotSettings)||void 0===q||null===(q=q.robot)||void 0===q?void 0:q.uid}),leaveMsgSettings:o()(o()({},z.leaveMsgSettings),{},{worktimeUids:null==z||null===(S=z.leaveMsgSettings)||void 0===S||null===(S=S.worktimes)||void 0===S?void 0:S.map((function(e){return e.uid}))}),autoReplySettings:o()({},z.autoReplySettings)}),console.log("agentObject:",b),e.next=16,(0,A.sE)(b);case 16:x=e.sent,console.log("updateAgent response:",x),200===x.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),Y(x.data)):(c.yw.destroy(),c.yw.error(x.message)),e.next=29;break;case 21:if(n!==Z.aZD){e.next=29;break}return R=o()(o()({},Q),{},{serviceSettings:o()(o()({},Q.serviceSettings),{},{showQuickFaqs:t.showQuickFaqs,quickFaqUids:t.quickFaqUids,welcomeFaqUids:null==Q||null===(F=Q.serviceSettings)||void 0===F||null===(F=F.welcomeFaqs)||void 0===F?void 0:F.map((function(e){return e.uid})),faqUids:null===(k=Q.serviceSettings)||void 0===k||null===(k=k.faqs)||void 0===k?void 0:k.map((function(e){return e.uid})),guessFaqUids:null==Q||null===(j=Q.serviceSettings)||void 0===j||null===(j=j.guessFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),hotFaqUids:null==Q||null===(M=Q.serviceSettings)||void 0===M||null===(M=M.hotFaqs)||void 0===M?void 0:M.map((function(e){return e.uid})),shortcutFaqUids:null==Q||null===(U=Q.serviceSettings)||void 0===U||null===(U=U.shortcutFaqs)||void 0===U?void 0:U.map((function(e){return e.uid}))}),robotSettings:o()(o()({},Q.robotSettings),{},{robotUid:null==Q||null===(C=Q.robotSettings)||void 0===C||null===(C=C.robot)||void 0===C?void 0:C.uid}),leaveMsgSettings:o()(o()({},Q.leaveMsgSettings),{},{worktimeUids:null==Q||null===(I=Q.leaveMsgSettings)||void 0===I||null===(I=I.worktimes)||void 0===I?void 0:I.map((function(e){return e.uid}))}),agentUids:Q.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",R),e.next=26,(0,T.W5)(R);case 26:P=e.sent,console.log("updateWorkGroup response:",P),200===P.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),K(P.data)):(c.yw.destroy(),c.yw.error(P.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=a()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqs handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{children:[(0,R.jsx)(x.Z,{message:u.formatMessage({id:"faq.create.first"}),type:"success",action:(0,R.jsx)(F.ZP,{type:"link",icon:(0,R.jsx)(m.Z,{}),onClick:function(){return window.open(Z.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,R.jsx)(k.Z,{}),(0,R.jsxs)(y.A,{form:s,layout:"vertical",onFinish:ie,children:[(0,R.jsx)(q.Z,{label:u.formatMessage({id:"faq.show.quick.buttons"}),name:"showQuickFaqs",fieldProps:{onChange:oe}}),(0,R.jsx)(y.A.Item,{children:(0,R.jsx)(F.ZP,{type:"primary",icon:(0,R.jsx)(w.Z,{}),onClick:function(){l("/kb/llm/data")},children:u.formatMessage({id:"faq.add.quick.buttons"})},"github")}),(0,R.jsx)(S.Z,{name:"quickFaqUids",width:"md",label:u.formatMessage({id:"menu.kbase.quickbutton"}),options:null==E||null===(t=E.data)||void 0===t?void 0:t.content.map((function(e){return{label:P(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,R.jsx)(b.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]}),(0,R.jsxs)(j.Z,{direction:"horizontal",style:{width:"100%",marginTop:10,marginBottom:10},children:[(0,R.jsx)(F.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.showChat()},children:u.formatMessage({id:"show.chat.window"})}),(0,R.jsx)(F.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.hideChat()},children:u.formatMessage({id:"hide.chat.window"})})]})]})}},50796:function(e,t,n){var i=n(90819),o=n.n(i),s=n(73193),r=n.n(s),u=n(89933),a=n.n(u),l=n(45332),d=n.n(l),c=n(86803),g=n(24170),v=n(66916),p=n(72614),f=n(1902),h=n(66310),m=n(95490),w=n(55735),y=n(69169),q=n(48708),S=n(30921),b=n(44194),x=n(31549);t.Z=function(e){var t=e.type,n=(0,S.useIntl)(),i=y.A.useForm(),s=d()(i,1)[0],u=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),l=u.currentRobot,F=u.setCurrentRobot,k=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),j=k.currentAgent,M=k.setCurrentAgent,U=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),C=U.currentWorkgroup,Z=U.setCurrentWorkgroup;(0,b.useEffect)((function(){var e;if(t===w._X4)s.setFieldsValue({showInputAssociation:null==l||null===(e=l.serviceSettings)||void 0===e?void 0:e.showInputAssociation});else if(t===w.Njn){var n;s.setFieldsValue({showInputAssociation:null==j||null===(n=j.serviceSettings)||void 0===n?void 0:n.showInputAssociation})}else if(t===w.aZD){var i;s.setFieldsValue({showInputAssociation:null==C||null===(i=C.serviceSettings)||void 0===i?void 0:i.showInputAssociation})}}),[l,j,C]);var A=function(){var e=a()(o()().mark((function e(i){var s,u,a,d,f,h,m,y,q,S,b,x,k,U,A,T,I,R,P,W,N,V,_,O,D;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleInputAssociationSubmit:",i),t!==w._X4){e.next=11;break}return h=r()(r()({},l),{},{serviceSettings:r()(r()({},l.serviceSettings),{},{showInputAssociation:i.showInputAssociation,faqUids:null==j||null===(s=j.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),quickFaqUids:null==l||null===(u=l.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==l||null===(a=l.serviceSettings)||void 0===a||null===(a=a.guessFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),hotFaqUids:null==l||null===(d=l.serviceSettings)||void 0===d||null===(d=d.hotFaqs)||void 0===d?void 0:d.map((function(e){return e.uid})),shortcutFaqUids:null==l||null===(f=l.serviceSettings)||void 0===f||null===(f=f.shortcutFaqs)||void 0===f?void 0:f.map((function(e){return e.uid}))})}),console.log("robotObject:",h),e.next=6,(0,v.$l)(h);case 6:m=e.sent,console.log("updateRobot response:",m),200===m.code?(c.yw.destroy(),c.yw.success(n.formatMessage({id:"update.success"})),F(m.data)):(c.yw.destroy(),c.yw.error(m.message)),e.next=29;break;case 11:if(t!==w.Njn){e.next=21;break}return A=r()(r()({},j),{},{serviceSettings:r()(r()({},null==j?void 0:j.serviceSettings),{},{showInputAssociation:i.showInputAssociation,faqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.faqs)||void 0===y?void 0:y.map((function(e){return e.uid})),quickFaqUids:null==j||null===(q=j.serviceSettings)||void 0===q||null===(q=q.quickFaqs)||void 0===q?void 0:q.map((function(e){return e.uid})),guessFaqUids:null==j||null===(S=j.serviceSettings)||void 0===S||null===(S=S.guessFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),hotFaqUids:null==j||null===(b=j.serviceSettings)||void 0===b||null===(b=b.hotFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(x=j.serviceSettings)||void 0===x||null===(x=x.shortcutFaqs)||void 0===x?void 0:x.map((function(e){return e.uid}))}),robotSettings:r()(r()({},j.robotSettings),{},{robotUid:null==j||null===(k=j.robotSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid}),leaveMsgSettings:r()(r()({},j.leaveMsgSettings),{},{worktimeUids:null==j||null===(U=j.leaveMsgSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),autoReplySettings:r()({},j.autoReplySettings)}),console.log("agentObject:",A),e.next=16,(0,g.sE)(A);case 16:T=e.sent,console.log("updateAgent response:",T),200===T.code?(c.yw.destroy(),c.yw.success(n.formatMessage({id:"update.success"})),M(T.data)):(c.yw.destroy(),c.yw.error(T.message)),e.next=29;break;case 21:if(t!==w.aZD){e.next=29;break}return O=r()(r()({},C),{},{serviceSettings:r()(r()({},C.serviceSettings),{},{showInputAssociation:i.showInputAssociation,faqUids:null==j||null===(I=j.serviceSettings)||void 0===I||null===(I=I.faqs)||void 0===I?void 0:I.map((function(e){return e.uid})),quickFaqUids:null===(R=C.serviceSettings)||void 0===R||null===(R=R.quickFaqs)||void 0===R?void 0:R.map((function(e){return e.uid})),guessFaqUids:null==C||null===(P=C.serviceSettings)||void 0===P||null===(P=P.guessFaqs)||void 0===P?void 0:P.map((function(e){return e.uid})),hotFaqUids:null==C||null===(W=C.serviceSettings)||void 0===W||null===(W=W.hotFaqs)||void 0===W?void 0:W.map((function(e){return e.uid})),shortcutFaqUids:null==C||null===(N=C.serviceSettings)||void 0===N||null===(N=N.shortcutFaqs)||void 0===N?void 0:N.map((function(e){return e.uid}))}),robotSettings:r()(r()({},C.robotSettings),{},{robotUid:null==C||null===(V=C.robotSettings)||void 0===V||null===(V=V.robot)||void 0===V?void 0:V.uid}),leaveMsgSettings:r()(r()({},C.leaveMsgSettings),{},{worktimeUids:null==C||null===(_=C.leaveMsgSettings)||void 0===_||null===(_=_.worktimes)||void 0===_?void 0:_.map((function(e){return e.uid}))}),agentUids:C.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",O),e.next=26,(0,p.W5)(O);case 26:D=e.sent,console.log("updateWorkGroup response:",D),200===D.code?(c.yw.destroy(),c.yw.success(n.formatMessage({id:"update.success"})),Z(D.data)):(c.yw.destroy(),c.yw.error(D.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{children:(0,x.jsx)(y.A,{form:s,onFinish:A,children:(0,x.jsx)(q.Z,{width:"md",name:"showInputAssociation",label:n.formatMessage({id:"showInputAssociation",defaultMessage:"Show Input Association"})})})})}},75808:function(e,t,n){var i=n(90819),o=n.n(i),s=n(89933),r=n.n(s),u=n(73193),a=n.n(u),l=n(45332),d=n.n(l),c=n(86803),g=n(24170),v=n(66916),p=n(72614),f=n(1902),h=n(66310),m=n(95490),w=n(55735),y=n(69169),q=n(48708),S=n(32350),b=n(30921),x=n(44194),F=n(11184),k=n(3849),j=n(75365),M=n(31549);t.Z=function(e){var t=e.type,n=(0,b.useIntl)(),i=y.A.useForm(),s=d()(i,1)[0],u=(0,F.M)(),l=u.config,U=u.updateConfig,C=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),Z=C.currentRobot,A=C.setCurrentRobot,T=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),I=T.currentAgent,R=T.setCurrentAgent,P=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),W=P.currentWorkgroup,N=P.setCurrentWorkgroup,V=(0,x.useMemo)((function(){return t===w._X4?{chatType:w.xtN,chatSid:Z.uid}:t===w.Njn?{chatType:w.scI,chatSid:I.uid}:t===w.aZD?{chatType:w.vPY,chatSid:W.uid}:{chatType:w.xtN,chatSid:""}}),[t,Z,I,W]),_=V.chatType,O=V.chatSid;(0,x.useEffect)((function(){var e,n,i,o,r,u;if(t===w._X4)s.setFieldsValue({autoPopup:null==Z||null===(e=Z.serviceSettings)||void 0===e?void 0:e.autoPopup,showInvite:null==Z||null===(n=Z.inviteSettings)||void 0===n?void 0:n.show,inviteText:null==Z||null===(i=Z.inviteSettings)||void 0===i?void 0:i.text}),U(a()(a()({},l),{},{autoPopup:null==Z||null===(o=Z.serviceSettings)||void 0===o?void 0:o.autoPopup,inviteConfig:{show:null==Z||null===(r=Z.inviteSettings)||void 0===r?void 0:r.show,text:null==Z||null===(u=Z.inviteSettings)||void 0===u?void 0:u.text},chatConfig:a()(a()({},l.chatConfig),{},{t:_,sid:O})}));else if(t===w.Njn){var d,c,g,v,p,f;s.setFieldsValue({autoPopup:null==I||null===(d=I.serviceSettings)||void 0===d?void 0:d.autoPopup,showInvite:null==I||null===(c=I.inviteSettings)||void 0===c?void 0:c.show,inviteText:null==I||null===(g=I.inviteSettings)||void 0===g?void 0:g.text}),U(a()(a()({},l),{},{autoPopup:null==I||null===(v=I.serviceSettings)||void 0===v?void 0:v.autoPopup,inviteConfig:{show:null==I||null===(p=I.inviteSettings)||void 0===p?void 0:p.show,text:null==I||null===(f=I.inviteSettings)||void 0===f?void 0:f.text},chatConfig:a()(a()({},l.chatConfig),{},{t:_,sid:O})}))}else if(t===w.aZD){var h,m,y,q,S,b;s.setFieldsValue({autoPopup:null==W||null===(h=W.serviceSettings)||void 0===h?void 0:h.autoPopup,showInvite:null==W||null===(m=W.inviteSettings)||void 0===m?void 0:m.show,inviteText:null==W||null===(y=W.inviteSettings)||void 0===y?void 0:y.text}),U(a()(a()({},l),{},{autoPopup:null==W||null===(q=W.serviceSettings)||void 0===q?void 0:q.autoPopup,inviteConfig:{show:null==W||null===(S=W.inviteSettings)||void 0===S?void 0:S.show,text:null==W||null===(b=W.inviteSettings)||void 0===b?void 0:b.text},chatConfig:a()(a()({},l.chatConfig),{},{t:_,sid:O})}))}}),[Z,I,W,_,O]);var D=function(){var e=r()(o()().mark((function e(i){var s,r,u,l,d,f,h,m,y,q,S,b,x,F,k,j,M,U,C,T,P,V,_,O,D;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handlePreFormSubmit:",i),t!==w._X4){e.next=11;break}return f=a()(a()({},Z),{},{serviceSettings:a()(a()({},Z.serviceSettings),{},{autoPopup:i.autoPopup,faqUids:null==Z||null===(s=Z.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),quickFaqUids:null==Z||null===(r=Z.serviceSettings)||void 0===r||null===(r=r.quickFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(u=Z.serviceSettings)||void 0===u||null===(u=u.guessFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(l=Z.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(d=Z.serviceSettings)||void 0===d||null===(d=d.shortcutFaqs)||void 0===d?void 0:d.map((function(e){return e.uid}))}),inviteSettings:a()(a()({},Z.inviteSettings),{},{show:i.showInvite,text:i.inviteText})}),console.log("robotObject:",f),e.next=6,(0,v.$l)(f);case 6:h=e.sent,console.log("updateRobot response:",h),200===h.code?(c.yw.destroy(),c.yw.success(n.formatMessage({id:"update.success"})),A(h.data)):(c.yw.destroy(),c.yw.error(h.message)),e.next=29;break;case 11:if(t!==w.Njn){e.next=21;break}return k=a()(a()({},I),{},{serviceSettings:a()(a()({},null==I?void 0:I.serviceSettings),{},{autoPopup:i.autoPopup,faqUids:null==I||null===(m=I.serviceSettings)||void 0===m||null===(m=m.faqs)||void 0===m?void 0:m.map((function(e){return e.uid})),quickFaqUids:null==I||null===(y=I.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==I||null===(q=I.serviceSettings)||void 0===q||null===(q=q.guessFaqs)||void 0===q?void 0:q.map((function(e){return e.uid})),hotFaqUids:null==I||null===(S=I.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==I||null===(b=I.serviceSettings)||void 0===b||null===(b=b.shortcutFaqs)||void 0===b?void 0:b.map((function(e){return e.uid}))}),robotSettings:a()(a()({},I.robotSettings),{},{robotUid:null==I||null===(x=I.robotSettings)||void 0===x||null===(x=x.robot)||void 0===x?void 0:x.uid}),leaveMsgSettings:a()(a()({},I.leaveMsgSettings),{},{worktimeUids:null==I||null===(F=I.leaveMsgSettings)||void 0===F||null===(F=F.worktimes)||void 0===F?void 0:F.map((function(e){return e.uid}))}),autoReplySettings:a()({},I.autoReplySettings),inviteSettings:a()(a()({},I.inviteSettings),{},{show:i.showInvite,text:i.inviteText})}),console.log("agentObject:",k),e.next=16,(0,g.sE)(k);case 16:j=e.sent,console.log("updateAgent response:",j),200===j.code?(c.yw.destroy(),c.yw.success(n.formatMessage({id:"update.success"})),R(j.data)):(c.yw.destroy(),c.yw.error(j.message)),e.next=29;break;case 21:if(t!==w.aZD){e.next=29;break}return O=a()(a()({},W),{},{serviceSettings:a()(a()({},W.serviceSettings),{},{autoPopup:i.autoPopup,faqUids:null==W||null===(M=W.serviceSettings)||void 0===M||null===(M=M.faqs)||void 0===M?void 0:M.map((function(e){return e.uid})),quickFaqUids:null===(U=W.serviceSettings)||void 0===U||null===(U=U.quickFaqs)||void 0===U?void 0:U.map((function(e){return e.uid})),guessFaqUids:null==W||null===(C=W.serviceSettings)||void 0===C||null===(C=C.guessFaqs)||void 0===C?void 0:C.map((function(e){return e.uid})),hotFaqUids:null==W||null===(T=W.serviceSettings)||void 0===T||null===(T=T.hotFaqs)||void 0===T?void 0:T.map((function(e){return e.uid})),shortcutFaqUids:null==W||null===(P=W.serviceSettings)||void 0===P||null===(P=P.shortcutFaqs)||void 0===P?void 0:P.map((function(e){return e.uid}))}),robotSettings:a()(a()({},W.robotSettings),{},{robotUid:null==W||null===(V=W.robotSettings)||void 0===V||null===(V=V.robot)||void 0===V?void 0:V.uid}),leaveMsgSettings:a()(a()({},W.leaveMsgSettings),{},{worktimeUids:null==W||null===(_=W.leaveMsgSettings)||void 0===_||null===(_=_.worktimes)||void 0===_?void 0:_.map((function(e){return e.uid}))}),inviteSettings:a()(a()({},W.inviteSettings),{},{show:i.showInvite,text:i.inviteText}),agentUids:W.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",O),e.next=26,(0,p.W5)(O);case 26:D=e.sent,console.log("updateWorkGroup response:",D),200===D.code?(c.yw.destroy(),c.yw.success(n.formatMessage({id:"update.success"})),N(D.data)):(c.yw.destroy(),c.yw.error(D.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{children:[(0,M.jsxs)(y.A,{form:s,onFinish:D,children:[(0,M.jsx)(q.Z,{width:"md",name:"autoPopup",label:n.formatMessage({id:"autoPopup",defaultMessage:"Auto Popup"})}),(0,M.jsx)(q.Z,{width:"md",name:"showInvite",label:n.formatMessage({id:"showInvite",defaultMessage:"Show Invite"})}),(0,M.jsx)(S.Z,{width:"md",name:"inviteText",label:n.formatMessage({id:"inviteText",defaultMessage:"Invite Text"})})]}),(0,M.jsxs)(k.Z,{direction:"horizontal",style:{width:"100%",marginTop:10,marginBottom:10},children:[(0,M.jsx)(j.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.showChat()},children:n.formatMessage({id:"show.chat.window"})}),(0,M.jsx)(j.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.hideChat()},children:n.formatMessage({id:"hide.chat.window"})})]})]})}},54166:function(e,t,n){n(90819),n(73193),n(89933),n(45332),n(24170),n(66916),n(72614),n(1902),n(66310),n(95490),n(55735),n(30921),n(44194),n(31549)},40836:function(e,t,n){var i=n(90819),o=n.n(i),s=n(89933),r=n.n(s),u=n(73193),a=n.n(u),l=n(45332),d=n.n(l),c=n(86803),g=n(24170),v=n(66916),p=n(72614),f=n(1902),h=n(66310),m=n(95490),w=n(55735),y=n(69169),q=n(48708),S=n(32350),b=n(30921),x=n(44194),F=n(3849),k=n(75365),j=n(11184),M=n(31549);t.Z=function(e){var t=e.type,n=(0,b.useIntl)(),i=y.A.useForm(),s=d()(i,1)[0],u=(0,j.M)(),l=u.config,U=u.updateConfig,C=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),Z=C.currentRobot,A=C.setCurrentRobot,T=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),I=T.currentAgent,R=T.setCurrentAgent,P=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),W=P.currentWorkgroup,N=P.setCurrentWorkgroup,V=(0,x.useMemo)((function(){return t===w._X4?{chatType:w.xtN,chatSid:Z.uid}:t===w.Njn?{chatType:w.scI,chatSid:I.uid}:t===w.aZD?{chatType:w.vPY,chatSid:W.uid}:{chatType:w.xtN,chatSid:""}}),[t,Z,I,W]),_=V.chatType,O=V.chatSid;(0,x.useEffect)((function(){if(t===w._X4){var e,n,i=null==Z||null===(e=Z.serviceSettings)||void 0===e?void 0:e.showRightIframe;s.setFieldsValue({showRightIframe:i,rightIframeUrl:null==Z||null===(n=Z.serviceSettings)||void 0===n?void 0:n.rightIframeUrl}),U(i?a()(a()({},l),{},{chatConfig:a()(a()({},l.chatConfig),{},{t:_,sid:O}),window:a()(a()({},l.window),{},{width:680})}):a()(a()({},l),{},{chatConfig:a()(a()({},l.chatConfig),{},{t:_,sid:O}),window:a()(a()({},l.window),{},{width:380})}))}else if(t===w.Njn){var o,r,u=null==I||null===(o=I.serviceSettings)||void 0===o?void 0:o.showRightIframe;s.setFieldsValue({showRightIframe:u,rightIframeUrl:null==I||null===(r=I.serviceSettings)||void 0===r?void 0:r.rightIframeUrl}),U(u?a()(a()({},l),{},{chatConfig:a()(a()({},l.chatConfig),{},{t:_,sid:O}),window:a()(a()({},l.window),{},{width:680})}):a()(a()({},l),{},{chatConfig:a()(a()({},l.chatConfig),{},{t:_,sid:O}),window:a()(a()({},l.window),{},{width:380})}))}else if(t===w.aZD){var d,c,g=null==W||null===(d=W.serviceSettings)||void 0===d?void 0:d.showRightIframe;s.setFieldsValue({showRightIframe:g,rightIframeUrl:null==W||null===(c=W.serviceSettings)||void 0===c?void 0:c.rightIframeUrl}),U(g?a()(a()({},l),{},{chatConfig:a()(a()({},l.chatConfig),{},{t:_,sid:O}),window:a()(a()({},l.window),{},{width:680})}):a()(a()({},l),{},{chatConfig:a()(a()({},l.chatConfig),{},{t:_,sid:O}),window:a()(a()({},l.window),{},{width:380})}))}}),[Z,I,W,_,O]);var D=function(){var e=r()(o()().mark((function e(i){var s,r,u,l,d,f,h,m,y,q,S,b,x,F,k,j,M,U,C,T,P,V,_,O,D,E;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleRightSubmit:",i),t!==w._X4){e.next=11;break}return f=a()(a()({},Z),{},{serviceSettings:a()(a()({},Z.serviceSettings),{},{showRightIframe:i.showRightIframe,rightIframeUrl:i.rightIframeUrl,faqUids:null==Z||null===(s=Z.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),quickFaqUids:null==Z||null===(r=Z.serviceSettings)||void 0===r||null===(r=r.quickFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(u=Z.serviceSettings)||void 0===u||null===(u=u.guessFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(l=Z.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(d=Z.serviceSettings)||void 0===d||null===(d=d.shortcutFaqs)||void 0===d?void 0:d.map((function(e){return e.uid}))})}),console.log("robotObject:",f),e.next=6,(0,v.$l)(f);case 6:h=e.sent,console.log("updateRobot response:",h),200===h.code?(c.yw.destroy(),c.yw.success(n.formatMessage({id:"update.success"})),A(h.data)):(c.yw.destroy(),c.yw.error(h.message)),e.next=29;break;case 11:if(t!==w.Njn){e.next=21;break}return k=a()(a()({},I),{},{serviceSettings:a()(a()({},null==I?void 0:I.serviceSettings),{},{showRightIframe:i.showRightIframe,rightIframeUrl:i.rightIframeUrl,faqUids:null==I||null===(m=I.serviceSettings)||void 0===m||null===(m=m.faqs)||void 0===m?void 0:m.map((function(e){return e.uid})),quickFaqUids:null==I||null===(y=I.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==I||null===(q=I.serviceSettings)||void 0===q||null===(q=q.guessFaqs)||void 0===q?void 0:q.map((function(e){return e.uid})),hotFaqUids:null==I||null===(S=I.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==I||null===(b=I.serviceSettings)||void 0===b||null===(b=b.shortcutFaqs)||void 0===b?void 0:b.map((function(e){return e.uid}))}),robotSettings:a()(a()({},I.robotSettings),{},{robotUid:null==I||null===(x=I.robotSettings)||void 0===x||null===(x=x.robot)||void 0===x?void 0:x.uid}),leaveMsgSettings:a()(a()({},I.leaveMsgSettings),{},{worktimeUids:null==I||null===(F=I.leaveMsgSettings)||void 0===F||null===(F=F.worktimes)||void 0===F?void 0:F.map((function(e){return e.uid}))}),autoReplySettings:a()({},I.autoReplySettings)}),console.log("agentObject:",k),e.next=16,(0,g.sE)(k);case 16:j=e.sent,console.log("updateAgent response:",j),200===j.code?(c.yw.destroy(),c.yw.success(n.formatMessage({id:"update.success"})),R(j.data)):(c.yw.destroy(),c.yw.error(j.message)),e.next=29;break;case 21:if(t!==w.aZD){e.next=29;break}return D=a()(a()({},W),{},{serviceSettings:a()(a()({},W.serviceSettings),{},{showRightIframe:i.showRightIframe,rightIframeUrl:i.rightIframeUrl,faqUids:null==W||null===(M=W.serviceSettings)||void 0===M||null===(M=M.faqs)||void 0===M?void 0:M.map((function(e){return e.uid})),quickFaqUids:null==W||null===(U=W.serviceSettings)||void 0===U||null===(U=U.quickFaqs)||void 0===U?void 0:U.map((function(e){return e.uid})),guessFaqUids:null==W||null===(C=W.serviceSettings)||void 0===C||null===(C=C.guessFaqs)||void 0===C?void 0:C.map((function(e){return e.uid})),hotFaqUids:null==W||null===(T=W.serviceSettings)||void 0===T||null===(T=T.hotFaqs)||void 0===T?void 0:T.map((function(e){return e.uid})),shortcutFaqUids:null==W||null===(P=W.serviceSettings)||void 0===P||null===(P=P.shortcutFaqs)||void 0===P?void 0:P.map((function(e){return e.uid}))}),robotSettings:a()(a()({},W.robotSettings),{},{robotUid:null==W||null===(V=W.robotSettings)||void 0===V||null===(V=V.robot)||void 0===V?void 0:V.uid}),leaveMsgSettings:a()(a()({},W.leaveMsgSettings),{},{worktimeUids:null==W||null===(_=W.leaveMsgSettings)||void 0===_||null===(_=_.worktimes)||void 0===_?void 0:_.map((function(e){return e.uid}))}),agentUids:null==W||null===(O=W.agents)||void 0===O?void 0:O.map((function(e){return e.uid}))}),console.log("workgroupObject:",D),e.next=26,(0,p.W5)(D);case 26:E=e.sent,console.log("updateWorkGroup response:",E),200===E.code?(c.yw.destroy(),c.yw.success(n.formatMessage({id:"update.success"})),N(E.data)):(c.yw.destroy(),c.yw.error(E.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{children:[(0,M.jsxs)(y.A,{form:s,onFinish:D,children:[(0,M.jsx)(q.Z,{width:"md",name:"showRightIframe",label:n.formatMessage({id:"showRightIframe"})}),(0,M.jsx)(S.Z,{width:"md",name:"rightIframeUrl",label:n.formatMessage({id:"rightIframeUrl"})})]}),(0,M.jsxs)(F.Z,{direction:"horizontal",style:{width:"100%",marginTop:10,marginBottom:10},children:[(0,M.jsx)(k.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.showChat()},children:n.formatMessage({id:"show.chat.window"})}),(0,M.jsx)(k.ZP,{type:"primary",onClick:function(){var e;null===(e=window.bytedesk)||void 0===e||e.hideChat()},children:n.formatMessage({id:"hide.chat.window"})})]})]})}},14238:function(e,t,n){var i=n(73193),o=n.n(i),s=n(90819),r=n.n(s),u=n(89933),a=n.n(u),l=n(45332),d=n.n(l),c=n(86803),g=n(24170),v=n(66916),p=n(72614),f=n(76750),h=n(1902),m=n(66310),w=n(95490),y=n(55735),q=n(69169),S=n(85954),b=n(84881),x=n(79907),F=n(30921),k=n(44194),j=n(51990),M=n(65461),U=n(40612),C=n(99885),Z=n(31549);t.Z=function(e){var t,n=e.type,i=q.A.useForm(),s=d()(i,1)[0],u=(0,F.useIntl)(),l=(0,f.Z)().translateString,A=(0,k.useState)(!1),T=d()(A,2),I=T[0],R=T[1],P=(0,U.u)((function(e){return e.currentOrg})),W=(0,k.useState)(),N=d()(W,2),V=N[0],_=N[1],O=(0,m.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),D=O.currentRobot,E=O.setCurrentRobot,H=(0,h.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),B=H.currentAgent,G=H.setCurrentAgent,L=(0,w.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),X=L.currentWorkgroup,z=L.setCurrentWorkgroup,Y=(0,k.useState)(""),$=d()(Y,2),Q=$[0],K=$[1],J=(0,k.useState)(""),ee=d()(J,2),te=ee[0],ne=ee[1],ie=(0,k.useState)(""),oe=d()(ie,2),se=oe[0],re=oe[1],ue=function(){var e=a()(r()().mark((function e(){var t,n;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:null==P?void 0:P.uid},e.next=4,(0,C.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),c.yw.destroy(),200===n.code?_(n):c.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,k.useEffect)((function(){ue()}),[]);var ae=function(e){var t;if(console.log("setFormValues:",e),K(l(null==e?void 0:e.welcomeTip)),re(l(null==e?void 0:e.topTip)),R(null==e?void 0:e.showTopTip),s.setFieldValue("showTopTip",null==e?void 0:e.showTopTip),s.setFieldValue("autoCloseMin",null==e?void 0:e.autoCloseMin),s.setFieldValue("showLogo",null==e?void 0:e.showLogo),s.setFieldValue("welcomeFaqUids",null==e||null===(t=e.welcomeFaqs)||void 0===t?void 0:t.map((function(e){return e.uid}))),n===y._X4);else if(n===y.Njn){var i;ne(l(null==B||null===(i=B.leaveMsgSettings)||void 0===i?void 0:i.leaveMsgTip))}else if(n===y.aZD){var o;ne(l(null==X||null===(o=X.leaveMsgSettings)||void 0===o?void 0:o.leaveMsgTip))}};(0,k.useEffect)((function(){n===y._X4?ae(null==D?void 0:D.serviceSettings):n===y.Njn?(ae(null==B?void 0:B.serviceSettings),s.setFieldValue("maxThreadCount",null==B?void 0:B.maxThreadCount)):n===y.aZD&&ae(null==X?void 0:X.serviceSettings)}),[D,B,X]);var le=function(){var e=a()(r()().mark((function e(t){var i,s,a,l,d,f,h,m,w,q,S,b,x,F,k,j,M,U,C,Z,A,T,R,P,W;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish:",t," showTopTip:",I),c.yw.loading(u.formatMessage({id:"updating"})),n!==y._X4){e.next=12;break}return f=o()(o()({},D),{},{serviceSettings:o()(o()({},D.serviceSettings),{},{topTip:se,showTopTip:I,welcomeTip:Q,autoCloseMin:(null==t?void 0:t.autoCloseMin)||25,showLogo:(null==t?void 0:t.showLogo)||!0,welcomeFaqUids:null==t?void 0:t.welcomeFaqUids,quickFaqUids:null===(i=B.serviceSettings)||void 0===i||null===(i=i.quickFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),faqUids:null==D||null===(s=D.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),guessFaqUids:null==D||null===(a=D.serviceSettings)||void 0===a||null===(a=a.guessFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),hotFaqUids:null==D||null===(l=D.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==D||null===(d=D.serviceSettings)||void 0===d||null===(d=d.shortcutFaqs)||void 0===d?void 0:d.map((function(e){return e.uid}))})}),console.log("robotObject:",f),e.next=7,(0,v.$l)(f);case 7:h=e.sent,console.log("updateRobot response:",h),200===h.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),E(h.data)):(c.yw.destroy(),c.yw.error(h.message)),e.next=30;break;case 12:if(n!==y.Njn){e.next=22;break}return k=o()(o()({},B),{},{serviceSettings:o()(o()({},B.serviceSettings),{},{topTip:se,showTopTip:I,welcomeTip:Q,autoCloseMin:(null==t?void 0:t.autoCloseMin)||25,showLogo:(null==t?void 0:t.showLogo)||!0,welcomeFaqUids:null==t?void 0:t.welcomeFaqUids,quickFaqUids:null===(m=B.serviceSettings)||void 0===m||null===(m=m.quickFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),faqUids:null===(w=B.serviceSettings)||void 0===w||null===(w=w.faqs)||void 0===w?void 0:w.map((function(e){return e.uid})),guessFaqUids:null==B||null===(q=B.serviceSettings)||void 0===q||null===(q=q.guessFaqs)||void 0===q?void 0:q.map((function(e){return e.uid})),hotFaqUids:null==B||null===(S=B.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==B||null===(b=B.serviceSettings)||void 0===b||null===(b=b.shortcutFaqs)||void 0===b?void 0:b.map((function(e){return e.uid}))}),leaveMsgSettings:o()(o()({},B.leaveMsgSettings),{},{leaveMsgTip:te,worktimeUids:null===(x=B.leaveMsgSettings)||void 0===x||null===(x=x.worktimes)||void 0===x?void 0:x.map((function(e){return e.uid}))}),robotSettings:o()(o()({},B.robotSettings),{},{robotUid:null===(F=B.robotSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid}),maxThreadCount:(null==t?void 0:t.maxThreadCount)||10}),console.log("agentObject:",k),e.next=17,(0,g.sE)(k);case 17:j=e.sent,console.log("updateAgent response:",j),200===j.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),G(j.data)):(c.yw.destroy(),c.yw.error(j.message)),e.next=30;break;case 22:if(n!==y.aZD){e.next=30;break}return P=o()(o()({},X),{},{serviceSettings:o()(o()({},X.serviceSettings),{},{topTip:se,showTopTip:I,welcomeTip:Q,autoCloseMin:(null==t?void 0:t.autoCloseMin)||25,showLogo:(null==t?void 0:t.showLogo)||!0,welcomeFaqUids:null==t?void 0:t.welcomeFaqUids,quickFaqUids:null===(M=X.serviceSettings)||void 0===M||null===(M=M.quickFaqs)||void 0===M?void 0:M.map((function(e){return e.uid})),faqUids:null===(U=X.serviceSettings)||void 0===U||null===(U=U.faqs)||void 0===U?void 0:U.map((function(e){return e.uid})),guessFaqUids:null==X||null===(C=X.serviceSettings)||void 0===C||null===(C=C.guessFaqs)||void 0===C?void 0:C.map((function(e){return e.uid})),hotFaqUids:null==X||null===(Z=X.serviceSettings)||void 0===Z||null===(Z=Z.hotFaqs)||void 0===Z?void 0:Z.map((function(e){return e.uid})),shortcutFaqUids:null==X||null===(A=X.serviceSettings)||void 0===A||null===(A=A.shortcutFaqs)||void 0===A?void 0:A.map((function(e){return e.uid}))}),leaveMsgSettings:o()(o()({},X.leaveMsgSettings),{},{leaveMsgTip:te,worktimeUids:null===(T=X.leaveMsgSettings)||void 0===T||null===(T=T.worktimes)||void 0===T?void 0:T.map((function(e){return e.uid}))}),robotSettings:o()(o()({},X.robotSettings),{},{robotUid:null===(R=X.robotSettings)||void 0===R||null===(R=R.robot)||void 0===R?void 0:R.uid}),agentUids:X.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",P),e.next=27,(0,p.W5)(P);case 27:W=e.sent,console.log("updateWorkGroup response:",W),200===W.code?(c.yw.destroy(),c.yw.success(u.formatMessage({id:"update.success"})),z(W.data)):(c.yw.destroy(),c.yw.error(W.message));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Z.jsxs)(q.A,{form:s,onFinish:le,style:{marginLeft:"20px"},children:[(0,Z.jsx)(S.Z,{name:"showTopTip",width:"md",label:u.formatMessage({id:"agent.settings.show.top.tip"}),fieldProps:{onChange:function(e){var t,i;if(console.log("checked = ".concat(e.target.checked,", showTopTip:").concat(null==B||null===(t=B.serviceSettings)||void 0===t?void 0:t.showTopTip)),R(e.target.checked),e.target.checked)if(n===y._X4)re(l(null==D||null===(i=D.serviceSettings)||void 0===i?void 0:i.topTip));else if(n===y.Njn){var o;re(l(null==B||null===(o=B.serviceSettings)||void 0===o?void 0:o.topTip))}else if(n===y.aZD){var s;re(l(null==X||null===(s=X.serviceSettings)||void 0===s?void 0:s.topTip))}}}}),I&&(0,Z.jsx)(q.A.Item,{name:"topTip",label:u.formatMessage({id:"agent.settings.top.tip"}),rules:[{required:!0,message:u.formatMessage({id:"agent.settings.top.tip.required"})}],children:(0,Z.jsx)(j.Z,{placeholder:u.formatMessage({id:"agent.settings.top.tip.placeholder"}),value:se,toolbarKeys:(0,M.eD)(),style:{height:"200px",width:"600px"},onChange:function(e){re(e)}})}),(0,Z.jsx)(q.A.Item,{name:"welcomeTip",label:u.formatMessage({id:"agent.settings.welcome.tip"}),tooltip:u.formatMessage({id:"agent.settings.welcome.tip"}),rules:[{required:!0,message:u.formatMessage({id:"agent.settings.welcome.tip.required"})}],children:(0,Z.jsx)(j.Z,{placeholder:u.formatMessage({id:"agent.settings.welcome.tip.placeholder"}),value:Q,toolbarKeys:(0,M.eD)(),style:{height:"200px",width:"600px"},onChange:function(e){K(e)}})}),(0,Z.jsx)(b.Z,{name:"welcomeFaqUids",width:"md",label:u.formatMessage({id:"menu.kbase.faq.welcome"}),options:null==V||null===(t=V.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return{label:l(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,Z.jsx)(F.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}}),n!=y._X4&&(0,Z.jsx)(q.A.Item,{name:"leaveMsgTip",label:u.formatMessage({id:"agent.settings.leave.msg"}),rules:[{required:!0,message:u.formatMessage({id:"agent.settings.leave.msg.required"})}],children:(0,Z.jsx)(j.Z,{placeholder:u.formatMessage({id:"agent.settings.leave.msg.placeholder"}),value:te,toolbarKeys:(0,M.eD)(),style:{height:"200px",width:"600px"},onChange:function(e){ne(e)}})}),(0,Z.jsx)(x.Z,{width:"md",name:"autoCloseMin",label:u.formatMessage({id:"agent.settings.auto.close.time"}),tooltip:u.formatMessage({id:"agent.settings.auto.close.time.tooltip"}),min:1}),n===y.Njn&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("p",{children:u.formatMessage({id:"agent.settings.max.thread.tip1"})}),(0,Z.jsx)("p",{children:u.formatMessage({id:"agent.settings.max.thread.tip2"})}),(0,Z.jsx)("p",{children:u.formatMessage({id:"agent.settings.max.thread.tip3"})}),(0,Z.jsx)(x.Z,{width:"md",name:"maxThreadCount",label:u.formatMessage({id:"agent.settings.max.thread"}),min:0})]}),(0,Z.jsx)(S.Z,{name:"showLogo",width:"md",label:u.formatMessage({id:"agent.settings.show.logo"}),tooltip:u.formatMessage({id:"agent.settings.show.logo.tooltip"}),fieldProps:{onChange:function(e){console.log("onShowLogoChange = ".concat(e.target.checked))}},disabled:!0})]})}},51990:function(e,t,n){var i=n(73193),o=n.n(i),s=n(84176),r=n.n(s),u=n(86803),a=n(23864),l=n(44521),d=n(55735),c=n(30921),g=n(83905),v=(n(26286),n(28977)),p=n.n(v),f=n(44194),h=n(31549),m=["placeholder","defaultValue","value","style","toolbarKeys","onChange","options"];t.Z=function(e){var t=e.placeholder,n=e.defaultValue,i=e.value,s=e.style,v=e.toolbarKeys,w=e.onChange,y=(e.options,r()(e,m)),q=((0,c.useIntl)(),(0,a.Z)().isDarkMode),S=(0,f.useRef)(null),b=(0,f.useRef)(null);return(0,f.useEffect)((function(){if(S.current){if(!b.current){var e=new g.cW({element:S.current,theme:q?"dark":"light",placeholder:t,content:n,toolbarKeys:v,image:{uploadUrl:(0,l.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(d.LA8)},uploader:function(e,t,n,i){console.log("uploader:",e,t,n,i);var s=p()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,r=new FormData;return r.append("file",e),r.append("file_name",s),r.append("file_type",e.type),r.append("is_avatar","false"),r.append("kb_type",d.bE7),r.append("category_uid",""),r.append("kb_uid",""),r.append("client",d.bVn),new Promise((function(e,i){fetch(t,{method:"POST",headers:o()({Accept:"application/json"},n),body:r}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){u.yw.destroy(),u.yw.success("".concat(s," 上传成功"));var n={errorCode:0,data:{src:t.data.fileUrl,alt:s}};e(n)}else u.yw.destroy(),u.yw.error("".concat(s," 上传失败"))})).catch((function(e){i(e)}))}))}},video:{uploadUrl:(0,l.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(d.LA8)},uploader:function(e,t,n,i){console.log("uploader:",e,t,n,i);var s=p()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,r=new FormData;return r.append("file",e),r.append("file_name",s),r.append("file_type",e.type),r.append("is_avatar","false"),r.append("kb_type",d.bE7),r.append("category_uid",""),r.append("kb_uid",""),r.append("client",d.bVn),new Promise((function(e,i){fetch(t,{method:"POST",headers:o()({Accept:"application/json"},n),body:r}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){u.yw.destroy(),u.yw.success("".concat(s," 上传成功"));var n={errorCode:0,data:{src:t.data.fileUrl,poster:"https://www.weiyuai.cn/avatars/video_poster.png"}};e(n)}else u.yw.destroy(),u.yw.error("".concat(s," 上传失败"))})).catch((function(e){i(e)}))}))}},attachment:{uploadUrl:(0,l.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(d.LA8)},uploader:function(e,t,n,i){console.log("uploader:",e,t,n,i);var s=p()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,r=new FormData;return r.append("file",e),r.append("file_name",s),r.append("file_type",e.type),r.append("is_avatar","false"),r.append("kb_type",d.bE7),r.append("category_uid",""),r.append("kb_uid",""),r.append("client",d.bVn),new Promise((function(e,i){fetch(t,{method:"POST",headers:o()({Accept:"application/json"},n),body:r}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){u.yw.destroy(),u.yw.success("".concat(s," 上传成功"));var n={errorCode:0,data:{href:t.data.fileUrl,fileName:s}};e(n)}else u.yw.destroy(),u.yw.error("".concat(s," 上传失败"))})).catch((function(e){i(e)}))}))}},onChange:function(e){"function"==typeof w&&w(e.getHtml(),e.getMarkdown())}});b.current=e}return function(){b.current&&(b.current.destroy(),b.current=null)}}}),[]),(0,f.useEffect)((function(){b.current&&i!==b.current.getHtml()&&b.current.setContent(i||"")}),[i]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",o()(o()({ref:S},y),{},{style:o()({height:"100%"},s)}))})}},55930:function(e,t,n){n.d(t,{Z:function(){return p}});n(44194);var i=n(8247),o=n(30921),s=n(53038),r=n(76432),u=n(29897),a=n(6897),l=n(75574),d=n(79686),c=n(31549),g=(l.Z.Sider,l.Z.Content,function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.Z,{})})}),v=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.Z,{})})},p=function(e){var t=e.type,n=((0,o.useIntl)(),[{key:"whatsapp",label:"Whatsapp",children:(0,c.jsx)(u.Z,{})},{key:"telegram",label:"Telegram",children:(0,c.jsx)(r.Z,{})},{key:"facebook",label:"Facebook",children:(0,c.jsx)(g,{})},{key:"Line",label:"Line",children:(0,c.jsx)(a.Z,{})},{key:"wordpress",label:"Wordpress",children:(0,c.jsx)(v,{})}]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.Z,{type:t}),(0,c.jsx)(i.Z,{tabPosition:"left",items:n})]})}},82211:function(e,t,n){n(44194);var i=n(8247),o=n(45178),s=n(5724),r=n(54518),u=n(7785),a=n(42909),l=n(53038),d=n(81360),c=n(99980),g=n(66329),v=n(30634),p=n(31549);t.Z=function(e){var t=e.type,n=[{key:"web",label:"Web",children:(0,p.jsx)(v.Z,{type:t})},{key:"react",label:"React",children:(0,p.jsx)(a.Z,{type:t})},{key:"vue",label:"Vue",children:(0,p.jsx)(g.Z,{type:t})},{key:"svelte",label:"Svelte",children:(0,p.jsx)(d.Z,{type:t})},{key:"vanilla",label:"Vanilla",children:(0,p.jsx)(c.Z,{type:t})},{key:"ios",label:"iOS",children:(0,p.jsx)(o.Z,{type:t})},{key:"android",label:"Android",children:(0,p.jsx)(u.Z,{type:t})},{key:"uniapp",label:"Uniapp",children:(0,p.jsx)(s.Z,{type:t})},{key:"flutter",label:"Flutter",children:(0,p.jsx)(r.Z,{type:t})}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.Z,{type:t}),(0,p.jsx)(i.Z,{tabPosition:"left",items:n})]})}},73170:function(e,t,n){n.d(t,{Z:function(){return w}});n(44194);var i=n(8247),o=n(30921),s=n(53038),r=n(44574),u=n(10354),a=n(51103),l=n(75262),d=n(62476),c=n(15025),g=n(79686),v=n(31549),p=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(g.Z,{})})},f=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(g.Z,{})})},h=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(g.Z,{})})},m=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(g.Z,{})})},w=function(e){var t=e.type,n=(0,o.useIntl)(),g=[{key:"pdd",label:n.formatMessage({id:"channel.shop.pdd"}),children:(0,v.jsx)(r.Z,{})},{key:"jd",label:n.formatMessage({id:"channel.shop.jd"}),children:(0,v.jsx)(l.Z,{})},{key:"qianniu",label:n.formatMessage({id:"channel.shop.qianniu"}),children:(0,v.jsx)(u.Z,{})},{key:"doudian",label:n.formatMessage({id:"channel.shop.doudian"}),children:(0,v.jsx)(a.Z,{})},{key:"shopify",label:"Shopify",children:(0,v.jsx)(d.Z,{})},{key:"lazada",label:"Lazada",children:(0,v.jsx)(c.Z,{})},{key:"woocommerce",label:"Woocommerce",children:(0,v.jsx)(p,{})},{key:"opencart",label:"Opencart",children:(0,v.jsx)(f,{})},{key:"magento",label:"Magento",children:(0,v.jsx)(h,{})},{key:"prestashop",label:"Prestashop",children:(0,v.jsx)(m,{})}];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Z,{type:t}),(0,v.jsx)(i.Z,{tabPosition:"left",items:g})]})}},9389:function(e,t,n){n.d(t,{Z:function(){return $}});var i=n(44194),o=n(8247),s=n(30921),r=n(11452),u=n(53038),a=n(36378),l=n(53300),d=n(21325),c=n(79176),g=n(13161),v=n(90819),p=n.n(v),f=n(73193),h=n.n(f),m=n(84176),w=n.n(m),y=n(89933),q=n.n(y),S=n(45332),b=n.n(S),x=n(5651),F=n(38775),k=n(53530),j=n(3849),M=n(75365),U=n(86803),C=n(40612),Z=n(72381),A=n(69842),T=n(55735),I=n(31549),R=["current"],P=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,I.jsx)(s.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"name",hideInSearch:!0},{title:(0,I.jsx)(s.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0}],W=function(e){e.type;var t=(0,s.useAccess)(),n=(0,i.useState)(!1),o=b()(n,2),r=o[0],u=o[1],a=((0,s.useIntl)(),(0,i.useRef)()),l=(0,C.u)((function(e){return e.currentOrg})),d=[].concat(P),c=function(){u(!0)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{children:"通过h5方式集成"}),(0,I.jsx)(F.Z,{}),(0,I.jsxs)(s.Access,{accessible:t.canDebug(),fallback:(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(s.FormattedMessage,{id:T.h5w})}),children:[(0,I.jsxs)(k.Z,{title:"Basic Modal",open:r,onOk:function(){u(!1)},onCancel:function(){u(!1)},children:[(0,I.jsx)("p",{children:"Some contents..."}),(0,I.jsx)("p",{children:"Some contents..."}),(0,I.jsx)("p",{children:"Some contents..."})]}),(0,I.jsx)(Z.Z,{columns:d,actionRef:a,cardBordered:!0,request:function(){var e=q()(p()().mark((function e(t,n,i){var o,s,r;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,i),t.current,o=w()(t,R),s=h()({pageNumber:t.current-1,orgUid:null==l?void 0:l.uid},o),e.next=5,(0,A.H)(s);case 5:return r=e.sent,console.log("queryInvoiceByOrg response:",r),200===r.code||U.yw.error(r.message),e.abrupt("return",{data:r.data.content,success:!0,total:r.data.totalElements});case 9:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"绑定微信小程序",toolBarRender:function(){return[(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(M.ZP,{type:"primary",onClick:c,children:"添加微信小程序"}),(0,I.jsx)(M.ZP,{icon:(0,I.jsx)(x.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"微信小程序对接文档"})]})]}})]})]})},N=["current"],V=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,I.jsx)(s.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"name",hideInSearch:!0},{title:(0,I.jsx)(s.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0}],_=function(e){e.type;var t=(0,s.useAccess)(),n=(0,i.useState)(!1),o=b()(n,2),r=o[0],u=o[1],a=((0,s.useIntl)(),(0,i.useRef)()),l=(0,C.u)((function(e){return e.currentOrg})),d=[].concat(V),c=function(){u(!0)};return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(s.Access,{accessible:t.canDebug(),fallback:(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(s.FormattedMessage,{id:T.h5w})}),children:[(0,I.jsxs)(k.Z,{title:"Basic Modal",open:r,onOk:function(){u(!1)},onCancel:function(){u(!1)},children:[(0,I.jsx)("p",{children:"Some contents..."}),(0,I.jsx)("p",{children:"Some contents..."}),(0,I.jsx)("p",{children:"Some contents..."})]}),(0,I.jsx)(Z.Z,{columns:d,actionRef:a,cardBordered:!0,request:function(){var e=q()(p()().mark((function e(t,n,i){var o,s,r;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,i),t.current,o=w()(t,N),s=h()({pageNumber:t.current-1,orgUid:null==l?void 0:l.uid},o),e.next=5,(0,A.H)(s);case 5:return r=e.sent,console.log("queryInvoiceByOrg response:",r),200===r.code||U.yw.error(r.message),e.abrupt("return",{data:r.data.content,success:!0,total:r.data.totalElements});case 9:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"绑定企业微信",toolBarRender:function(){return[(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(M.ZP,{type:"primary",onClick:c,children:"添加企业微信"}),(0,I.jsx)(M.ZP,{icon:(0,I.jsx)(x.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"企业微信对接文档"})]})]}})]})})},O=n(15722),D=n(25482),E=n(63289),H=n(40803),B=["current"],G=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,I.jsx)(s.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"name",hideInSearch:!0},{title:(0,I.jsx)(s.FormattedMessage,{id:"appId",defaultMessage:"AppId"}),dataIndex:"appId",copyable:!0},{title:(0,I.jsx)(s.FormattedMessage,{id:"url",defaultMessage:"Url"}),dataIndex:"url",copyable:!0,hideInSearch:!0},{title:(0,I.jsx)(s.FormattedMessage,{id:"token",defaultMessage:"Token"}),dataIndex:"token",copyable:!0},{title:(0,I.jsx)(s.FormattedMessage,{id:"encryptMode",defaultMessage:"EncryptMode"}),dataIndex:"encryptMode",copyable:!0,hideInSearch:!0,render:function(e,t){switch(t.encryptMode){case"PLAINTEXT":return(0,I.jsx)("span",{children:"明文模式"});case"COMPATIBLE":return(0,I.jsx)("span",{children:"兼容模式"});case"SAFE":return(0,I.jsx)("span",{children:"安全模式"});default:return(0,I.jsx)("span",{children:"未知"})}}},{title:(0,I.jsx)(s.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0}],L=function(e){e.type;var t=(0,i.useState)(!1),n=b()(t,2),o=n[0],r=n[1],u=(0,i.useState)({}),a=b()(u,2),l=a[0],d=a[1],c=(0,i.useState)(!1),g=b()(c,2),v=g[0],f=g[1],m=(0,s.useIntl)(),y=(0,i.useRef)(),S=(0,C.u)((function(e){return e.currentOrg})),A=k.Z.useModal(),T=b()(A,2),R=T[0],P=T[1],W=[].concat(G,[{title:m.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",render:function(e,t,n,i){return[(0,I.jsx)("a",{onClick:function(){f(!0),d(t),r(!0)},children:m.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable"),(0,I.jsx)(M.ZP,{type:"link",onClick:function(){return e=t,void R.confirm({title:m.formatMessage({id:"deleteTip"}),icon:(0,I.jsx)(O.Z,{}),content:"".concat(m.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(e.name,"】？"),onOk:function(){N(e)},onCancel:function(){},okText:m.formatMessage({id:"ok"}),cancelText:m.formatMessage({id:"cancel"})});var e},danger:!0,children:m.formatMessage({id:"delete",defaultMessage:"Delete"})},"delete")]}}]),N=function(){var e=q()(p()().mark((function e(t){var n;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleteWechatMp:",t),e.next=3,(0,H.ul)(t);case 3:n=e.sent,console.log("deleteMember:",n),200===n.code?(U.yw.success(m.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),y.current.reload()):U.yw.error(n.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=q()(p()().mark((function e(t){var n,i;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H._Z)(t);case 2:n=e.sent,console.log("handleCreateWechatMp response:",n),200===n.code?(null===(i=y.current)||void 0===i||i.reload(),r(!1)):U.yw.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=q()(p()().mark((function e(t){var n,i;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.uid=null==l?void 0:l.uid,e.next=3,(0,H.sS)(t);case 3:n=e.sent,console.log("handleUpdateWechatMp response:",n),200===n.code?(null===(i=y.current)||void 0===i||i.reload(),r(!1)):U.yw.error(n.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){r(!0),f(!1),d({})};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{children:"通过自定义菜单方式集成"}),(0,I.jsx)(F.Z,{}),(0,I.jsx)(Z.Z,{columns:W,actionRef:y,cardBordered:!0,request:function(){var e=q()(p()().mark((function e(t,n,i){var o,s,r;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,i),t.current,o=w()(t,B),s=h()({pageNumber:t.current-1,orgUid:null==S?void 0:S.uid},o),e.next=5,(0,H.aq)(s);case 5:return r=e.sent,console.log("queryWechatMpByOrg response:",r),200===r.code||U.yw.error(r.message),e.abrupt("return",{data:r.data.content,success:!0,total:r.data.totalElements});case 9:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"绑定公众号",toolBarRender:function(){return[(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(M.ZP,{type:"primary",onClick:L,icon:(0,I.jsx)(D.Z,{}),children:"添加微信公众号"}),!1,(0,I.jsx)(M.ZP,{icon:(0,I.jsx)(x.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechatmp")},children:"微信公众号对接文档"})]})]}}),P,o&&(0,I.jsx)(E.Z,{isEdit:v,open:o,wechatmp:l,onClose:function(){r(!1)},onSubmit:function(e){console.log("onDrawerSubmit:",e),v?_(e):V(e)}})]})},X=["current"],z=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,I.jsx)(s.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"name",hideInSearch:!0},{title:(0,I.jsx)(s.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0}],Y=function(e){e.type;var t=(0,s.useAccess)(),n=(0,i.useState)(!1),o=b()(n,2),r=o[0],u=o[1],a=((0,s.useIntl)(),(0,i.useRef)()),l=(0,C.u)((function(e){return e.currentOrg})),d=[].concat(z),c=function(){u(!0)};return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(s.Access,{accessible:t.canDebug(),fallback:(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(s.FormattedMessage,{id:T.h5w})}),children:[(0,I.jsxs)(k.Z,{title:"Basic Modal",open:r,onOk:function(){u(!1)},onCancel:function(){u(!1)},children:[(0,I.jsx)("p",{children:"Some contents..."}),(0,I.jsx)("p",{children:"Some contents..."}),(0,I.jsx)("p",{children:"Some contents..."})]}),(0,I.jsx)(Z.Z,{columns:d,actionRef:a,cardBordered:!0,request:function(){var e=q()(p()().mark((function e(t,n,i){var o,s,r;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,i),t.current,o=w()(t,X),s=h()({pageNumber:t.current-1,orgUid:null==l?void 0:l.uid},o),e.next=5,(0,A.H)(s);case 5:return r=e.sent,console.log("queryInvoiceByOrg response:",r),200===r.code||U.yw.error(r.message),e.abrupt("return",{data:r.data.content,success:!0,total:r.data.totalElements});case 9:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"绑定微信客服",toolBarRender:function(){return[(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(M.ZP,{type:"primary",onClick:c,children:"添加微信客服"}),(0,I.jsx)(M.ZP,{icon:(0,I.jsx)(x.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"微信客服对接文档"})]})]}})]})})},$=function(e){var t=e.type,n=(0,s.useIntl)(),i=[{key:"wechat-mp",label:n.formatMessage({id:"channel.social.wechat.mp"}),children:(0,I.jsx)(L,{type:t})},{key:"wechat-mini",label:n.formatMessage({id:"channel.social.wechat.mini"}),children:(0,I.jsx)(W,{type:t})},{key:"wechat-com",label:n.formatMessage({id:"channel.social.wechat.work"}),children:(0,I.jsx)(_,{type:t})},{key:"wechat-kefu",label:n.formatMessage({id:"channel.social.wechat.kefu"}),children:(0,I.jsx)(Y,{type:t})},{key:"douyin",label:n.formatMessage({id:"channel.social.douyin"}),children:(0,I.jsx)(g.Z,{})},{key:"xiaohongshu",label:n.formatMessage({id:"channel.social.xiaohongshu"}),children:(0,I.jsx)(c.Z,{})},{key:"baidu",label:n.formatMessage({id:"channel.social.baidu"}),children:(0,I.jsx)(d.Z,{})},{key:"weibo",label:n.formatMessage({id:"channel.social.weibo"}),children:(0,I.jsx)(l.Z,{})},{key:"bili",label:n.formatMessage({id:"channel.social.bilibili"}),children:(0,I.jsx)(a.Z,{})},{key:"zhihu",label:n.formatMessage({id:"channel.social.zhihu"}),children:(0,I.jsx)(r.Z,{})}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(u.Z,{type:t}),(0,I.jsx)(o.Z,{tabPosition:"left",items:i})]})}},53038:function(e,t,n){var i=n(30921),o=n(31549);t.Z=function(e){e.type,(0,i.useIntl)();return(0,o.jsx)(o.Fragment,{})}},6631:function(e,t,n){n.d(t,{G:function(){return g}});var i=n(73193),o=n.n(i),s=(n(44194),n(30348)),r=n(55735),u=n(28977),a=n.n(u),l=n(86803),d=n(44521),c=n(31549),g=function(e){var t=e.children,n=e.onSuccess,i=e.onError,u={file:null,file_name:"test.png",file_type:"image/png",is_avatar:"true",kb_type:r.IrL,category_uid:"",kb_uid:"",client:r.bVn},g={name:"file",accept:"image/*",action:(0,d.M$)(),headers:{Authorization:"Bearer "+localStorage.getItem(r.LA8)},data:u,showUploadList:!1,beforeUpload:function(e){console.log("beforeUpload",e);var t=a()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name;u.file=e,u.file_name=t,u.file_type=e.type,console.log("beforeUpload",u)},onChange:function(e){if("uploading"!==e.file.status&&console.log("not uploading:",e.file),"done"===e.file.status)if(console.log("response: ",e.file.response),200===e.file.response.code){var t=e.file.response.data.fileUrl;n(t),l.yw.success("".concat(e.file.name," 上传成功"))}else i(e.file),l.yw.error("".concat(e.file.name," 上传失败"));else"error"===e.file.status&&(l.yw.error("".concat(e.file.name," 上传失败")),i(e.file))}};return(0,c.jsx)(s.Z,o()(o()({},g),{},{children:t}))}}}]);