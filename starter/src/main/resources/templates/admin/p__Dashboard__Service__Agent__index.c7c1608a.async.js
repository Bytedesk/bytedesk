"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1642],{26813:function(Ie,w,n){n.r(w),n.d(w,{default:function(){return pe}});var S=n(21612),A=n(67294),z=n(48096),G=n(15009),C=n.n(G),Y=n(99289),E=n.n(Y),N=n(5574),F=n.n(N),D=n(80049),x=n(30694),B=n(34994),H=n(62370),W=n(77636),I=n(5966),L=n(90672),O=n(86745),m=n(8232),R=n(7134),K=n(27484),J=n.n(K),e=n(85893),Q=function(){var u=m.Z.useForm(),c=F()(u,1),a=c[0],v=(0,O.useIntl)(),r=(0,x.E)(function(d){return d.currentAgent});(0,A.useEffect)(function(){var d=x.E.subscribe(function(t){a.setFieldValue("nickname",t.currentAgent.nickname),a.setFieldValue("avatar",t.currentAgent.avatar),a.setFieldValue("email",t.currentAgent.email),a.setFieldValue("mobile",t.currentAgent.mobile),a.setFieldValue("description",t.currentAgent.description)});return d},[r]);var g={file_name:"test.png",username:"",type:"",kbname:"",client:"web"},j={name:"file",action:"/api/v1/upload/file",showUploadList:!1,data:g,beforeUpload:function(t){console.log("file:",t," uploadData:",g);var l=J()(new Date).format("YYYYMMDDHHmmss");return g.file_name=l+t.name,!0},onChange:function(t){if(t.file.status!=="uploading"&&console.log(t.file,t.fileList),t.file.status==="done"){var l=t.file.response.data;console.log("url: ",l),D.yw.success("".concat(t.file.name," file uploaded successfully"))}else t.file.status==="error"&&D.yw.error("".concat(t.file.name," file upload failed."))}};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(B.A,{form:a,style:{marginLeft:"100px"},onFinish:function(){var d=E()(C()().mark(function t(l){return C()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:console.log("onFinish:",l);case 1:case"end":return b.stop()}},t)}));return function(t){return d.apply(this,arguments)}}(),initialValues:{nickname:r==null?void 0:r.nickname,email:r==null?void 0:r.email,mobile:r==null?void 0:r.mobile,avatar:r==null?void 0:r.avatar,description:r==null?void 0:r.description},children:[(0,e.jsxs)(H.Z,{name:"avatar",label:"\u5934\u50CF",children:[(0,e.jsx)(R.C,{src:r.avatar}),(0,e.jsx)(W.Z,{})]}),(0,e.jsx)(I.Z,{width:"md",name:"nickname",label:"\u5BA2\u670D\u6635\u79F0"}),(0,e.jsx)(I.Z,{width:"md",name:"email",label:"\u90AE\u7BB1"}),(0,e.jsx)(I.Z,{width:"md",name:"mobile",label:"\u624B\u673A\u53F7"}),(0,e.jsx)(L.Z,{width:"md",name:"description",label:"\u63CF\u8FF0"})]})})},X=Q,q=function(){var u=m.Z.useForm(),c=F()(u,1),a=c[0],v=(0,x.E)(function(r){return r.currentAgent});return(0,A.useEffect)(function(){var r=x.E.subscribe(function(g){a.setFieldValue("welcomeTip",g.currentAgent.welcomeTip)});return r},[v]),(0,e.jsx)(B.A,{form:a,style:{marginLeft:"100px"},initialValues:{welcomeTip:v.welcomeTip},children:(0,e.jsx)(L.Z,{width:"md",name:"welcomeTip",label:"\u6B22\u8FCE\u8BED"})})},_=q,V=n(14726),ee=function(){var u=m.Z.useForm(),c=F()(u,1),a=c[0],v=(0,x.E)(function(t){return t.currentAgent}),r=(0,A.useMemo)(function(){return"http://localhost:9006/?t=1&sid="+v.uid+"&"},[v]);(0,A.useEffect)(function(){var t=x.E.subscribe(function(l){console.log("currentAgent code:",l.currentAgent),a.setFieldValue("code","http://localhost:9006/?t=1&sid="+l.currentAgent.uid+"&")});return t},[v]);var g=function(){window.open(r)},j=function(){navigator.clipboard.writeText(r),D.yw.info("code copyied into clicpboard")},d=function(l,f){return[(0,e.jsx)(V.ZP,{type:"primary",onClick:function(){var y;(y=l.form)===null||y===void 0||y.submit(),g()},children:"\u6253\u5F00"},"submit"),(0,e.jsx)(V.ZP,{onClick:function(){j()},children:"\u590D\u5236"},"reset")]};return(0,e.jsx)(B.A,{form:a,style:{marginLeft:"100px"},submitter:{render:d},initialValues:{code:r},children:(0,e.jsx)(L.Z,{width:"md",name:"code",label:"\u5BA2\u670D\u4EE3\u7801"})})},ne=ee,M=n(78045),te=function(){var u=m.Z.useForm(),c=F()(u,1),a=c[0],v=(0,x.E)(function(l){return l.currentAgent}),r=(0,A.useState)(!1),g=F()(r,2),j=g[0],d=g[1],t=function(f){console.log("radio checked",f.target.value),d(f.target.value)};return(0,A.useEffect)(function(){var l=x.E.subscribe(function(f){a.setFieldValue("nickname",f.currentAgent.nickname)});return l},[v]),(0,e.jsx)(m.Z,{form:a,style:{marginLeft:"100px"},children:(0,e.jsx)(m.Z.Item,{label:"\u673A\u5668\u4EBA",children:(0,e.jsxs)(M.ZP.Group,{onChange:t,value:j,children:[(0,e.jsx)(M.ZP,{value:!0,children:"\u5F00\u542F"}),(0,e.jsx)(M.ZP,{value:!1,children:"\u5173\u95ED"})]})})})},re=te,ae=function(){var u=(0,O.useIntl)(),c=function(r){console.log(r)},a=[{key:"basic",label:u.formatMessage({id:"pages.robot.tab.basic",defaultMessage:"Basic"}),children:(0,e.jsx)(X,{})},{key:"tip",label:"\u6B22\u8FCE\u8BED",children:(0,e.jsx)(_,{})},{key:"robot",label:"\u673A\u5668\u4EBA",children:(0,e.jsx)(re,{})},{key:"code",label:"\u5BA2\u670D\u4EE3\u7801",children:(0,e.jsx)(ne,{})}];return(0,e.jsx)(z.Z,{defaultActiveKey:"1",items:a,onChange:c})},le=ae,se=n(3418),oe=n(39825),ue=n(87676),ie=n(64789),T=n(96365),ce=n(86250),$=n(2487),de=n(85576),me=T.Z.Search,ve=function(){var u=m.Z.useForm(),c=F()(u,1),a=c[0],v=(0,oe.Z)(),r=v.isDarkMode,g=(0,A.useState)(!1),j=F()(g,2),d=j[0],t=j[1],l=(0,ue.u)(function(s){return s.orgCurrent}),f=(0,x.E)(function(s){return{agents:s.agents,currentAgent:s.currentAgent,createAgent:s.createAgent,setAgents:s.setAgents,setCurrentAgent:s.setCurrentAgent}}),b=f.agents,y=f.currentAgent,Fe=f.createAgent,je=f.setAgents,be=f.setCurrentAgent,Ce=function(){var s=E()(C()().mark(function o(){var h,i;return C()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return h={pageNumber:0,pageSize:10,orgUid:l.uid},p.next=3,(0,se.W)(h);case 3:i=p.sent,console.log("get agents",i),i.code===200&&i.data.content.length>0&&je(i.data.content);case 6:case"end":return p.stop()}},o)}));return function(){return s.apply(this,arguments)}}();(0,A.useEffect)(function(){Ce()},[]);var Ze=function(){t(!0)},ye=function(){var s=E()(C()().mark(function o(){var h,i,U,p,k;return C()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:h=a.getFieldValue("nickname"),i=a.getFieldValue("email"),U=a.getFieldValue("mobile"),p=a.getFieldValue("password"),k={nickname:h,email:i,mobile:U,password:p,orgUid:l.uid},Fe(k),t(!1);case 7:case"end":return P.stop()}},o)}));return function(){return s.apply(this,arguments)}}(),Te=function(){t(!1)},Se=function(){Ze()},Ee=function(o,h){be(o)},De=function(o,h){console.log("list on delete",o)},Be=function(o,h,i){return console.log(i==null?void 0:i.source,o)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(me,{placeholder:"input search text",onSearch:Be,style:{width:200}}),(0,e.jsx)(ce.Z,{gap:"small",wrap:"wrap",children:(0,e.jsx)(V.ZP,{type:"primary",size:"small",icon:(0,e.jsx)(ie.Z,{}),onClick:Se,children:"\u521B\u5EFA\u5BA2\u670D\u8D26\u53F7"})}),(0,e.jsx)($.Z,{itemLayout:"horizontal",dataSource:b,renderItem:function(o,h){return(0,e.jsx)($.Z.Item,{style:y.uid===o.uid?{backgroundColor:r?"#333333":"#dddddd",cursor:"pointer"}:{cursor:"pointer"},actions:y.uid===o.uid?[(0,e.jsx)("a",{onClick:function(){return De(o,h)},children:"\u5220\u9664"},"list-delete")]:[],onClick:function(){return Ee(o,h)},children:(0,e.jsx)($.Z.Item.Meta,{style:{marginLeft:"10px"},avatar:(0,e.jsx)(R.C,{src:o.avatar}),title:o.nickname})})}}),(0,e.jsx)(de.Z,{title:"\u521B\u5EFA\u5BA2\u670D",open:d,onOk:ye,onCancel:Te,children:(0,e.jsxs)(m.Z,{form:a,name:"agentForm",style:{maxWidth:400},children:[(0,e.jsx)(m.Z.Item,{label:"\u5BA2\u670D\u6635\u79F0",name:"nickname",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6635\u79F0!"}],children:(0,e.jsx)(T.Z,{})}),(0,e.jsx)(m.Z.Item,{label:"\u90AE\u7BB1",name:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1!"}],children:(0,e.jsx)(T.Z,{})}),(0,e.jsx)(m.Z.Item,{label:"\u624B\u673A\u53F7",name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"}],children:(0,e.jsx)(T.Z,{})}),(0,e.jsx)(m.Z.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:(0,e.jsx)(T.Z,{})})]})})]})},ge=ve,fe=n(77154),he=S.Z.Sider,Ae=S.Z.Content,xe=function(){var u=(0,fe.Z)(),c=u.leftSiderStyle,a=u.contentStyle;return(0,A.useEffect)(function(){},[]),(0,e.jsxs)(S.Z,{children:[(0,e.jsx)(he,{style:c,children:(0,e.jsx)(ge,{})}),(0,e.jsx)(S.Z,{children:(0,e.jsx)(Ae,{children:(0,e.jsx)(le,{})})})]})},pe=xe}}]);
