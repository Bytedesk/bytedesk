"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[9590],{58638:function(A,p,e){e.d(p,{Z:function(){return o}});var m=e(1413),a=e(67294),j={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},h=j,T=e(91146),v=function(x,c){return a.createElement(T.Z,(0,m.Z)((0,m.Z)({},x),{},{ref:c,icon:h}))},g=a.forwardRef(v),o=g},14101:function(A,p,e){e.d(p,{Nm:function(){return C},fk:function(){return o}});var m=e(15009),a=e.n(m),j=e(97857),h=e.n(j),T=e(99289),v=e.n(T),g=e(86745);function o(r){return f.apply(this,arguments)}function f(){return f=v()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("/api/v1/thread/org",{method:"GET",params:h()({},u)}));case 1:case"end":return t.stop()}},r)})),f.apply(this,arguments)}function x(r){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function r(u){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/v1/thread/update",{method:"POST",data:_objectSpread({},u)}));case 1:case"end":return t.stop()}},r)})),c.apply(this,arguments)}function C(r){return b.apply(this,arguments)}function b(){return b=v()(a()().mark(function r(u){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("/api/v1/thread/close",{method:"POST",data:h()({},u)}));case 1:case"end":return t.stop()}},r)})),b.apply(this,arguments)}function I(r){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function r(u){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/v1/thread/delete",{method:"POST",data:_objectSpread({},u)}));case 1:case"end":return t.stop()}},r)})),O.apply(this,arguments)}function B(r){return S.apply(this,arguments)}function S(){return S=_asyncToGenerator(_regeneratorRuntime().mark(function r(u){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/v1/thread/export",{method:"GET",params:_objectSpread({},u)}));case 1:case"end":return t.stop()}},r)})),S.apply(this,arguments)}},33209:function(A,p,e){e.r(p),e.d(p,{default:function(){return N}});var m=e(77154),a=e(21612),j=e(97857),h=e.n(j),T=e(13769),v=e.n(T),g=e(15009),o=e.n(g),f=e(99289),x=e.n(f),c=e(80049),C=e(14101),b=e(87676),I=e(85615),O=e(58638),B=e(96853),S=e(86745),r=e(14726),u=e(67294),n=e(85893),t=["current"],G=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u8BBF\u5BA2",dataIndex:"user",render:function(R,D){var i;return(i=D.user)===null||i===void 0?void 0:i.nickname}},{title:"\u7C7B\u578B",dataIndex:"type",hideInSearch:!0},{title:"\u672A\u8BFB\u6570",dataIndex:"unreadCount",hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"status",copyable:!0},{title:"\u6765\u6E90",dataIndex:"client"},{title:"\u66F4\u65B0\u65F6\u95F4",key:"updatedAt",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0}],K=function(){var R=(0,S.useIntl)(),D=(0,u.useRef)(),i=(0,b.u)(function(l){return l.orgCurrent}),H=[].concat(G,[{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(d,s,P,_){return[(0,n.jsx)("a",{onClick:function(){},children:"\u4FEE\u6539"},"editable")]}}]),V=function(){var l=x()(o()().mark(function d(){var s;return o()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:console.log("handleExportExcel"),s=localStorage.getItem(I.LA),window.open("/api/v1/thread/export?uid="+i.uid+"pageNumber=0&pageSize=20&accessToken="+s);case 3:case"end":return _.stop()}},d)}));return function(){return l.apply(this,arguments)}}();return(0,n.jsx)(B.Z,{columns:H,actionRef:D,cardBordered:!0,request:function(){var l=x()(o()().mark(function d(s,P,_){var Z,W,M,E;return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return console.log("request:",s,P,_),Z=s.current,W=v()(s,t),M=h()({pageNumber:s.current-1,orgUid:i.uid},W),y.next=5,(0,C.fk)(M);case 5:return E=y.sent,console.log("getAllThreads response:",M,E),E.code===200||c.yw.error(E.message),y.abrupt("return",{data:E.data.content,success:!0,total:E.data.totalElements});case 9:case"end":return y.stop()}},d)}));return function(d,s,P){return l.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(d){console.log("page:",d)}},dateFormatter:"string",headerTitle:"\u90AE\u4EF6",toolBarRender:function(){return[(0,n.jsx)(r.ZP,{icon:(0,n.jsx)(O.Z,{}),type:"primary",onClick:V,children:R.formatMessage({id:"export",defaultMessage:"Export"})},"button")]}})},L=K,$=e(52670),k=a.Z.Sider,z=a.Z.Content,F=function(){var R=(0,m.Z)(),D=R.leftSiderStyle,i=R.contentStyle;return(0,n.jsx)("div",{children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(k,{style:D,children:(0,n.jsx)($.Z,{type:I.ac})}),(0,n.jsx)(a.Z,{children:(0,n.jsx)(z,{style:i,children:(0,n.jsx)(L,{})})})]})})},N=F}}]);
