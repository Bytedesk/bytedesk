"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8185],{61124:function(e,n,t){t.d(n,{Kq:function(){return u},RL:function(){return j}});var i=t(90819),r=t.n(i),l=t(73193),s=t.n(l),a=t(89933),c=t.n(a),o=t(77667),d=t(7206);function u(e){return x.apply(this,arguments)}function x(){return(x=c()(r()().mark((function e(n){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/org/create",{method:"POST",data:s()(s()({},n),{},{client:o.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return h.apply(this,arguments)}function h(){return(h=c()(r()().mark((function e(n){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/org/update",{method:"POST",data:s()(s()({},n),{},{client:o.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},62538:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var i=t(90819),r=t.n(i),l=t(89933),s=t.n(l),a=t(45332),c=t.n(a),o=t(89756),d=t(61124),u=t(40431),x=t(77667),j=t(74828),h=t(7206),Z=t(64476),f=t(19140),p=t(44194),g=t(50571),v=t(73193),y=t.n(v),m=t(72434),b=t(50477),k=t(82835),w=t(40751),F=t(56337),A=t(51338),C=t(31549),S=function(){var e=(0,h.useAccess)(),n=(0,p.useState)([]),t=c()(n,2),i=t[0],r=t[1];(0,p.useEffect)((function(){l()}),[]);var l=function(){fetch("https://gw.alipayobjects.com/os/bmw-prod/c48dbbb1-fccf-4a46-b68f-a3ddb4908b68.json").then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){console.log("fetch data failed",e)}))},s={data:i,xField:"date",yField:"value",colorField:"type",axis:{y:{labelFormatter:function(e){return"".concat(e).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}}},scale:{color:{range:["#30BF78","#F4664A","#FAAD14"]}},style:{lineWidth:2,lineDash:function(e){if("register"===e[0].type)return[4,4]},opacity:function(e){if("register"!==e[0].type)return.5}}};return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(h.Access,{accessible:e.canDebug(),fallback:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(h.FormattedMessage,{id:x.h5w})}),children:[(0,C.jsx)(m.Z,{orientation:"left",children:"人工会话数据"}),(0,C.jsxs)(b.Z,{children:[(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"正在排队人数",children:(0,C.jsx)(F.Z,{title:"正在排队人数",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"人工正在接待人数",children:(0,C.jsx)(F.Z,{title:"人工正在接待人数",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"人工已接待人数",children:(0,C.jsx)(F.Z,{title:"人工已接待人数",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"人工已接待会话数",children:(0,C.jsx)(F.Z,{title:"人工已接待会话数",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"预警会话量",children:(0,C.jsx)(F.Z,{title:"预警会话量",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"待处理留言量",children:(0,C.jsx)(F.Z,{title:"待处理留言量",value:0})})})]}),(0,C.jsx)(b.Z,{children:(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"当前在线接待客服数",children:(0,C.jsx)(F.Z,{title:"当前在线接待客服数",value:0})})})}),(0,C.jsx)(m.Z,{orientation:"left",children:"机器人会话数据"}),(0,C.jsxs)(b.Z,{children:[(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"机器人接待人次",children:(0,C.jsx)(F.Z,{title:"机器人接待人次",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"机器人接待会话量",children:(0,C.jsx)(F.Z,{title:"机器人接待会话量",value:0})})})]}),(0,C.jsx)(m.Z,{orientation:"left",children:"绩效考核指标"}),(0,C.jsxs)(b.Z,{children:[(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"3分钟人工回复率",children:(0,C.jsx)(F.Z,{title:"3分钟人工回复率",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"平均人工首次响应时长",children:(0,C.jsx)(F.Z,{title:"平均人工首次响应时长",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"平均人工响应时长",children:(0,C.jsx)(F.Z,{title:"平均人工响应时长",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"平均人工服务时长",children:(0,C.jsx)(F.Z,{title:"平均人工服务时长",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"平均排队等待时长",children:(0,C.jsx)(F.Z,{title:"平均排队等待时长",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"评价满意率",children:(0,C.jsx)(F.Z,{title:"评价满意率",value:0})})})]}),(0,C.jsx)(m.Z,{orientation:"left",children:"工单数据"}),(0,C.jsxs)(b.Z,{children:[(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"待分配工单",children:(0,C.jsx)(F.Z,{title:"待分配工单",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"处理中工单",children:(0,C.jsx)(F.Z,{title:"处理中工单",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"处理结束工单",children:(0,C.jsx)(F.Z,{title:"处理结束工单",value:0})})})]}),!1,(0,C.jsx)(m.Z,{orientation:"left",children:"接待分布时间折线图"}),(0,C.jsx)(A.Z,y()({},s))]})})},O=t(78603),P=t(41525),z=function(){var e=(0,h.useAccess)(),n={data:{type:"fetch",value:"https://gw.alipayobjects.com/os/antfincdn/iPY8JFnxdb/dodge-padding.json"},xField:"月份",yField:"月均降雨量",colorField:"name",group:!0,style:{inset:5}};return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(h.Access,{accessible:e.canDebug(),fallback:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(h.FormattedMessage,{id:x.h5w})}),children:[(0,C.jsx)(O.default,{onChange:function(e,n){console.log(e,n)}}),(0,C.jsx)(m.Z,{orientation:"left",children:"绩效考核数据"}),(0,C.jsxs)(b.Z,{children:[(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"30秒应答率",children:(0,C.jsx)(F.Z,{title:"30秒应答率",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"3分钟人工回复率",children:(0,C.jsx)(F.Z,{title:"3分钟人工回复率",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"评价满意率",children:(0,C.jsx)(F.Z,{title:"评价满意率",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"平均人工响应时长",children:(0,C.jsx)(F.Z,{title:"平均人工响应时长",value:0})})})]}),(0,C.jsx)(m.Z,{orientation:"left",children:"人工接待数据"}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"接待人次",children:(0,C.jsx)(F.Z,{title:"接待人次",value:0})})}),(0,C.jsx)(m.Z,{orientation:"left",children:"机器人接待数据"}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"接待人次",children:(0,C.jsx)(F.Z,{title:"接待人次",value:0})})}),(0,C.jsx)(m.Z,{orientation:"left",children:"工单数据"}),(0,C.jsx)(b.Z,{children:(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"处理数量",children:(0,C.jsx)(F.Z,{title:"处理数量",value:0})})})}),(0,C.jsx)(m.Z,{orientation:"left",children:"客服分布"}),(0,C.jsx)(P.Z,y()({},n)),(0,C.jsx)(m.Z,{orientation:"left",children:"渠道分布"}),(0,C.jsx)(P.Z,y()({},n)),(0,C.jsx)(m.Z,{orientation:"left",children:"地理位置分布"}),(0,C.jsx)(P.Z,y()({},n))]})})},D=t(95943),I=t(62599),L=t(9486),N=[{title:"Name",dataIndex:"name",key:"name",render:function(e){return(0,C.jsx)("a",{children:e})}},{title:"Age",dataIndex:"age",key:"age"},{title:"Address",dataIndex:"address",key:"address"},{title:"Tags",key:"tags",dataIndex:"tags",render:function(e,n){var t=n.tags;return(0,C.jsx)(C.Fragment,{children:t.map((function(e){var n=e.length>5?"geekblue":"green";return"loser"===e&&(n="volcano"),(0,C.jsx)(D.Z,{color:n,children:e.toUpperCase()},e)}))})}},{title:"Action",key:"action",render:function(e,n){return(0,C.jsxs)(I.Z,{size:"middle",children:[(0,C.jsxs)("a",{children:["Invite ",n.name]}),(0,C.jsx)("a",{children:"Delete"})]})}}],q=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",tags:["nice","developer"]},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park",tags:["loser"]},{key:"3",name:"Joe Black",age:32,address:"Sydney No. 1 Lake Park",tags:["cool","teacher"]}],B=function(){var e=(0,h.useAccess)();return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(h.Access,{accessible:e.canDebug(),fallback:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(h.FormattedMessage,{id:x.h5w})}),children:[(0,C.jsx)(m.Z,{orientation:"left",children:"绩效考核数据"}),(0,C.jsxs)(b.Z,{children:[(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"首响超时率",children:(0,C.jsx)(F.Z,{title:"首响超时率",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"应答超时率",children:(0,C.jsx)(F.Z,{title:"应答超时率",value:0})})}),(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"评价不满意率",children:(0,C.jsx)(F.Z,{title:"评价不满意率",value:0})})})]}),(0,C.jsx)(m.Z,{orientation:"left",children:"工单数据"}),(0,C.jsx)(b.Z,{children:(0,C.jsx)(k.Z,{span:4,children:(0,C.jsx)(w.Z,{title:"超时",children:(0,C.jsx)(F.Z,{title:"超时",value:0})})})}),(0,C.jsx)(m.Z,{orientation:"left",children:"预警明细"}),(0,C.jsx)(L.Z,{columns:N,dataSource:q})]})})},J=t(83730),M=t(12265),T=Z.Z.Content,V=function(e){console.log(e)},E=[{key:"today",label:"今日实时",children:(0,C.jsx)(S,{})},{key:"history",label:"历史数据",children:(0,C.jsx)(z,{})},{key:"warn",label:"预警数据",children:(0,C.jsx)(B,{})}],K={marginLeft:20,marginTop:10,marginRight:20},R=function(){var e=(0,h.useNavigate)(),n=((0,h.useModel)("@@initialState").initialState||{}).userInfo,t=(0,u.u)((function(e){return e.setCurrentOrg})),i=(0,p.useState)(!1),l=c()(i,2),a=l[0],v=l[1],y=(0,p.useState)(""),m=c()(y,2),b=m[0],k=m[1],w=(0,p.useState)(!1),F=c()(w,2),A=F[0],S=F[1],O=(0,p.useState)(!1),P=c()(O,2),z=P[0],D=P[1],I=function(){var e=s()(r()().mark((function e(){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n){e.next=2;break}return e.abrupt("return");case 2:if(null!==(null==n?void 0:n.currentOrganization)&&void 0!==(null==n?void 0:n.currentOrganization)){e.next=6;break}return console.log("before initOrganization",n),(null==n?void 0:n.platform)===x.Ogg&&D(!0),e.abrupt("return");case 6:console.log("after initOrganization"),t(null==n?void 0:n.currentOrganization);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=s()(r()().mark((function e(){var i,l,s;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==b){e.next=3;break}return o.yw.error("请输入组织名称"),e.abrupt("return");case 3:return v(!0),o.yw.loading("创建组织中，请稍后..."),i=null!=n&&n.mobile?null==n?void 0:n.mobile:null==n?void 0:n.email,l={name:b,code:i,logo:"https://www.weiyuai.cn/logo.png",description:b+"description"},e.next=9,(0,d.Kq)(l);case 9:s=e.sent,console.log("createOrg response:",s),200===s.code?(v(!1),t(s.data),o.yw.destroy(),o.yw.success("创建组织成功"),D(!1),window.location.reload()):(v(!1),o.yw.destroy(),o.yw.error(s.message));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){I(),null!=n&&n.emailVerified||null!=n&&n.mobileVerified||(console.log("before verifyAccount",n),o.yw.error("请先验证邮箱和手机号"),e("/setting/certification")),(0,j.Bc)()&&console.log("weiyuaiSaas")}),[n]),(0,C.jsx)(Z.Z,{children:(0,C.jsxs)(T,{style:K,children:[(0,C.jsx)(g.Z,{defaultActiveKey:"today",items:E,onChange:V}),(0,C.jsxs)(J.Z,{title:"未发现所在组织",open:z,onOk:L,onCancel:function(){o.yw.error("请创建或加入组织")},maskClosable:!1,footer:[(0,C.jsx)(M.ZP,{type:"primary",onClick:function(){D(!1)},disabled:!0,children:"加入已有组织(即将上线)"},"join"),(0,C.jsx)(M.ZP,{type:"primary",loading:a,onClick:function(){A?L():(S(!0),v(!1))},children:"创建组织"},"create")],children:[(0,C.jsx)("p",{children:"您需要创建或加入已有组织"}),A&&(0,C.jsx)(f.Z,{placeholder:"请输入组织名称",value:b,onChange:function(e){return k(e.target.value)},onPressEnter:L})]})]})})}}}]);