"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[9967],{60150:function(e,t,s){s.d(t,{RU:function(){return u},xL:function(){return m}});var i=s(90819),a=s.n(i),r=s(73193),n=s.n(r),d=s(89933),o=s.n(d),l=s(55735),c=s(30921);function u(e){return x.apply(this,arguments)}function x(){return(x=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/service/statistic/query/date",{method:"GET",params:n()(n()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/service/statistic/calculate",{method:"POST",data:n()(n()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},74317:function(e,t,s){s.r(t);var i=s(90819),a=s.n(i),r=s(89933),n=s.n(r),d=s(45332),o=s.n(d),l=s(44194),c=s(98123),u=s(44781),x=s(62673),m=s(3849),v=s(67402),g=s(88996),j=s(75365),f=s(88201),p=s(5602),h=s(59485),y=s(7875),Z=s(61107),M=s(80556),F=s(58791),k=s(58368),w=s(86994),b=s(48004),T=s(93689),R=s(429),S=s(27995),C=s(24429),Y=s(34545),O=s(25640),A=s(52294),P=s(86803),U=s(40612),D=s(1902),I=s(95490),q=s(24170),W=s(76750),B=s(72614),E=s(55735),H=s(28977),G=s.n(H),V=s(30921),z=s(5939),L=s(24562),N=s(21499),$=s(89717),_=s(10737),J=s(60150),K=s(32327),Q=s(44521),X=s(31549),ee=K.Z.Title,te=c.default.RangePicker,se=u.Z.Option;t.default=function(){var e,t,s=(0,V.useIntl)(),i=(0,W.Z)().translateStringTranct,r=(0,l.useState)(G()().startOf("day")),d=o()(r,2),c=d[0],H=d[1],K=(0,l.useState)(G()().endOf("day")),ie=o()(K,2),ae=ie[0],re=ie[1],ne=(0,l.useState)("today"),de=o()(ne,2),oe=de[0],le=de[1],ce=(0,l.useState)(E.AOk),ue=o()(ce,2),xe=ue[0],me=ue[1],ve=(0,l.useState)(),ge=o()(ve,2),je=ge[0],fe=ge[1],pe=(0,l.useState)(),he=o()(pe,2),ye=he[0],Ze=he[1],Me=(0,U.u)((function(e){return e.currentOrg})),Fe=(0,D.E)((function(e){return e})),ke=Fe.agentResult,we=Fe.setAgentResult,be=(0,I.$)((function(e){return e})),Te=be.workgroupResult,Re=be.setWorkgroupResult,Se=(0,l.useState)(),Ce=o()(Se,2),Ye=Ce[0],Oe=Ce[1],Ae=(0,l.useState)(E.OwA),Pe=o()(Ae,2),Ue=Pe[0],De=Pe[1],Ie=(0,l.useState)(!1),qe=o()(Ie,2),We=(qe[0],qe[1]),Be=[{label:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}],Ee=[{type:s.formatMessage({id:"service.statistic.status.online"}),value:8},{type:s.formatMessage({id:"service.statistic.status.busy"}),value:5},{type:s.formatMessage({id:"service.statistic.status.away"}),value:2},{type:s.formatMessage({id:"service.statistic.status.offline"}),value:3}],He=[{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.agent"}),dataIndex:"name",key:"name"},{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.onlineTime"}),dataIndex:"onlineTime",key:"onlineTime"},{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.sessionCount"}),dataIndex:"sessionCount",key:"sessionCount"},{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.avgResponseTime"}),dataIndex:"avgResponseTime",key:"avgResponseTime"},{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.avgSessionTime"}),dataIndex:"avgSessionTime",key:"avgSessionTime"},{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.satisfaction"}),dataIndex:"satisfaction",key:"satisfaction"},{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.workingHours"}),dataIndex:"workingHours",key:"workingHours"},{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.transferRate"}),dataIndex:"transferRate",key:"transferRate"},{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.firstResolutionRate"}),dataIndex:"firstResolutionRate",key:"firstResolutionRate"},{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.table.overdueCount"}),dataIndex:"overdueCount",key:"overdueCount"}];(0,l.useEffect)((function(){if("custom"===oe)H(c),re(ae),De(E.dd4);else{var e=G()();"today"===oe?(H(e),re(e),De(E.OwA)):"yesterday"===oe?(H(e.subtract(1,"day")),re(e.subtract(1,"day")),De(E.OwA)):"week"===oe?(H(e.startOf("week")),re(e.endOf("week")),De(E.dd4)):"lastWeek"===oe?(H(e.subtract(1,"week").startOf("week")),re(e.subtract(1,"week").endOf("week")),De(E.dd4)):"month"===oe&&(H(e.startOf("month")),re(e.endOf("month")),De(E.dd4))}}),[oe]);var Ge=function(){var e=n()(a()().mark((function e(){var t,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.yw.loading("loading"),t={pageNumber:0,pageSize:50,orgUid:null==Me?void 0:Me.uid},e.next=4,(0,B.u7)(t);case 4:s=e.sent,console.log("fetchAllWorkgroups: ",s),200===s.code?(P.yw.destroy(),Re(s),s.data.content.length>0&&Ze(s.data.content[0].uid)):(P.yw.destroy(),P.yw.error(s.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=n()(a()().mark((function e(){var t,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.yw.loading("loading"),t={pageNumber:0,pageSize:50,orgUid:null==Me?void 0:Me.uid},e.next=4,(0,q._t)(t);case 4:s=e.sent,console.log("fetchAllAgents: ",s),200===s.code?(P.yw.destroy(),we(s),s.data.content.length>0&&fe(s.data.content[0].uid)):(P.yw.destroy(),P.yw.error(i(s.message))),console.log("queryAllAgents response",s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=n()(a()().mark((function e(){var t,i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return We(!0),e.prev=1,P.yw.loading("loading"),t={type:xe,statisticStartTime:null==c?void 0:c.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==ae?void 0:ae.format("YYYY-MM-DD 23:59:59"),workgroupUid:ye,agentUid:je,orgUid:null==Me?void 0:Me.uid},e.next=6,(0,J.RU)(t);case 6:i=e.sent,console.log("queryStatisticServicesByOrg response",i,t),200===i.code?(P.yw.destroy(),Oe(i.data)):(P.yw.destroy(),P.yw.error(i.message)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),P.yw.error(s.formatMessage({id:"ticket.message.operation.failed"}));case 14:return e.prev=14,We(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=n()(a()().mark((function e(){var t,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.yw.loading("loading"),t={type:xe,statisticStartTime:null==c?void 0:c.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==ae?void 0:ae.format("YYYY-MM-DD 23:59:59"),workgroupUid:ye,agentUid:je,orgUid:null==Me?void 0:Me.uid},e.next=4,(0,J.RU)(t);case 4:s=e.sent,console.log("queryStatisticServicesByOrg response",s,t),200===s.code?P.yw.destroy():(P.yw.destroy(),P.yw.error(s.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){Ge(),Ve()}),[]),(0,l.useEffect)((function(){ze()}),[xe,je,ye]),(0,l.useEffect)((function(){Le()}),[Ue,xe,je,ye]),(0,l.useEffect)((function(){ze()}),[c,ae]),(0,X.jsxs)("div",{style:{padding:16},children:[(0,X.jsx)(x.Z,{style:{marginBottom:16},children:(0,X.jsxs)(m.Z,{direction:"vertical",style:{width:"100%"},children:[(0,X.jsxs)(m.Z,{wrap:!0,children:[(0,X.jsx)(v.ZP.Group,{value:oe,onChange:function(e){return le(e.target.value)},children:Be.map((function(e){return(0,X.jsx)(v.ZP.Button,{value:e.value,children:e.label},e.value)}))}),"custom"===oe&&(0,X.jsx)(te,{value:[c,ae],onChange:function(e){H(e[0]),re(e[1])}})]}),(0,X.jsxs)(m.Z,{wrap:!0,children:[(0,X.jsxs)(u.Z,{placeholder:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.filter.type"}),style:{width:200},value:xe,onChange:function(e){return me(e)},children:[(0,X.jsx)(se,{value:E.AOk,children:(0,X.jsx)(V.FormattedMessage,{id:"i18n.all"})}),(0,X.jsx)(se,{value:E.pHh,children:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.filter.agent"})}),(0,X.jsx)(se,{value:E.ti4,children:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.filter.workgroup"})})]}),xe===E.pHh&&(0,X.jsx)(u.Z,{placeholder:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.filter.agent"}),style:{width:200},value:je,onChange:function(e){return fe(e)},children:null===(e=ke.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(e){return(0,X.jsx)(se,{value:null==e?void 0:e.uid,children:i(null==e?void 0:e.nickname)},null==e?void 0:e.uid)}))}),xe===E.ti4&&(0,X.jsx)(u.Z,{placeholder:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.filter.department"}),style:{width:200},value:ye,onChange:function(e){return Ze(e)},children:null===(t=Te.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return(0,X.jsx)(se,{value:null==e?void 0:e.uid,children:i(null==e?void 0:e.nickname)},null==e?void 0:e.uid)}))}),(0,X.jsx)(g.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.filter.export"}),children:(0,X.jsx)(j.ZP,{icon:(0,X.jsx)(Z.Z,{}),onClick:function(){var e=localStorage.getItem(E.LA8);window.open((0,Q.kG)()+"/api/v1/service/statistic/export?"+new URLSearchParams({type:xe,statisticStartTime:null==c?void 0:c.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==ae?void 0:ae.format("YYYY-MM-DD 23:59:59"),workgroupUid:ye,agentUid:je,orgUid:null==Me?void 0:Me.uid,accessToken:e||""}).toString())},children:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.filter.export"})})}),(0,X.jsx)(g.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.filter.refresh"}),children:(0,X.jsx)(j.ZP,{icon:(0,X.jsx)(M.Z,{}),onClick:function(){return ze()},children:(0,X.jsx)(V.FormattedMessage,{id:"ticket.statistic.filter.refresh"})})}),!1]})]})}),(0,X.jsxs)(f.Z,{gutter:24,children:[(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.onlineAgentCount"}),value:(null==Ye?void 0:Ye.onlineAgentCount)||0,prefix:(0,X.jsx)(F.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.person"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.offlineAgentCount"}),value:(null==Ye?void 0:Ye.offlineAgentCount)||0,prefix:(0,X.jsx)(k.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.person"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.queuingThreadCount"}),value:(null==Ye?void 0:Ye.queuingThreadCount)||0,prefix:(0,X.jsx)(F.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.person"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.currentThreadCount"}),value:(null==Ye?void 0:Ye.currentThreadCount)||0,prefix:(0,X.jsx)(w.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.session"})})})})]}),(0,X.jsxs)(f.Z,{gutter:24,style:{marginTop:24},children:[(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.maxResponseTime"}),value:(null==Ye?void 0:Ye.maxResponseTime)||0,prefix:(0,X.jsx)(b.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.seconds"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.minResponseTime"}),value:(null==Ye?void 0:Ye.minResponseTime)||0,prefix:(0,X.jsx)(b.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.seconds"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.avgFirstResponseTime"}),value:(null==Ye?void 0:Ye.avgFirstResponseTime)||0,prefix:(0,X.jsx)(b.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.seconds"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.avgWaitingTime"}),value:(null==Ye?void 0:Ye.avgWaitingTime)||0,prefix:(0,X.jsx)(b.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.seconds"})})})})]}),(0,X.jsxs)(f.Z,{gutter:24,style:{marginTop:24},children:[(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.totalIncomingThreads"}),value:(null==Ye?void 0:Ye.totalIncomingThreads)||0,prefix:(0,X.jsx)(w.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.session"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.acceptedThreadCount"}),value:(null==Ye?void 0:Ye.acceptedThreadCount)||0,prefix:(0,X.jsx)(T.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.session"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.acceptRate"}),value:(null==Ye?void 0:Ye.acceptRate)||0,prefix:(0,X.jsx)(T.Z,{}),suffix:"%"})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.firstSolveRate"}),value:(null==Ye?void 0:Ye.firstSolveRate)||0,prefix:(0,X.jsx)(R.Z,{}),suffix:"%"})})})]}),(0,X.jsxs)(f.Z,{gutter:24,style:{marginTop:24},children:[(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.robotThreadCount"}),value:(null==Ye?void 0:Ye.robotThreadCount)||0,prefix:(0,X.jsx)(S.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.session"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.robotToHumanCount"}),value:(null==Ye?void 0:Ye.robotToHumanCount)||0,prefix:(0,X.jsx)(C.Z,{}),suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.session"})})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.robotSolveRate"}),value:(null==Ye?void 0:Ye.robotSolveRate)||0,prefix:(0,X.jsx)(T.Z,{}),suffix:"%"})})}),(0,X.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,X.jsx)(x.Z,{bordered:!1,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.transferRate"}),value:(null==Ye?void 0:Ye.transferRate)||0,prefix:(0,X.jsx)(Y.Z,{}),suffix:"%"})})})]}),(0,X.jsxs)(x.Z,{style:{marginTop:24},children:[(0,X.jsx)(ee,{level:4,children:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.sessionDuration"})}),(0,X.jsxs)(f.Z,{gutter:24,children:[(0,X.jsx)(p.Z,{span:8,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.duration.within5min"}),value:(null==Ye?void 0:Ye.durationWithin5Min)||0,suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.sessions"})})}),(0,X.jsx)(p.Z,{span:8,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.duration.within15min"}),value:(null==Ye?void 0:Ye.durationWithin15Min)||0,suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.sessions"})})}),(0,X.jsx)(p.Z,{span:8,children:(0,X.jsx)(h.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.duration.over15min"}),value:(null==Ye?void 0:Ye.durationOver15Min)||0,suffix:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.unit.sessions"})})})]})]}),(0,X.jsxs)(f.Z,{gutter:[16,16],style:{marginTop:24},children:[(0,X.jsx)(p.Z,{span:12,children:(0,X.jsx)(x.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.trend"}),extra:(0,X.jsxs)(v.ZP.Group,{defaultValue:"day",children:[(0,X.jsx)(v.ZP.Button,{value:"day",children:"日"}),(0,X.jsx)(v.ZP.Button,{value:"week",children:"周"}),(0,X.jsx)(v.ZP.Button,{value:"month",children:"月"})]}),children:(0,X.jsx)(z.Z,{data:[{date:"2024-01-01",type:"总会话数",count:120},{date:"2024-01-02",type:"总会话数",count:132},{date:"2024-01-01",type:"已评价",count:89},{date:"2024-01-02",type:"已评价",count:98}],xField:"date",yField:"count",seriesField:"type",animation:{appear:{duration:1e3}}})})}),(0,X.jsx)(p.Z,{span:12,children:(0,X.jsx)(x.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.distribution"}),children:(0,X.jsx)(L.Z,{data:Ee,angleField:"value",colorField:"type",radius:.8,label:{style:{fontSize:12,fill:"#666"},autoRotate:!0},tooltip:{showTitle:!1,formatter:function(e){return{name:e.type||"",value:e.value?"".concat(e.value,"人"):""}}},legend:{position:"bottom",itemWidth:100},interactions:[{type:"element-active"}],animation:{appear:{duration:1e3}},height:300})})})]}),(0,X.jsxs)(f.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,X.jsx)(p.Z,{span:12,children:(0,X.jsx)(x.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.peakHours"}),children:(0,X.jsx)(N.Z,{data:[{hour:"09:00",day:"周一",value:28},{hour:"10:00",day:"周一",value:35}],xField:"hour",yField:"day",colorField:"value",animation:!1,legend:{position:"right"},tooltip:{title:"会话数",formatter:function(e){return{name:"".concat(e.day," ").concat(e.hour),value:e.value}}}})})}),(0,X.jsx)(p.Z,{span:12,children:(0,X.jsx)(x.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.ranking"}),extra:(0,X.jsxs)(u.Z,{defaultValue:"sessions",style:{width:120},children:[(0,X.jsx)(se,{value:"sessions",children:"会话量"}),(0,X.jsx)(se,{value:"satisfaction",children:"满意度"}),(0,X.jsx)(se,{value:"response",children:"响应时间"})]}),children:(0,X.jsx)($.Z,{data:[{agent:"客服A",sessions:156,satisfaction:4.8},{agent:"客服B",sessions:142,satisfaction:4.7}],xField:"agent",yField:"sessions",label:{position:"top"},animation:{appear:{duration:1e3}}})})})]}),(0,X.jsxs)(f.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,X.jsx)(p.Z,{span:12,children:(0,X.jsx)(x.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.comparison"}),extra:(0,X.jsxs)(m.Z,{children:[(0,X.jsxs)(u.Z,{defaultValue:"sessions",style:{width:120},children:[(0,X.jsx)(se,{value:"sessions",children:"会话量"}),(0,X.jsx)(se,{value:"satisfaction",children:"满意度"}),(0,X.jsx)(se,{value:"response",children:"响应时间"})]}),(0,X.jsxs)(v.ZP.Group,{defaultValue:"mom",children:[(0,X.jsx)(v.ZP.Button,{value:"mom",children:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.comparison.mom"})}),(0,X.jsx)(v.ZP.Button,{value:"yoy",children:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.comparison.yoy"})})]})]}),children:(0,X.jsx)($.Z,{data:[{date:"2024-01",type:"本期",metric:"会话量",value:1200},{date:"2024-01",type:"环比",metric:"会话量",value:1150},{date:"2024-01",type:"同比",metric:"会话量",value:980}],xField:"type",yField:"value",seriesField:"metric",isGroup:!0,columnStyle:{radius:[4,4,0,0]},label:{position:"top"}})})}),(0,X.jsx)(p.Z,{span:12,children:(0,X.jsx)(x.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.quality"}),children:(0,X.jsx)(_.Z,{data:[[{date:"2024-01-01",value:92,type:"实际"},{date:"2024-01-02",value:93,type:"实际"},{date:"2024-01-03",value:95,type:"实际"},{date:"2024-01-04",value:94,type:"实际"},{date:"2024-01-05",value:96,type:"实际"}],[{date:"2024-01-01",target:95},{date:"2024-01-02",target:95},{date:"2024-01-03",target:95},{date:"2024-01-04",target:95},{date:"2024-01-05",target:95}]],xField:"date",yField:["value","target"],geometryOptions:[{geometry:"column",columnStyle:{radius:[4,4,0,0]}},{geometry:"line",lineStyle:{lineWidth:2}}],legend:{itemName:{formatter:function(e){return"value"===e?s.formatMessage({id:"service.statistic.quality.actual"}):s.formatMessage({id:"service.statistic.quality.target"})}}},yAxis:{value:{min:80,max:100},target:{min:80,max:100}},tooltip:{formatter:function(e){return{name:e.target?s.formatMessage({id:"service.statistic.quality.target"}):s.formatMessage({id:"service.statistic.quality.actual"}),value:e.target||e.value}}},animation:{appear:{duration:1e3}}})})})]}),(0,X.jsx)(x.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.performance"}),style:{marginTop:24},extra:(0,X.jsxs)(m.Z,{children:[(0,X.jsx)(g.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.export.excel"}),children:(0,X.jsx)(j.ZP,{icon:(0,X.jsx)(O.Z,{})})}),(0,X.jsx)(g.Z,{title:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.export.pdf"}),children:(0,X.jsx)(j.ZP,{icon:(0,X.jsx)(A.Z,{})})})]}),children:(0,X.jsx)(y.Z,{columns:He,dataSource:[],scroll:{x:!0},size:"small",locale:{emptyText:(0,X.jsx)(V.FormattedMessage,{id:"service.statistic.tips.noData"})}})})]})}}}]);