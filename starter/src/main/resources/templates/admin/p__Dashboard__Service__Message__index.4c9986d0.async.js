"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2949],{70150:function(T,m,e){e.d(m,{tR:function(){return M}});var c=e(15009),u=e.n(c),E=e(97857),i=e.n(E),p=e(99289),o=e.n(p),l=e(85615),D=e(86745);function M(t){return O.apply(this,arguments)}function O(){return O=o()(u()().mark(function t(a){return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,D.request)("/api/v1/message/org",{method:"GET",params:i()(i()({},a),{},{client:l.bV})}));case 1:case"end":return _.stop()}},t)})),O.apply(this,arguments)}function b(t){return r.apply(this,arguments)}function r(){return r=_asyncToGenerator(_regeneratorRuntime().mark(function t(a){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("/api/user/robot",{method:"GET",params:{page:a.pageNumber,size:a.pageSize,client:HTTP_CLIENT}}));case 1:case"end":return _.stop()}},t)})),r.apply(this,arguments)}function d(t){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function t(a){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("/api/v1/message/rest/send",{method:"POST",data:{json:a,client:HTTP_CLIENT}}));case 1:case"end":return _.stop()}},t)})),s.apply(this,arguments)}},24172:function(T,m,e){e.d(m,{Kq:function(){return D},tn:function(){return r}});var c=e(97857),u=e.n(c),E=e(15009),i=e.n(E),p=e(99289),o=e.n(p),l=e(86745);function D(s){return M.apply(this,arguments)}function M(){return M=o()(i()().mark(function s(t){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/org",{method:"POST",data:{nickname:t,client:"web"}}));case 1:case"end":return n.stop()}},s)})),M.apply(this,arguments)}function O(s){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function s(t){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/v1/org/query",{method:"GET",params:_objectSpread(_objectSpread({},t),{},{client:"web"})}));case 1:case"end":return n.stop()}},s)})),b.apply(this,arguments)}function r(s){return d.apply(this,arguments)}function d(){return d=o()(i()().mark(function s(t){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/org/uid",{method:"GET",params:{uid:t,client:"web"}}));case 1:case"end":return n.stop()}},s)})),d.apply(this,arguments)}},7910:function(T,m,e){e.r(m);var c=e(15009),u=e.n(c),E=e(99289),i=e.n(E),p=e(5574),o=e.n(p),l=e(80049),D=e(70150),M=e(69888),O=e(87676),b=e(66955),r=e(67294),d=e(85893),s=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u7C7B\u578B",dataIndex:"type",copyable:!0},{title:"\u5185\u5BB9",dataIndex:"content",copyable:!0,ellipsis:!0},{title:"\u72B6\u6001",dataIndex:"status",copyable:!0},{title:"\u6765\u6E90",dataIndex:"client",copyable:!0},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(n,_,C,P){return[(0,d.jsx)("a",{onClick:function(){var j;P==null||(j=P.startEditable)===null||j===void 0||j.call(P,_.uid)},children:"\u7F16\u8F91"},"editable")]}}],t=function(){var n=(0,r.useRef)(),_=(0,r.useState)(1),C=o()(_,2),P=C[0],I=C[1],j=(0,r.useState)(10),B=o()(j,2),A=B[0],w=B[1],G=(0,r.useState)({}),K=o()(G,2),N=K[0],k=K[1],z=(0,O.u)(function(g){return g.orgCurrent}),W=(0,M.G)(function(g){return{messageResult:g.messageResult,setMessageResult:g.setMessageResult}}),y=W.messageResult,$=W.setMessageResult,L=function(){var g=i()(u()().mark(function R(){var v,f;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return v={pageNumber:P-1,pageSize:A,orgUid:z.uid},h.next=3,(0,D.tR)(v);case 3:f=h.sent,console.log("getAllMessages response:",v,f),f.code===200?$(f):l.yw.error(f.message);case 6:case"end":return h.stop()}},R)}));return function(){return g.apply(this,arguments)}}();return(0,r.useEffect)(function(){L()},[]),(0,r.useEffect)(function(){L()},[P,A]),(0,r.useEffect)(function(){console.log("messageResult:",y),n.current.reload()},[y]),(0,d.jsx)(b.Z,{columns:s,actionRef:n,cardBordered:!0,request:function(){var g=i()(u()().mark(function R(v,f,S){return u()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return console.log("request:",v,f,S),I(v.current),w(v.pageSize),U.abrupt("return",Promise.resolve({data:y.data.content,success:!0,total:y.data.totalElements}));case 4:case"end":return U.stop()}},R)}));return function(R,v,f){return g.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{pageSize:A,showQuickJumper:!0,onChange:function(R){console.log("page:",R)}},dateFormatter:"string",headerTitle:"\u5BA2\u670D\u6D88\u606F",toolBarRender:function(){return[]}})};m.default=t},69888:function(T,m,e){e.d(m,{G:function(){return i}});var c=e(64529),u=e(782),E=e(71381),i=(0,c.Ue)()((0,u.mW)((0,u.tJ)((0,E.n)(function(p,o){return{messageResult:{data:{content:[]}},setMessageResult:function(D){p({messageResult:D})},deleteMessageCache:function(){return p({},!0)}}}),{name:"MESSAGE_STORE"})))},87676:function(T,m,e){e.d(m,{u:function(){return M}});var c=e(15009),u=e.n(c),E=e(99289),i=e.n(E),p=e(24172),o=e(64529),l=e(782),D=e(71381),M=(0,o.Ue)()((0,l.mW)((0,l.tJ)((0,D.n)(function(O,b){return{orgCurrent:{uid:"",name:"",description:""},setOrgCurrent:function(d){O({orgCurrent:d})},createOrg:function(){var r=i()(u()().mark(function s(t){var a;return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,p.Kq)(t);case 2:a=_.sent,console.log("createOrg:",a),a.code==200;case 5:case"end":return _.stop()}},s)}));function d(s){return r.apply(this,arguments)}return d}(),deleteOrgCache:function(){return O({},!0)}}}),{name:"ORGANIZTION_STORE"})))}}]);
