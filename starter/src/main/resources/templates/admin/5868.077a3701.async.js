"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[5868],{50501:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(98037),o=n(75271),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},i=n(58720),u=function(e,t){return o.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:s}))};var l=o.forwardRef(u)},85946:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(98037),o=n(75271),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},i=n(58720),u=function(e,t){return o.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:s}))};var l=o.forwardRef(u)},35921:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(98037),o=n(75271),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},i=n(58720),u=function(e,t){return o.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:s}))};var l=o.forwardRef(u)},88138:function(e,t,n){var r=n(98037),o=n(53162),s=n(34873),i=n(74036),u=n(75271),l=n(78739),a=n(36795),c=n(52676),d=["options","fieldProps","proFieldProps","valueEnum"],v=u.forwardRef((function(e,t){var n=e.options,i=e.fieldProps,u=e.proFieldProps,l=e.valueEnum,v=(0,o.Z)(e,d);return(0,c.jsx)(a.Z,(0,r.Z)({ref:t,valueType:"checkbox",valueEnum:(0,s.h)(l,void 0),fieldProps:(0,r.Z)({options:n},i),lightProps:(0,r.Z)({labelFormatter:function(){return(0,c.jsx)(a.Z,(0,r.Z)({ref:t,valueType:"checkbox",mode:"read",valueEnum:(0,s.h)(l,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({options:n},i),proFieldProps:u},v))}},v.lightProps),proFieldProps:u},v))})),g=u.forwardRef((function(e,t){var n=e.fieldProps,o=e.children;return(0,c.jsx)(i.Z,(0,r.Z)((0,r.Z)({ref:t},n),{},{children:o}))})),p=(0,l.G)(g,{valuePropName:"checked"});p.Group=v,t.Z=p},69375:function(e,t,n){n.d(t,{$l:function(){return f},gf:function(){return m},lg:function(){return g},p0:function(){return d}});var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(96677),c=n(18735);function d(e){return v.apply(this,arguments)}function v(){return(v=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/query/org",{method:"GET",params:i()(i()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/create",{method:"POST",data:i()(i()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/update",{method:"POST",data:i()(i()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/delete",{method:"POST",data:i()(i()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},66279:function(e,t,n){n.d(t,{Yg:function(){return m},kh:function(){return g},pf:function(){return d},y:function(){return f}});var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(96677),c=n(18735);function d(e){return v.apply(this,arguments)}function v(){return(v=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/query/org",{method:"GET",params:i()(i()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/create",{method:"POST",data:i()(i()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/update",{method:"POST",data:i()(i()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/delete",{method:"POST",data:i()(i()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},354:function(e,t,n){n.d(t,{H:function(){return d}});var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(96677),c=n(18735);function d(e){return v.apply(this,arguments)}function v(){return(v=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/vip/invoice/query/org",{method:"GET",params:i()(i()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},65450:function(e,t,n){var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(39136),g=n(69375),p=n(17698),f=n(68252),h=n(22487),m=n(79705),w=n(96677),q=n(74730),F=n(15987),y=n(18735),k=n(75271),x=n(52676);t.Z=function(e){var t=e.type,n=(0,y.useIntl)(),r=q.A.useForm(),s=c()(r,1)[0],u=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),a=u.currentRobot,b=u.setCurrentRobot,S=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),j=S.currentAgent,U=S.setCurrentAgent,C=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Z=C.currentWorkgroup,A=C.setCurrentWorkgroup;(0,k.useEffect)((function(){var e;if(t===w._X4)s.setFieldsValue({showCaptcha:null==a||null===(e=a.serviceSettings)||void 0===e?void 0:e.showCaptcha});else if(t===w.Njn){var n;s.setFieldsValue({showCaptcha:null==j||null===(n=j.serviceSettings)||void 0===n?void 0:n.showCaptcha})}else if(t===w.aZD){var r;s.setFieldsValue({showCaptcha:null==Z||null===(r=Z.serviceSettings)||void 0===r?void 0:r.showCaptcha})}}),[a,j,Z]);var R=function(){var e=l()(o()().mark((function e(r){var s,u,l,c,f,h,m,q,F,y,k,x,S,C,R,M,W,P,T,I,V,E,O,N,H;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleCaptchaSubmit:",r),t!==w._X4){e.next=11;break}return h=i()(i()({},a),{},{serviceSettings:i()(i()({},a.serviceSettings),{},{showCaptcha:r.showCaptcha,faqUids:null==j||null===(s=j.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),quickFaqUids:null==a||null===(u=a.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==a||null===(l=a.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==a||null===(c=a.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==a||null===(f=a.serviceSettings)||void 0===f||null===(f=f.shortcutFaqs)||void 0===f?void 0:f.map((function(e){return e.uid}))})}),console.log("robotObject:",h),e.next=6,(0,g.$l)(h);case 6:m=e.sent,console.log("updateRobot response:",m),200===m.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),b(m.data)):(d.yw.destroy(),d.yw.error(m.message)),e.next=29;break;case 11:if(t!==w.Njn){e.next=21;break}return R=i()(i()({},j),{},{serviceSettings:i()(i()({},null==j?void 0:j.serviceSettings),{},{showCaptcha:r.showCaptcha,faqUids:null==j||null===(q=j.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid})),robotUid:null==j||null===(F=j.serviceSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid,quickFaqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==j||null===(k=j.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),hotFaqUids:null==j||null===(x=j.serviceSettings)||void 0===x||null===(x=x.hotFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(S=j.serviceSettings)||void 0===S||null===(S=S.shortcutFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),worktimeUids:null==j||null===(C=j.serviceSettings)||void 0===C||null===(C=C.worktimes)||void 0===C?void 0:C.map((function(e){return e.uid}))}),autoReplySettings:i()({},j.autoReplySettings)}),console.log("agentObject:",R),e.next=16,(0,v.sE)(R);case 16:M=e.sent,console.log("updateAgent response:",M),200===M.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),U(M.data)):(d.yw.destroy(),d.yw.error(M.message)),e.next=29;break;case 21:if(t!==w.aZD){e.next=29;break}return N=i()(i()({},Z),{},{serviceSettings:i()(i()({},Z.serviceSettings),{},{showCaptcha:r.showCaptcha,faqUids:null==j||null===(W=j.serviceSettings)||void 0===W||null===(W=W.faqs)||void 0===W?void 0:W.map((function(e){return e.uid})),robotUid:null===(P=Z.serviceSettings)||void 0===P||null===(P=P.robot)||void 0===P?void 0:P.uid,quickFaqUids:null===(T=Z.serviceSettings)||void 0===T||null===(T=T.quickFaqs)||void 0===T?void 0:T.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(I=Z.serviceSettings)||void 0===I||null===(I=I.guessFaqs)||void 0===I?void 0:I.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(V=Z.serviceSettings)||void 0===V||null===(V=V.hotFaqs)||void 0===V?void 0:V.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(E=Z.serviceSettings)||void 0===E||null===(E=E.shortcutFaqs)||void 0===E?void 0:E.map((function(e){return e.uid})),worktimeUids:null===(O=Z.serviceSettings)||void 0===O||null===(O=O.worktimes)||void 0===O?void 0:O.map((function(e){return e.uid}))}),agentUids:Z.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",N),e.next=26,(0,p.W5)(N);case 26:H=e.sent,console.log("updateWorkGroup response:",H),200===H.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),A(H.data)):(d.yw.destroy(),d.yw.error(H.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{children:(0,x.jsx)(q.A,{form:s,onFinish:R,children:(0,x.jsx)(F.Z,{width:"md",name:"showCaptcha",label:n.formatMessage({id:"showCaptcha",defaultMessage:"Show Captcha"})})})})}},25919:function(e,t,n){var r=n(26068),o=n.n(r),s=n(90228),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(66279),g=n(69375),p=n(51038),f=n(22487),h=n(29244),m=n(51770),w=n(50501),q=n(74730),F=n(15987),y=n(65948),k=n(18735),x=n(73465),b=n(58439),S=n(9593),j=n(75271),U=n(68252),C=n(79705),Z=n(96677),A=n(39136),R=n(17698),M=n(52676);t.Z=function(e){var t,n=e.type,r=q.A.useForm(),s=c()(r,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),W=(0,p.Z)().translateString,P=(0,h.u)((function(e){return e.currentOrg})),T=(0,j.useState)(),I=c()(T,2),V=I[0],E=I[1],O=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=O.currentRobot,H=O.setCurrentRobot,B=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=B.currentAgent,L=B.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),_=G.currentWorkgroup,$=G.setCurrentWorkgroup,X=function(){var e=l()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:P.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?E(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){X()}),[P]),(0,j.useEffect)((function(){var e,t;if(n===Z._X4)s.setFieldsValue({showFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showFaqs,faqUids:null==N||null===(t=N.serviceSettings)||void 0===t||null===(t=t.faqs)||void 0===t?void 0:t.map((function(e){return e.uid}))});else if(n===Z.Njn){var r,o;s.setFieldsValue({showFaqs:null==D||null===(r=D.serviceSettings)||void 0===r?void 0:r.showFaqs,faqUids:null==D||null===(o=D.serviceSettings)||void 0===o||null===(o=o.faqs)||void 0===o?void 0:o.map((function(e){return e.uid}))})}else if(n===Z.aZD){var i,u;s.setFieldsValue({showFaqs:null==_||null===(i=_.serviceSettings)||void 0===i?void 0:i.showFaqs,faqUids:null==_||null===(u=_.serviceSettings)||void 0===u||null===(u=u.faqs)||void 0===u?void 0:u.map((function(e){return e.uid}))})}}),[N,D,_]);var z=function(){var e=l()(i()().mark((function e(t){var r,s,l,a,c,v,p,f,h,m,w,q,F,y,k,x,b,S,j,U,C,M;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showFaqs:t.showFaqs,faqUids:t.faqUids,quickFaqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.quickFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),guessFaqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.guessFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})),hotFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.shortcutFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),H(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==Z.Njn){e.next=21;break}return F=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showFaqs:t.showFaqs,faqUids:t.faqUids,robotUid:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,quickFaqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.guessFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),hotFaqUids:null==D||null===(m=D.serviceSettings)||void 0===m||null===(m=m.hotFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),shortcutFaqUids:null==D||null===(w=D.serviceSettings)||void 0===w||null===(w=w.shortcutFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,A.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(n!==Z.aZD){e.next=29;break}return C=o()(o()({},_),{},{serviceSettings:o()(o()({},_.serviceSettings),{},{showFaqs:t.showFaqs,faqUids:t.faqUids,robotUid:null===(k=_.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,quickFaqUids:null===(x=_.serviceSettings)||void 0===x||null===(x=x.quickFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),guessFaqUids:null==_||null===(b=_.serviceSettings)||void 0===b||null===(b=b.guessFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),hotFaqUids:null==_||null===(S=_.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==_||null===(j=_.serviceSettings)||void 0===j||null===(j=j.shortcutFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=_.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:_.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",C),e.next=26,(0,R.W5)(C);case 26:M=e.sent,console.log("updateWorkGroup response:",M),200===M.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),$(M.data)):(d.yw.destroy(),d.yw.error(M.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=l()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqs handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{children:[(0,M.jsx)(x.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,M.jsx)(b.ZP,{type:"link",icon:(0,M.jsx)(m.Z,{}),onClick:function(){return window.open(Z.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,M.jsx)(S.Z,{}),(0,M.jsxs)(q.A,{form:s,layout:"vertical",onFinish:z,children:[(0,M.jsx)(F.Z,{label:"是否显示常见问题",name:"showFaqs",fieldProps:{onChange:Q}}),(0,M.jsx)(q.A.Item,{children:(0,M.jsx)(b.ZP,{icon:(0,M.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,M.jsx)(y.Z,{name:"faqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faq"}),options:null==V||null===(t=V.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return{label:W(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,M.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},32843:function(e,t,n){var r=n(26068),o=n.n(r),s=n(90228),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(66279),g=n(69375),p=n(51038),f=n(22487),h=n(29244),m=n(51770),w=n(50501),q=n(74730),F=n(15987),y=n(65948),k=n(18735),x=n(73465),b=n(58439),S=n(9593),j=n(75271),U=n(68252),C=n(79705),Z=n(96677),A=n(39136),R=n(17698),M=n(52676);t.Z=function(e){var t,n=e.type,r=q.A.useForm(),s=c()(r,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),W=(0,p.Z)().translateString,P=(0,h.u)((function(e){return e.currentOrg})),T=(0,j.useState)(),I=c()(T,2),V=I[0],E=I[1],O=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=O.currentRobot,H=O.setCurrentRobot,B=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=B.currentAgent,L=B.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),_=G.currentWorkgroup,$=G.setCurrentWorkgroup,X=function(){var e=l()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:P.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?E(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){X()}),[P]),(0,j.useEffect)((function(){var e,t;if(n===Z._X4)s.setFieldsValue({showGuessFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showGuessFaqs,guessFaqUids:null==N||null===(t=N.serviceSettings)||void 0===t||null===(t=t.guessFaqs)||void 0===t?void 0:t.map((function(e){return e.uid}))});else if(n===Z.Njn){var r,o;s.setFieldsValue({showGuessFaqs:null==D||null===(r=D.serviceSettings)||void 0===r?void 0:r.showGuessFaqs,guessFaqUids:null==D||null===(o=D.serviceSettings)||void 0===o||null===(o=o.guessFaqs)||void 0===o?void 0:o.map((function(e){return e.uid}))})}else if(n===Z.aZD){var i,u;s.setFieldsValue({showGuessFaqs:null==_||null===(i=_.serviceSettings)||void 0===i?void 0:i.showGuessFaqs,guessFaqUids:null==_||null===(u=_.serviceSettings)||void 0===u||null===(u=u.guessFaqs)||void 0===u?void 0:u.map((function(e){return e.uid}))})}}),[N,D,_]);var z=function(){var e=l()(i()().mark((function e(t){var r,s,l,a,c,v,p,f,h,m,w,q,F,y,k,x,b,S,j,U,C,M,W;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showGuessFaqs:t.showGuessFaqs,guessFaqUids:t.guessFaqUids,quickFaqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.quickFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),faqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),hotFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.shortcutFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),H(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==Z.Njn){e.next=21;break}return F=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showGuessFaqs:t.showGuessFaqs,guessFaqUids:t.guessFaqUids,robotUid:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,quickFaqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),faqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.faqs)||void 0===h?void 0:h.map((function(e){return e.uid})),hotFaqUids:null==D||null===(m=D.serviceSettings)||void 0===m||null===(m=m.hotFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),shortcutFaqUids:null==D||null===(w=D.serviceSettings)||void 0===w||null===(w=w.shortcutFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,A.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(n!==Z.aZD){e.next=29;break}return M=o()(o()({},_),{},{serviceSettings:o()(o()({},_.serviceSettings),{},{showGuessFaqs:t.showGuessFaqs,guessFaqUids:t.guessFaqUids,robotUid:null===(k=_.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,quickFaqUids:null===(x=_.serviceSettings)||void 0===x||null===(x=x.quickFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),faqUids:null==_||null===(b=_.serviceSettings)||void 0===b||null===(b=b.faqs)||void 0===b?void 0:b.map((function(e){return e.uid})),hotFaqUids:null==_||null===(S=_.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==_||null===(j=_.serviceSettings)||void 0===j||null===(j=j.shortcutFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=_.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:null===(C=_.agents)||void 0===C?void 0:C.map((function(e){return e.uid}))}),console.log("workgroupObject:",M),e.next=26,(0,R.W5)(M);case 26:W=e.sent,console.log("updateWorkGroup response:",W),200===W.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),$(W.data)):(d.yw.destroy(),d.yw.error(W.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=l()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqGuess handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{children:[(0,M.jsx)(x.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,M.jsx)(b.ZP,{type:"link",icon:(0,M.jsx)(m.Z,{}),onClick:function(){return window.open(Z.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,M.jsx)(S.Z,{}),(0,M.jsxs)(q.A,{form:s,layout:"vertical",onFinish:z,children:[(0,M.jsx)(F.Z,{label:"是否显示猜你想问",name:"showGuessFaqs",fieldProps:{onChange:Q}}),(0,M.jsx)(q.A.Item,{children:(0,M.jsx)(b.ZP,{icon:(0,M.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,M.jsx)(y.Z,{name:"guessFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faqGuess"}),options:null==V||null===(t=V.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return{label:W(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,M.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},6974:function(e,t,n){var r=n(26068),o=n.n(r),s=n(90228),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(66279),g=n(69375),p=n(51038),f=n(22487),h=n(29244),m=n(51770),w=n(50501),q=n(74730),F=n(15987),y=n(65948),k=n(18735),x=n(73465),b=n(58439),S=n(9593),j=n(75271),U=n(68252),C=n(79705),Z=n(96677),A=n(39136),R=n(17698),M=n(52676);t.Z=function(e){var t,n=e.type,r=q.A.useForm(),s=c()(r,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),W=(0,p.Z)().translateString,P=(0,h.u)((function(e){return e.currentOrg})),T=(0,j.useState)(),I=c()(T,2),V=I[0],E=I[1],O=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=O.currentRobot,H=O.setCurrentRobot,B=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=B.currentAgent,L=B.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),_=G.currentWorkgroup,$=G.setCurrentWorkgroup,X=function(){var e=l()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:P.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?E(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){X()}),[P]),(0,j.useEffect)((function(){var e;if(n===Z._X4)s.setFieldsValue({showHotFaqs:null==N?void 0:N.serviceSettings.showHotFaqs,hotFaqUids:(null==N||null===(e=N.serviceSettings)||void 0===e||null===(e=e.hotFaqs)||void 0===e?void 0:e.map((function(e){return e.uid})))||[]});else if(n===Z.Njn){var t;s.setFieldsValue({showHotFaqs:null==D?void 0:D.serviceSettings.showHotFaqs,hotFaqUids:(null==D||null===(t=D.serviceSettings)||void 0===t||null===(t=t.hotFaqs)||void 0===t?void 0:t.map((function(e){return e.uid})))||[]})}else if(n===Z.aZD){var r;s.setFieldsValue({showHotFaqs:null==_?void 0:_.serviceSettings.showHotFaqs,hotFaqUids:(null==_||null===(r=_.serviceSettings)||void 0===r||null===(r=r.hotFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})))||[]})}}),[N,D,_]);var z=function(){var e=l()(i()().mark((function e(t){var r,s,l,a,c,v,p,f,h,m,w,q,F,y,k,x,b,S,j,U,C,M;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showHotFaqs:t.showHotFaqs,hotFaqUids:t.hotFaqUids,quickFaqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.quickFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),faqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),guessFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.shortcutFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),H(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==Z.Njn){e.next=21;break}return F=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showHotFaqs:t.showHotFaqs,hotFaqUids:t.hotFaqUids,robotUid:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,quickFaqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.guessFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),faqUids:null==D||null===(m=D.serviceSettings)||void 0===m||null===(m=m.faqs)||void 0===m?void 0:m.map((function(e){return e.uid})),shortcutFaqUids:null==D||null===(w=D.serviceSettings)||void 0===w||null===(w=w.shortcutFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,A.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(n!==Z.aZD){e.next=29;break}return C=o()(o()({},_),{},{serviceSettings:o()(o()({},_.serviceSettings),{},{showHotFaqs:t.showHotFaqs,hotFaqUids:t.hotFaqUids,robotUid:null===(k=_.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,quickFaqUids:null===(x=_.serviceSettings)||void 0===x||null===(x=x.quickFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),faqUids:null==_||null===(b=_.serviceSettings)||void 0===b||null===(b=b.faqs)||void 0===b?void 0:b.map((function(e){return e.uid})),guessFaqUids:null==_||null===(S=_.serviceSettings)||void 0===S||null===(S=S.guessFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==_||null===(j=_.serviceSettings)||void 0===j||null===(j=j.shortcutFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=_.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:_.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",C),e.next=26,(0,R.W5)(C);case 26:M=e.sent,console.log("updateWorkGroup response:",M),200===M.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),$(M.data)):(d.yw.destroy(),d.yw.error(M.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=l()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqHots handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{children:[(0,M.jsx)(x.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,M.jsx)(b.ZP,{type:"link",icon:(0,M.jsx)(m.Z,{}),onClick:function(){return window.open(Z.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,M.jsx)(S.Z,{}),(0,M.jsxs)(q.A,{form:s,layout:"vertical",onFinish:z,children:[(0,M.jsx)(F.Z,{label:"是否显示热门问题",name:"showHotFaqs",fieldProps:{onChange:Q}}),(0,M.jsx)(q.A.Item,{children:(0,M.jsx)(b.ZP,{icon:(0,M.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,M.jsx)(y.Z,{name:"hotFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faqHot"}),options:null==V||null===(t=V.data)||void 0===t?void 0:t.content.map((function(e){return{label:W(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,M.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},22734:function(e,t,n){var r=n(26068),o=n.n(r),s=n(90228),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(66279),g=n(69375),p=n(51038),f=n(22487),h=n(29244),m=n(51770),w=n(50501),q=n(74730),F=n(15987),y=n(65948),k=n(18735),x=n(73465),b=n(58439),S=n(9593),j=n(75271),U=n(68252),C=n(79705),Z=n(96677),A=n(39136),R=n(17698),M=n(52676);t.Z=function(e){var t,n=e.type,r=q.A.useForm(),s=c()(r,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),W=(0,p.Z)().translateString,P=(0,h.u)((function(e){return e.currentOrg})),T=(0,j.useState)(),I=c()(T,2),V=I[0],E=I[1],O=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=O.currentRobot,H=O.setCurrentRobot,B=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=B.currentAgent,L=B.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),_=G.currentWorkgroup,$=G.setCurrentWorkgroup,X=function(){var e=l()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:P.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?E(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){X()}),[P]),(0,j.useEffect)((function(){var e,t;if(n===Z._X4)s.setFieldsValue({showQuickFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showQuickFaqs,quickFaqUids:null==N||null===(t=N.serviceSettings)||void 0===t||null===(t=t.quickFaqs)||void 0===t?void 0:t.map((function(e){return e.uid}))});else if(n===Z.Njn){var r,o;s.setFieldsValue({showQuickFaqs:null==D||null===(r=D.serviceSettings)||void 0===r?void 0:r.showQuickFaqs,quickFaqUids:null==D||null===(o=D.serviceSettings)||void 0===o||null===(o=o.quickFaqs)||void 0===o?void 0:o.map((function(e){return e.uid}))})}else if(n===Z.aZD){var i,u;s.setFieldsValue({showQuickFaqs:null==_||null===(i=_.serviceSettings)||void 0===i?void 0:i.showQuickFaqs,quickFaqUids:null==_||null===(u=_.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid}))})}}),[N,D,_]);var z=function(){var e=l()(i()().mark((function e(t){var r,s,l,a,c,v,p,f,h,m,w,q,F,y,k,x,b,S,j,U,C,M;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showQuickFaqs:t.showQuickFaqs,quickFaqUids:t.quickFaqUids,faqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),guessFaqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.guessFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})),hotFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.shortcutFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),H(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==Z.Njn){e.next=21;break}return F=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showQuickFaqs:t.showQuickFaqs,quickFaqUids:t.quickFaqUids,robotUid:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,faqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.faqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.guessFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),hotFaqUids:null==D||null===(m=D.serviceSettings)||void 0===m||null===(m=m.hotFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),shortcutFaqUids:null==D||null===(w=D.serviceSettings)||void 0===w||null===(w=w.shortcutFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,A.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(n!==Z.aZD){e.next=29;break}return C=o()(o()({},_),{},{serviceSettings:o()(o()({},_.serviceSettings),{},{showQuickFaqs:t.showQuickFaqs,quickFaqUids:t.quickFaqUids,robotUid:null===(k=_.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,faqUids:null===(x=_.serviceSettings)||void 0===x||null===(x=x.faqs)||void 0===x?void 0:x.map((function(e){return e.uid})),guessFaqUids:null==_||null===(b=_.serviceSettings)||void 0===b||null===(b=b.guessFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),hotFaqUids:null==_||null===(S=_.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==_||null===(j=_.serviceSettings)||void 0===j||null===(j=j.shortcutFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=_.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:_.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",C),e.next=26,(0,R.W5)(C);case 26:M=e.sent,console.log("updateWorkGroup response:",M),200===M.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),$(M.data)):(d.yw.destroy(),d.yw.error(M.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=l()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqs handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{children:[(0,M.jsx)(x.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,M.jsx)(b.ZP,{type:"link",icon:(0,M.jsx)(m.Z,{}),onClick:function(){return window.open(Z.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,M.jsx)(S.Z,{}),(0,M.jsxs)(q.A,{form:s,layout:"vertical",onFinish:z,children:[(0,M.jsx)(F.Z,{label:"是否显示快捷按钮",name:"showQuickFaqs",fieldProps:{onChange:Q}}),(0,M.jsx)(q.A.Item,{children:(0,M.jsx)(b.ZP,{icon:(0,M.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,M.jsx)(y.Z,{name:"quickFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.quickbutton"}),options:null==V||null===(t=V.data)||void 0===t?void 0:t.content.map((function(e){return{label:W(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,M.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},32879:function(e,t,n){var r=n(26068),o=n.n(r),s=n(90228),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(66279),g=n(69375),p=n(51038),f=n(22487),h=n(29244),m=n(51770),w=n(50501),q=n(74730),F=n(15987),y=n(65948),k=n(18735),x=n(73465),b=n(58439),S=n(9593),j=n(75271),U=n(68252),C=n(79705),Z=n(96677),A=n(39136),R=n(17698),M=n(52676);t.Z=function(e){var t,n=e.type,r=q.A.useForm(),s=c()(r,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),W=(0,p.Z)().translateString,P=(0,h.u)((function(e){return e.currentOrg})),T=(0,j.useState)(),I=c()(T,2),V=I[0],E=I[1],O=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=O.currentRobot,H=O.setCurrentRobot,B=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=B.currentAgent,L=B.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),_=G.currentWorkgroup,$=G.setCurrentWorkgroup,X=function(){var e=l()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:P.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?E(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){X()}),[P]),(0,j.useEffect)((function(){var e,t;if(n===Z._X4)s.setFieldsValue({showshortcutFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showshortcutFaqs,shortcutFaqUids:(null==N||null===(t=N.serviceSettings)||void 0===t||null===(t=t.shortcutFaqs)||void 0===t?void 0:t.map((function(e){return e.uid})))||[]});else if(n===Z.Njn){var r,o;s.setFieldsValue({showshortcutFaqs:null==D||null===(r=D.serviceSettings)||void 0===r?void 0:r.showshortcutFaqs,shortcutFaqUids:(null==D||null===(o=D.serviceSettings)||void 0===o||null===(o=o.shortcutFaqs)||void 0===o?void 0:o.map((function(e){return e.uid})))||[]})}else if(n===Z.aZD){var i,u;s.setFieldsValue({showshortcutFaqs:null==_||null===(i=_.serviceSettings)||void 0===i?void 0:i.showshortcutFaqs,shortcutFaqUids:(null==_||null===(u=_.serviceSettings)||void 0===u||null===(u=u.shortcutFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})))||[]})}}),[N,D,_]);var z=function(){var e=l()(i()().mark((function e(t){var r,s,l,a,c,v,p,f,h,m,w,q,F,y,k,x,b,S,j,U,C,M;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t,n),n!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showshortcutFaqs:t.showshortcutFaqs,shortcutFaqUids:t.shortcutFaqUids,quickFaqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.quickFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),faqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),guessFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.hotFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),H(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==Z.Njn){e.next=21;break}return F=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showshortcutFaqs:t.showshortcutFaqs,shortcutFaqUids:t.shortcutFaqUids,robotUid:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,quickFaqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.guessFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),hotFaqUids:null==D||null===(m=D.serviceSettings)||void 0===m||null===(m=m.hotFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),faqUids:null==D||null===(w=D.serviceSettings)||void 0===w||null===(w=w.faqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,A.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(n!==Z.aZD){e.next=29;break}return C=o()(o()({},_),{},{serviceSettings:o()(o()({},_.serviceSettings),{},{showshortcutFaqs:t.showshortcutFaqs,shortcutFaqUids:t.shortcutFaqUids,robotUid:null===(k=_.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,quickFaqUids:null===(x=_.serviceSettings)||void 0===x||null===(x=x.quickFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),faqUids:null==_||null===(b=_.serviceSettings)||void 0===b||null===(b=b.faqs)||void 0===b?void 0:b.map((function(e){return e.uid})),hotFaqUids:null==_||null===(S=_.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),guessFaqUids:null==_||null===(j=_.serviceSettings)||void 0===j||null===(j=j.guessFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=_.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:_.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",C),e.next=26,(0,R.W5)(C);case 26:M=e.sent,console.log("updateWorkGroup response:",M),200===M.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),$(M.data)):(d.yw.destroy(),d.yw.error(M.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=l()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqShortcut handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{children:[(0,M.jsx)(x.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,M.jsx)(b.ZP,{type:"link",icon:(0,M.jsx)(m.Z,{}),onClick:function(){return window.open(Z.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,M.jsx)(S.Z,{}),(0,M.jsxs)(q.A,{form:s,layout:"vertical",onFinish:z,children:[(0,M.jsx)(F.Z,{label:"是否显示快捷路径",name:"showshortcutFaqs",fieldProps:{onChange:Q}}),(0,M.jsx)(q.A.Item,{children:(0,M.jsx)(b.ZP,{icon:(0,M.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,M.jsx)(y.Z,{name:"shortcutFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faqShortcut"}),options:null==V||null===(t=V.data)||void 0===t?void 0:t.content.map((function(e){return{label:W(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,M.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},42717:function(e,t,n){var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(39136),g=n(69375),p=n(17698),f=n(68252),h=n(22487),m=n(79705),w=n(96677),q=n(74730),F=n(15987),y=n(18735),k=n(75271),x=n(52676);t.Z=function(e){var t=e.type,n=(0,y.useIntl)(),r=q.A.useForm(),s=c()(r,1)[0],u=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),a=u.currentRobot,b=u.setCurrentRobot,S=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),j=S.currentAgent,U=S.setCurrentAgent,C=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Z=C.currentWorkgroup,A=C.setCurrentWorkgroup;(0,k.useEffect)((function(){var e;if(t===w._X4)s.setFieldsValue({showHistory:null==a||null===(e=a.serviceSettings)||void 0===e?void 0:e.showHistory});else if(t===w.Njn){var n;s.setFieldsValue({showHistory:null==j||null===(n=j.serviceSettings)||void 0===n?void 0:n.showHistory})}else if(t===w.aZD){var r;s.setFieldsValue({showHistory:null==Z||null===(r=Z.serviceSettings)||void 0===r?void 0:r.showHistory})}}),[a,j,Z]);var R=function(){var e=l()(o()().mark((function e(r){var s,u,l,c,f,h,m,q,F,y,k,x,S,C,R,M,W,P,T,I,V,E,O,N,H;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleHistorySubmit:",r),console.log("onFinish",r),t!==w._X4){e.next=12;break}return h=i()(i()({},a),{},{serviceSettings:i()(i()({},a.serviceSettings),{},{showHistory:r.showHistory,faqUids:null==j||null===(s=j.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),quickFaqUids:null==a||null===(u=a.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==a||null===(l=a.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==a||null===(c=a.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==a||null===(f=a.serviceSettings)||void 0===f||null===(f=f.shortcutFaqs)||void 0===f?void 0:f.map((function(e){return e.uid}))})}),console.log("robotObject:",h),e.next=7,(0,g.$l)(h);case 7:m=e.sent,console.log("updateRobot response:",m),200===m.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),b(m.data)):(d.yw.destroy(),d.yw.error(m.message)),e.next=30;break;case 12:if(t!==w.Njn){e.next=22;break}return R=i()(i()({},j),{},{serviceSettings:i()(i()({},null==j?void 0:j.serviceSettings),{},{showHistory:r.showHistory,faqUids:null==j||null===(q=j.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid})),robotUid:null==j||null===(F=j.serviceSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid,quickFaqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==j||null===(k=j.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),hotFaqUids:null==j||null===(x=j.serviceSettings)||void 0===x||null===(x=x.hotFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(S=j.serviceSettings)||void 0===S||null===(S=S.shortcutFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),worktimeUids:null==j||null===(C=j.serviceSettings)||void 0===C||null===(C=C.worktimes)||void 0===C?void 0:C.map((function(e){return e.uid}))}),autoReplySettings:i()({},j.autoReplySettings)}),console.log("agentObject:",R),e.next=17,(0,v.sE)(R);case 17:M=e.sent,console.log("updateAgent response:",M),200===M.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),U(M.data)):(d.yw.destroy(),d.yw.error(M.message)),e.next=30;break;case 22:if(t!==w.aZD){e.next=30;break}return N=i()(i()({},Z),{},{serviceSettings:i()(i()({},Z.serviceSettings),{},{showHistory:r.showHistory,faqUids:null==j||null===(W=j.serviceSettings)||void 0===W||null===(W=W.faqs)||void 0===W?void 0:W.map((function(e){return e.uid})),robotUid:null===(P=Z.serviceSettings)||void 0===P||null===(P=P.robot)||void 0===P?void 0:P.uid,quickFaqUids:null===(T=Z.serviceSettings)||void 0===T||null===(T=T.quickFaqs)||void 0===T?void 0:T.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(I=Z.serviceSettings)||void 0===I||null===(I=I.guessFaqs)||void 0===I?void 0:I.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(V=Z.serviceSettings)||void 0===V||null===(V=V.hotFaqs)||void 0===V?void 0:V.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(E=Z.serviceSettings)||void 0===E||null===(E=E.shortcutFaqs)||void 0===E?void 0:E.map((function(e){return e.uid})),worktimeUids:null===(O=Z.serviceSettings)||void 0===O||null===(O=O.worktimes)||void 0===O?void 0:O.map((function(e){return e.uid}))}),agentUids:Z.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",N),e.next=27,(0,p.W5)(N);case 27:H=e.sent,console.log("updateWorkGroup response:",H),200===H.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),A(H.data)):(d.yw.destroy(),d.yw.error(H.message));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{children:(0,x.jsx)(q.A,{form:s,onFinish:R,children:(0,x.jsx)(F.Z,{width:"md",name:"showHistory",label:n.formatMessage({id:"showHistory",defaultMessage:"Show History"})})})})}},10004:function(e,t,n){var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(39136),g=n(69375),p=n(17698),f=n(68252),h=n(22487),m=n(79705),w=n(96677),q=n(74730),F=n(15987),y=n(18735),k=n(75271),x=n(52676);t.Z=function(e){var t=e.type,n=(0,y.useIntl)(),r=q.A.useForm(),s=c()(r,1)[0],u=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),a=u.currentRobot,b=u.setCurrentRobot,S=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),j=S.currentAgent,U=S.setCurrentAgent,C=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Z=C.currentWorkgroup,A=C.setCurrentWorkgroup;(0,k.useEffect)((function(){var e;if(t===w._X4)s.setFieldsValue({showInputAssociation:null==a||null===(e=a.serviceSettings)||void 0===e?void 0:e.showInputAssociation});else if(t===w.Njn){var n;s.setFieldsValue({showInputAssociation:null==j||null===(n=j.serviceSettings)||void 0===n?void 0:n.showInputAssociation})}else if(t===w.aZD){var r;s.setFieldsValue({showInputAssociation:null==Z||null===(r=Z.serviceSettings)||void 0===r?void 0:r.showInputAssociation})}}),[a,j,Z]);var R=function(){var e=l()(o()().mark((function e(r){var s,u,l,c,f,h,m,q,F,y,k,x,S,C,R,M,W,P,T,I,V,E,O,N,H;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleInputAssociationSubmit:",r),t!==w._X4){e.next=11;break}return h=i()(i()({},a),{},{serviceSettings:i()(i()({},a.serviceSettings),{},{showInputAssociation:r.showInputAssociation,faqUids:null==j||null===(s=j.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),quickFaqUids:null==a||null===(u=a.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==a||null===(l=a.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==a||null===(c=a.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==a||null===(f=a.serviceSettings)||void 0===f||null===(f=f.shortcutFaqs)||void 0===f?void 0:f.map((function(e){return e.uid}))})}),console.log("robotObject:",h),e.next=6,(0,g.$l)(h);case 6:m=e.sent,console.log("updateRobot response:",m),200===m.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),b(m.data)):(d.yw.destroy(),d.yw.error(m.message)),e.next=29;break;case 11:if(t!==w.Njn){e.next=21;break}return R=i()(i()({},j),{},{serviceSettings:i()(i()({},null==j?void 0:j.serviceSettings),{},{showInputAssociation:r.showInputAssociation,faqUids:null==j||null===(q=j.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid})),robotUid:null==j||null===(F=j.serviceSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid,quickFaqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==j||null===(k=j.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),hotFaqUids:null==j||null===(x=j.serviceSettings)||void 0===x||null===(x=x.hotFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(S=j.serviceSettings)||void 0===S||null===(S=S.shortcutFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),worktimeUids:null==j||null===(C=j.serviceSettings)||void 0===C||null===(C=C.worktimes)||void 0===C?void 0:C.map((function(e){return e.uid}))}),autoReplySettings:i()({},j.autoReplySettings)}),console.log("agentObject:",R),e.next=16,(0,v.sE)(R);case 16:M=e.sent,console.log("updateAgent response:",M),200===M.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),U(M.data)):(d.yw.destroy(),d.yw.error(M.message)),e.next=29;break;case 21:if(t!==w.aZD){e.next=29;break}return N=i()(i()({},Z),{},{serviceSettings:i()(i()({},Z.serviceSettings),{},{showInputAssociation:r.showInputAssociation,faqUids:null==j||null===(W=j.serviceSettings)||void 0===W||null===(W=W.faqs)||void 0===W?void 0:W.map((function(e){return e.uid})),robotUid:null===(P=Z.serviceSettings)||void 0===P||null===(P=P.robot)||void 0===P?void 0:P.uid,quickFaqUids:null===(T=Z.serviceSettings)||void 0===T||null===(T=T.quickFaqs)||void 0===T?void 0:T.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(I=Z.serviceSettings)||void 0===I||null===(I=I.guessFaqs)||void 0===I?void 0:I.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(V=Z.serviceSettings)||void 0===V||null===(V=V.hotFaqs)||void 0===V?void 0:V.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(E=Z.serviceSettings)||void 0===E||null===(E=E.shortcutFaqs)||void 0===E?void 0:E.map((function(e){return e.uid})),worktimeUids:null===(O=Z.serviceSettings)||void 0===O||null===(O=O.worktimes)||void 0===O?void 0:O.map((function(e){return e.uid}))}),agentUids:Z.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",N),e.next=26,(0,p.W5)(N);case 26:H=e.sent,console.log("updateWorkGroup response:",H),200===H.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),A(H.data)):(d.yw.destroy(),d.yw.error(H.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{children:(0,x.jsx)(q.A,{form:s,onFinish:R,children:(0,x.jsx)(F.Z,{width:"md",name:"showInputAssociation",label:n.formatMessage({id:"showInputAssociation",defaultMessage:"Show Input Association"})})})})}},80579:function(e,t,n){var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(39136),g=n(17698),p=n(68252),f=n(79705),h=n(96677),m=n(74730),w=n(15987),q=n(18735),F=n(75271),y=n(52676);t.Z=function(e){var t=e.type,n=(0,q.useIntl)(),r=(0,q.useAccess)(),s=m.A.useForm(),u=c()(s,1)[0],a=(0,p.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),k=a.currentAgent,x=a.setCurrentAgent,b=(0,f.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),S=b.currentWorkgroup,j=b.setCurrentWorkgroup;(0,F.useEffect)((function(){var e;if(t===h.Njn)u.setFieldsValue({showPreForm:null==k||null===(e=k.serviceSettings)||void 0===e?void 0:e.showPreForm});else if(t===h.aZD){var n;u.setFieldsValue({showPreForm:null==S||null===(n=S.serviceSettings)||void 0===n?void 0:n.showPreForm})}}),[k,S]);var U=function(){var e=l()(o()().mark((function e(r){var s,u,l,a,c,p,f,m,w,q,F,y,b,U,C,Z,A,R;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handlePreFormSubmit:",r),t!==h.Njn){e.next=11;break}return m=i()(i()({},k),{},{serviceSettings:i()(i()({},null==k?void 0:k.serviceSettings),{},{showPreForm:r.showPreForm,faqUids:null==k||null===(s=k.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),robotUid:null==k||null===(u=k.serviceSettings)||void 0===u||null===(u=u.robot)||void 0===u?void 0:u.uid,quickFaqUids:null==k||null===(l=k.serviceSettings)||void 0===l||null===(l=l.quickFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),guessFaqUids:null==k||null===(a=k.serviceSettings)||void 0===a||null===(a=a.guessFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),hotFaqUids:null==k||null===(c=k.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==k||null===(p=k.serviceSettings)||void 0===p||null===(p=p.shortcutFaqs)||void 0===p?void 0:p.map((function(e){return e.uid})),worktimeUids:null==k||null===(f=k.serviceSettings)||void 0===f||null===(f=f.worktimes)||void 0===f?void 0:f.map((function(e){return e.uid}))}),autoReplySettings:i()({},k.autoReplySettings)}),console.log("agentObject:",m),e.next=6,(0,v.sE)(m);case 6:w=e.sent,console.log("updateAgent response:",w),200===w.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),x(w.data)):(d.yw.destroy(),d.yw.error(w.message)),e.next=19;break;case 11:if(t!==h.aZD){e.next=19;break}return A=i()(i()({},S),{},{serviceSettings:i()(i()({},S.serviceSettings),{},{showPreForm:r.showPreForm,faqUids:null==k||null===(q=k.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid})),robotUid:null===(F=S.serviceSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid,quickFaqUids:null===(y=S.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==S||null===(b=S.serviceSettings)||void 0===b||null===(b=b.guessFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),hotFaqUids:null==S||null===(U=S.serviceSettings)||void 0===U||null===(U=U.hotFaqs)||void 0===U?void 0:U.map((function(e){return e.uid})),shortcutFaqUids:null==S||null===(C=S.serviceSettings)||void 0===C||null===(C=C.shortcutFaqs)||void 0===C?void 0:C.map((function(e){return e.uid})),worktimeUids:null===(Z=S.serviceSettings)||void 0===Z||null===(Z=Z.worktimes)||void 0===Z?void 0:Z.map((function(e){return e.uid}))}),agentUids:S.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",A),e.next=16,(0,g.W5)(A);case 16:R=e.sent,console.log("updateWorkGroup response:",R),200===R.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),j(R.data)):(d.yw.destroy(),d.yw.error(R.message));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsx)("div",{children:(0,y.jsx)(q.Access,{accessible:r.canDebug(),fallback:(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(q.FormattedMessage,{id:h.h5w})}),children:(0,y.jsx)(m.A,{form:u,onFinish:U,children:(0,y.jsx)(w.Z,{width:"md",name:"enabled",label:n.formatMessage({id:"leavemsg.enabled",defaultMessage:"Leave Message Enabled"})})})})})}},1606:function(e,t,n){var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(39136),g=n(69375),p=n(17698),f=n(68252),h=n(22487),m=n(79705),w=n(96677),q=n(74730),F=n(15987),y=n(18735),k=n(75271),x=n(52676);t.Z=function(e){var t=e.type,n=(0,y.useIntl)(),r=q.A.useForm(),s=c()(r,1)[0],u=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),a=u.currentRobot,b=u.setCurrentRobot,S=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),j=S.currentAgent,U=S.setCurrentAgent,C=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Z=C.currentWorkgroup,A=C.setCurrentWorkgroup;(0,k.useEffect)((function(){var e;if(t===w._X4)s.setFieldsValue({showPreForm:null==a||null===(e=a.serviceSettings)||void 0===e?void 0:e.showPreForm});else if(t===w.Njn){var n;s.setFieldsValue({showPreForm:null==j||null===(n=j.serviceSettings)||void 0===n?void 0:n.showPreForm})}else if(t===w.aZD){var r;s.setFieldsValue({showPreForm:null==Z||null===(r=Z.serviceSettings)||void 0===r?void 0:r.showPreForm})}}),[a,j,Z]);var R=function(){var e=l()(o()().mark((function e(r){var s,u,l,c,f,h,m,q,F,y,k,x,S,C,R,M,W,P,T,I,V,E,O,N,H;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handlePreFormSubmit:",r),t!==w._X4){e.next=11;break}return h=i()(i()({},a),{},{serviceSettings:i()(i()({},a.serviceSettings),{},{showPreForm:r.showPreForm,faqUids:null==j||null===(s=j.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),quickFaqUids:null==a||null===(u=a.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==a||null===(l=a.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==a||null===(c=a.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==a||null===(f=a.serviceSettings)||void 0===f||null===(f=f.shortcutFaqs)||void 0===f?void 0:f.map((function(e){return e.uid}))})}),console.log("robotObject:",h),e.next=6,(0,g.$l)(h);case 6:m=e.sent,console.log("updateRobot response:",m),200===m.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),b(m.data)):(d.yw.destroy(),d.yw.error(m.message)),e.next=29;break;case 11:if(t!==w.Njn){e.next=21;break}return R=i()(i()({},j),{},{serviceSettings:i()(i()({},null==j?void 0:j.serviceSettings),{},{showPreForm:r.showPreForm,faqUids:null==j||null===(q=j.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid})),robotUid:null==j||null===(F=j.serviceSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid,quickFaqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==j||null===(k=j.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),hotFaqUids:null==j||null===(x=j.serviceSettings)||void 0===x||null===(x=x.hotFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(S=j.serviceSettings)||void 0===S||null===(S=S.shortcutFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),worktimeUids:null==j||null===(C=j.serviceSettings)||void 0===C||null===(C=C.worktimes)||void 0===C?void 0:C.map((function(e){return e.uid}))}),autoReplySettings:i()({},j.autoReplySettings)}),console.log("agentObject:",R),e.next=16,(0,v.sE)(R);case 16:M=e.sent,console.log("updateAgent response:",M),200===M.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),U(M.data)):(d.yw.destroy(),d.yw.error(M.message)),e.next=29;break;case 21:if(t!==w.aZD){e.next=29;break}return N=i()(i()({},Z),{},{serviceSettings:i()(i()({},Z.serviceSettings),{},{showPreForm:r.showPreForm,faqUids:null==j||null===(W=j.serviceSettings)||void 0===W||null===(W=W.faqs)||void 0===W?void 0:W.map((function(e){return e.uid})),robotUid:null===(P=Z.serviceSettings)||void 0===P||null===(P=P.robot)||void 0===P?void 0:P.uid,quickFaqUids:null===(T=Z.serviceSettings)||void 0===T||null===(T=T.quickFaqs)||void 0===T?void 0:T.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(I=Z.serviceSettings)||void 0===I||null===(I=I.guessFaqs)||void 0===I?void 0:I.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(V=Z.serviceSettings)||void 0===V||null===(V=V.hotFaqs)||void 0===V?void 0:V.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(E=Z.serviceSettings)||void 0===E||null===(E=E.shortcutFaqs)||void 0===E?void 0:E.map((function(e){return e.uid})),worktimeUids:null===(O=Z.serviceSettings)||void 0===O||null===(O=O.worktimes)||void 0===O?void 0:O.map((function(e){return e.uid}))}),agentUids:Z.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",N),e.next=26,(0,p.W5)(N);case 26:H=e.sent,console.log("updateWorkGroup response:",H),200===H.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),A(H.data)):(d.yw.destroy(),d.yw.error(H.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{children:(0,x.jsx)(q.A,{form:s,onFinish:R,children:(0,x.jsx)(F.Z,{width:"md",name:"showPreForm",label:n.formatMessage({id:"showPreForm",defaultMessage:"Show PreForm"})})})})}},35831:function(e,t,n){var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(39136),g=n(17698),p=n(68252),f=n(79705),h=n(96677),m=n(74730),w=n(15987),q=n(18735),F=n(75271),y=n(52676);t.Z=function(e){var t=e.type,n=(0,q.useIntl)(),r=m.A.useForm(),s=c()(r,1)[0],u=(0,F.useState)(!1),a=c()(u,2),k=(a[0],a[1],(0,p.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}}))),x=k.currentAgent,b=k.setCurrentAgent,S=(0,f.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),j=S.currentWorkgroup,U=S.setCurrentWorkgroup;(0,F.useEffect)((function(){var e;if(t===h.Njn)s.setFieldValue("showRateBtn",null==x||null===(e=x.serviceSettings)||void 0===e?void 0:e.showRateBtn);else if(t===h.aZD){var n;s.setFieldValue("showRateBtn",null==j||null===(n=j.serviceSettings)||void 0===n?void 0:n.showRateBtn)}}),[x,j]);var C=function(){var e=l()(o()().mark((function e(r){var s,u,l,a,c,p,f,m,w,q,F,y,k,S,C,Z,A,R;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleShowRateSwitchChange:",r),t!==h.Njn){e.next=11;break}return m=i()(i()({},x),{},{serviceSettings:i()(i()({},null==x?void 0:x.serviceSettings),{},{showRateBtn:r,robotUid:null==x||null===(s=x.serviceSettings)||void 0===s||null===(s=s.robot)||void 0===s?void 0:s.uid,quickFaqUids:null==x||null===(u=x.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),faqUids:null==x||null===(l=x.serviceSettings)||void 0===l||null===(l=l.faqs)||void 0===l?void 0:l.map((function(e){return e.uid})),guessFaqUids:null==x||null===(a=x.serviceSettings)||void 0===a||null===(a=a.guessFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),hotFaqUids:null==x||null===(c=x.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==x||null===(p=x.serviceSettings)||void 0===p||null===(p=p.shortcutFaqs)||void 0===p?void 0:p.map((function(e){return e.uid})),worktimeUids:null==x||null===(f=x.serviceSettings)||void 0===f||null===(f=f.worktimes)||void 0===f?void 0:f.map((function(e){return e.uid}))}),autoReplySettings:i()({},x.autoReplySettings)}),console.log("agentObject:",m),e.next=6,(0,v.sE)(m);case 6:w=e.sent,console.log("updateAgent response:",w),200===w.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),b(w.data)):(d.yw.destroy(),d.yw.error(w.message)),e.next=19;break;case 11:if(t!==h.aZD){e.next=19;break}return A=i()(i()({},j),{},{serviceSettings:i()(i()({},j.serviceSettings),{},{showRateBtn:r,robotUid:null===(q=j.serviceSettings)||void 0===q||null===(q=q.robot)||void 0===q?void 0:q.uid,quickFaqUids:null===(F=j.serviceSettings)||void 0===F||null===(F=F.quickFaqs)||void 0===F?void 0:F.map((function(e){return e.uid})),faqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.faqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==j||null===(k=j.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),hotFaqUids:null===(S=j.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(C=j.serviceSettings)||void 0===C||null===(C=C.shortcutFaqs)||void 0===C?void 0:C.map((function(e){return e.uid})),worktimeUids:null===(Z=j.serviceSettings)||void 0===Z||null===(Z=Z.worktimes)||void 0===Z?void 0:Z.map((function(e){return e.uid}))}),agentUids:j.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",A),e.next=16,(0,g.W5)(A);case 16:R=e.sent,console.log("updateWorkGroup response:",R),200===R.code?(d.yw.destroy(),d.yw.success(n.formatMessage({id:"update.success"})),U(R.data)):(d.yw.destroy(),d.yw.error(R.message));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(m.A,{form:s,submitter:{render:!1},children:[(0,y.jsx)(w.Z,{width:"md",name:"showRateBtn",label:"访客端是否显示评价按钮",fieldProps:{onChange:C}}),!1]})})}},87505:function(e,t,n){n.d(t,{Z:function(){return J}});var r=n(15558),o=n.n(r),s=n(26068),i=n.n(s),u=n(90228),l=n.n(u),a=n(87999),c=n.n(a),d=n(48305),v=n.n(d),g=n(59153),p=n(39136),f=n(51038),h=n(68252),m=n(74730),w=n(88138),q=n(72363),F=n(98037),y=n(53162),k=n(98072),x=n(75271),b=n(24763),S=n(36795),j=n(52676),U=["fieldProps","proFieldProps"],C=["fieldProps","proFieldProps"],Z="time",A=x.forwardRef((function(e,t){var n=e.fieldProps,r=e.proFieldProps,o=(0,y.Z)(e,U),s=(0,x.useContext)(b.Z);return(0,j.jsx)(S.Z,(0,F.Z)({ref:t,fieldProps:(0,F.Z)({getPopupContainer:s.getPopupContainer},n),valueType:"timeRange",proFieldProps:r,filedConfig:{valueType:"timeRange",customLightMode:!0,lightFilterLabelFormatter:function(e){return(0,k.c)(e,"HH:mm:ss")}}},o))})),R=function(e){var t=e.fieldProps,n=e.proFieldProps,r=(0,y.Z)(e,C),o=(0,x.useContext)(b.Z);return(0,j.jsx)(S.Z,(0,F.Z)({fieldProps:(0,F.Z)({getPopupContainer:o.getPopupContainer},t),valueType:Z,proFieldProps:n,filedConfig:{customLightMode:!0,valueType:Z}},r))};R.RangePicker=A;var M=R,W=n(65948),P=n(16483),T=n.n(P),I=n(96677),V=n(18735);function E(e){return O.apply(this,arguments)}function O(){return(O=c()(l()().mark((function e(t){return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.request)("/api/v1/worktime/create",{method:"POST",data:i()(i()({},t),{},{client:I.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return H.apply(this,arguments)}function H(){return(H=c()(l()().mark((function e(t){return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.request)("/api/v1/worktime/update",{method:"POST",data:i()(i()({},t),{},{client:I.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return D.apply(this,arguments)}function D(){return(D=c()(l()().mark((function e(t){return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,V.request)("/api/v1/worktime/delete",{method:"POST",data:i()(i()({},t),{},{client:I.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=n(30156),G=n.n(L),_=n(29244),$=n(69375),X=n(79705),z=n(17698);T().extend(G());var Q="HH:mm:ss",J=function(e){var t=e.type,n=m.A.useForm(),r=v()(n,1)[0],s=(0,V.useIntl)(),u=(0,x.useRef)(!1),a=(0,x.useRef)(),d=(0,h.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),F=d.currentAgent,y=d.setCurrentAgent,k=(0,X.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),b=k.currentWorkgroup,S=k.setCurrentWorkgroup,U=(0,x.useState)([]),C=v()(U,2),Z=C[0],A=C[1],R=(0,_.u)((function(e){return e.currentOrg})),P=(0,f.Z)().translateString,O=(0,x.useState)([]),H=v()(O,2),D=H[0],L=H[1];(0,x.useEffect)((function(){var e,n,o,s,i;if(t===I.Njn)L(null==F||null===(e=F.serviceSettings)||void 0===e?void 0:e.worktimes),r.setFieldValue("defaultRobot",null==F||null===(n=F.serviceSettings)||void 0===n?void 0:n.defaultRobot),r.setFieldValue("offlineRobot",null==F||null===(o=F.serviceSettings)||void 0===o?void 0:o.offlineRobot),r.setFieldValue("nonWorktimeRobot",null==F||null===(s=F.serviceSettings)||void 0===s?void 0:s.nonWorktimeRobot),r.setFieldValue("robotUid",null==F||null===(i=F.serviceSettings)||void 0===i||null===(i=i.robot)||void 0===i?void 0:i.uid);else if(t===I.aZD){var u,l,a,c,d;L(null==b||null===(u=b.serviceSettings)||void 0===u?void 0:u.worktimes),r.setFieldValue("defaultRobot",null==b||null===(l=b.serviceSettings)||void 0===l?void 0:l.defaultRobot),r.setFieldValue("offlineRobot",null==b||null===(a=b.serviceSettings)||void 0===a?void 0:a.offlineRobot),r.setFieldValue("nonWorktimeRobot",null==b||null===(c=b.serviceSettings)||void 0===c?void 0:c.nonWorktimeRobot),r.setFieldValue("robotUid",null==b||null===(d=b.serviceSettings)||void 0===d||null===(d=d.robot)||void 0===d?void 0:d.uid)}}),[F,b]);var G=function(){var e=c()(l()().mark((function e(){var t,n,r;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.current){e.next=3;break}return console.log("isLoading: 1",u.current),e.abrupt("return");case 3:return u.current=!0,g.yw.loading("loading"),t={pageNumber:0,pageSize:50,type:I.f4h,orgUid:R.uid},e.next=8,(0,$.p0)(t);case 8:n=e.sent,console.log("queryRobotsByOrg: ",n),200===n.code?A(null===(r=n.data)||void 0===r?void 0:r.content):g.yw.error(n.message),u.current=!1,g.yw.destroy();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){G()}),[]);var J,K,Y=function(){var e=c()(l()().mark((function e(n){var r,o,u,a,c,d,v,f,h,m,w,q,k,x,j;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish:",n),g.yw.loading(s.formatMessage({id:"updating",defaultMessage:"updating"})),t!==I.Njn){e.next=12;break}return d=i()(i()({},F),{},{serviceSettings:i()(i()({},F.serviceSettings),{},{defaultRobot:n.defaultRobot,offlineRobot:n.offlineRobot,nonWorktimeRobot:n.nonWorktimeRobot,robotUid:n.robotUid,worktimeUids:D.map((function(e){return null==e?void 0:e.uid})),quickFaqUids:null===(r=F.serviceSettings)||void 0===r||null===(r=r.quickFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),faqUids:null===(o=F.serviceSettings)||void 0===o||null===(o=o.faqs)||void 0===o?void 0:o.map((function(e){return e.uid})),guessFaqUids:null==F||null===(u=F.serviceSettings)||void 0===u||null===(u=u.guessFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),hotFaqUids:null==F||null===(a=F.serviceSettings)||void 0===a||null===(a=a.hotFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),shortcutFaqUids:null==F||null===(c=F.serviceSettings)||void 0===c||null===(c=c.shortcutFaqs)||void 0===c?void 0:c.map((function(e){return e.uid}))}),maxThreadCount:(null==n?void 0:n.maxThreadCount)||10,autoReplySettings:i()({},F.autoReplySettings)}),console.log("agentObject:",d),e.next=7,(0,p.sE)(d);case 7:v=e.sent,console.log("updateAgent response:",v),200===v.code?(g.yw.destroy(),g.yw.success(s.formatMessage({id:"update.success"})),y(v.data)):(g.yw.destroy(),g.yw.error(v.message)),e.next=20;break;case 12:if(t!==I.aZD){e.next=20;break}return x=i()(i()({},b),{},{serviceSettings:i()(i()({},b.serviceSettings),{},{defaultRobot:n.defaultRobot,offlineRobot:n.offlineRobot,nonWorktimeRobot:n.nonWorktimeRobot,robotUid:n.robotUid,worktimeUids:D.map((function(e){return null==e?void 0:e.uid})),quickFaqUids:null===(f=b.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),faqUids:null===(h=b.serviceSettings)||void 0===h||null===(h=h.faqs)||void 0===h?void 0:h.map((function(e){return e.uid})),guessFaqUids:null==b||null===(m=b.serviceSettings)||void 0===m||null===(m=m.guessFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),hotFaqUids:null==b||null===(w=b.serviceSettings)||void 0===w||null===(w=w.hotFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),shortcutFaqUids:null==b||null===(q=b.serviceSettings)||void 0===q||null===(q=q.shortcutFaqs)||void 0===q?void 0:q.map((function(e){return e.uid}))}),agentUids:null==b||null===(k=b.agents)||void 0===k?void 0:k.map((function(e){return e.uid}))}),console.log("workgroupObject:",x),e.next=17,(0,z.W5)(x);case 17:j=e.sent,console.log("updateWorkGroup response:",j),200===j.code?(g.yw.destroy(),g.yw.success(s.formatMessage({id:"update.success"})),S(j.data)):(g.yw.destroy(),g.yw.error(j.message));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=[];return D.map((function(t){e.push({worktime:[T()(t.startTime,Q),T()(t.endTime,Q)]})})),e},te=function(){var e=c()(l()().mark((function e(t,n,r){var o,s,i;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onWorktimeChange:",r,n),s={uid:null===(o=D[r])||void 0===o?void 0:o.uid,startTime:n[0],endTime:n[1]},e.next=4,N(s);case 4:i=e.sent,console.log("updateWorktime response:",i),200===i.code||g.yw.error(i.message);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ne=function(){var e=c()(l()().mark((function e(){var t,n;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("createWorktime"),t={startTime:"00:00:00",endTime:"23:59:59"},e.next=4,E(t);case 4:n=e.sent,console.log("createWorktime response:",n),200===n.code?L([].concat(o()(D),[n.data])):g.yw.error(n.message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=c()(l()().mark((function e(t){var n,r,o,s;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleteWorktime:",t,null===(n=D[t])||void 0===n?void 0:n.uid),o={uid:null===(r=D[t])||void 0===r?void 0:r.uid},e.next=4,B(o);case 4:s=e.sent,console.log("deleteWorktime response:",s),200===s.code?L(D.filter((function(e,n){return n!==t}))):g.yw.error(s.message);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){console.log("worktimes:",D),r.setFieldValue("worktimes",ee())}),[D]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(m.A,{form:r,style:{marginLeft:"100px"},onFinish:Y,children:[(0,j.jsx)(w.Z,{name:"defaultRobot",width:"md",label:"默认启用机器人"}),(0,j.jsx)(w.Z,{name:"offlineRobot",width:"md",label:"无客服在线时启用机器人"}),(0,j.jsx)(w.Z,{name:"nonWorktimeRobot",width:"md",label:"非工作时间启用机器人"}),(0,j.jsx)(q.u,{name:"worktimes",style:{marginBlockEnd:0,width:"300px"},label:"工作时间区间，支持多个",creatorRecord:{worktime:[T()("00:00:00",Q),T()("23:59:59",Q)]},initialValue:ee(),creatorButtonProps:{creatorButtonText:"添加",icon:!1,style:{width:"unset"}},copyIconProps:!1,deleteIconProps:{tooltipText:"删除"},itemRender:function(e){var t=e.listDom,n=e.action;return(0,j.jsxs)("div",{style:{display:"inline-flex",marginInlineEnd:25},children:[t,n]})},min:1,max:4,actionRef:a,actionGuard:{beforeAddRow:(K=c()(l()().mark((function e(t,n,r){return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("beforeAddRow:",t,n),e.next=3,ne();case 3:return e.abrupt("return",new Promise((function(e){e(!0)})));case 4:case"end":return e.stop()}}),e)}))),function(e,t,n){return K.apply(this,arguments)}),beforeRemoveRow:(J=c()(l()().mark((function e(t,n){return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("beforeRemoveRow:",t),e.next=3,re(t);case 3:return e.abrupt("return",new Promise((function(e){e(0!==t)})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return J.apply(this,arguments)})},children:function(e,t,n){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(M.RangePicker,{width:"md",name:"worktime",fieldProps:{onChange:function(e,n){te(e,n,t)},format:Q}},"worktime")})}}),(0,j.jsx)(W.Z,{name:"robotUid",label:"客服机器人",width:"md",options:Z.map((function(e){return{value:e.uid,label:P(e.nickname)}})),fieldProps:{allowClear:!0,placeholder:"请选择客服机器人"}})]})})}},75853:function(e,t,n){n.d(t,{Z:function(){return M}});var r=n(90228),o=n.n(r),s=n(26068),i=n.n(s),u=n(87999),l=n.n(u),a=n(48305),c=n.n(a),d=n(59153),v=n(39136),g=n(69375),p=n(17698),f=n(51038),h=n(68252),m=n(22487),w=n(79705),q=n(96677),F=n(74730),y=n(88138),k=n(92996),x=n(98037),b=n(53162),S=n(75271),j=n(36795),U=n(52676),C=["fieldProps","min","proFieldProps","max"],Z=function(e,t){var n=e.fieldProps,r=e.min,o=e.proFieldProps,s=e.max,i=(0,b.Z)(e,C);return(0,U.jsx)(j.Z,(0,x.Z)({valueType:"digit",fieldProps:(0,x.Z)({min:r,max:s},n),ref:t,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:o},i))},A=S.forwardRef(Z),R=n(18735),M=function(e){var t=e.type,n=F.A.useForm(),r=c()(n,1)[0],s=(0,R.useIntl)(),u=(0,f.Z)().translateString,a=(0,S.useState)(!1),x=c()(a,2),b=x[0],j=x[1],C=(0,m.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),Z=C.currentRobot,M=C.setCurrentRobot,W=(0,h.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),P=W.currentAgent,T=W.setCurrentAgent,I=(0,w.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),V=I.currentWorkgroup,E=I.setCurrentWorkgroup,O=function(e){r.setFieldValue("welcomeTip",u(null==e?void 0:e.welcomeTip)),r.setFieldValue("topTip",u(null==e?void 0:e.topTip)),r.setFieldValue("showTopTip",null==e?void 0:e.showTopTip),r.setFieldValue("leavemsgTip",u(null==e?void 0:e.leavemsgTip)),r.setFieldValue("autoCloseMin",null==e?void 0:e.autoCloseMin),r.setFieldValue("showLogo",null==e?void 0:e.showLogo)};(0,S.useEffect)((function(){t===q._X4?O(null==Z?void 0:Z.serviceSettings):t===q.Njn?(O(null==P?void 0:P.serviceSettings),r.setFieldValue("maxThreadCount",null==P?void 0:P.maxThreadCount)):t===q.aZD&&O(null==V?void 0:V.serviceSettings)}),[Z,P,V]),(0,S.useEffect)((function(){var e;j(null==P||null===(e=P.serviceSettings)||void 0===e?void 0:e.showTopTip)}),[P]);var N=function(){var e=l()(o()().mark((function e(n){var r,u,l,a,c,f,h,m,w,F,y,k,x,S,j,U,C,A,R,W,I,O,N,H,B;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish:",n," showTopTip:",b),d.yw.loading(s.formatMessage({id:"updating"})),t!==q._X4){e.next=12;break}return f=i()(i()({},Z),{},{serviceSettings:i()(i()({},Z.serviceSettings),{},{topTip:(null==n?void 0:n.topTip)||"",showTopTip:b,welcomeTip:(null==n?void 0:n.welcomeTip)||"",leavemsgTip:(null==n?void 0:n.leavemsgTip)||"",autoCloseMin:(null==n?void 0:n.autoCloseMin)||25,showLogo:(null==n?void 0:n.showLogo)||!0,quickFaqUids:null===(r=P.serviceSettings)||void 0===r||null===(r=r.quickFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),faqUids:null==Z||null===(u=Z.serviceSettings)||void 0===u||null===(u=u.faqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(l=Z.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(a=Z.serviceSettings)||void 0===a||null===(a=a.hotFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(c=Z.serviceSettings)||void 0===c||null===(c=c.shortcutFaqs)||void 0===c?void 0:c.map((function(e){return e.uid}))})}),console.log("robotObject:",f),e.next=7,(0,g.$l)(f);case 7:h=e.sent,console.log("updateRobot response:",h),200===h.code?(d.yw.destroy(),d.yw.success(s.formatMessage({id:"update.success"})),M(h.data)):(d.yw.destroy(),d.yw.error(h.message)),e.next=30;break;case 12:if(t!==q.Njn){e.next=22;break}return j=i()(i()({},P),{},{serviceSettings:i()(i()({},P.serviceSettings),{},{topTip:(null==n?void 0:n.topTip)||"",showTopTip:b,welcomeTip:(null==n?void 0:n.welcomeTip)||"",leavemsgTip:(null==n?void 0:n.leavemsgTip)||"",autoCloseMin:(null==n?void 0:n.autoCloseMin)||25,showLogo:(null==n?void 0:n.showLogo)||!0,robotUid:null===(m=P.serviceSettings)||void 0===m||null===(m=m.robot)||void 0===m?void 0:m.uid,quickFaqUids:null===(w=P.serviceSettings)||void 0===w||null===(w=w.quickFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),faqUids:null===(F=P.serviceSettings)||void 0===F||null===(F=F.faqs)||void 0===F?void 0:F.map((function(e){return e.uid})),guessFaqUids:null==P||null===(y=P.serviceSettings)||void 0===y||null===(y=y.guessFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),hotFaqUids:null==P||null===(k=P.serviceSettings)||void 0===k||null===(k=k.hotFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),shortcutFaqUids:null==P||null===(x=P.serviceSettings)||void 0===x||null===(x=x.shortcutFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),worktimeUids:null===(S=P.serviceSettings)||void 0===S||null===(S=S.worktimes)||void 0===S?void 0:S.map((function(e){return e.uid}))}),autoReplySettings:i()({},P.autoReplySettings),maxThreadCount:(null==n?void 0:n.maxThreadCount)||10}),console.log("agentObject:",j),e.next=17,(0,v.sE)(j);case 17:U=e.sent,console.log("updateAgent response:",U),200===U.code?(d.yw.destroy(),d.yw.success(s.formatMessage({id:"update.success"})),T(U.data)):(d.yw.destroy(),d.yw.error(U.message)),e.next=30;break;case 22:if(t!==q.aZD){e.next=30;break}return H=i()(i()({},V),{},{serviceSettings:i()(i()({},V.serviceSettings),{},{topTip:(null==n?void 0:n.topTip)||"",showTopTip:b,welcomeTip:(null==n?void 0:n.welcomeTip)||"",leavemsgTip:(null==n?void 0:n.leavemsgTip)||"",autoCloseMin:(null==n?void 0:n.autoCloseMin)||25,showLogo:(null==n?void 0:n.showLogo)||!0,robotUid:null===(C=V.serviceSettings)||void 0===C||null===(C=C.robot)||void 0===C?void 0:C.uid,quickFaqUids:null===(A=V.serviceSettings)||void 0===A||null===(A=A.quickFaqs)||void 0===A?void 0:A.map((function(e){return e.uid})),faqUids:null===(R=V.serviceSettings)||void 0===R||null===(R=R.faqs)||void 0===R?void 0:R.map((function(e){return e.uid})),guessFaqUids:null==V||null===(W=V.serviceSettings)||void 0===W||null===(W=W.guessFaqs)||void 0===W?void 0:W.map((function(e){return e.uid})),hotFaqUids:null==V||null===(I=V.serviceSettings)||void 0===I||null===(I=I.hotFaqs)||void 0===I?void 0:I.map((function(e){return e.uid})),shortcutFaqUids:null==V||null===(O=V.serviceSettings)||void 0===O||null===(O=O.shortcutFaqs)||void 0===O?void 0:O.map((function(e){return e.uid})),worktimeUids:null===(N=V.serviceSettings)||void 0===N||null===(N=N.worktimes)||void 0===N?void 0:N.map((function(e){return e.uid}))}),agentUids:V.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",H),e.next=27,(0,p.W5)(H);case 27:B=e.sent,console.log("updateWorkGroup response:",B),200===B.code?(d.yw.destroy(),d.yw.success(s.formatMessage({id:"update.success"})),E(B.data)):(d.yw.destroy(),d.yw.error(B.message));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,U.jsxs)(F.A,{form:r,onFinish:N,style:{marginLeft:"100px"},children:[(0,U.jsx)(y.Z,{name:"showTopTip",width:"md",label:"显示置顶语/公告",fieldProps:{onChange:function(e){var t;console.log("checked = ".concat(e.target.checked,", showTopTip:").concat(null==P||null===(t=P.serviceSettings)||void 0===t?void 0:t.showTopTip)),j(e.target.checked)}}}),b&&(0,U.jsx)(k.Z,{width:"md",name:"topTip",label:"置顶语"}),(0,U.jsx)(k.Z,{width:"md",name:"welcomeTip",label:"欢迎语"}),t!=q._X4&&(0,U.jsx)(k.Z,{width:"md",name:"leavemsgTip",label:"离线留言提示"}),(0,U.jsx)(A,{width:"md",name:"autoCloseMin",label:"无新消息会话自动关闭时长(单位：分钟)",min:1}),t===q.Njn&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("p",{children:"1. 同时最大接待数量，超出数量默认进入排队队列"}),(0,U.jsx)("p",{children:"2. 0为所有访客默认进入排队队列，需要客服手动接入"}),(0,U.jsx)("p",{children:"3. 当接待数量小于最大接待数量时，会话自动接入，优先接入排队队列中会话"}),(0,U.jsx)(A,{width:"md",name:"maxThreadCount",label:"同时最大接待数量",min:0})]}),(0,U.jsx)(y.Z,{name:"showLogo",width:"md",label:"显示Logo",tooltip:"只有付费会员可以去掉Logo",fieldProps:{onChange:function(e){console.log("onShowLogoChange = ".concat(e.target.checked))}},disabled:!0})]})}},32865:function(e,t,n){n(75271);var r=n(75055),o=n(18735),s=n(42793),i=n(99635),u=n(16043),l=n(58990),a=n(79333),c=n(31393),d=n(86905),v=n(52676);t.Z=function(e){var t=e.type,n=((0,o.useIntl)(),[{key:"whatsapp",label:"Whatsapp",children:(0,v.jsx)(u.Z,{})},{key:"telegram",label:"Telegram",children:(0,v.jsx)(i.Z,{})},{key:"facebook",label:"Facebook",children:(0,v.jsx)(d.Z,{})},{key:"Line",label:"Line",children:(0,v.jsx)(l.Z,{})},{key:"shopify",label:"Shopify",children:(0,v.jsx)(a.Z,{})},{key:"lazada",label:"Lazada",children:(0,v.jsx)(c.Z,{})}]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Z,{type:t}),(0,v.jsx)(r.Z,{tabPosition:"left",items:n})]})}},70042:function(e,t,n){n(75271);var r=n(75055),o=n(55537),s=n(14443),i=n(60886),u=n(53919),l=n(34755),a=n(18735),c=n(13868),d=n(42793),v=n(52676);t.Z=function(e){var t=e.type,n=((0,a.useIntl)(),[{key:"web",label:"Web",children:(0,v.jsx)(o.Z,{type:t})},{key:"react",label:"React",children:(0,v.jsx)(c.Z,{type:t})},{key:"ios",label:"iOS",children:(0,v.jsx)(s.Z,{type:t})},{key:"android",label:"Android",children:(0,v.jsx)(l.Z,{type:t})},{key:"uniapp",label:"Uniapp",children:(0,v.jsx)(i.Z,{type:t})},{key:"flutter",label:"Flutter",children:(0,v.jsx)(u.Z,{type:t})}]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.Z,{type:t}),(0,v.jsx)(r.Z,{tabPosition:"left",items:n})]})}},365:function(e,t,n){n(75271);var r=n(75055),o=n(18735),s=n(42793),i=n(57196),u=n(43415),l=n(81941),a=n(58718),c=n(52676);t.Z=function(e){var t=e.type,n=((0,o.useIntl)(),[{key:"pdd",label:"拼多多",children:(0,c.jsx)(i.Z,{})},{key:"jd",label:"京东",children:(0,c.jsx)(a.Z,{})},{key:"qianniu",label:"千牛",children:(0,c.jsx)(u.Z,{})},{key:"doudian",label:"抖店",children:(0,c.jsx)(l.Z,{})}]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.Z,{type:t}),(0,c.jsx)(r.Z,{tabPosition:"left",items:n})]})}},91033:function(e,t,n){n.d(t,{Z:function(){return ee}});var r=n(75271),o=n(75055),s=n(18735),i=n(96836),u=n(42793),l=n(81453),a=n(74377),c=n(50783),d=n(93994),v=n(7500),g=n(90228),p=n.n(g),f=n(26068),h=n.n(f),m=n(67825),w=n.n(m),q=n(87999),F=n.n(q),y=n(48305),k=n.n(y),x=n(50501),b=n(9593),S=n(41258),j=n(89620),U=n(58439),C=n(59153),Z=n(29244),A=n(93061),R=n(354),M=n(89415),W=n(96677),P=n(52676),T=["current"],I=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,P.jsx)(s.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"name",hideInSearch:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0}],V=function(e){var t=e.type,n=(0,s.useAccess)(),o=(0,r.useState)(!1),i=k()(o,2),u=i[0],l=i[1],a=((0,s.useIntl)(),(0,r.useRef)()),c=(0,Z.u)((function(e){return e.currentOrg})),d=[].concat(I),v=function(){l(!0)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:"通过h5方式集成"}),(0,P.jsx)(M.Z,{type:t}),(0,P.jsx)("br",{}),(0,P.jsx)(b.Z,{}),(0,P.jsxs)(s.Access,{accessible:n.canDebug(),fallback:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(s.FormattedMessage,{id:W.h5w})}),children:[(0,P.jsxs)(S.Z,{title:"Basic Modal",open:u,onOk:function(){l(!1)},onCancel:function(){l(!1)},children:[(0,P.jsx)("p",{children:"Some contents..."}),(0,P.jsx)("p",{children:"Some contents..."}),(0,P.jsx)("p",{children:"Some contents..."})]}),(0,P.jsx)(A.Z,{columns:d,actionRef:a,cardBordered:!0,request:function(){var e=F()(p()().mark((function e(t,n,r){var o,s,i;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,r),t.current,o=w()(t,T),s=h()({pageNumber:t.current-1,orgUid:c.uid},o),e.next=5,(0,R.H)(s);case 5:return i=e.sent,console.log("queryInvoiceByOrg response:",i),200===i.code||C.yw.error(i.message),e.abrupt("return",{data:i.data.content,success:!0,total:i.data.totalElements});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"绑定微信小程序",toolBarRender:function(){return[(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(U.ZP,{type:"primary",onClick:v,children:"添加微信小程序"}),(0,P.jsx)(U.ZP,{icon:(0,P.jsx)(x.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"微信小程序对接文档"})]})]}})]})]})},E=["current"],O=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,P.jsx)(s.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"name",hideInSearch:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0}],N=function(e){e.type;var t=(0,s.useAccess)(),n=(0,r.useState)(!1),o=k()(n,2),i=o[0],u=o[1],l=((0,s.useIntl)(),(0,r.useRef)()),a=(0,Z.u)((function(e){return e.currentOrg})),c=[].concat(O),d=function(){u(!0)};return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(s.Access,{accessible:t.canDebug(),fallback:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(s.FormattedMessage,{id:W.h5w})}),children:[(0,P.jsxs)(S.Z,{title:"Basic Modal",open:i,onOk:function(){u(!1)},onCancel:function(){u(!1)},children:[(0,P.jsx)("p",{children:"Some contents..."}),(0,P.jsx)("p",{children:"Some contents..."}),(0,P.jsx)("p",{children:"Some contents..."})]}),(0,P.jsx)(A.Z,{columns:c,actionRef:l,cardBordered:!0,request:function(){var e=F()(p()().mark((function e(t,n,r){var o,s,i;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,r),t.current,o=w()(t,E),s=h()({pageNumber:t.current-1,orgUid:a.uid},o),e.next=5,(0,R.H)(s);case 5:return i=e.sent,console.log("queryInvoiceByOrg response:",i),200===i.code||C.yw.error(i.message),e.abrupt("return",{data:i.data.content,success:!0,total:i.data.totalElements});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"绑定企业微信",toolBarRender:function(){return[(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(U.ZP,{type:"primary",onClick:d,children:"添加企业微信"}),(0,P.jsx)(U.ZP,{icon:(0,P.jsx)(x.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"企业微信对接文档"})]})]}})]})})},H=n(71417),B=n(65496),D=n(50997),L=n(7853),G=["current"],_=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,P.jsx)(s.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"name",hideInSearch:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"appId",defaultMessage:"AppId"}),dataIndex:"appId",copyable:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"url",defaultMessage:"Url"}),dataIndex:"url",copyable:!0,hideInSearch:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"token",defaultMessage:"Token"}),dataIndex:"token",copyable:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"encryptMode",defaultMessage:"EncryptMode"}),dataIndex:"encryptMode",copyable:!0,hideInSearch:!0,render:function(e,t){switch(t.encryptMode){case"PLAINTEXT":return(0,P.jsx)("span",{children:"明文模式"});case"COMPATIBLE":return(0,P.jsx)("span",{children:"兼容模式"});case"SAFE":return(0,P.jsx)("span",{children:"安全模式"});default:return(0,P.jsx)("span",{children:"未知"})}}},{title:(0,P.jsx)(s.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0}],$=function(e){var t=e.type,n=(0,r.useState)(!1),o=k()(n,2),i=o[0],u=o[1],l=(0,r.useState)({}),a=k()(l,2),c=a[0],d=a[1],v=(0,r.useState)(!1),g=k()(v,2),f=g[0],m=g[1],q=(0,s.useIntl)(),y=(0,r.useRef)(),R=(0,Z.u)((function(e){return e.currentOrg})),W=S.Z.useModal(),T=k()(W,2),I=T[0],V=T[1],E=[].concat(_,[{title:q.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",render:function(e,t,n,r){return[(0,P.jsx)("a",{onClick:function(){m(!0),d(t),u(!0)},children:q.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable"),(0,P.jsx)(U.ZP,{type:"link",onClick:function(){return e=t,void I.confirm({title:q.formatMessage({id:"deleteTip"}),icon:(0,P.jsx)(H.Z,{}),content:"".concat(q.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(e.name,"】？"),onOk:function(){O(e)},onCancel:function(){},okText:q.formatMessage({id:"ok"}),cancelText:q.formatMessage({id:"cancel"})});var e},danger:!0,children:q.formatMessage({id:"delete",defaultMessage:"Delete"})},"delete")]}}]),O=function(){var e=F()(p()().mark((function e(t){var n;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleteWechatMp:",t),e.next=3,(0,L.ul)(t);case 3:n=e.sent,console.log("deleteMember:",n),200===n.code?(C.yw.success(q.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),y.current.reload()):C.yw.error(n.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=F()(p()().mark((function e(t){var n,r;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L._Z)(t);case 2:n=e.sent,console.log("handleCreateWechatMp response:",n),200===n.code?(null===(r=y.current)||void 0===r||r.reload(),u(!1)):C.yw.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=F()(p()().mark((function e(t){var n,r;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.uid=null==c?void 0:c.uid,e.next=3,(0,L.sS)(t);case 3:n=e.sent,console.log("handleUpdateWechatMp response:",n),200===n.code?(null===(r=y.current)||void 0===r||r.reload(),u(!1)):C.yw.error(n.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){u(!0),m(!1),d({})};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:"通过自定义菜单方式集成"}),(0,P.jsx)(M.Z,{type:t}),(0,P.jsx)("br",{}),(0,P.jsx)(b.Z,{}),(0,P.jsx)(A.Z,{columns:E,actionRef:y,cardBordered:!0,request:function(){var e=F()(p()().mark((function e(t,n,r){var o,s,i;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,r),t.current,o=w()(t,G),s=h()({pageNumber:t.current-1,orgUid:R.uid},o),e.next=5,(0,L.aq)(s);case 5:return i=e.sent,console.log("queryWechatMpByOrg response:",i),200===i.code||C.yw.error(i.message),e.abrupt("return",{data:i.data.content,success:!0,total:i.data.totalElements});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"绑定公众号",toolBarRender:function(){return[(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(U.ZP,{type:"primary",onClick:X,icon:(0,P.jsx)(B.Z,{}),children:"添加微信公众号"}),!1,(0,P.jsx)(U.ZP,{icon:(0,P.jsx)(x.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechatmp")},children:"微信公众号对接文档"})]})]}}),V,i&&(0,P.jsx)(D.Z,{isEdit:f,open:i,wechatmp:c,onClose:function(){u(!1)},onSubmit:function(e){console.log("onDrawerSubmit:",e),f?$(e):N(e)}})]})},X=["current"],z=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,P.jsx)(s.FormattedMessage,{id:"amount",defaultMessage:"Amount"}),dataIndex:"amount",hideInSearch:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"state",defaultMessage:"State"}),dataIndex:"state",copyable:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"type",defaultMessage:"Type"}),dataIndex:"type",copyable:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0}],Q=function(e){e.type;var t=(0,s.useAccess)(),n=(0,r.useState)(!1),o=k()(n,2),i=o[0],u=o[1],l=((0,s.useIntl)(),(0,r.useRef)()),a=(0,Z.u)((function(e){return e.currentOrg})),c=[].concat(z),d=function(){u(!0)};return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(s.Access,{accessible:t.canDebug(),fallback:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(s.FormattedMessage,{id:W.h5w})}),children:[(0,P.jsxs)(S.Z,{title:"Basic Modal",open:i,onOk:function(){u(!1)},onCancel:function(){u(!1)},children:[(0,P.jsx)("p",{children:"Some contents..."}),(0,P.jsx)("p",{children:"Some contents..."}),(0,P.jsx)("p",{children:"Some contents..."})]}),(0,P.jsx)(A.Z,{columns:c,actionRef:l,cardBordered:!0,request:function(){var e=F()(p()().mark((function e(t,n,r){var o,s,i;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,r),t.current,o=w()(t,X),s=h()({pageNumber:t.current-1,orgUid:a.uid},o),e.next=5,(0,R.H)(s);case 5:return i=e.sent,console.log("queryInvoiceByOrg response:",i),200===i.code||C.yw.error(i.message),e.abrupt("return",{data:i.data.content,success:!0,total:i.data.totalElements});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"绑定微信",toolBarRender:function(){return[(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(U.ZP,{type:"primary",onClick:d,children:"添加微信"}),(0,P.jsx)(U.ZP,{icon:(0,P.jsx)(x.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"微信对接文档"})]})]}})]})})},J=["current"],K=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,P.jsx)(s.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"name",hideInSearch:!0},{title:(0,P.jsx)(s.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0}],Y=function(e){e.type;var t=(0,s.useAccess)(),n=(0,r.useState)(!1),o=k()(n,2),i=o[0],u=o[1],l=((0,s.useIntl)(),(0,r.useRef)()),a=(0,Z.u)((function(e){return e.currentOrg})),c=[].concat(K),d=function(){u(!0)};return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(s.Access,{accessible:t.canDebug(),fallback:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(s.FormattedMessage,{id:W.h5w})}),children:[(0,P.jsxs)(S.Z,{title:"Basic Modal",open:i,onOk:function(){u(!1)},onCancel:function(){u(!1)},children:[(0,P.jsx)("p",{children:"Some contents..."}),(0,P.jsx)("p",{children:"Some contents..."}),(0,P.jsx)("p",{children:"Some contents..."})]}),(0,P.jsx)(A.Z,{columns:c,actionRef:l,cardBordered:!0,request:function(){var e=F()(p()().mark((function e(t,n,r){var o,s,i;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,r),t.current,o=w()(t,J),s=h()({pageNumber:t.current-1,orgUid:a.uid},o),e.next=5,(0,R.H)(s);case 5:return i=e.sent,console.log("queryInvoiceByOrg response:",i),200===i.code||C.yw.error(i.message),e.abrupt("return",{data:i.data.content,success:!0,total:i.data.totalElements});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"绑定微信客服",toolBarRender:function(){return[(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(U.ZP,{type:"primary",onClick:d,children:"添加微信客服"}),(0,P.jsx)(U.ZP,{icon:(0,P.jsx)(x.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"微信客服对接文档"})]})]}})]})})},ee=function(e){var t=e.type,n=((0,s.useIntl)(),[{key:"wechat",label:"微信",children:(0,P.jsx)(Q,{type:t})},{key:"wechat-mp",label:"微信公众号",children:(0,P.jsx)($,{type:t})},{key:"wechat-mini",label:"微信小程序",children:(0,P.jsx)(V,{type:t})},{key:"wechat-com",label:"企业微信",children:(0,P.jsx)(N,{type:t})},{key:"wechat-kefu",label:"微信客服",children:(0,P.jsx)(Y,{type:t})},{key:"douyin",label:"抖音",children:(0,P.jsx)(v.Z,{})},{key:"xiaohongshu",label:"小红书",children:(0,P.jsx)(d.Z,{})},{key:"baidu",label:"百度",children:(0,P.jsx)(c.Z,{})},{key:"weibo",label:"微博",children:(0,P.jsx)(a.Z,{})},{key:"bili",label:"哔哩哔哩",children:(0,P.jsx)(l.Z,{})},{key:"zhihu",label:"知乎",children:(0,P.jsx)(i.Z,{})}]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(u.Z,{type:t}),(0,P.jsx)(o.Z,{tabPosition:"left",items:n})]})}},42793:function(e,t,n){var r=n(96677),o=n(51770),s=n(18735),i=n(73465),u=n(58439),l=n(9593),a=n(52676);t.Z=function(e){var t=e.type,n=(0,s.useIntl)();return(0,a.jsxs)(a.Fragment,{children:[t===r.aZD&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{message:"多客服技能组，此处客服代码会将所有访客按照路由规则转接给此技能组中客服成员",type:"success",action:(0,a.jsx)(u.ZP,{type:"link",icon:(0,a.jsx)(o.Z,{}),onClick:function(){return window.open(r.VPj)},children:n.formatMessage({id:"setting.helpcenter"})})}),(0,a.jsx)(l.Z,{})]}),t===r.Njn&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{message:"一对一客服，此处客服代码会将所有访客都转接给此客服账号",type:"success"}),(0,a.jsx)(l.Z,{})]})]})}},83811:function(e,t,n){n.d(t,{G:function(){return v}});var r=n(26068),o=n.n(r),s=(n(75271),n(26898)),i=n(96677),u=n(16483),l=n.n(u),a=n(59153),c=n(24229),d=n(52676),v=function(e){var t=e.children,n=e.onSuccess,r=e.onError,u={file:null,file_name:"test.png",file_type:"image/png",is_avatar:"true",kb_type:i.IrL,category_uid:"",kb_uid:"",client:i.bVn},v={name:"file",accept:"image/*",action:(0,c.M$)(),headers:{Authorization:"Bearer "+localStorage.getItem(i.LA8)},data:u,showUploadList:!1,beforeUpload:function(e){console.log("beforeUpload",e);var t=l()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name;u.file=e,u.file_name=t,u.file_type=e.type,console.log("beforeUpload",u)},onChange:function(e){if("uploading"!==e.file.status&&console.log("not uploading:",e.file),"done"===e.file.status)if(console.log("response: ",e.file.response),200===e.file.response.code){var t=e.file.response.data;n(t),a.yw.success("".concat(e.file.name," 上传成功"))}else r(e.file),a.yw.error("".concat(e.file.name," 上传失败"));else"error"===e.file.status&&(a.yw.error("".concat(e.file.name," 上传失败")),r(e.file))}};return(0,d.jsx)(s.Z,o()(o()({},v),{},{children:t}))}}}]);