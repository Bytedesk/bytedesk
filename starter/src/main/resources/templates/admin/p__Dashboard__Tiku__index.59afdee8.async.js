"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8455],{70150:function(P,o,e){e.d(o,{tR:function(){return h}});var g=e(15009),a=e.n(g),c=e(97857),n=e.n(c),d=e(99289),i=e.n(d),l=e(85615),m=e(86745);function h(u){return f.apply(this,arguments)}function f(){return f=i()(a()().mark(function u(t){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/v1/message/org",{method:"GET",params:n()(n()({},t),{},{client:l.bV})}));case 1:case"end":return r.stop()}},u)})),f.apply(this,arguments)}function b(u){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function u(t){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/user/robot",{method:"GET",params:{page:t.pageNumber,size:t.pageSize,client:HTTP_CLIENT}}));case 1:case"end":return r.stop()}},u)})),p.apply(this,arguments)}function v(u){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function u(t){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/v1/message/rest/send",{method:"POST",data:{json:t,client:HTTP_CLIENT}}));case 1:case"end":return r.stop()}},u)})),_.apply(this,arguments)}},24172:function(P,o,e){e.d(o,{Kq:function(){return m},tn:function(){return p}});var g=e(97857),a=e.n(g),c=e(15009),n=e.n(c),d=e(99289),i=e.n(d),l=e(86745);function m(_){return h.apply(this,arguments)}function h(){return h=i()(n()().mark(function _(u){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/org",{method:"POST",data:{nickname:u,client:"web"}}));case 1:case"end":return s.stop()}},_)})),h.apply(this,arguments)}function f(_){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function _(u){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("/api/v1/org/query",{method:"GET",params:_objectSpread(_objectSpread({},u),{},{client:"web"})}));case 1:case"end":return s.stop()}},_)})),b.apply(this,arguments)}function p(_){return v.apply(this,arguments)}function v(){return v=i()(n()().mark(function _(u){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,l.request)("/api/v1/org/uid",{method:"GET",params:{uid:u,client:"web"}}));case 1:case"end":return s.stop()}},_)})),v.apply(this,arguments)}},77154:function(P,o,e){var g=e(39825);function a(){var c=(0,g.Z)(),n=c.isDarkMode,d={borderRight:n?"1px solid #333":"1px solid #ccc",background:n?"#141414":"#eee",width:260},i={background:n?"#141414":"#fff"},l={borderLeft:n?"1px solid #333":"1px solid #ccc",background:n?"#141414":"#eee"},m={minHeight:120};return{leftSiderStyle:d,headerStyle:i,rightSiderStyle:l,contentStyle:m}}o.Z=a},16501:function(P,o,e){e.r(o),e.d(o,{default:function(){return N}});var g=e(77154),a=e(21612),c=e(68508),n=e(67294),d=e(15009),i=e.n(d),l=e(99289),m=e.n(l),h=e(5574),f=e.n(h),b=e(80049),p=e(70150),v=e(69888),_=e(87676),u=e(66955),t=e(85893),s=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u7C7B\u578B",dataIndex:"type",copyable:!0},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(R,C,S,y){return[(0,t.jsx)("a",{onClick:function(){var D;y==null||(D=y.startEditable)===null||D===void 0||D.call(y,C.uid)},children:"\u7F16\u8F91"},"editable")]}}],r=function(){var R=(0,n.useRef)(),C=(0,n.useState)(1),S=f()(C,2),y=S[0],I=S[1],D=(0,n.useState)(10),L=f()(D,2),K=L[0],F=L[1],H=(0,_.u)(function(E){return E.orgCurrent}),W=(0,v.G)(function(E){return{messageResult:E.messageResult,setMemberResult:E.setMessageResult}}),U=W.messageResult,J=W.setMemberResult,x=function(){var E=m()(i()().mark(function T(){var M,O;return i()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return M={pageNumber:y-1,pageSize:K,orgUid:H.uid},j.next=3,(0,p.tR)(M);case 3:O=j.sent,console.log("getAllMessages response:",M,O),O.code===200?J(O):b.yw.error(O.message);case 6:case"end":return j.stop()}},T)}));return function(){return E.apply(this,arguments)}}();return(0,n.useEffect)(function(){x()},[]),(0,n.useEffect)(function(){x()},[y,K]),(0,n.useEffect)(function(){console.log("messageResult:",U),R.current.reload()},[U]),(0,t.jsx)(u.Z,{columns:s,actionRef:R,cardBordered:!0,request:function(){var E=m()(i()().mark(function T(M,O,G){return i()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return console.log("request:",M,O,G),I(M.current),F(M.pageSize),A.abrupt("return",Promise.resolve({data:U.data.content,success:!0,total:U.data.totalElements}));case 4:case"end":return A.stop()}},T)}));return function(T,M,O){return E.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{pageSize:K,showQuickJumper:!0,onChange:function(T){console.log("page:",T)}},dateFormatter:"string",headerTitle:"\u7EC4\u7EC7\u6D88\u606F",toolBarRender:function(){return[]}})},w=r,Q=a.Z.Header,V=a.Z.Footer,k=a.Z.Sider,z=a.Z.Content,Z=[{label:"\u9AD8\u7EA7",key:"top",children:[{label:"column",key:"xinxixitongxiangmuguanlishi"}]},{label:"\u4E2D\u7EA7",key:"middle",children:[{label:"column2",key:"xitongjichengxiangmuguanligongchengshi"}]}],$=function(){var R=(0,g.Z)(),C=R.leftSiderStyle,S=R.contentStyle,y=function(D){console.log("menu click ",D)};return(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(k,{style:C,children:(0,t.jsx)(c.Z,{mode:"inline",onClick:y,defaultSelectedKeys:["xinxixitongxiangmuguanlishi"],defaultOpenKeys:["top","middle"],items:Z})}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(z,{style:S,children:(0,t.jsx)(w,{})})})]})},N=$},69888:function(P,o,e){e.d(o,{G:function(){return n}});var g=e(64529),a=e(782),c=e(71381),n=(0,g.Ue)()((0,a.mW)((0,a.tJ)((0,c.n)(function(d,i){return{messageResult:{data:{content:[]}},setMessageResult:function(m){d({messageResult:m})},deleteMessageCache:function(){return d({},!0)}}}),{name:"MESSAGE_STORE"})))},87676:function(P,o,e){e.d(o,{u:function(){return h}});var g=e(15009),a=e.n(g),c=e(99289),n=e.n(c),d=e(24172),i=e(64529),l=e(782),m=e(71381),h=(0,i.Ue)()((0,l.mW)((0,l.tJ)((0,m.n)(function(f,b){return{orgCurrent:{uid:"",name:"",description:""},setOrgCurrent:function(v){f({orgCurrent:v})},createOrg:function(){var p=n()(a()().mark(function _(u){var t;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,d.Kq)(u);case 2:t=r.sent,console.log("createOrg:",t),t.code==200;case 5:case"end":return r.stop()}},_)}));function v(_){return p.apply(this,arguments)}return v}(),deleteOrgCache:function(){return f({},!0)}}}),{name:"ORGANIZTION_STORE"})))}}]);
