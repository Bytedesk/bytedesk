"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2062],{87603:function(e,n,t){t.d(n,{Z:function(){return l}});var i=t(1413),o=t(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},s=t(89099),u=function(e,n){return o.createElement(s.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:r}))};var l=o.forwardRef(u)},64789:function(e,n,t){t.d(n,{Z:function(){return l}});var i=t(1413),o=t(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},s=t(89099),u=function(e,n){return o.createElement(s.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:r}))};var l=o.forwardRef(u)},88484:function(e,n,t){t.d(n,{Z:function(){return l}});var i=t(1413),o=t(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},s=t(89099),u=function(e,n){return o.createElement(s.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:r}))};var l=o.forwardRef(u)},63434:function(e,n,t){var i=t(1413),o=t(91),r=t(22270),s=t(84567),u=t(67294),l=t(90789),a=t(29258),c=t(85893),d=["options","fieldProps","proFieldProps","valueEnum"],v=u.forwardRef((function(e,n){var t=e.options,s=e.fieldProps,u=e.proFieldProps,l=e.valueEnum,v=(0,o.Z)(e,d);return(0,c.jsx)(a.Z,(0,i.Z)({ref:n,valueType:"checkbox",valueEnum:(0,r.h)(l,void 0),fieldProps:(0,i.Z)({options:t},s),lightProps:(0,i.Z)({labelFormatter:function(){return(0,c.jsx)(a.Z,(0,i.Z)({ref:n,valueType:"checkbox",mode:"read",valueEnum:(0,r.h)(l,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({options:t},s),proFieldProps:u},v))}},v.lightProps),proFieldProps:u},v))})),g=u.forwardRef((function(e,n){var t=e.fieldProps,o=e.children;return(0,c.jsx)(s.Z,(0,i.Z)((0,i.Z)({ref:n},t),{},{children:o}))})),p=(0,l.G)(g,{valuePropName:"checked"});p.Group=v,n.Z=p},31199:function(e,n,t){var i=t(1413),o=t(91),r=t(67294),s=t(29258),u=t(85893),l=["fieldProps","min","proFieldProps","max"],a=function(e,n){var t=e.fieldProps,r=e.min,a=e.proFieldProps,c=e.max,d=(0,o.Z)(e,l);return(0,u.jsx)(s.Z,(0,i.Z)({valueType:"digit",fieldProps:(0,i.Z)({min:r,max:c},t),ref:n,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:a},d))},c=r.forwardRef(a);n.Z=c},3418:function(e,n,t){t.d(n,{Lr:function(){return m},_t:function(){return d},sE:function(){return f},x_:function(){return g}});var i=t(15009),o=t.n(i),r=t(97857),s=t.n(r),u=t(99289),l=t.n(u),a=t(85615),c=t(86745);function d(e){return v.apply(this,arguments)}function v(){return(v=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/agent/query/org",{method:"GET",params:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/agent/create",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/agent/update",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/agent/delete",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},40401:function(e,n,t){t.d(n,{Yg:function(){return m},kh:function(){return g},pf:function(){return d},y:function(){return f}});var i=t(15009),o=t.n(i),r=t(97857),s=t.n(r),u=t(99289),l=t.n(u),a=t(85615),c=t(86745);function d(e){return v.apply(this,arguments)}function v(){return(v=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/query/org",{method:"GET",params:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/create",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/update",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/delete",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},76545:function(e,n,t){t.d(n,{$l:function(){return f},gf:function(){return m},lg:function(){return g},p0:function(){return d}});var i=t(15009),o=t.n(i),r=t(97857),s=t.n(r),u=t(99289),l=t.n(u),a=t(85615),c=t(86745);function d(e){return v.apply(this,arguments)}function v(){return(v=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/query/org",{method:"GET",params:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/create",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/update",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/delete",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},21317:function(e,n,t){t.d(n,{W5:function(){return f},p0:function(){return g},u7:function(){return d},zl:function(){return m}});var i=t(15009),o=t.n(i),r=t(97857),s=t.n(r),u=t(99289),l=t.n(u),a=t(85615),c=t(86745);function d(e){return v.apply(this,arguments)}function v(){return(v=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/workgroup/query/org",{method:"GET",params:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/workgroup/create",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/workgroup/update",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/workgroup/delete",{method:"POST",data:s()(s()({},n),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},54050:function(e,n,t){var i=t(85615),o=t(86745),r=t(85893);n.Z=function(e){e.type;var n=(0,o.useAccess)();return n.canDebug&&console.log("TabBlack canDebug"),(0,r.jsx)("div",{children:(0,r.jsx)("p",{children:(0,r.jsx)(o.Access,{accessible:n.canDebug(),fallback:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.FormattedMessage,{id:i.h5w})}),children:"黑名单访客、黑名单ip/ip段"})})})}},23035:function(e,n,t){var i=t(15009),o=t.n(i),r=t(97857),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(3418),g=t(76545),p=t(21317),f=t(30694),h=t(37326),m=t(18678),w=t(85615),q=t(34994),F=t(52688),y=t(86745),k=t(67294),b=t(85893);n.Z=function(e){var n=e.type,t=(0,y.useIntl)(),i=q.A.useForm(),r=c()(i,1)[0],u=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),a=u.currentRobot,x=u.setCurrentRobot,S=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),j=S.currentAgent,U=S.setCurrentAgent,C=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Z=C.currentWorkgroup,R=C.setCurrentWorkgroup;(0,k.useEffect)((function(){var e;if(n===w._X4)r.setFieldsValue({showCaptcha:null==a||null===(e=a.serviceSettings)||void 0===e?void 0:e.showCaptcha});else if(n===w.Njn){var t;r.setFieldsValue({showCaptcha:null==j||null===(t=j.serviceSettings)||void 0===t?void 0:t.showCaptcha})}else if(n===w.aZD){var i;r.setFieldsValue({showCaptcha:null==Z||null===(i=Z.serviceSettings)||void 0===i?void 0:i.showCaptcha})}}),[a,j,Z]);var A=function(){var e=l()(o()().mark((function e(i){var r,u,l,c,f,h,m,q,F,y,k,b,S,C,A,W,T,M,P,V,E,O,I,N,D;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleCaptchaSubmit:",i),n!==w._X4){e.next=11;break}return h=s()(s()({},a),{},{serviceSettings:s()(s()({},a.serviceSettings),{},{showCaptcha:i.showCaptcha,faqUids:null==j||null===(r=j.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),quickFaqUids:null==a||null===(u=a.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==a||null===(l=a.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==a||null===(c=a.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==a||null===(f=a.serviceSettings)||void 0===f||null===(f=f.shortcutFaqs)||void 0===f?void 0:f.map((function(e){return e.uid}))})}),console.log("robotObject:",h),e.next=6,(0,g.$l)(h);case 6:m=e.sent,console.log("updateRobot response:",m),200===m.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),x(m.data)):(d.yw.destroy(),d.yw.error(m.message)),e.next=29;break;case 11:if(n!==w.Njn){e.next=21;break}return A=s()(s()({},j),{},{serviceSettings:s()(s()({},null==j?void 0:j.serviceSettings),{},{showCaptcha:i.showCaptcha,faqUids:null==j||null===(q=j.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid})),robotUid:null==j||null===(F=j.serviceSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid,quickFaqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==j||null===(k=j.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),hotFaqUids:null==j||null===(b=j.serviceSettings)||void 0===b||null===(b=b.hotFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(S=j.serviceSettings)||void 0===S||null===(S=S.shortcutFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),worktimeUids:null==j||null===(C=j.serviceSettings)||void 0===C||null===(C=C.worktimes)||void 0===C?void 0:C.map((function(e){return e.uid}))}),autoReplySettings:s()({},j.autoReplySettings)}),console.log("agentObject:",A),e.next=16,(0,v.sE)(A);case 16:W=e.sent,console.log("updateAgent response:",W),200===W.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),U(W.data)):(d.yw.destroy(),d.yw.error(W.message)),e.next=29;break;case 21:if(n!==w.aZD){e.next=29;break}return N=s()(s()({},Z),{},{serviceSettings:s()(s()({},Z.serviceSettings),{},{showCaptcha:i.showCaptcha,faqUids:null==j||null===(T=j.serviceSettings)||void 0===T||null===(T=T.faqs)||void 0===T?void 0:T.map((function(e){return e.uid})),robotUid:null===(M=Z.serviceSettings)||void 0===M||null===(M=M.robot)||void 0===M?void 0:M.uid,quickFaqUids:null===(P=Z.serviceSettings)||void 0===P||null===(P=P.quickFaqs)||void 0===P?void 0:P.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(V=Z.serviceSettings)||void 0===V||null===(V=V.guessFaqs)||void 0===V?void 0:V.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(E=Z.serviceSettings)||void 0===E||null===(E=E.hotFaqs)||void 0===E?void 0:E.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(O=Z.serviceSettings)||void 0===O||null===(O=O.shortcutFaqs)||void 0===O?void 0:O.map((function(e){return e.uid})),worktimeUids:null===(I=Z.serviceSettings)||void 0===I||null===(I=I.worktimes)||void 0===I?void 0:I.map((function(e){return e.uid}))}),agentUids:Z.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",N),e.next=26,(0,p.W5)(N);case 26:D=e.sent,console.log("updateWorkGroup response:",D),200===D.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),R(D.data)):(d.yw.destroy(),d.yw.error(D.message));case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{children:(0,b.jsx)(q.A,{form:r,onFinish:A,children:(0,b.jsx)(F.Z,{width:"md",name:"showCaptcha",label:t.formatMessage({id:"showCaptcha",defaultMessage:"Show Captcha"})})})})}},79964:function(e,n,t){var i=t(97857),o=t.n(i),r=t(15009),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(40401),g=t(76545),p=t(73803),f=t(37326),h=t(87676),m=t(48489),w=t(87603),q=t(34994),F=t(52688),y=t(64317),k=t(86745),b=t(38437),x=t(14726),S=t(96074),j=t(67294),U=t(30694),C=t(18678),Z=t(85615),R=t(3418),A=t(21317),W=t(85893);n.Z=function(e){var n,t=e.type,i=q.A.useForm(),r=c()(i,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),T=(0,p.Z)().translateString,M=(0,h.u)((function(e){return e.currentOrg})),P=(0,j.useState)(),V=c()(P,2),E=V[0],O=V[1],I=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=I.currentRobot,D=I.setCurrentRobot,H=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),_=H.currentAgent,L=H.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=G.currentWorkgroup,X=G.setCurrentWorkgroup,z=function(){var e=l()(s()().mark((function e(){var n,t;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),n={pageNumber:0,pageSize:50,orgUid:M.uid},e.next=4,(0,v.pf)(n);case 4:t=e.sent,console.log("getAllFaqs response:",n,t),d.yw.destroy(),200===t.code?O(t):d.yw.error(t.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){z()}),[M]),(0,j.useEffect)((function(){var e,n;if(t===Z._X4)r.setFieldsValue({showFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showFaqs,faqUids:null==N||null===(n=N.serviceSettings)||void 0===n||null===(n=n.faqs)||void 0===n?void 0:n.map((function(e){return e.uid}))});else if(t===Z.Njn){var i,o;r.setFieldsValue({showFaqs:null==_||null===(i=_.serviceSettings)||void 0===i?void 0:i.showFaqs,faqUids:null==_||null===(o=_.serviceSettings)||void 0===o||null===(o=o.faqs)||void 0===o?void 0:o.map((function(e){return e.uid}))})}else if(t===Z.aZD){var s,u;r.setFieldsValue({showFaqs:null==$||null===(s=$.serviceSettings)||void 0===s?void 0:s.showFaqs,faqUids:null==$||null===(u=$.serviceSettings)||void 0===u||null===(u=u.faqs)||void 0===u?void 0:u.map((function(e){return e.uid}))})}}),[N,_,$]);var Q=function(){var e=l()(s()().mark((function e(n){var i,r,l,a,c,v,p,f,h,m,w,q,F,y,k,b,x,S,j,U,C,W;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",n),t!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showFaqs:n.showFaqs,faqUids:n.faqUids,quickFaqUids:null==N||null===(i=N.serviceSettings)||void 0===i||null===(i=i.quickFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),guessFaqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.guessFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),hotFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.shortcutFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),D(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(t!==Z.Njn){e.next=21;break}return F=o()(o()({},_),{},{serviceSettings:o()(o()({},null==_?void 0:_.serviceSettings),{},{showFaqs:n.showFaqs,faqUids:n.faqUids,robotUid:null==_||null===(p=_.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,quickFaqUids:null==_||null===(f=_.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==_||null===(h=_.serviceSettings)||void 0===h||null===(h=h.guessFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),hotFaqUids:null==_||null===(m=_.serviceSettings)||void 0===m||null===(m=m.hotFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),shortcutFaqUids:null==_||null===(w=_.serviceSettings)||void 0===w||null===(w=w.shortcutFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==_||null===(q=_.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},_.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,R.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(t!==Z.aZD){e.next=29;break}return C=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showFaqs:n.showFaqs,faqUids:n.faqUids,robotUid:null===(k=$.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,quickFaqUids:null===(b=$.serviceSettings)||void 0===b||null===(b=b.quickFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),guessFaqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.guessFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),hotFaqUids:null==$||null===(S=$.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==$||null===(j=$.serviceSettings)||void 0===j||null===(j=j.shortcutFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=$.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:$.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",C),e.next=26,(0,A.W5)(C);case 26:W=e.sent,console.log("updateWorkGroup response:",W),200===W.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(W.data)):(d.yw.destroy(),d.yw.error(W.message));case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=l()(s()().mark((function e(n){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqs handleChange",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,W.jsxs)("div",{children:[(0,W.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,W.jsx)(x.ZP,{type:"link",icon:(0,W.jsx)(m.Z,{}),onClick:function(){return window.open(Z.rVq)},children:u.formatMessage({id:"setting.helpdoc"})})}),(0,W.jsx)(S.Z,{}),(0,W.jsxs)(q.A,{form:r,layout:"vertical",onFinish:Q,children:[(0,W.jsx)(F.Z,{label:"是否显示常见问题",name:"showFaqs",fieldProps:{onChange:B}}),(0,W.jsx)(q.A.Item,{children:(0,W.jsx)(x.ZP,{icon:(0,W.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,W.jsx)(y.Z,{name:"faqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faq"}),options:null==E||null===(n=E.data)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.map((function(e){return{label:T(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,W.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},64423:function(e,n,t){var i=t(97857),o=t.n(i),r=t(15009),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(40401),g=t(76545),p=t(73803),f=t(37326),h=t(87676),m=t(48489),w=t(87603),q=t(34994),F=t(52688),y=t(64317),k=t(86745),b=t(38437),x=t(14726),S=t(96074),j=t(67294),U=t(30694),C=t(18678),Z=t(85615),R=t(3418),A=t(21317),W=t(85893);n.Z=function(e){var n,t=e.type,i=q.A.useForm(),r=c()(i,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),T=(0,p.Z)().translateString,M=(0,h.u)((function(e){return e.currentOrg})),P=(0,j.useState)(),V=c()(P,2),E=V[0],O=V[1],I=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=I.currentRobot,D=I.setCurrentRobot,H=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),_=H.currentAgent,L=H.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=G.currentWorkgroup,X=G.setCurrentWorkgroup,z=function(){var e=l()(s()().mark((function e(){var n,t;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),n={pageNumber:0,pageSize:50,orgUid:M.uid},e.next=4,(0,v.pf)(n);case 4:t=e.sent,console.log("getAllFaqs response:",n,t),d.yw.destroy(),200===t.code?O(t):d.yw.error(t.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){z()}),[M]),(0,j.useEffect)((function(){var e,n;if(t===Z._X4)r.setFieldsValue({showGuessFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showGuessFaqs,guessFaqUids:null==N||null===(n=N.serviceSettings)||void 0===n||null===(n=n.guessFaqs)||void 0===n?void 0:n.map((function(e){return e.uid}))});else if(t===Z.Njn){var i,o;r.setFieldsValue({showGuessFaqs:null==_||null===(i=_.serviceSettings)||void 0===i?void 0:i.showGuessFaqs,guessFaqUids:null==_||null===(o=_.serviceSettings)||void 0===o||null===(o=o.guessFaqs)||void 0===o?void 0:o.map((function(e){return e.uid}))})}else if(t===Z.aZD){var s,u;r.setFieldsValue({showGuessFaqs:null==$||null===(s=$.serviceSettings)||void 0===s?void 0:s.showGuessFaqs,guessFaqUids:null==$||null===(u=$.serviceSettings)||void 0===u||null===(u=u.guessFaqs)||void 0===u?void 0:u.map((function(e){return e.uid}))})}}),[N,_,$]);var Q=function(){var e=l()(s()().mark((function e(n){var i,r,l,a,c,v,p,f,h,m,w,q,F,y,k,b,x,S,j,U,C,W,T;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",n),t!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showGuessFaqs:n.showGuessFaqs,guessFaqUids:n.guessFaqUids,quickFaqUids:null==N||null===(i=N.serviceSettings)||void 0===i||null===(i=i.quickFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),faqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),hotFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.shortcutFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),D(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(t!==Z.Njn){e.next=21;break}return F=o()(o()({},_),{},{serviceSettings:o()(o()({},null==_?void 0:_.serviceSettings),{},{showGuessFaqs:n.showGuessFaqs,guessFaqUids:n.guessFaqUids,robotUid:null==_||null===(p=_.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,quickFaqUids:null==_||null===(f=_.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),faqUids:null==_||null===(h=_.serviceSettings)||void 0===h||null===(h=h.faqs)||void 0===h?void 0:h.map((function(e){return e.uid})),hotFaqUids:null==_||null===(m=_.serviceSettings)||void 0===m||null===(m=m.hotFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),shortcutFaqUids:null==_||null===(w=_.serviceSettings)||void 0===w||null===(w=w.shortcutFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==_||null===(q=_.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},_.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,R.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(t!==Z.aZD){e.next=29;break}return W=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showGuessFaqs:n.showGuessFaqs,guessFaqUids:n.guessFaqUids,robotUid:null===(k=$.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,quickFaqUids:null===(b=$.serviceSettings)||void 0===b||null===(b=b.quickFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),faqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.faqs)||void 0===x?void 0:x.map((function(e){return e.uid})),hotFaqUids:null==$||null===(S=$.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==$||null===(j=$.serviceSettings)||void 0===j||null===(j=j.shortcutFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=$.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:null===(C=$.agents)||void 0===C?void 0:C.map((function(e){return e.uid}))}),console.log("workgroupObject:",W),e.next=26,(0,A.W5)(W);case 26:T=e.sent,console.log("updateWorkGroup response:",T),200===T.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(T.data)):(d.yw.destroy(),d.yw.error(T.message));case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=l()(s()().mark((function e(n){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqGuess handleChange",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,W.jsxs)("div",{children:[(0,W.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,W.jsx)(x.ZP,{type:"link",icon:(0,W.jsx)(m.Z,{}),onClick:function(){return window.open(Z.rVq)},children:u.formatMessage({id:"setting.helpdoc"})})}),(0,W.jsx)(S.Z,{}),(0,W.jsxs)(q.A,{form:r,layout:"vertical",onFinish:Q,children:[(0,W.jsx)(F.Z,{label:"是否显示猜你想问",name:"showGuessFaqs",fieldProps:{onChange:B}}),(0,W.jsx)(q.A.Item,{children:(0,W.jsx)(x.ZP,{icon:(0,W.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,W.jsx)(y.Z,{name:"guessFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faqGuess"}),options:null==E||null===(n=E.data)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.map((function(e){return{label:T(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,W.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},50748:function(e,n,t){var i=t(97857),o=t.n(i),r=t(15009),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(40401),g=t(76545),p=t(73803),f=t(37326),h=t(87676),m=t(48489),w=t(87603),q=t(34994),F=t(52688),y=t(64317),k=t(86745),b=t(38437),x=t(14726),S=t(96074),j=t(67294),U=t(30694),C=t(18678),Z=t(85615),R=t(3418),A=t(21317),W=t(85893);n.Z=function(e){var n,t=e.type,i=q.A.useForm(),r=c()(i,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),T=(0,p.Z)().translateString,M=(0,h.u)((function(e){return e.currentOrg})),P=(0,j.useState)(),V=c()(P,2),E=V[0],O=V[1],I=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=I.currentRobot,D=I.setCurrentRobot,H=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),_=H.currentAgent,L=H.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=G.currentWorkgroup,X=G.setCurrentWorkgroup,z=function(){var e=l()(s()().mark((function e(){var n,t;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),n={pageNumber:0,pageSize:50,orgUid:M.uid},e.next=4,(0,v.pf)(n);case 4:t=e.sent,console.log("getAllFaqs response:",n,t),d.yw.destroy(),200===t.code?O(t):d.yw.error(t.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){z()}),[M]),(0,j.useEffect)((function(){var e;if(t===Z._X4)r.setFieldsValue({showHotFaqs:null==N?void 0:N.serviceSettings.showHotFaqs,hotFaqUids:(null==N||null===(e=N.serviceSettings)||void 0===e||null===(e=e.hotFaqs)||void 0===e?void 0:e.map((function(e){return e.uid})))||[]});else if(t===Z.Njn){var n;r.setFieldsValue({showHotFaqs:null==_?void 0:_.serviceSettings.showHotFaqs,hotFaqUids:(null==_||null===(n=_.serviceSettings)||void 0===n||null===(n=n.hotFaqs)||void 0===n?void 0:n.map((function(e){return e.uid})))||[]})}else if(t===Z.aZD){var i;r.setFieldsValue({showHotFaqs:null==$?void 0:$.serviceSettings.showHotFaqs,hotFaqUids:(null==$||null===(i=$.serviceSettings)||void 0===i||null===(i=i.hotFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})))||[]})}}),[N,_,$]);var Q=function(){var e=l()(s()().mark((function e(n){var i,r,l,a,c,v,p,f,h,m,w,q,F,y,k,b,x,S,j,U,C,W;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",n),t!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showHotFaqs:n.showHotFaqs,hotFaqUids:n.hotFaqUids,quickFaqUids:null==N||null===(i=N.serviceSettings)||void 0===i||null===(i=i.quickFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),faqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),guessFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.shortcutFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),D(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(t!==Z.Njn){e.next=21;break}return F=o()(o()({},_),{},{serviceSettings:o()(o()({},null==_?void 0:_.serviceSettings),{},{showHotFaqs:n.showHotFaqs,hotFaqUids:n.hotFaqUids,robotUid:null==_||null===(p=_.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,quickFaqUids:null==_||null===(f=_.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==_||null===(h=_.serviceSettings)||void 0===h||null===(h=h.guessFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),faqUids:null==_||null===(m=_.serviceSettings)||void 0===m||null===(m=m.faqs)||void 0===m?void 0:m.map((function(e){return e.uid})),shortcutFaqUids:null==_||null===(w=_.serviceSettings)||void 0===w||null===(w=w.shortcutFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==_||null===(q=_.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},_.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,R.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(t!==Z.aZD){e.next=29;break}return C=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showHotFaqs:n.showHotFaqs,hotFaqUids:n.hotFaqUids,robotUid:null===(k=$.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,quickFaqUids:null===(b=$.serviceSettings)||void 0===b||null===(b=b.quickFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),faqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.faqs)||void 0===x?void 0:x.map((function(e){return e.uid})),guessFaqUids:null==$||null===(S=$.serviceSettings)||void 0===S||null===(S=S.guessFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==$||null===(j=$.serviceSettings)||void 0===j||null===(j=j.shortcutFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=$.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:$.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",C),e.next=26,(0,A.W5)(C);case 26:W=e.sent,console.log("updateWorkGroup response:",W),200===W.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(W.data)):(d.yw.destroy(),d.yw.error(W.message));case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=l()(s()().mark((function e(n){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqHots handleChange",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,W.jsxs)("div",{children:[(0,W.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,W.jsx)(x.ZP,{type:"link",icon:(0,W.jsx)(m.Z,{}),onClick:function(){return window.open(Z.rVq)},children:u.formatMessage({id:"setting.helpdoc"})})}),(0,W.jsx)(S.Z,{}),(0,W.jsxs)(q.A,{form:r,layout:"vertical",onFinish:Q,children:[(0,W.jsx)(F.Z,{label:"是否显示热门问题",name:"showHotFaqs",fieldProps:{onChange:B}}),(0,W.jsx)(q.A.Item,{children:(0,W.jsx)(x.ZP,{icon:(0,W.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,W.jsx)(y.Z,{name:"hotFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faqHot"}),options:null==E||null===(n=E.data)||void 0===n?void 0:n.content.map((function(e){return{label:T(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,W.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},51364:function(e,n,t){var i=t(97857),o=t.n(i),r=t(15009),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(40401),g=t(76545),p=t(73803),f=t(37326),h=t(87676),m=t(48489),w=t(87603),q=t(34994),F=t(52688),y=t(64317),k=t(86745),b=t(38437),x=t(14726),S=t(96074),j=t(67294),U=t(30694),C=t(18678),Z=t(85615),R=t(3418),A=t(21317),W=t(85893);n.Z=function(e){var n,t=e.type,i=q.A.useForm(),r=c()(i,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),T=(0,p.Z)().translateString,M=(0,h.u)((function(e){return e.currentOrg})),P=(0,j.useState)(),V=c()(P,2),E=V[0],O=V[1],I=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=I.currentRobot,D=I.setCurrentRobot,H=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),_=H.currentAgent,L=H.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=G.currentWorkgroup,X=G.setCurrentWorkgroup,z=function(){var e=l()(s()().mark((function e(){var n,t;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),n={pageNumber:0,pageSize:50,orgUid:M.uid},e.next=4,(0,v.pf)(n);case 4:t=e.sent,console.log("getAllFaqs response:",n,t),d.yw.destroy(),200===t.code?O(t):d.yw.error(t.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){z()}),[M]),(0,j.useEffect)((function(){var e,n;if(t===Z._X4)r.setFieldsValue({showQuickFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showQuickFaqs,quickFaqUids:null==N||null===(n=N.serviceSettings)||void 0===n||null===(n=n.quickFaqs)||void 0===n?void 0:n.map((function(e){return e.uid}))});else if(t===Z.Njn){var i,o;r.setFieldsValue({showQuickFaqs:null==_||null===(i=_.serviceSettings)||void 0===i?void 0:i.showQuickFaqs,quickFaqUids:null==_||null===(o=_.serviceSettings)||void 0===o||null===(o=o.quickFaqs)||void 0===o?void 0:o.map((function(e){return e.uid}))})}else if(t===Z.aZD){var s,u;r.setFieldsValue({showQuickFaqs:null==$||null===(s=$.serviceSettings)||void 0===s?void 0:s.showQuickFaqs,quickFaqUids:null==$||null===(u=$.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid}))})}}),[N,_,$]);var Q=function(){var e=l()(s()().mark((function e(n){var i,r,l,a,c,v,p,f,h,m,w,q,F,y,k,b,x,S,j,U,C,W;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",n),t!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showQuickFaqs:n.showQuickFaqs,quickFaqUids:n.quickFaqUids,faqUids:null==N||null===(i=N.serviceSettings)||void 0===i||null===(i=i.faqs)||void 0===i?void 0:i.map((function(e){return e.uid})),guessFaqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.guessFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),hotFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.shortcutFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),D(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(t!==Z.Njn){e.next=21;break}return F=o()(o()({},_),{},{serviceSettings:o()(o()({},null==_?void 0:_.serviceSettings),{},{showQuickFaqs:n.showQuickFaqs,quickFaqUids:n.quickFaqUids,robotUid:null==_||null===(p=_.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,faqUids:null==_||null===(f=_.serviceSettings)||void 0===f||null===(f=f.faqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==_||null===(h=_.serviceSettings)||void 0===h||null===(h=h.guessFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),hotFaqUids:null==_||null===(m=_.serviceSettings)||void 0===m||null===(m=m.hotFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),shortcutFaqUids:null==_||null===(w=_.serviceSettings)||void 0===w||null===(w=w.shortcutFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==_||null===(q=_.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},_.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,R.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(t!==Z.aZD){e.next=29;break}return C=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showQuickFaqs:n.showQuickFaqs,quickFaqUids:n.quickFaqUids,robotUid:null===(k=$.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,faqUids:null===(b=$.serviceSettings)||void 0===b||null===(b=b.faqs)||void 0===b?void 0:b.map((function(e){return e.uid})),guessFaqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.guessFaqs)||void 0===x?void 0:x.map((function(e){return e.uid})),hotFaqUids:null==$||null===(S=$.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),shortcutFaqUids:null==$||null===(j=$.serviceSettings)||void 0===j||null===(j=j.shortcutFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=$.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:$.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",C),e.next=26,(0,A.W5)(C);case 26:W=e.sent,console.log("updateWorkGroup response:",W),200===W.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(W.data)):(d.yw.destroy(),d.yw.error(W.message));case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=l()(s()().mark((function e(n){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqs handleChange",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,W.jsxs)("div",{children:[(0,W.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,W.jsx)(x.ZP,{type:"link",icon:(0,W.jsx)(m.Z,{}),onClick:function(){return window.open(Z.rVq)},children:u.formatMessage({id:"setting.helpdoc"})})}),(0,W.jsx)(S.Z,{}),(0,W.jsxs)(q.A,{form:r,layout:"vertical",onFinish:Q,children:[(0,W.jsx)(F.Z,{label:"是否显示快捷按钮",name:"showQuickFaqs",fieldProps:{onChange:B}}),(0,W.jsx)(q.A.Item,{children:(0,W.jsx)(x.ZP,{icon:(0,W.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,W.jsx)(y.Z,{name:"quickFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.quickbutton"}),options:null==E||null===(n=E.data)||void 0===n?void 0:n.content.map((function(e){return{label:T(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,W.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},99072:function(e,n,t){var i=t(97857),o=t.n(i),r=t(15009),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(40401),g=t(76545),p=t(73803),f=t(37326),h=t(87676),m=t(48489),w=t(87603),q=t(34994),F=t(52688),y=t(64317),k=t(86745),b=t(38437),x=t(14726),S=t(96074),j=t(67294),U=t(30694),C=t(18678),Z=t(85615),R=t(3418),A=t(21317),W=t(85893);n.Z=function(e){var n,t=e.type,i=q.A.useForm(),r=c()(i,1)[0],u=(0,k.useIntl)(),a=(0,k.useNavigate)(),T=(0,p.Z)().translateString,M=(0,h.u)((function(e){return e.currentOrg})),P=(0,j.useState)(),V=c()(P,2),E=V[0],O=V[1],I=(0,f.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=I.currentRobot,D=I.setCurrentRobot,H=(0,U.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),_=H.currentAgent,L=H.setCurrentAgent,G=(0,C.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=G.currentWorkgroup,X=G.setCurrentWorkgroup,z=function(){var e=l()(s()().mark((function e(){var n,t;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),n={pageNumber:0,pageSize:50,orgUid:M.uid},e.next=4,(0,v.pf)(n);case 4:t=e.sent,console.log("getAllFaqs response:",n,t),d.yw.destroy(),200===t.code?O(t):d.yw.error(t.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){z()}),[M]),(0,j.useEffect)((function(){var e,n;if(t===Z._X4)r.setFieldsValue({showshortcutFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showshortcutFaqs,shortcutFaqUids:(null==N||null===(n=N.serviceSettings)||void 0===n||null===(n=n.shortcutFaqs)||void 0===n?void 0:n.map((function(e){return e.uid})))||[]});else if(t===Z.Njn){var i,o;r.setFieldsValue({showshortcutFaqs:null==_||null===(i=_.serviceSettings)||void 0===i?void 0:i.showshortcutFaqs,shortcutFaqUids:(null==_||null===(o=_.serviceSettings)||void 0===o||null===(o=o.shortcutFaqs)||void 0===o?void 0:o.map((function(e){return e.uid})))||[]})}else if(t===Z.aZD){var s,u;r.setFieldsValue({showshortcutFaqs:null==$||null===(s=$.serviceSettings)||void 0===s?void 0:s.showshortcutFaqs,shortcutFaqUids:(null==$||null===(u=$.serviceSettings)||void 0===u||null===(u=u.shortcutFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})))||[]})}}),[N,_,$]);var Q=function(){var e=l()(s()().mark((function e(n){var i,r,l,a,c,v,p,f,h,m,w,q,F,y,k,b,x,S,j,U,C,W;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",n,t),t!==Z._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showshortcutFaqs:n.showshortcutFaqs,shortcutFaqUids:n.shortcutFaqUids,quickFaqUids:null==N||null===(i=N.serviceSettings)||void 0===i||null===(i=i.quickFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),faqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),guessFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.hotFaqs)||void 0===a?void 0:a.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),D(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(t!==Z.Njn){e.next=21;break}return F=o()(o()({},_),{},{serviceSettings:o()(o()({},null==_?void 0:_.serviceSettings),{},{showshortcutFaqs:n.showshortcutFaqs,shortcutFaqUids:n.shortcutFaqUids,robotUid:null==_||null===(p=_.serviceSettings)||void 0===p||null===(p=p.robot)||void 0===p?void 0:p.uid,quickFaqUids:null==_||null===(f=_.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==_||null===(h=_.serviceSettings)||void 0===h||null===(h=h.guessFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),hotFaqUids:null==_||null===(m=_.serviceSettings)||void 0===m||null===(m=m.hotFaqs)||void 0===m?void 0:m.map((function(e){return e.uid})),faqUids:null==_||null===(w=_.serviceSettings)||void 0===w||null===(w=w.faqs)||void 0===w?void 0:w.map((function(e){return e.uid})),worktimeUids:null==_||null===(q=_.serviceSettings)||void 0===q||null===(q=q.worktimes)||void 0===q?void 0:q.map((function(e){return e.uid}))}),autoReplySettings:o()({},_.autoReplySettings)}),console.log("agentObject:",F),e.next=16,(0,R.sE)(F);case 16:y=e.sent,console.log("updateAgent response:",y),200===y.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),L(y.data)):(d.yw.destroy(),d.yw.error(y.message)),e.next=29;break;case 21:if(t!==Z.aZD){e.next=29;break}return C=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showshortcutFaqs:n.showshortcutFaqs,shortcutFaqUids:n.shortcutFaqUids,robotUid:null===(k=$.serviceSettings)||void 0===k||null===(k=k.robot)||void 0===k?void 0:k.uid,quickFaqUids:null===(b=$.serviceSettings)||void 0===b||null===(b=b.quickFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),faqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.faqs)||void 0===x?void 0:x.map((function(e){return e.uid})),hotFaqUids:null==$||null===(S=$.serviceSettings)||void 0===S||null===(S=S.hotFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),guessFaqUids:null==$||null===(j=$.serviceSettings)||void 0===j||null===(j=j.guessFaqs)||void 0===j?void 0:j.map((function(e){return e.uid})),worktimeUids:null===(U=$.serviceSettings)||void 0===U||null===(U=U.worktimes)||void 0===U?void 0:U.map((function(e){return e.uid}))}),agentUids:$.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",C),e.next=26,(0,A.W5)(C);case 26:W=e.sent,console.log("updateWorkGroup response:",W),200===W.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(W.data)):(d.yw.destroy(),d.yw.error(W.message));case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=l()(s()().mark((function e(n){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqShortcut handleChange",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,W.jsxs)("div",{children:[(0,W.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,W.jsx)(x.ZP,{type:"link",icon:(0,W.jsx)(m.Z,{}),onClick:function(){return window.open(Z.rVq)},children:u.formatMessage({id:"setting.helpdoc"})})}),(0,W.jsx)(S.Z,{}),(0,W.jsxs)(q.A,{form:r,layout:"vertical",onFinish:Q,children:[(0,W.jsx)(F.Z,{label:"是否显示快捷路径",name:"showshortcutFaqs",fieldProps:{onChange:B}}),(0,W.jsx)(q.A.Item,{children:(0,W.jsx)(x.ZP,{icon:(0,W.jsx)(w.Z,{}),onClick:function(){a("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,W.jsx)(y.Z,{name:"shortcutFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faqShortcut"}),options:null==E||null===(n=E.data)||void 0===n?void 0:n.content.map((function(e){return{label:T(e.title),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,W.jsx)(k.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},73453:function(e,n,t){var i=t(15009),o=t.n(i),r=t(97857),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(3418),g=t(76545),p=t(21317),f=t(30694),h=t(37326),m=t(18678),w=t(85615),q=t(34994),F=t(52688),y=t(86745),k=t(67294),b=t(85893);n.Z=function(e){var n=e.type,t=(0,y.useIntl)(),i=q.A.useForm(),r=c()(i,1)[0],u=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),a=u.currentRobot,x=u.setCurrentRobot,S=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),j=S.currentAgent,U=S.setCurrentAgent,C=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Z=C.currentWorkgroup,R=C.setCurrentWorkgroup;(0,k.useEffect)((function(){var e;if(n===w._X4)r.setFieldsValue({showHistory:null==a||null===(e=a.serviceSettings)||void 0===e?void 0:e.showHistory});else if(n===w.Njn){var t;r.setFieldsValue({showHistory:null==j||null===(t=j.serviceSettings)||void 0===t?void 0:t.showHistory})}else if(n===w.aZD){var i;r.setFieldsValue({showHistory:null==Z||null===(i=Z.serviceSettings)||void 0===i?void 0:i.showHistory})}}),[a,j,Z]);var A=function(){var e=l()(o()().mark((function e(i){var r,u,l,c,f,h,m,q,F,y,k,b,S,C,A,W,T,M,P,V,E,O,I,N,D;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleHistorySubmit:",i),console.log("onFinish",i),n!==w._X4){e.next=12;break}return h=s()(s()({},a),{},{serviceSettings:s()(s()({},a.serviceSettings),{},{showHistory:i.showHistory,faqUids:null==j||null===(r=j.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),quickFaqUids:null==a||null===(u=a.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==a||null===(l=a.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==a||null===(c=a.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==a||null===(f=a.serviceSettings)||void 0===f||null===(f=f.shortcutFaqs)||void 0===f?void 0:f.map((function(e){return e.uid}))})}),console.log("robotObject:",h),e.next=7,(0,g.$l)(h);case 7:m=e.sent,console.log("updateRobot response:",m),200===m.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),x(m.data)):(d.yw.destroy(),d.yw.error(m.message)),e.next=30;break;case 12:if(n!==w.Njn){e.next=22;break}return A=s()(s()({},j),{},{serviceSettings:s()(s()({},null==j?void 0:j.serviceSettings),{},{showHistory:i.showHistory,faqUids:null==j||null===(q=j.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid})),robotUid:null==j||null===(F=j.serviceSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid,quickFaqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==j||null===(k=j.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),hotFaqUids:null==j||null===(b=j.serviceSettings)||void 0===b||null===(b=b.hotFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(S=j.serviceSettings)||void 0===S||null===(S=S.shortcutFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),worktimeUids:null==j||null===(C=j.serviceSettings)||void 0===C||null===(C=C.worktimes)||void 0===C?void 0:C.map((function(e){return e.uid}))}),autoReplySettings:s()({},j.autoReplySettings)}),console.log("agentObject:",A),e.next=17,(0,v.sE)(A);case 17:W=e.sent,console.log("updateAgent response:",W),200===W.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),U(W.data)):(d.yw.destroy(),d.yw.error(W.message)),e.next=30;break;case 22:if(n!==w.aZD){e.next=30;break}return N=s()(s()({},Z),{},{serviceSettings:s()(s()({},Z.serviceSettings),{},{showHistory:i.showHistory,faqUids:null==j||null===(T=j.serviceSettings)||void 0===T||null===(T=T.faqs)||void 0===T?void 0:T.map((function(e){return e.uid})),robotUid:null===(M=Z.serviceSettings)||void 0===M||null===(M=M.robot)||void 0===M?void 0:M.uid,quickFaqUids:null===(P=Z.serviceSettings)||void 0===P||null===(P=P.quickFaqs)||void 0===P?void 0:P.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(V=Z.serviceSettings)||void 0===V||null===(V=V.guessFaqs)||void 0===V?void 0:V.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(E=Z.serviceSettings)||void 0===E||null===(E=E.hotFaqs)||void 0===E?void 0:E.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(O=Z.serviceSettings)||void 0===O||null===(O=O.shortcutFaqs)||void 0===O?void 0:O.map((function(e){return e.uid})),worktimeUids:null===(I=Z.serviceSettings)||void 0===I||null===(I=I.worktimes)||void 0===I?void 0:I.map((function(e){return e.uid}))}),agentUids:Z.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",N),e.next=27,(0,p.W5)(N);case 27:D=e.sent,console.log("updateWorkGroup response:",D),200===D.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),R(D.data)):(d.yw.destroy(),d.yw.error(D.message));case 30:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{children:(0,b.jsx)(q.A,{form:r,onFinish:A,children:(0,b.jsx)(F.Z,{width:"md",name:"showHistory",label:t.formatMessage({id:"showHistory",defaultMessage:"Show History"})})})})}},91116:function(e,n,t){var i=t(15009),o=t.n(i),r=t(97857),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(3418),g=t(76545),p=t(21317),f=t(30694),h=t(37326),m=t(18678),w=t(85615),q=t(34994),F=t(52688),y=t(86745),k=t(67294),b=t(85893);n.Z=function(e){var n=e.type,t=(0,y.useIntl)(),i=q.A.useForm(),r=c()(i,1)[0],u=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),a=u.currentRobot,x=u.setCurrentRobot,S=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),j=S.currentAgent,U=S.setCurrentAgent,C=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Z=C.currentWorkgroup,R=C.setCurrentWorkgroup;(0,k.useEffect)((function(){var e;if(n===w._X4)r.setFieldsValue({showInputAssociation:null==a||null===(e=a.serviceSettings)||void 0===e?void 0:e.showInputAssociation});else if(n===w.Njn){var t;r.setFieldsValue({showInputAssociation:null==j||null===(t=j.serviceSettings)||void 0===t?void 0:t.showInputAssociation})}else if(n===w.aZD){var i;r.setFieldsValue({showInputAssociation:null==Z||null===(i=Z.serviceSettings)||void 0===i?void 0:i.showInputAssociation})}}),[a,j,Z]);var A=function(){var e=l()(o()().mark((function e(i){var r,u,l,c,f,h,m,q,F,y,k,b,S,C,A,W,T,M,P,V,E,O,I,N,D;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleInputAssociationSubmit:",i),n!==w._X4){e.next=11;break}return h=s()(s()({},a),{},{serviceSettings:s()(s()({},a.serviceSettings),{},{showInputAssociation:i.showInputAssociation,faqUids:null==j||null===(r=j.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),quickFaqUids:null==a||null===(u=a.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==a||null===(l=a.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==a||null===(c=a.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==a||null===(f=a.serviceSettings)||void 0===f||null===(f=f.shortcutFaqs)||void 0===f?void 0:f.map((function(e){return e.uid}))})}),console.log("robotObject:",h),e.next=6,(0,g.$l)(h);case 6:m=e.sent,console.log("updateRobot response:",m),200===m.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),x(m.data)):(d.yw.destroy(),d.yw.error(m.message)),e.next=29;break;case 11:if(n!==w.Njn){e.next=21;break}return A=s()(s()({},j),{},{serviceSettings:s()(s()({},null==j?void 0:j.serviceSettings),{},{showInputAssociation:i.showInputAssociation,faqUids:null==j||null===(q=j.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid})),robotUid:null==j||null===(F=j.serviceSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid,quickFaqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==j||null===(k=j.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),hotFaqUids:null==j||null===(b=j.serviceSettings)||void 0===b||null===(b=b.hotFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(S=j.serviceSettings)||void 0===S||null===(S=S.shortcutFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),worktimeUids:null==j||null===(C=j.serviceSettings)||void 0===C||null===(C=C.worktimes)||void 0===C?void 0:C.map((function(e){return e.uid}))}),autoReplySettings:s()({},j.autoReplySettings)}),console.log("agentObject:",A),e.next=16,(0,v.sE)(A);case 16:W=e.sent,console.log("updateAgent response:",W),200===W.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),U(W.data)):(d.yw.destroy(),d.yw.error(W.message)),e.next=29;break;case 21:if(n!==w.aZD){e.next=29;break}return N=s()(s()({},Z),{},{serviceSettings:s()(s()({},Z.serviceSettings),{},{showInputAssociation:i.showInputAssociation,faqUids:null==j||null===(T=j.serviceSettings)||void 0===T||null===(T=T.faqs)||void 0===T?void 0:T.map((function(e){return e.uid})),robotUid:null===(M=Z.serviceSettings)||void 0===M||null===(M=M.robot)||void 0===M?void 0:M.uid,quickFaqUids:null===(P=Z.serviceSettings)||void 0===P||null===(P=P.quickFaqs)||void 0===P?void 0:P.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(V=Z.serviceSettings)||void 0===V||null===(V=V.guessFaqs)||void 0===V?void 0:V.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(E=Z.serviceSettings)||void 0===E||null===(E=E.hotFaqs)||void 0===E?void 0:E.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(O=Z.serviceSettings)||void 0===O||null===(O=O.shortcutFaqs)||void 0===O?void 0:O.map((function(e){return e.uid})),worktimeUids:null===(I=Z.serviceSettings)||void 0===I||null===(I=I.worktimes)||void 0===I?void 0:I.map((function(e){return e.uid}))}),agentUids:Z.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",N),e.next=26,(0,p.W5)(N);case 26:D=e.sent,console.log("updateWorkGroup response:",D),200===D.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),R(D.data)):(d.yw.destroy(),d.yw.error(D.message));case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{children:(0,b.jsx)(q.A,{form:r,onFinish:A,children:(0,b.jsx)(F.Z,{width:"md",name:"showInputAssociation",label:t.formatMessage({id:"showInputAssociation",defaultMessage:"Show Input Association"})})})})}},35791:function(e,n,t){var i=t(15009),o=t.n(i),r=t(97857),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(3418),g=t(76545),p=t(21317),f=t(30694),h=t(37326),m=t(18678),w=t(85615),q=t(34994),F=t(52688),y=t(86745),k=t(67294),b=t(85893);n.Z=function(e){var n=e.type,t=(0,y.useIntl)(),i=q.A.useForm(),r=c()(i,1)[0],u=(0,h.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),a=u.currentRobot,x=u.setCurrentRobot,S=(0,f.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),j=S.currentAgent,U=S.setCurrentAgent,C=(0,m.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),Z=C.currentWorkgroup,R=C.setCurrentWorkgroup;(0,k.useEffect)((function(){var e;if(n===w._X4)r.setFieldsValue({showPreForm:null==a||null===(e=a.serviceSettings)||void 0===e?void 0:e.showPreForm});else if(n===w.Njn){var t;r.setFieldsValue({showPreForm:null==j||null===(t=j.serviceSettings)||void 0===t?void 0:t.showPreForm})}else if(n===w.aZD){var i;r.setFieldsValue({showPreForm:null==Z||null===(i=Z.serviceSettings)||void 0===i?void 0:i.showPreForm})}}),[a,j,Z]);var A=function(){var e=l()(o()().mark((function e(i){var r,u,l,c,f,h,m,q,F,y,k,b,S,C,A,W,T,M,P,V,E,O,I,N,D;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handlePreFormSubmit:",i),n!==w._X4){e.next=11;break}return h=s()(s()({},a),{},{serviceSettings:s()(s()({},a.serviceSettings),{},{showPreForm:i.showPreForm,faqUids:null==j||null===(r=j.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),quickFaqUids:null==a||null===(u=a.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==a||null===(l=a.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==a||null===(c=a.serviceSettings)||void 0===c||null===(c=c.hotFaqs)||void 0===c?void 0:c.map((function(e){return e.uid})),shortcutFaqUids:null==a||null===(f=a.serviceSettings)||void 0===f||null===(f=f.shortcutFaqs)||void 0===f?void 0:f.map((function(e){return e.uid}))})}),console.log("robotObject:",h),e.next=6,(0,g.$l)(h);case 6:m=e.sent,console.log("updateRobot response:",m),200===m.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),x(m.data)):(d.yw.destroy(),d.yw.error(m.message)),e.next=29;break;case 11:if(n!==w.Njn){e.next=21;break}return A=s()(s()({},j),{},{serviceSettings:s()(s()({},null==j?void 0:j.serviceSettings),{},{showPreForm:i.showPreForm,faqUids:null==j||null===(q=j.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid})),robotUid:null==j||null===(F=j.serviceSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid,quickFaqUids:null==j||null===(y=j.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==j||null===(k=j.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),hotFaqUids:null==j||null===(b=j.serviceSettings)||void 0===b||null===(b=b.hotFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),shortcutFaqUids:null==j||null===(S=j.serviceSettings)||void 0===S||null===(S=S.shortcutFaqs)||void 0===S?void 0:S.map((function(e){return e.uid})),worktimeUids:null==j||null===(C=j.serviceSettings)||void 0===C||null===(C=C.worktimes)||void 0===C?void 0:C.map((function(e){return e.uid}))}),autoReplySettings:s()({},j.autoReplySettings)}),console.log("agentObject:",A),e.next=16,(0,v.sE)(A);case 16:W=e.sent,console.log("updateAgent response:",W),200===W.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),U(W.data)):(d.yw.destroy(),d.yw.error(W.message)),e.next=29;break;case 21:if(n!==w.aZD){e.next=29;break}return N=s()(s()({},Z),{},{serviceSettings:s()(s()({},Z.serviceSettings),{},{showPreForm:i.showPreForm,faqUids:null==j||null===(T=j.serviceSettings)||void 0===T||null===(T=T.faqs)||void 0===T?void 0:T.map((function(e){return e.uid})),robotUid:null===(M=Z.serviceSettings)||void 0===M||null===(M=M.robot)||void 0===M?void 0:M.uid,quickFaqUids:null===(P=Z.serviceSettings)||void 0===P||null===(P=P.quickFaqs)||void 0===P?void 0:P.map((function(e){return e.uid})),guessFaqUids:null==Z||null===(V=Z.serviceSettings)||void 0===V||null===(V=V.guessFaqs)||void 0===V?void 0:V.map((function(e){return e.uid})),hotFaqUids:null==Z||null===(E=Z.serviceSettings)||void 0===E||null===(E=E.hotFaqs)||void 0===E?void 0:E.map((function(e){return e.uid})),shortcutFaqUids:null==Z||null===(O=Z.serviceSettings)||void 0===O||null===(O=O.shortcutFaqs)||void 0===O?void 0:O.map((function(e){return e.uid})),worktimeUids:null===(I=Z.serviceSettings)||void 0===I||null===(I=I.worktimes)||void 0===I?void 0:I.map((function(e){return e.uid}))}),agentUids:Z.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",N),e.next=26,(0,p.W5)(N);case 26:D=e.sent,console.log("updateWorkGroup response:",D),200===D.code?(d.yw.destroy(),d.yw.success(t.formatMessage({id:"update.success"})),R(D.data)):(d.yw.destroy(),d.yw.error(D.message));case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{children:(0,b.jsx)(q.A,{form:r,onFinish:A,children:(0,b.jsx)(F.Z,{width:"md",name:"showPreForm",label:t.formatMessage({id:"showPreForm",defaultMessage:"Show PreForm"})})})})}},59518:function(e,n,t){var i=t(15009),o=t.n(i),r=t(97857),s=t.n(r),u=t(99289),l=t.n(u),a=t(5574),c=t.n(a),d=t(80049),v=t(3418),g=t(76545),p=t(21317),f=t(73803),h=t(30694),m=t(37326),w=t(18678),q=t(85615),F=t(34994),y=t(63434),k=t(90672),b=t(31199),x=t(86745),S=t(67294),j=t(85893);n.Z=function(e){var n=e.type,t=F.A.useForm(),i=c()(t,1)[0],r=(0,x.useIntl)(),u=(0,f.Z)().translateString,a=(0,S.useState)(!1),U=c()(a,2),C=U[0],Z=U[1],R=(0,m.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),A=R.currentRobot,W=R.setCurrentRobot,T=(0,h.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),M=T.currentAgent,P=T.setCurrentAgent,V=(0,w.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),E=V.currentWorkgroup,O=V.setCurrentWorkgroup;(0,S.useEffect)((function(){var e,t,o,r,s,l;if(n===q._X4)i.setFieldValue("welcomeTip",u(null==A||null===(e=A.serviceSettings)||void 0===e?void 0:e.welcomeTip)),i.setFieldValue("topTip",u(null==A||null===(t=A.serviceSettings)||void 0===t?void 0:t.topTip)),i.setFieldValue("showTopTip",null==A||null===(o=A.serviceSettings)||void 0===o?void 0:o.showTopTip),i.setFieldValue("leavemsgTip",u(null==A||null===(r=A.serviceSettings)||void 0===r?void 0:r.leavemsgTip)),i.setFieldValue("autoCloseMin",null==A||null===(s=A.serviceSettings)||void 0===s?void 0:s.autoCloseMin),i.setFieldValue("showLogo",null==A||null===(l=A.serviceSettings)||void 0===l?void 0:l.showLogo);else if(n===q.Njn){var a,c,d,v,g,p;i.setFieldValue("welcomeTip",u(null==M||null===(a=M.serviceSettings)||void 0===a?void 0:a.welcomeTip)),i.setFieldValue("topTip",u(null==M||null===(c=M.serviceSettings)||void 0===c?void 0:c.topTip)),i.setFieldValue("showTopTip",null==M||null===(d=M.serviceSettings)||void 0===d?void 0:d.showTopTip),i.setFieldValue("leavemsgTip",u(null==M||null===(v=M.serviceSettings)||void 0===v?void 0:v.leavemsgTip)),i.setFieldValue("autoCloseMin",null==M||null===(g=M.serviceSettings)||void 0===g?void 0:g.autoCloseMin),i.setFieldValue("showLogo",null==M||null===(p=M.serviceSettings)||void 0===p?void 0:p.showLogo),i.setFieldValue("maxThreadCount",null==M?void 0:M.maxThreadCount)}else if(n===q.aZD){var f,h,m,w,F,y;i.setFieldValue("welcomeTip",u(null==E||null===(f=E.serviceSettings)||void 0===f?void 0:f.welcomeTip)),i.setFieldValue("topTip",u(null==E||null===(h=E.serviceSettings)||void 0===h?void 0:h.topTip)),i.setFieldValue("showTopTip",null==E||null===(m=E.serviceSettings)||void 0===m?void 0:m.showTopTip),i.setFieldValue("leavemsgTip",u(null==E||null===(w=E.serviceSettings)||void 0===w?void 0:w.leavemsgTip)),i.setFieldValue("autoCloseMin",null==E||null===(F=E.serviceSettings)||void 0===F?void 0:F.autoCloseMin),i.setFieldValue("showLogo",null==E||null===(y=E.serviceSettings)||void 0===y?void 0:y.showLogo)}}),[A,M,E]),(0,S.useEffect)((function(){var e;Z(null==M||null===(e=M.serviceSettings)||void 0===e?void 0:e.showTopTip)}),[M]);var I=function(){var e=l()(o()().mark((function e(t){var i,u,l,a,c,f,h,m,w,F,y,k,b,x,S,j,U,Z,R,T,V,I,N,D,H;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish:",t," showTopTip:",C),d.yw.loading(r.formatMessage({id:"updating"})),n!==q._X4){e.next=12;break}return f=s()(s()({},A),{},{serviceSettings:s()(s()({},A.serviceSettings),{},{topTip:(null==t?void 0:t.topTip)||"",showTopTip:C,welcomeTip:(null==t?void 0:t.welcomeTip)||"",leavemsgTip:(null==t?void 0:t.leavemsgTip)||"",autoCloseMin:(null==t?void 0:t.autoCloseMin)||25,showLogo:(null==t?void 0:t.showLogo)||!0,quickFaqUids:null===(i=M.serviceSettings)||void 0===i||null===(i=i.quickFaqs)||void 0===i?void 0:i.map((function(e){return e.uid})),faqUids:null==A||null===(u=A.serviceSettings)||void 0===u||null===(u=u.faqs)||void 0===u?void 0:u.map((function(e){return e.uid})),guessFaqUids:null==A||null===(l=A.serviceSettings)||void 0===l||null===(l=l.guessFaqs)||void 0===l?void 0:l.map((function(e){return e.uid})),hotFaqUids:null==A||null===(a=A.serviceSettings)||void 0===a||null===(a=a.hotFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),shortcutFaqUids:null==A||null===(c=A.serviceSettings)||void 0===c||null===(c=c.shortcutFaqs)||void 0===c?void 0:c.map((function(e){return e.uid}))})}),console.log("robotObject:",f),e.next=7,(0,g.$l)(f);case 7:h=e.sent,console.log("updateRobot response:",h),200===h.code?(d.yw.destroy(),d.yw.success(r.formatMessage({id:"update.success"})),W(h.data)):(d.yw.destroy(),d.yw.error(h.message)),e.next=30;break;case 12:if(n!==q.Njn){e.next=22;break}return S=s()(s()({},M),{},{serviceSettings:s()(s()({},M.serviceSettings),{},{topTip:(null==t?void 0:t.topTip)||"",showTopTip:C,welcomeTip:(null==t?void 0:t.welcomeTip)||"",leavemsgTip:(null==t?void 0:t.leavemsgTip)||"",autoCloseMin:(null==t?void 0:t.autoCloseMin)||25,showLogo:(null==t?void 0:t.showLogo)||!0,robotUid:null===(m=M.serviceSettings)||void 0===m||null===(m=m.robot)||void 0===m?void 0:m.uid,quickFaqUids:null===(w=M.serviceSettings)||void 0===w||null===(w=w.quickFaqs)||void 0===w?void 0:w.map((function(e){return e.uid})),faqUids:null===(F=M.serviceSettings)||void 0===F||null===(F=F.faqs)||void 0===F?void 0:F.map((function(e){return e.uid})),guessFaqUids:null==M||null===(y=M.serviceSettings)||void 0===y||null===(y=y.guessFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),hotFaqUids:null==M||null===(k=M.serviceSettings)||void 0===k||null===(k=k.hotFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),shortcutFaqUids:null==M||null===(b=M.serviceSettings)||void 0===b||null===(b=b.shortcutFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),worktimeUids:null===(x=M.serviceSettings)||void 0===x||null===(x=x.worktimes)||void 0===x?void 0:x.map((function(e){return e.uid}))}),autoReplySettings:s()({},M.autoReplySettings),maxThreadCount:(null==t?void 0:t.maxThreadCount)||10}),console.log("agentObject:",S),e.next=17,(0,v.sE)(S);case 17:j=e.sent,console.log("updateAgent response:",j),200===j.code?(d.yw.destroy(),d.yw.success(r.formatMessage({id:"update.success"})),P(j.data)):(d.yw.destroy(),d.yw.error(j.message)),e.next=30;break;case 22:if(n!==q.aZD){e.next=30;break}return D=s()(s()({},E),{},{serviceSettings:s()(s()({},E.serviceSettings),{},{topTip:(null==t?void 0:t.topTip)||"",showTopTip:C,welcomeTip:(null==t?void 0:t.welcomeTip)||"",leavemsgTip:(null==t?void 0:t.leavemsgTip)||"",autoCloseMin:(null==t?void 0:t.autoCloseMin)||25,showLogo:(null==t?void 0:t.showLogo)||!0,robotUid:null===(U=E.serviceSettings)||void 0===U||null===(U=U.robot)||void 0===U?void 0:U.uid,quickFaqUids:null===(Z=E.serviceSettings)||void 0===Z||null===(Z=Z.quickFaqs)||void 0===Z?void 0:Z.map((function(e){return e.uid})),faqUids:null===(R=E.serviceSettings)||void 0===R||null===(R=R.faqs)||void 0===R?void 0:R.map((function(e){return e.uid})),guessFaqUids:null==E||null===(T=E.serviceSettings)||void 0===T||null===(T=T.guessFaqs)||void 0===T?void 0:T.map((function(e){return e.uid})),hotFaqUids:null==E||null===(V=E.serviceSettings)||void 0===V||null===(V=V.hotFaqs)||void 0===V?void 0:V.map((function(e){return e.uid})),shortcutFaqUids:null==E||null===(I=E.serviceSettings)||void 0===I||null===(I=I.shortcutFaqs)||void 0===I?void 0:I.map((function(e){return e.uid})),worktimeUids:null===(N=E.serviceSettings)||void 0===N||null===(N=N.worktimes)||void 0===N?void 0:N.map((function(e){return e.uid}))}),agentUids:E.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",D),e.next=27,(0,p.W5)(D);case 27:H=e.sent,console.log("updateWorkGroup response:",H),200===H.code?(d.yw.destroy(),d.yw.success(r.formatMessage({id:"update.success"})),O(H.data)):(d.yw.destroy(),d.yw.error(H.message));case 30:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsxs)(F.A,{form:i,onFinish:I,style:{marginLeft:"100px"},children:[(0,j.jsx)(y.Z,{name:"showTopTip",width:"md",label:"显示置顶语",fieldProps:{onChange:function(e){var n;console.log("checked = ".concat(e.target.checked,", showTopTip:").concat(null==M||null===(n=M.serviceSettings)||void 0===n?void 0:n.showTopTip)),Z(e.target.checked)}}}),C&&(0,j.jsx)(k.Z,{width:"md",name:"topTip",label:"置顶语"}),(0,j.jsx)(k.Z,{width:"md",name:"welcomeTip",label:"欢迎语"}),n!=q._X4&&(0,j.jsx)(k.Z,{width:"md",name:"leavemsgTip",label:"离线留言提示"}),(0,j.jsx)(b.Z,{width:"md",name:"autoCloseMin",label:"无新消息会话自动关闭时长(单位：分钟)",min:1}),n===q.Njn&&(0,j.jsx)(b.Z,{width:"md",name:"maxThreadCount",label:"同时最大接待数量",min:1}),(0,j.jsx)(y.Z,{name:"showLogo",width:"md",label:"显示Logo",tooltip:"只有付费会员可以去掉Logo",fieldProps:{onChange:function(e){console.log("onShowLogoChange = ".concat(e.target.checked))}},disabled:!0})]})}},31207:function(e,n,t){t.d(n,{Z:function(){return p}});t(67294);var i=t(11941),o=t(86745),r=t(72053),s=t(17167),u=t(85893),l=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},a=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},c=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},d=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},v=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},g=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},p=function(e){var n=e.type,t=((0,o.useIntl)(),[{key:"whatsapp",label:"Whatsapp",children:(0,u.jsx)(a,{})},{key:"telegram",label:"Telegram",children:(0,u.jsx)(l,{})},{key:"facebook",label:"Facebook",children:(0,u.jsx)(c,{})},{key:"Line",label:"Line",children:(0,u.jsx)(d,{})},{key:"shopify",label:"Shopify",children:(0,u.jsx)(v,{})},{key:"lazada",label:"Lazada",children:(0,u.jsx)(g,{})}]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.Z,{type:n}),(0,u.jsx)(i.Z,{tabPosition:"left",items:t})]})}},36649:function(e,n,t){t.d(n,{Z:function(){return A}});var i=t(67294),o=t(11941),r=t(80049),s=t(18678),u=t(85615),l=t(55102),a=t(42075),c=t(14726),d=t(30694),v=t(37326),g=t(87676),p=t(17634),f=t(85893),h=l.Z.TextArea,m=function(e){var n=e.type,t=(0,g.u)((function(e){return e.currentOrg})),o=(0,v.V)((function(e){return e.currentRobot})),l=(0,d.E)((function(e){return e.currentAgent})),m=(0,s.$)((function(e){return e.currentWorkgroup})),w=(0,i.useMemo)((function(){return n===u._X4?(0,p.Cn)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.xtN+"&sid="+o.uid+"&":n===u.Njn?(0,p.Cn)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.es0+"&sid="+l.uid+"&":n===u.aZD?(0,p.Cn)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.vPY+"&sid="+m.uid+"&":void 0}),[o,l,m]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(h,{style:{width:600},value:w,rows:2}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsxs)(a.Z,{children:[(0,f.jsx)(c.ZP,{type:"primary",onClick:function(){window.open(w)},children:"预览"},"openFullUrl"),(0,f.jsx)(c.ZP,{onClick:function(){navigator.clipboard.writeText(w),r.yw.info("code copyied into clicpboard")},children:"复制"},"copyFullUrl")]})]})},w=l.Z.TextArea,q=function(e){var n=e.type,t=(0,g.u)((function(e){return e.currentOrg})),o=(0,v.V)((function(e){return e.currentRobot})),l=(0,d.E)((function(e){return e.currentAgent})),h=(0,s.$)((function(e){return e.currentWorkgroup})),m=(0,i.useMemo)((function(){return n===u._X4?(0,p.Z$)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.xtN+"&sid="+o.uid+"&":n===u.Njn?(0,p.Z$)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.es0+"&sid="+l.uid+"&":n===u.aZD?(0,p.Z$)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.vPY+"&sid="+h.uid+"&":void 0}),[o,l,h]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(w,{style:{width:600},value:m,rows:2}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsxs)(a.Z,{children:[(0,f.jsx)(c.ZP,{type:"primary",onClick:function(){window.open(m)},children:"预览"},"openFrameUrl"),(0,f.jsx)(c.ZP,{onClick:function(){navigator.clipboard.writeText(m),r.yw.info("code copyied into clicpboard")},children:"复制"},"copyFrameUrl")]})]})},F=t(87603),y=l.Z.TextArea,k=function(e){var n=e.type,t=(0,g.u)((function(e){return e.currentOrg})),o=(0,v.V)((function(e){return e.currentRobot})),l=(0,d.E)((function(e){return e.currentAgent})),h=(0,s.$)((function(e){return e.currentWorkgroup})),m=(0,i.useMemo)((function(){return n===u._X4?(0,p.pe)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.xtN+"&sid="+o.uid+"&":n===u.Njn?(0,p.pe)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.es0+"&sid="+l.uid+"&":n===u.aZD?(0,p.pe)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.vPY+"&sid="+h.uid+"&":void 0}),[o,l,h]),w=(0,i.useMemo)((function(){var e="";return n===u._X4?e=(0,p.Cn)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.xtN+"&sid="+o.uid+"&":n===u.Njn?e=(0,p.Cn)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.es0+"&sid="+l.uid+"&":n===u.aZD&&(e=(0,p.Cn)()+"?org="+(null==t?void 0:t.uid)+"&t="+u.vPY+"&sid="+h.uid+"&"),'<script src="'+(0,p.j6)()+'"><\/script>\n'+("<script>\nwindow.ChatFloat({\nchatUrl: '"+e+"',\n});\n<\/script>")}),[o,l,h]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(y,{style:{width:600},value:w,rows:7}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsxs)(a.Z,{children:[(0,f.jsx)(c.ZP,{type:"primary",onClick:function(){window.open(m)},children:"预览"},"openFloatUrl"),(0,f.jsx)(c.ZP,{onClick:function(){navigator.clipboard.writeText(w),r.yw.info("code copyied into clipboard")},children:"复制"},"copyFloatUrl"),(0,f.jsx)(c.ZP,{icon:(0,f.jsx)(F.Z,{}),onClick:function(){window.open("https://github.com/Bytedesk/bytedesk-web")},children:"更多自定义及源代码，请参考：Github"},"github")]})]})},b=t(86745),x=function(e){var n=e.type,t=((0,b.useIntl)(),[{key:"full",label:"H5/全屏窗口客服代码",children:(0,f.jsx)(m,{type:n})},{key:"frame",label:"居中窗口客服代码",children:(0,f.jsx)(q,{type:n})},{key:"float",label:"嵌入式客服代码",children:(0,f.jsx)(k,{type:n})}]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(o.Z,{tabPosition:"top",items:t})})},S=function(e){var n=e.type;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:"通过h5方式集成"}),(0,f.jsx)(m,{type:n}),(0,f.jsx)("br",{}),(0,f.jsx)(c.ZP,{icon:(0,f.jsx)(F.Z,{}),onClick:function(){window.open("https://github.com/Bytedesk/bytedesk-swift")},children:"SDK方式集成"},"github")]})},j=function(e){var n=e.type;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:"通过h5方式集成"}),(0,f.jsx)(m,{type:n}),(0,f.jsx)("br",{}),(0,f.jsx)(c.ZP,{icon:(0,f.jsx)(F.Z,{}),onClick:function(){window.open("https://github.com/Bytedesk/bytedesk-uniapp")},children:"SDK方式集成"},"github")]})},U=function(e){var n=e.type;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:"通过h5方式集成"}),(0,f.jsx)(m,{type:n}),(0,f.jsx)("br",{}),(0,f.jsx)(c.ZP,{icon:(0,f.jsx)(F.Z,{}),onClick:function(){window.open("https://github.com/Bytedesk/bytedesk-flutter")},children:"SDK方式集成"},"github")]})},C=function(e){var n=e.type;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:"通过h5方式集成"}),(0,f.jsx)(m,{type:n}),(0,f.jsx)("br",{}),(0,f.jsx)(c.ZP,{icon:(0,f.jsx)(F.Z,{}),onClick:function(){window.open("https://github.com/Bytedesk/bytedesk-android")},children:"SDK方式集成"},"github")]})},Z=function(e){var n=e.type;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:"通过h5方式集成"}),(0,f.jsx)(m,{type:n}),(0,f.jsx)("br",{}),(0,f.jsx)(c.ZP,{icon:(0,f.jsx)(F.Z,{}),onClick:function(){window.open("https://github.com/Bytedesk/bytedesk-react")},children:"node方式集成"},"github")]})},R=t(72053),A=function(e){var n=e.type,t=((0,b.useIntl)(),[{key:"web",label:"Web",children:(0,f.jsx)(x,{type:n})},{key:"react",label:"React",children:(0,f.jsx)(Z,{type:n})},{key:"ios",label:"iOS",children:(0,f.jsx)(S,{type:n})},{key:"android",label:"Android",children:(0,f.jsx)(C,{type:n})},{key:"uniapp",label:"Uniapp",children:(0,f.jsx)(j,{type:n})},{key:"flutter",label:"Flutter",children:(0,f.jsx)(U,{type:n})}]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(R.Z,{type:n}),(0,f.jsx)(o.Z,{tabPosition:"left",items:t})]})}},22268:function(e,n,t){t.d(n,{Z:function(){return v}});t(67294);var i=t(11941),o=t(86745),r=t(72053),s=t(17167),u=t(85893),l=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},a=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},c=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},d=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{})})},v=function(e){var n=e.type,t=((0,o.useIntl)(),[{key:"pdd",label:"拼多多",children:(0,u.jsx)(l,{})},{key:"jd",label:"京东",children:(0,u.jsx)(d,{})},{key:"qianniu",label:"千牛",children:(0,u.jsx)(a,{})},{key:"doudian",label:"抖店",children:(0,u.jsx)(c,{})}]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.Z,{type:n}),(0,u.jsx)(i.Z,{tabPosition:"left",items:t})]})}},16737:function(e,n,t){t.d(n,{Z:function(){return y}});t(67294);var i=t(11941),o=t(86745),r=t(17167),s=t(85893),u=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.Z,{})})},l=t(72053),a=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.Z,{})})},c=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.Z,{})})},d=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.Z,{})})},v=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.Z,{})})},g=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.Z,{})})},p=t(87603),f=t(14726),h=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.ZP,{icon:(0,s.jsx)(p.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"微信小程序对接文档"})})},m=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.ZP,{icon:(0,s.jsx)(p.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"企业微信对接文档"})})},w=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.ZP,{icon:(0,s.jsx)(p.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"微信公众号对接文档"})})},q=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.ZP,{icon:(0,s.jsx)(p.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"微信对接文档"})})},F=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.ZP,{icon:(0,s.jsx)(p.Z,{}),onClick:function(){return window.open("https://www.weiyuai.cn/docs/zh-CN/docs/develop/visitor/social/wechat")},children:"微信客服对接文档"})})},y=function(e){var n=e.type,t=((0,o.useIntl)(),[{key:"wechat",label:"微信",children:(0,s.jsx)(q,{})},{key:"mp",label:"微信公众号",children:(0,s.jsx)(w,{})},{key:"mini",label:"微信小程序",children:(0,s.jsx)(h,{})},{key:"mpcom",label:"企业微信",children:(0,s.jsx)(m,{})},{key:"wechatkefu",label:"微信客服",children:(0,s.jsx)(F,{})},{key:"douyin",label:"抖音",children:(0,s.jsx)(g,{})},{key:"xiaohongshu",label:"小红书",children:(0,s.jsx)(v,{})},{key:"baidu",label:"百度",children:(0,s.jsx)(d,{})},{key:"weibo",label:"微博",children:(0,s.jsx)(c,{})},{key:"bili",label:"哔哩哔哩",children:(0,s.jsx)(a,{})},{key:"zhihu",label:"知乎",children:(0,s.jsx)(u,{})}]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{type:n}),(0,s.jsx)(i.Z,{tabPosition:"left",items:t})]})}},72053:function(e,n,t){var i=t(85615),o=t(48489),r=t(86745),s=t(38437),u=t(14726),l=t(96074),a=t(85893);n.Z=function(e){var n=e.type,t=(0,r.useIntl)();return(0,a.jsxs)(a.Fragment,{children:[n===i.aZD&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{message:"多客服技能组，此处客服代码会将所有访客按照路由规则转接给此技能组中客服成员",type:"success",action:(0,a.jsx)(u.ZP,{type:"link",icon:(0,a.jsx)(o.Z,{}),onClick:function(){return window.open(i.rVq)},children:t.formatMessage({id:"setting.helpdoc"})})}),(0,a.jsx)(l.Z,{})]}),n===i.Njn&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{message:"一对一客服，此处客服代码会将所有访客都转接给此客服账号",type:"success"}),(0,a.jsx)(l.Z,{})]})]})}},17167:function(e,n,t){var i=t(85615),o=t(86745),r=t(85893);n.Z=function(){var e=(0,o.useAccess)();return e.canDebug&&console.log("Developing canDebug"),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.Access,{accessible:e.canDebug(),fallback:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.FormattedMessage,{id:i.h5w})}),children:"can debug"})})}},53004:function(e,n,t){t.d(n,{G:function(){return v}});var i=t(97857),o=t.n(i),r=(t(67294),t(64121)),s=t(85615),u=t(27484),l=t.n(u),a=t(80049),c=t(17634),d=t(85893),v=function(e){var n=e.children,t=e.onSuccess,i=e.onError,u={file:null,file_name:"test.png",file_type:"image/png",is_avatar:"true",kb_type:"",category_uid:"",kb_uid:"",client:s.bVn},v={name:"file",accept:"image/*",action:(0,c.M$)(),headers:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},data:u,showUploadList:!1,beforeUpload:function(e){console.log("beforeUpload",e);var n=l()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name;u.file=e,u.file_name=n,u.file_type=e.type,console.log("beforeUpload",u)},onChange:function(e){if("uploading"!==e.file.status&&console.log("not uploading:",e.file),"done"===e.file.status)if(console.log("response: ",e.file.response),200===e.file.response.code){var n=e.file.response.data;t(n),a.yw.success("".concat(e.file.name," 上传成功"))}else i(e.file),a.yw.error("".concat(e.file.name," 上传失败"));else"error"===e.file.status&&(a.yw.error("".concat(e.file.name," 上传失败")),i(e.file))}};return(0,d.jsx)(r.Z,o()(o()({},v),{},{children:n}))}},77154:function(e,n,t){var i=t(39825);n.Z=function(){var e=(0,i.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh"}}}},30694:function(e,n,t){t.d(n,{E:function(){return d}});var i=t(97857),o=t.n(i),r=t(19632),s=t.n(r),u=t(85615),l=t(73445),a=t(782),c=t(18753),d=(0,l.Ue)()((0,a.mW)((0,a.tJ)((0,c.n)((function(e,n){return{agentResult:{data:{content:[]}},currentAgent:{uid:"",orgUid:""},insertAgent:function(n){e((function(e){e.agentResult.data.content.unshift(n)}))},updateAgent:function(n){e((function(e){var t=e.agentResult.data.content,i=t.findIndex((function(e){return e.uid===n.uid}));-1!==i?t[i]=n:console.warn("Agent with uid ".concat(n.uid," not found."))}))},setAgentResult:function(t){var i;(e({agentResult:t}),""===n().currentAgent.uid)&&((null===(i=t.data)||void 0===i||null===(i=i.content)||void 0===i?void 0:i.length)>0&&e({currentAgent:t.data.content[0]}))},setCurrentAgent:function(t){var i=n().agentResult.data.content,r=i.findIndex((function(e){return e.uid===t.uid}));if(-1!==r){var u=[].concat(s()(i.slice(0,r)),[t],s()(i.slice(r+1))),l=o()(o()({},n().agentResult),{},{data:{content:u}});e({agentResult:l,currentAgent:t})}else console.warn("Agent with the specified uid not found."),e({currentAgent:t})},deleteCurrentAgent:function(t){var i=n().agentResult.data.content,r=i.findIndex((function(e){return e.uid===t}));-1!==r?e({agentResult:o()(o()({},n().agentResult),{},{data:{content:[].concat(s()(i.slice(0,r)),s()(i.slice(r+1)))}})}):console.warn("Agent not found in cache:",t),n().currentAgent.uid===t&&e({currentAgent:{uid:"",orgUid:""}})},deleteAgentCache:function(){return e({},!0)}}})),{name:u.zzK})))},37326:function(e,n,t){t.d(n,{V:function(){return d}});var i=t(97857),o=t.n(i),r=t(19632),s=t.n(r),u=t(85615),l=t(73445),a=t(782),c=t(18753),d=(0,l.Ue)()((0,a.mW)((0,a.tJ)((0,c.n)((function(e,n){return{robotResult:{data:{content:[]}},currentRobot:{uid:"",nickname:""},insertRobot:function(n){e((function(e){e.robotResult.data.content.unshift(n)}))},setRobotResult:function(t){e({robotResult:t});var i,o=n().currentRobot;""!==o.uid&&void 0!==o||(null===(i=t.data)||void 0===i||null===(i=i.content)||void 0===i?void 0:i.length)>0&&e({currentRobot:t.data.content[0]})},setCurrentRobot:function(t){var i=n().robotResult.data.content,r=i.findIndex((function(e){return e.uid===t.uid}));if(-1!==r){var u=[].concat(s()(i.slice(0,r)),[t],s()(i.slice(r+1))),l=o()(o()({},n().robotResult),{},{data:{content:u}});e({robotResult:l,currentRobot:t})}else console.warn("Robot with the specified uid not found."),e({currentRobot:t})},deleteCurrentRobot:function(t){var i=n().robotResult.data.content,r=i.findIndex((function(e){return e.uid===t}));-1!==r?e({robotResult:o()(o()({},n().robotResult),{},{data:{content:[].concat(s()(i.slice(0,r)),s()(i.slice(r+1)))}})}):console.warn("Robot not found in cache:",t),n().currentRobot.uid===t&&e({currentRobot:{uid:""}})},deleteRobotCache:function(){return e({},!0)}}})),{name:u.Eis})))},18678:function(e,n,t){t.d(n,{$:function(){return d}});var i=t(97857),o=t.n(i),r=t(19632),s=t.n(r),u=t(85615),l=t(73445),a=t(782),c=t(18753),d=(0,l.Ue)()((0,a.mW)((0,a.tJ)((0,c.n)((function(e,n){return{workgroupResult:{data:{content:[]}},currentWorkgroup:{uid:"",nickname:"",avatar:"",description:"",orgUid:""},insertWorkgroup:function(n){e((function(e){e.workgroupResult.data.content.unshift(n)}))},updateWorkgroup:function(n){e((function(e){var t=e.workgroupResult.data.content,i=t.findIndex((function(e){return e.uid===n.uid}));-1!==i?t[i]=n:console.warn("Workgroup with uid ".concat(n.uid," not found."))}))},deleteWorkgroup:function(n){e((function(e){var t=e.workgroupResult.data.content,i=t.findIndex((function(e){return e.uid===n.uid}));-1!==i?t.splice(i,1):console.warn("Workgroup with uid ".concat(n.uid," not found."))}))},setWorkgroupResult:function(t){var i;(e({workgroupResult:t}),""===n().currentWorkgroup.uid)&&((null===(i=t.data)||void 0===i||null===(i=i.content)||void 0===i?void 0:i.length)>0&&e({currentWorkgroup:t.data.content[0]}))},setCurrentWorkgroup:function(t){var i=n().workgroupResult.data.content,r=i.findIndex((function(e){return e.uid===t.uid}));if(-1!==r){var u=[].concat(s()(i.slice(0,r)),[t],s()(i.slice(r+1))),l=o()(o()({},n().workgroupResult),{},{data:{content:u}});e({workgroupResult:l,currentWorkgroup:t})}else console.warn("Workgroup with the specified uid not found."),e({currentWorkgroup:t})},deleteCurrentWorkgroup:function(t){var i=n().workgroupResult.data.content,r=i.findIndex((function(e){return e.uid===t}));-1!==r?e({workgroupResult:o()(o()({},n().workgroupResult),{},{data:{content:[].concat(s()(i.slice(0,r)),s()(i.slice(r+1)))}})}):console.warn("Workgroup not found in cache:",t),n().currentWorkgroup.uid===t&&e({currentWorkgroup:{uid:"",orgUid:""}})},deleteWorkgroupCache:function(){return e({},!0)}}})),{name:u.b6l})))}}]);