"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[524],{86994:function(t,e,s){var a=s(11757),i=s(44194),r=s(20614),n=s(54183),o=function(t,e){return i.createElement(n.Z,(0,a.Z)({},t,{ref:e,icon:r.Z}))},c=i.forwardRef(o);e.Z=c},32693:function(t,e,s){s.d(e,{Z:function(){return c}});var a=s(11757),i=s(44194),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},n=s(54183),o=function(t,e){return i.createElement(n.Z,(0,a.Z)({},t,{ref:e,icon:r}))};var c=i.forwardRef(o)},58087:function(t,e,s){var a=s(11757),i=s(44194),r=s(15323),n=s(54183),o=function(t,e){return i.createElement(n.Z,(0,a.Z)({},t,{ref:e,icon:r.Z}))},c=i.forwardRef(o);e.Z=c},58791:function(t,e,s){var a=s(11757),i=s(44194),r=s(85333),n=s(54183),o=function(t,e){return i.createElement(n.Z,(0,a.Z)({},t,{ref:e,icon:r.Z}))},c=i.forwardRef(o);e.Z=c},21499:function(t,e,s){var a=s(44194),i=s(51113),r=function(){return r=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++)for(var i in e=arguments[s])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},n=(0,a.forwardRef)((function(t,e){return a.createElement(i.P,r({},t,{chartType:"Heatmap",ref:e}))}));e.Z=n},60150:function(t,e,s){s.d(e,{RU:function(){return l},xL:function(){return f}});var a=s(90819),i=s.n(a),r=s(73193),n=s.n(r),o=s(89933),c=s.n(o),d=s(55735),u=s(30921);function l(t){return p.apply(this,arguments)}function p(){return(p=c()(i()().mark((function t(e){return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("/api/v1/service/statistic/query/date",{method:"GET",params:n()(n()({},e),{},{client:d.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return x.apply(this,arguments)}function x(){return(x=c()(i()().mark((function t(e){return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("/api/v1/service/statistic/calculate",{method:"POST",data:n()(n()({},e),{},{client:d.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},72614:function(t,e,s){s.d(e,{W5:function(){return m},n1:function(){return h},p0:function(){return f},u7:function(){return l},zl:function(){return v}});var a=s(90819),i=s.n(a),r=s(73193),n=s.n(r),o=s(89933),c=s.n(o),d=s(55735),u=s(30921);function l(t){return p.apply(this,arguments)}function p(){return(p=c()(i()().mark((function t(e){return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("/api/v1/workgroup/query/org",{method:"GET",params:n()(n()({},e),{},{client:d.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return x.apply(this,arguments)}function x(){return(x=c()(i()().mark((function t(e){return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("/api/v1/workgroup/create",{method:"POST",data:n()(n()({},e),{},{client:d.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return g.apply(this,arguments)}function g(){return(g=c()(i()().mark((function t(e){return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("/api/v1/workgroup/update",{method:"POST",data:n()(n()({},e),{},{client:d.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return j.apply(this,arguments)}function j(){return(j=c()(i()().mark((function t(e){return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("/api/v1/workgroup/update/avatar",{method:"POST",data:n()(n()({},e),{},{client:d.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return y.apply(this,arguments)}function y(){return(y=c()(i()().mark((function t(e){return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("/api/v1/workgroup/delete",{method:"POST",data:n()(n()({},e),{},{client:d.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},50183:function(t,e,s){s.r(e),s.d(e,{default:function(){return dt}});var a=s(90819),i=s.n(a),r=s(89933),n=s.n(r),o=s(45332),c=s.n(o),d=s(44194),u=s(98123),l=s(44781),p=s(9452),f=s(95454),x=s(3849),m=s(75365),g=s(72608),h=s(62673),j=s(67402),v=s(88996),y=s(88201),Z=s(5602),M=s(59485),k=s(7875),F=s(61107),w=s(80556),b=s(86994),q=s(58087),S=s(11757),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"},P=s(54183),R=function(t,e){return d.createElement(P.Z,(0,S.Z)({},t,{ref:e,icon:T}))};var z=d.forwardRef(R),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},O=function(t,e){return d.createElement(P.Z,(0,S.Z)({},t,{ref:e,icon:I}))};var Y=d.forwardRef(O),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},E=function(t,e){return d.createElement(P.Z,(0,S.Z)({},t,{ref:e,icon:C}))};var V=d.forwardRef(E),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"},U=function(t,e){return d.createElement(P.Z,(0,S.Z)({},t,{ref:e,icon:A}))};var D=d.forwardRef(U),H=s(58791),B=s(32693),L=s(30921),W=s(5939),K=s(24562),G=s(89717),N=s(21499),Q=s(24170),$=s(72614),_=s(76750),J=s(40612),X=s(1902),tt=s(95490),et=s(55735),st=s(28977),at=s.n(st),it=s(60150),rt=s(44521),nt=s(31549),ot=u.default.RangePicker,ct=l.Z.Option,dt=function(){var t,e,s=(0,L.useIntl)(),a=(0,_.Z)().translateStringTranct,r=(0,d.useState)(at()().startOf("day")),o=c()(r,2),u=o[0],S=o[1],T=(0,d.useState)(at()().endOf("day")),P=c()(T,2),R=P[0],I=P[1],O=(0,d.useState)("today"),C=c()(O,2),E=C[0],A=C[1],U=(0,d.useState)(et.AOk),st=c()(U,2),dt=st[0],ut=st[1],lt=(0,d.useState)(),pt=c()(lt,2),ft=pt[0],xt=pt[1],mt=(0,d.useState)(),gt=c()(mt,2),ht=gt[0],jt=gt[1],vt=(0,J.u)((function(t){return t.currentOrg})),yt=(0,X.E)((function(t){return t})),Zt=yt.agentResult,Mt=yt.setAgentResult,kt=(0,tt.$)((function(t){return t})),Ft=kt.workgroupResult,wt=kt.setWorkgroupResult,bt=(0,d.useState)(),qt=c()(bt,2),St=(qt[0],qt[1]),Tt=(0,d.useState)(et.OwA),Pt=c()(Tt,2),Rt=Pt[0],zt=Pt[1],It=(0,d.useState)(!1),Ot=c()(It,2),Yt=(Ot[0],Ot[1]),Ct=[{label:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}],Et=12580,Vt=85.6,At=25600,Ut=78.9,Dt=[{date:"2024-01-01",type:s.formatMessage({id:"ai.statistic.trend.total"}),value:1200},{date:"2024-01-02",type:s.formatMessage({id:"ai.statistic.trend.total"}),value:1300},{date:"2024-01-01",type:s.formatMessage({id:"ai.statistic.trend.resolved"}),value:1e3},{date:"2024-01-02",type:s.formatMessage({id:"ai.statistic.trend.resolved"}),value:1100}],Ht=(s.formatMessage({id:"ai.statistic.intent.product"}),s.formatMessage({id:"ai.statistic.intent.technical"}),s.formatMessage({id:"ai.statistic.intent.account"}),s.formatMessage({id:"ai.statistic.intent.other"}),.8),Bt=2.5,Lt=256,Wt=1580.5,Kt=[{key:"1",question:s.formatMessage({id:"ai.statistic.question.password"}),count:256,solved:245},{key:"2",question:s.formatMessage({id:"ai.statistic.question.upgrade"}),count:198,solved:180},{key:"3",question:s.formatMessage({id:"ai.statistic.question.price"}),count:156,solved:156}],Gt={totalArticles:1580,hitRate:78.5,updateFrequency:s.formatMessage({id:"ai.statistic.frequency.daily"}),unmatchedCount:125},Nt=[{depth:s.formatMessage({id:"ai.statistic.depth.one"}),count:3500},{depth:s.formatMessage({id:"ai.statistic.depth.two"}),count:2800},{depth:s.formatMessage({id:"ai.statistic.depth.three"}),count:1500},{depth:s.formatMessage({id:"ai.statistic.depth.more"}),count:800}],Qt=(s.formatMessage({id:"ai.statistic.cost.api"}),s.formatMessage({id:"ai.statistic.cost.token"}),s.formatMessage({id:"ai.statistic.cost.storage"}),[{key:"u1",question:s.formatMessage({id:"ai.statistic.question.complex"}),count:45,category:s.formatMessage({id:"ai.statistic.category.product"})},{key:"u2",question:s.formatMessage({id:"ai.statistic.question.unclear"}),count:38,category:s.formatMessage({id:"ai.statistic.category.technical"})}]),$t=[{type:s.formatMessage({id:"ai.statistic.feedback.positive"}),value:75},{type:s.formatMessage({id:"ai.statistic.feedback.neutral"}),value:15},{type:s.formatMessage({id:"ai.statistic.feedback.negative"}),value:10}],_t={rate:15.5,reasons:[{type:s.formatMessage({id:"ai.statistic.abandon.timeout"}),count:120},{type:s.formatMessage({id:"ai.statistic.abandon.userQuit"}),count:85}]},Jt={rate:15.8,reasons:[{type:s.formatMessage({id:"ai.statistic.transfer.complex"}),count:156},{type:s.formatMessage({id:"ai.statistic.transfer.emotion"}),count:89},{type:s.formatMessage({id:"ai.statistic.transfer.request"}),count:67}],trend:[{date:"2024-01-01",value:16.2},{date:"2024-01-02",value:15.8}]},Xt={overall:92.5,byCategory:[{key:"intent-1",category:s.formatMessage({id:"ai.statistic.intent.product"}),accuracy:94.2,samples:1200},{key:"intent-2",category:s.formatMessage({id:"ai.statistic.intent.technical"}),accuracy:91.8,samples:800}]},te=[{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.similar.group"}),dataIndex:"group",key:"group"},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.similar.questions"}),dataIndex:"questions",key:"questions",render:function(t){return(0,nt.jsx)(p.Z,{size:"small",dataSource:t,renderItem:function(t,e){return(0,nt.jsx)(p.Z.Item,{children:t},"question-".concat(e))}})}},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.similar.count"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.similar.similarity"}),dataIndex:"similarity",key:"similarity",render:function(t){return(0,nt.jsx)(f.Z,{percent:100*t,size:"small",status:t>.9?"success":"normal"})}},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.table.operation"}),key:"action",render:function(){return(0,nt.jsxs)(x.Z,{children:[(0,nt.jsx)(m.ZP,{type:"link",children:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.similar.merge"})}),(0,nt.jsx)(m.ZP,{type:"link",children:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.similar.split"})})]})}}];(0,d.useEffect)((function(){if("custom"===E)S(u),I(R),zt(et.dd4);else{var t=at()();"today"===E?(S(t),I(t),zt(et.OwA)):"yesterday"===E?(S(t.subtract(1,"day")),I(t.subtract(1,"day")),zt(et.OwA)):"week"===E?(S(t.startOf("week")),I(t.endOf("week")),zt(et.dd4)):"lastWeek"===E?(S(t.subtract(1,"week").startOf("week")),I(t.subtract(1,"week").endOf("week")),zt(et.dd4)):"month"===E&&(S(t.startOf("month")),I(t.endOf("month")),zt(et.dd4))}}),[E]);var ee=function(){var t=n()(i()().mark((function t(){var e,s;return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.ZP.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==vt?void 0:vt.uid},t.next=4,(0,$.u7)(e);case 4:s=t.sent,console.log("fetchAllWorkgroups: ",s),200===s.code?(g.ZP.destroy(),wt(s),s.data.content.length>0&&jt(s.data.content[0].uid)):(g.ZP.destroy(),g.ZP.error(s.message));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),se=function(){var t=n()(i()().mark((function t(){var e,s;return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.ZP.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==vt?void 0:vt.uid},t.next=4,(0,Q._t)(e);case 4:s=t.sent,console.log("fetchAllAgents: ",s),200===s.code?(g.ZP.destroy(),Mt(s),s.data.content.length>0&&xt(s.data.content[0].uid)):(g.ZP.destroy(),g.ZP.error(a(s.message))),console.log("queryAllAgents response",s);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=n()(i()().mark((function t(){var e,a;return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Yt(!0),t.prev=1,g.ZP.loading("loading"),e={type:dt,statisticStartTime:null==u?void 0:u.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==R?void 0:R.format("YYYY-MM-DD 23:59:59"),workgroupUid:ht,agentUid:ft,orgUid:null==vt?void 0:vt.uid},t.next=6,(0,it.RU)(e);case 6:a=t.sent,console.log("queryStatisticServicesByOrg response",a,e),200===a.code?(g.ZP.destroy(),St(a.data)):(g.ZP.destroy(),g.ZP.error(a.message)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),g.ZP.error(s.formatMessage({id:"ticket.message.operation.failed"}));case 14:return t.prev=14,Yt(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=n()(i()().mark((function t(){var e,s;return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.ZP.loading("loading"),e={type:dt,statisticStartTime:null==u?void 0:u.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==R?void 0:R.format("YYYY-MM-DD 23:59:59"),workgroupUid:ht,agentUid:ft,orgUid:null==vt?void 0:vt.uid},t.next=4,(0,it.RU)(e);case 4:s=t.sent,console.log("queryStatisticServicesByOrg response",s,e),200===s.code?g.ZP.destroy():(g.ZP.destroy(),g.ZP.error(s.message));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,d.useEffect)((function(){ee(),se()}),[]),(0,d.useEffect)((function(){ae()}),[dt,ft,ht]),(0,d.useEffect)((function(){ie()}),[Rt,dt,ft,ht]),(0,d.useEffect)((function(){ae()}),[u,R]),(0,nt.jsxs)("div",{style:{padding:16},children:[(0,nt.jsx)(h.Z,{style:{marginBottom:16},children:(0,nt.jsxs)(x.Z,{direction:"vertical",style:{width:"100%"},children:[(0,nt.jsxs)(x.Z,{wrap:!0,children:[(0,nt.jsx)(j.ZP.Group,{value:E,onChange:function(t){return A(t.target.value)},children:Ct.map((function(t){return(0,nt.jsx)(j.ZP.Button,{value:t.value,children:t.label},t.value)}))}),"custom"===E&&(0,nt.jsx)(ot,{value:[u,R],onChange:function(t){S(t[0]),I(t[1])}})]}),(0,nt.jsxs)(x.Z,{wrap:!0,children:[(0,nt.jsxs)(l.Z,{placeholder:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.filter.type"}),style:{width:200},value:dt,onChange:function(t){return ut(t)},children:[(0,nt.jsx)(ct,{value:et.AOk,children:(0,nt.jsx)(L.FormattedMessage,{id:"i18n.all"})}),(0,nt.jsx)(ct,{value:et.pHh,children:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.filter.agent"})}),(0,nt.jsx)(ct,{value:et.ti4,children:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.filter.workgroup"})})]}),dt===et.pHh&&(0,nt.jsx)(l.Z,{placeholder:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.filter.agent"}),style:{width:200},value:ft,onChange:function(t){return xt(t)},children:null===(t=Zt.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(t){return(0,nt.jsx)(ct,{value:null==t?void 0:t.uid,children:a(null==t?void 0:t.nickname)},null==t?void 0:t.uid)}))}),dt===et.ti4&&(0,nt.jsx)(l.Z,{placeholder:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.filter.department"}),style:{width:200},value:ht,onChange:function(t){return jt(t)},children:null===(e=Ft.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(t){return(0,nt.jsx)(ct,{value:null==t?void 0:t.uid,children:a(null==t?void 0:t.nickname)},null==t?void 0:t.uid)}))}),(0,nt.jsx)(v.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.filter.export"}),children:(0,nt.jsx)(m.ZP,{icon:(0,nt.jsx)(F.Z,{}),onClick:function(){var t=localStorage.getItem(et.LA8);window.open((0,rt.kG)()+"/api/v1/service/statistic/export?"+new URLSearchParams({type:dt,statisticStartTime:null==u?void 0:u.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==R?void 0:R.format("YYYY-MM-DD 23:59:59"),workgroupUid:ht,agentUid:ft,orgUid:null==vt?void 0:vt.uid,accessToken:t||""}).toString())},children:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.filter.export"})})}),(0,nt.jsx)(v.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.filter.refresh"}),children:(0,nt.jsx)(m.ZP,{icon:(0,nt.jsx)(w.Z,{}),onClick:function(){return ae()},children:(0,nt.jsx)(L.FormattedMessage,{id:"ticket.statistic.filter.refresh"})})}),!1]})]})}),(0,nt.jsxs)(y.Z,{gutter:[16,16],children:[(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(h.Z,{children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.totalSessions"}),value:Et,prefix:(0,nt.jsx)(b.Z,{}),suffix:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.unit.count"})})})}),(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(h.Z,{children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.resolveRate"}),value:Vt,prefix:(0,nt.jsx)(q.Z,{}),suffix:"%"})})}),(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(h.Z,{children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.apiCalls"}),value:At,prefix:(0,nt.jsx)(z,{}),suffix:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.unit.count"})})})}),(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(h.Z,{children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.kbCoverage"}),value:Ut,prefix:(0,nt.jsx)(Y,{}),suffix:"%"})})})]}),(0,nt.jsxs)(y.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(h.Z,{children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.avgResponseTime"}),value:Ht,prefix:(0,nt.jsx)(z,{}),suffix:"s"})})}),(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(h.Z,{children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.errorRate"}),value:Bt,prefix:(0,nt.jsx)(V,{}),suffix:"%"})})}),(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(h.Z,{children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.tokenCost"}),value:Wt,prefix:(0,nt.jsx)(D,{}),precision:2})})}),(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(h.Z,{children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.concurrentUsers"}),value:Lt,prefix:(0,nt.jsx)(H.Z,{})})})})]}),(0,nt.jsxs)(y.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,nt.jsx)(Z.Z,{span:12,children:(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.trend"}),children:(0,nt.jsx)(W.Z,{data:Dt,xField:"date",yField:"value",seriesField:"type",animation:{appear:{duration:1e3}}})})}),(0,nt.jsx)(Z.Z,{span:12,children:(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.intent"}),children:(0,nt.jsx)(K.Z,{})})})]}),(0,nt.jsxs)(y.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,nt.jsx)(Z.Z,{span:12,children:(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.sessionDepth"}),extra:(0,nt.jsx)(v.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.sessionDepth.tip"}),children:(0,nt.jsx)(B.Z,{})}),children:(0,nt.jsx)(G.Z,{data:Nt,xField:"depth",yField:"count",label:{position:"top"}})})}),(0,nt.jsx)(Z.Z,{span:12,children:(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.satisfaction"}),children:(0,nt.jsx)(W.Z,{data:[{date:"2024-01-01",value:4.2},{date:"2024-01-02",value:4.3}],xField:"date",yField:"value",yAxis:{min:0,max:5}})})})]}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.hotQuestions"}),style:{marginTop:16},children:(0,nt.jsx)(k.Z,{dataSource:Kt,columns:[{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.question"}),dataIndex:"question",key:"question"},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.askCount"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.solvedCount"}),dataIndex:"solved",key:"solved"},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.solveRate"}),key:"solveRate",render:function(t,e){return(0,nt.jsx)(f.Z,{percent:Math.round(e.solved/e.count*100),size:"small"})}}],pagination:{pageSize:5},rowKey:"key"})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.kbase"}),style:{marginTop:16},children:(0,nt.jsxs)(y.Z,{gutter:[16,16],children:[(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.kbase.total"}),value:Gt.totalArticles,suffix:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.unit.article"})})}),(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.kbase.hitRate"}),value:Gt.hitRate,suffix:"%"})}),(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.kbase.update"}),value:Gt.updateFrequency})}),(0,nt.jsx)(Z.Z,{span:6,children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.kbase.unmatched"}),value:Gt.unmatchedCount,suffix:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.unit.question"})})})]})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.cost"}),style:{marginTop:16},children:(0,nt.jsxs)(y.Z,{gutter:[16,16],children:[(0,nt.jsx)(Z.Z,{span:12,children:(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.cost.trend"}),children:(0,nt.jsx)(W.Z,{data:[{date:"2024-01-01",type:"API",value:580},{date:"2024-01-02",type:"API",value:620},{date:"2024-01-01",type:"Token",value:380},{date:"2024-01-02",type:"Token",value:420}],xField:"date",yField:"value",seriesField:"type"})})}),(0,nt.jsx)(Z.Z,{span:12,children:(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.cost.distribution"}),children:(0,nt.jsx)(K.Z,{})})})]})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.peakHour.title"}),style:{marginTop:16},children:(0,nt.jsx)(N.Z,{data:[{hour:"00",day:"Mon",value:30},{hour:"01",day:"Mon",value:25}],xField:"hour",yField:"day",colorField:"value",tooltip:{formatter:function(t){return{name:s.formatMessage({id:"ai.statistic.peakHour.sessions"}),value:t.value}}}})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.unsolved.title"}),style:{marginTop:16},children:(0,nt.jsx)(k.Z,{dataSource:Qt,columns:[{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.question"}),dataIndex:"question",key:"question"},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.category"}),dataIndex:"category",key:"category"},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.count"}),dataIndex:"count",key:"count",sorter:function(t,e){return t.count-e.count}}],pagination:{pageSize:5},rowKey:"key"})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.feedback.title"}),style:{marginTop:16},children:(0,nt.jsxs)(y.Z,{gutter:[16,16],children:[(0,nt.jsx)(Z.Z,{span:12,children:(0,nt.jsx)(K.Z,{})}),(0,nt.jsx)(Z.Z,{span:12,children:(0,nt.jsx)(p.Z,{dataSource:$t,renderItem:function(t,e){return(0,nt.jsx)(p.Z.Item,{children:(0,nt.jsx)(M.Z,{title:t.type,value:t.value,suffix:"%"})},"feedback-".concat(e))}})})]})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.abandon.title"}),style:{marginTop:16},children:(0,nt.jsxs)(y.Z,{gutter:[16,16],children:[(0,nt.jsx)(Z.Z,{span:8,children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.abandon.rate"}),value:_t.rate,suffix:"%",valueStyle:{color:_t.rate>20?"#cf1322":"#3f8600"}})}),(0,nt.jsx)(Z.Z,{span:16,children:(0,nt.jsx)(G.Z,{data:_t.reasons,xField:"type",yField:"count",label:{position:"top"}})})]})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.similar.title"}),style:{marginTop:16},children:(0,nt.jsx)(k.Z,{dataSource:[{key:"s1",group:"账户登录问题",questions:["无法登录","登录失败","登录报错"],count:156,similarity:.85}],columns:te,rowKey:"key"})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.repeat.title"}),style:{marginTop:16},children:(0,nt.jsx)(k.Z,{dataSource:[{key:"r1",userId:"user123",question:"如何修改密码",frequency:"每日",lastTime:"2024-01-23 14:30",totalTimes:8}],columns:[{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.repeat.user"}),dataIndex:"userId",key:"userId"}],rowKey:"key"})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.coverage.title"}),style:{marginTop:16},children:(0,nt.jsx)(y.Z,{gutter:[16,16],children:[{domain:"产品功能",points:120,covered:98,missing:["高级配置","自定义功能"]}].map((function(t,e){return(0,nt.jsx)(Z.Z,{span:8,children:(0,nt.jsxs)(h.Z,{children:[(0,nt.jsx)(M.Z,{title:t.domain,value:Math.round(t.covered/t.points*100),suffix:"%"}),(0,nt.jsx)(f.Z,{percent:Math.round(t.covered/t.points*100),status:t.covered/t.points<.8?"exception":"success"})]})},"coverage-".concat(e))}))})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.transfer.title"}),style:{marginTop:16},children:(0,nt.jsxs)(y.Z,{gutter:[16,16],children:[(0,nt.jsx)(Z.Z,{span:8,children:(0,nt.jsx)(M.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.transfer.rate"}),value:Jt.rate,suffix:"%",valueStyle:{color:Jt.rate>20?"#cf1322":"#3f8600"}})}),(0,nt.jsx)(Z.Z,{span:16,children:(0,nt.jsx)(G.Z,{data:Jt.reasons,xField:"type",yField:"count",label:{position:"top"}})})]})}),(0,nt.jsx)(h.Z,{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.intent.accuracy.title"}),style:{marginTop:16},children:(0,nt.jsxs)(y.Z,{gutter:[16,16],children:[(0,nt.jsx)(Z.Z,{span:6}),(0,nt.jsx)(Z.Z,{span:18,children:(0,nt.jsx)(k.Z,{dataSource:Xt.byCategory,columns:[{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.intent.category"}),dataIndex:"category",key:"category"},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.intent.accuracy"}),dataIndex:"accuracy",key:"accuracy",render:function(t){return(0,nt.jsx)(f.Z,{percent:t,size:"small"})}},{title:(0,nt.jsx)(L.FormattedMessage,{id:"ai.statistic.intent.samples"}),dataIndex:"samples",key:"samples"}],pagination:!1,rowKey:"key"})})]})})]})}}}]);