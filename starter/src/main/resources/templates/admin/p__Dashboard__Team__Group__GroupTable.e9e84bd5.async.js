"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7139],{58638:function(z,O,t){t.d(O,{Z:function(){return P}});var l=t(1413),m=t(67294),g={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},y=g,T=t(89099),h=function(j,$){return m.createElement(T.Z,(0,l.Z)((0,l.Z)({},j),{},{ref:$,icon:y}))},I=m.forwardRef(h),P=I},46743:function(z,O,t){t.d(O,{V3:function(){return v}});var l=t(15009),m=t.n(l),g=t(97857),y=t.n(g),T=t(99289),h=t.n(T),I=t(85615),P=t(86745);function v(d){return j.apply(this,arguments)}function j(){return j=h()(m()().mark(function d(a){return m()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,P.request)("/api/v1/group/query/org",{method:"GET",params:y()(y()({},a),{},{client:I.bVn})}));case 1:case"end":return i.stop()}},d)})),j.apply(this,arguments)}function $(d){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function d(a){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/v1/group/query/uid",{method:"GET",params:_objectSpread(_objectSpread({},a),{},{client:HTTP_CLIENT})}));case 1:case"end":return i.stop()}},d)})),R.apply(this,arguments)}function Z(d){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function d(a){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/v1/group/create",{method:"POST",data:_objectSpread(_objectSpread({},a),{},{client:HTTP_CLIENT})}));case 1:case"end":return i.stop()}},d)})),f.apply(this,arguments)}function F(d){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function d(a){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/v1/group/update",{method:"POST",data:_objectSpread(_objectSpread({},a),{},{client:HTTP_CLIENT})}));case 1:case"end":return i.stop()}},d)})),b.apply(this,arguments)}function W(d){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function d(a){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/v1/group/dismiss",{method:"POST",data:{uid:a,client:HTTP_CLIENT}}));case 1:case"end":return i.stop()}},d)})),D.apply(this,arguments)}},32577:function(z,O,t){t.r(O);var l=t(15009),m=t.n(l),g=t(97857),y=t.n(g),T=t(13769),h=t.n(T),I=t(99289),P=t.n(I),v=t(80049),j=t(46743),$=t(87676),R=t(58638),Z=t(57482),f=t(86745),F=t(72269),b=t(66309),W=t(86738),D=t(14726),d=t(67294),a=t(85893),S=["current"],i=function(){var G=(0,f.useIntl)(),V=(0,d.useRef)(),L=(0,$.u)(function(c){return c.currentOrg}),w=function(e){console.log("edit",e),v.yw.warning("TODO: \u5373\u5C06\u4E0A\u7EBF\uFF0C\u656C\u8BF7\u671F\u5F85")},X=function(e){console.log("dismiss",e),v.yw.warning("TODO: \u5373\u5C06\u4E0A\u7EBF\uFF0C\u656C\u8BF7\u671F\u5F85")},te=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,a.jsx)(f.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"name",copyable:!0},{title:"\u72B6\u6001",dataIndex:"status",hideInSearch:!0},{title:"\u662F\u5426\u663E\u793A\u7F6E\u9876\u8BED",dataIndex:"showTopTip",hideInSearch:!0,render:function(e,n){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(F.Z,{checked:n==null?void 0:n.showTopTip,onChange:function(r){}})})}},{title:"\u7F6E\u9876\u8BED",dataIndex:"topTip",hideInSearch:!0},{title:"\u7BA1\u7406\u5458",dataIndex:"admins",hideInSearch:!0,render:function(e,n){if(!(n!=null&&n.admins))return null;var o=n.admins.slice(0,2).map(function(r){return(0,a.jsx)(b.Z,{children:r.nickname},r.uid)});return n.admins.length>2&&o.push((0,a.jsx)("span",{children:"..."},"ellipsis")),(0,a.jsx)(a.Fragment,{children:o})}},{title:"\u6210\u5458",dataIndex:"members",hideInSearch:!0,render:function(e,n){if(!(n!=null&&n.members))return null;var o=n.members.slice(0,2).map(function(r){return(0,a.jsx)(b.Z,{children:r.nickname},r.uid)});return n.members.length>2&&o.push((0,a.jsx)("span",{children:"..."},"ellipsis")),(0,a.jsx)(a.Fragment,{children:o})}},{title:"\u673A\u5668\u4EBA",dataIndex:"robots",hideInSearch:!0,render:function(e,n){if(!(n!=null&&n.robots))return null;var o=n.robots.slice(0,2).map(function(r){return(0,a.jsx)(b.Z,{children:r.nickname},r.uid)});return n.robots.length>2&&o.push((0,a.jsx)("span",{children:"..."},"ellipsis")),(0,a.jsx)(a.Fragment,{children:o})}},{title:(0,a.jsx)(f.FormattedMessage,{id:"type",defaultMessage:"Type"}),dataIndex:"type",copyable:!0,hideInSearch:!0},{title:"\u521B\u5EFA\u4EBA",dataIndex:"creator",hideInSearch:!0,render:function(e,n){var o;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(b.Z,{children:n==null||(o=n.creator)===null||o===void 0?void 0:o.nickname})})}},{title:(0,a.jsx)(f.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0},{title:G.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",render:function(e,n,o,r){return[(0,a.jsx)("a",{onClick:function(){w(n)},children:G.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable"),(0,a.jsx)(W.Z,{title:"\u89E3\u6563\u786E\u8BA4",description:"\u786E\u5B9A\u8981\u89E3\u6563\u8BE5\u7FA4?",onConfirm:function(){return X(n)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,a.jsx)(D.ZP,{type:"link",danger:!0,children:"\u89E3\u6563"})},"dismiss")]}}],H=function(){console.log("handleExportExcel"),v.yw.warning("TODO: \u5373\u5C06\u4E0A\u7EBF\uFF0C\u656C\u8BF7\u671F\u5F85")};return(0,a.jsx)(Z.Z,{columns:te,actionRef:V,cardBordered:!0,request:function(){var c=P()(m()().mark(function e(n,o,r){var s,p,u,_;return m()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return s=n.current,p=h()(n,S),u=y()({pageNumber:n.current-1,orgUid:L.uid},p),E.next=4,(0,j.V3)(u);case 4:return _=E.sent,console.log("queryGroupsByOrgUid response:",_,u),_.code===200||v.yw.error(_.message),E.abrupt("return",{data:_.data.content,success:!0,total:_.data.totalElements});case 8:case"end":return E.stop()}},e)}));return function(e,n,o){return c.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"\u7FA4\u7EC4",toolBarRender:function(){return[(0,a.jsx)(D.ZP,{icon:(0,a.jsx)(R.Z,{}),type:"primary",onClick:H,children:G.formatMessage({id:"export",defaultMessage:"Export"})},"button")]}})};O.default=i},87676:function(z,O,t){t.d(O,{u:function(){return T}});var l=t(85615),m=t(73445),g=t(782),y=t(18753),T=(0,m.Ue)()((0,g.mW)((0,g.tJ)((0,y.n)(function(h,I){return{currentOrg:{uid:"",name:"",description:""},setCurrentOrg:function(v){h({currentOrg:v})},deleteOrg:function(){return h({},!0)}}}),{name:l.eRd})))},66309:function(z,O,t){t.d(O,{Z:function(){return c}});var l=t(67294),m=t(93967),g=t.n(m),y=t(98423),T=t(98787),h=t(69760),I=t(96159),P=t(45353),v=t(53124),j=t(85982),$=t(10274),R=t(14747),Z=t(45503),f=t(27036);const F=e=>{const{paddingXXS:n,lineWidth:o,tagPaddingHorizontal:r,componentCls:s,calc:p}=e,u=p(r).sub(o).equal(),_=p(n).sub(o).equal();return{[s]:Object.assign(Object.assign({},(0,R.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:u,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,j.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${s}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${s}-close-icon`]:{marginInlineStart:_,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${s}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${s}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:u}}),[`${s}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},b=e=>{const{lineWidth:n,fontSizeIcon:o,calc:r}=e,s=e.fontSizeSM;return(0,Z.TS)(e,{tagFontSize:s,tagLineHeight:(0,j.bf)(r(e.lineHeightSM).mul(s).equal()),tagIconSize:r(o).sub(r(n).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},W=e=>({defaultBg:new $.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var D=(0,f.I$)("Tag",e=>{const n=b(e);return F(n)},W),d=function(e,n){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o},S=l.forwardRef((e,n)=>{const{prefixCls:o,style:r,className:s,checked:p,onChange:u,onClick:_}=e,M=d(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:E,tag:B}=l.useContext(v.E_),N=k=>{u==null||u(!p),_==null||_(k)},U=E("tag",o),[J,Q,x]=D(U),Y=g()(U,`${U}-checkable`,{[`${U}-checkable-checked`]:p},B==null?void 0:B.className,s,Q,x);return J(l.createElement("span",Object.assign({},M,{ref:n,style:Object.assign(Object.assign({},r),B==null?void 0:B.style),className:Y,onClick:N})))}),i=t(98719);const ne=e=>(0,i.Z)(e,(n,o)=>{let{textColor:r,lightBorderColor:s,lightColor:p,darkColor:u}=o;return{[`${e.componentCls}${e.componentCls}-${n}`]:{color:r,background:p,borderColor:s,"&-inverse":{color:e.colorTextLightSolid,background:u,borderColor:u},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var G=(0,f.bk)(["Tag","preset"],e=>{const n=b(e);return ne(n)},W);function V(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const L=(e,n,o)=>{const r=V(o);return{[`${e.componentCls}${e.componentCls}-${n}`]:{color:e[`color${o}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var w=(0,f.bk)(["Tag","status"],e=>{const n=b(e);return[L(n,"success","Success"),L(n,"processing","Info"),L(n,"error","Error"),L(n,"warning","Warning")]},W),X=function(e,n){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o};const H=l.forwardRef((e,n)=>{const{prefixCls:o,className:r,rootClassName:s,style:p,children:u,icon:_,color:M,onClose:E,bordered:B=!0,visible:N}=e,U=X(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:J,direction:Q,tag:x}=l.useContext(v.E_),[Y,k]=l.useState(!0),ue=(0,y.Z)(U,["closeIcon","closable"]);l.useEffect(()=>{N!==void 0&&k(N)},[N]);const re=(0,T.o2)(M),ae=(0,T.yT)(M),q=re||ae,de=Object.assign(Object.assign({backgroundColor:M&&!q?M:void 0},x==null?void 0:x.style),p),C=J("tag",o),[ce,_e,pe]=D(C),me=g()(C,x==null?void 0:x.className,{[`${C}-${M}`]:q,[`${C}-has-color`]:M&&!q,[`${C}-hidden`]:!Y,[`${C}-rtl`]:Q==="rtl",[`${C}-borderless`]:!B},r,s,_e,pe),oe=K=>{K.stopPropagation(),E==null||E(K),!K.defaultPrevented&&k(!1)},[,ge]=(0,h.Z)((0,h.w)(e),(0,h.w)(x),{closable:!1,closeIconRender:K=>{const fe=l.createElement("span",{className:`${C}-close-icon`,onClick:oe},K);return(0,I.wm)(K,fe,A=>({onClick:le=>{var ee;(ee=A==null?void 0:A.onClick)===null||ee===void 0||ee.call(A,le),oe(le)},className:g()(A==null?void 0:A.className,`${C}-close-icon`)}))}}),he=typeof U.onClick=="function"||u&&u.type==="a",se=_||null,ve=se?l.createElement(l.Fragment,null,se,u&&l.createElement("span",null,u)):u,ie=l.createElement("span",Object.assign({},ue,{ref:n,className:me,style:de}),ve,ge,re&&l.createElement(G,{key:"preset",prefixCls:C}),ae&&l.createElement(w,{key:"status",prefixCls:C}));return ce(he?l.createElement(P.Z,{component:"Tag"},ie):ie)});H.CheckableTag=S;var c=H}}]);
