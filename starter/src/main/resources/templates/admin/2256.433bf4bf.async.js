"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2256],{63833:function(e,t,n){n.d(t,{$l:function(){return q},JT:function(){return F},gf:function(){return S},lg:function(){return g},p0:function(){return d},s9:function(){return p}});var s=n(90819),o=n.n(s),r=n(73193),i=n.n(r),u=n(89933),a=n.n(u),l=n(77667),c=n(82045);function d(e){return v.apply(this,arguments)}function v(){return(v=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/query/org",{method:"GET",params:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return f.apply(this,arguments)}function f(){return(f=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/create",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/create/prompt",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return m.apply(this,arguments)}function m(){return(m=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/update",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return w.apply(this,arguments)}function w(){return(w=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/update/prompt",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return y.apply(this,arguments)}function y(){return(y=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/robot/delete",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},62639:function(e,t,n){n.d(t,{Yg:function(){return q},kh:function(){return g},pf:function(){return d},y:function(){return p}});var s=n(90819),o=n.n(s),r=n(73193),i=n.n(r),u=n(89933),a=n.n(u),l=n(77667),c=n(82045);function d(e){return v.apply(this,arguments)}function v(){return(v=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/query/org",{method:"GET",params:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return f.apply(this,arguments)}function f(){return(f=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/create",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/update",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return m.apply(this,arguments)}function m(){return(m=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/faq/delete",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},440:function(e,t,n){n.d(t,{H:function(){return d}});var s=n(90819),o=n.n(s),r=n(73193),i=n.n(r),u=n(89933),a=n.n(u),l=n(77667),c=n(82045);function d(e){return v.apply(this,arguments)}function v(){return(v=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/vip/invoice/query/org",{method:"GET",params:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},89875:function(e,t,n){var s=n(73193),o=n.n(s),r=n(90819),i=n.n(r),u=n(89933),a=n.n(u),l=n(45332),c=n.n(l),d=n(89756),v=n(62639),g=n(63833),f=n(1780),p=n(3245),h=n(40431),q=n(16655),m=n(11984),F=n(5728),w=n(31806),S=n(8091),y=n(82045),b=n(93982),k=n(12265),x=n(72434),U=n(44194),j=n(85702),M=n(61017),C=n(77667),Z=n(81153),A=n(43314),R=n(31549);t.Z=function(e){var t,n=e.type,s=F.A.useForm(),r=c()(s,1)[0],u=(0,y.useIntl)(),l=(0,y.useNavigate)(),W=(0,f.Z)().translateString,V=(0,h.u)((function(e){return e.currentOrg})),P=(0,U.useState)(),E=c()(P,2),O=E[0],G=E[1],H=(0,p.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=H.currentRobot,_=H.setCurrentRobot,T=(0,j.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=T.currentAgent,I=T.setCurrentAgent,Q=(0,M.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=Q.currentWorkgroup,X=Q.setCurrentWorkgroup,L=function(){var e=a()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:V.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?G(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,U.useEffect)((function(){L()}),[V]),(0,U.useEffect)((function(){var e,t;if(n===C._X4)r.setFieldsValue({showFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showFaqs,faqUids:null==N||null===(t=N.serviceSettings)||void 0===t||null===(t=t.faqs)||void 0===t?void 0:t.map((function(e){return e.uid}))});else if(n===C.Njn){var s,o;r.setFieldsValue({showFaqs:null==D||null===(s=D.serviceSettings)||void 0===s?void 0:s.showFaqs,faqUids:null==D||null===(o=D.serviceSettings)||void 0===o||null===(o=o.faqs)||void 0===o?void 0:o.map((function(e){return e.uid}))})}else if(n===C.aZD){var i,u;r.setFieldsValue({showFaqs:null==$||null===(i=$.serviceSettings)||void 0===i?void 0:i.showFaqs,faqUids:null==$||null===(u=$.serviceSettings)||void 0===u||null===(u=u.faqs)||void 0===u?void 0:u.map((function(e){return e.uid}))})}}),[N,D,$]);var z=function(){var e=a()(i()().mark((function e(t){var s,r,a,l,c,v,f,p,h,q,m,F,w,S,y,b,k,x,U,j,M,R;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==C._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showFaqs:t.showFaqs,faqUids:t.faqUids,quickFaqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.quickFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})),guessFaqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.guessFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),hotFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.hotFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.shortcutFaqs)||void 0===l?void 0:l.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),_(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==C.Njn){e.next=21;break}return w=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showFaqs:t.showFaqs,faqUids:t.faqUids,quickFaqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.guessFaqs)||void 0===p?void 0:p.map((function(e){return e.uid})),hotFaqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.hotFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),shortcutFaqUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.shortcutFaqs)||void 0===q?void 0:q.map((function(e){return e.uid}))}),leaveMsgSettings:o()(o()({},D.leaveMsgSettings),{},{worktimeUids:null==D||null===(m=D.leaveMsgSettings)||void 0===m||null===(m=m.worktimes)||void 0===m?void 0:m.map((function(e){return e.uid}))}),robotSettings:o()(o()({},D.robotSettings),{},{robotUid:null==D||null===(F=D.robotSettings)||void 0===F||null===(F=F.robot)||void 0===F?void 0:F.uid}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",w),e.next=16,(0,Z.sE)(w);case 16:S=e.sent,console.log("updateAgent response:",S),200===S.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),I(S.data)):(d.yw.destroy(),d.yw.error(S.message)),e.next=29;break;case 21:if(n!==C.aZD){e.next=29;break}return M=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showFaqs:t.showFaqs,faqUids:t.faqUids,quickFaqUids:null===(y=$.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==$||null===(b=$.serviceSettings)||void 0===b||null===(b=b.guessFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),hotFaqUids:null==$||null===(k=$.serviceSettings)||void 0===k||null===(k=k.hotFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),shortcutFaqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.shortcutFaqs)||void 0===x?void 0:x.map((function(e){return e.uid}))}),robotSettings:o()(o()({},$.robotSettings),{},{robotUid:null==$||null===(U=$.robotSettings)||void 0===U||null===(U=U.robot)||void 0===U?void 0:U.uid}),leaveMsgSettings:o()(o()({},$.leaveMsgSettings),{},{worktimeUids:null==$||null===(j=$.leaveMsgSettings)||void 0===j||null===(j=j.worktimes)||void 0===j?void 0:j.map((function(e){return e.uid}))}),agentUids:$.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",M),e.next=26,(0,A.W5)(M);case 26:R=e.sent,console.log("updateWorkGroup response:",R),200===R.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(R.data)):(d.yw.destroy(),d.yw.error(R.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=a()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqs handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{children:[(0,R.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,R.jsx)(k.ZP,{type:"link",icon:(0,R.jsx)(q.Z,{}),onClick:function(){return window.open(C.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(F.A,{form:r,layout:"vertical",onFinish:z,children:[(0,R.jsx)(w.Z,{label:"是否显示常见问题",name:"showFaqs",fieldProps:{onChange:Y}}),(0,R.jsx)(F.A.Item,{children:(0,R.jsx)(k.ZP,{icon:(0,R.jsx)(m.Z,{}),onClick:function(){l("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,R.jsx)(S.Z,{name:"faqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faq"}),options:null==O||null===(t=O.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return{label:W(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,R.jsx)(y.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},10187:function(e,t,n){var s=n(73193),o=n.n(s),r=n(90819),i=n.n(r),u=n(89933),a=n.n(u),l=n(45332),c=n.n(l),d=n(89756),v=n(62639),g=n(63833),f=n(1780),p=n(3245),h=n(40431),q=n(16655),m=n(11984),F=n(5728),w=n(31806),S=n(8091),y=n(82045),b=n(93982),k=n(12265),x=n(72434),U=n(44194),j=n(85702),M=n(61017),C=n(77667),Z=n(81153),A=n(43314),R=n(31549);t.Z=function(e){var t,n=e.type,s=F.A.useForm(),r=c()(s,1)[0],u=(0,y.useIntl)(),l=(0,y.useNavigate)(),W=(0,f.Z)().translateString,V=(0,h.u)((function(e){return e.currentOrg})),P=(0,U.useState)(),E=c()(P,2),O=E[0],G=E[1],H=(0,p.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=H.currentRobot,_=H.setCurrentRobot,T=(0,j.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=T.currentAgent,I=T.setCurrentAgent,Q=(0,M.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=Q.currentWorkgroup,X=Q.setCurrentWorkgroup,L=function(){var e=a()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:V.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?G(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,U.useEffect)((function(){L()}),[V]),(0,U.useEffect)((function(){var e,t;if(n===C._X4)r.setFieldsValue({showGuessFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showGuessFaqs,guessFaqUids:null==N||null===(t=N.serviceSettings)||void 0===t||null===(t=t.guessFaqs)||void 0===t?void 0:t.map((function(e){return e.uid}))});else if(n===C.Njn){var s,o;r.setFieldsValue({showGuessFaqs:null==D||null===(s=D.serviceSettings)||void 0===s?void 0:s.showGuessFaqs,guessFaqUids:null==D||null===(o=D.serviceSettings)||void 0===o||null===(o=o.guessFaqs)||void 0===o?void 0:o.map((function(e){return e.uid}))})}else if(n===C.aZD){var i,u;r.setFieldsValue({showGuessFaqs:null==$||null===(i=$.serviceSettings)||void 0===i?void 0:i.showGuessFaqs,guessFaqUids:null==$||null===(u=$.serviceSettings)||void 0===u||null===(u=u.guessFaqs)||void 0===u?void 0:u.map((function(e){return e.uid}))})}}),[N,D,$]);var z=function(){var e=a()(i()().mark((function e(t){var s,r,a,l,c,v,f,p,h,q,m,F,w,S,y,b,k,x,U,j,M,R,W;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==C._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showGuessFaqs:t.showGuessFaqs,guessFaqUids:t.guessFaqUids,quickFaqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.quickFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})),faqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),hotFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.hotFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.shortcutFaqs)||void 0===l?void 0:l.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),_(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==C.Njn){e.next=21;break}return w=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showGuessFaqs:t.showGuessFaqs,guessFaqUids:t.guessFaqUids,quickFaqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),faqUids:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.faqs)||void 0===p?void 0:p.map((function(e){return e.uid})),hotFaqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.hotFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),shortcutFaqUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.shortcutFaqs)||void 0===q?void 0:q.map((function(e){return e.uid}))}),robotSettings:o()(o()({},D.robotSettings),{},{robotUid:null==D||null===(m=D.robotSettings)||void 0===m||null===(m=m.robot)||void 0===m?void 0:m.uid}),leaveMsgSettings:o()(o()({},D.leaveMsgSettings),{},{worktimeUids:null==D||null===(F=D.leaveMsgSettings)||void 0===F||null===(F=F.worktimes)||void 0===F?void 0:F.map((function(e){return e.uid}))}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",w),e.next=16,(0,Z.sE)(w);case 16:S=e.sent,console.log("updateAgent response:",S),200===S.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),I(S.data)):(d.yw.destroy(),d.yw.error(S.message)),e.next=29;break;case 21:if(n!==C.aZD){e.next=29;break}return R=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showGuessFaqs:t.showGuessFaqs,guessFaqUids:t.guessFaqUids,quickFaqUids:null===(y=$.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),faqUids:null==$||null===(b=$.serviceSettings)||void 0===b||null===(b=b.faqs)||void 0===b?void 0:b.map((function(e){return e.uid})),hotFaqUids:null==$||null===(k=$.serviceSettings)||void 0===k||null===(k=k.hotFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),shortcutFaqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.shortcutFaqs)||void 0===x?void 0:x.map((function(e){return e.uid}))}),robotSettings:o()(o()({},$.robotSettings),{},{robotUid:null==$||null===(U=$.robotSettings)||void 0===U||null===(U=U.robot)||void 0===U?void 0:U.uid}),leaveMsgSettings:o()(o()({},$.leaveMsgSettings),{},{worktimeUids:null==$||null===(j=$.leaveMsgSettings)||void 0===j||null===(j=j.worktimes)||void 0===j?void 0:j.map((function(e){return e.uid}))}),agentUids:null===(M=$.agents)||void 0===M?void 0:M.map((function(e){return e.uid}))}),console.log("workgroupObject:",R),e.next=26,(0,A.W5)(R);case 26:W=e.sent,console.log("updateWorkGroup response:",W),200===W.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(W.data)):(d.yw.destroy(),d.yw.error(W.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=a()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqGuess handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{children:[(0,R.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,R.jsx)(k.ZP,{type:"link",icon:(0,R.jsx)(q.Z,{}),onClick:function(){return window.open(C.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(F.A,{form:r,layout:"vertical",onFinish:z,children:[(0,R.jsx)(w.Z,{label:"是否显示猜你想问",name:"showGuessFaqs",fieldProps:{onChange:Y}}),(0,R.jsx)(F.A.Item,{children:(0,R.jsx)(k.ZP,{icon:(0,R.jsx)(m.Z,{}),onClick:function(){l("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,R.jsx)(S.Z,{name:"guessFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faqGuess"}),options:null==O||null===(t=O.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return{label:W(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,R.jsx)(y.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},18874:function(e,t,n){var s=n(73193),o=n.n(s),r=n(90819),i=n.n(r),u=n(89933),a=n.n(u),l=n(45332),c=n.n(l),d=n(89756),v=n(62639),g=n(63833),f=n(1780),p=n(3245),h=n(40431),q=n(16655),m=n(11984),F=n(5728),w=n(31806),S=n(8091),y=n(82045),b=n(93982),k=n(12265),x=n(72434),U=n(44194),j=n(85702),M=n(61017),C=n(77667),Z=n(81153),A=n(43314),R=n(31549);t.Z=function(e){var t,n=e.type,s=F.A.useForm(),r=c()(s,1)[0],u=(0,y.useIntl)(),l=(0,y.useNavigate)(),W=(0,f.Z)().translateString,V=(0,h.u)((function(e){return e.currentOrg})),P=(0,U.useState)(),E=c()(P,2),O=E[0],G=E[1],H=(0,p.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=H.currentRobot,_=H.setCurrentRobot,T=(0,j.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=T.currentAgent,I=T.setCurrentAgent,Q=(0,M.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=Q.currentWorkgroup,X=Q.setCurrentWorkgroup,L=function(){var e=a()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:V.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?G(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,U.useEffect)((function(){L()}),[V]),(0,U.useEffect)((function(){var e;if(n===C._X4)r.setFieldsValue({showHotFaqs:null==N?void 0:N.serviceSettings.showHotFaqs,hotFaqUids:(null==N||null===(e=N.serviceSettings)||void 0===e||null===(e=e.hotFaqs)||void 0===e?void 0:e.map((function(e){return e.uid})))||[]});else if(n===C.Njn){var t;r.setFieldsValue({showHotFaqs:null==D?void 0:D.serviceSettings.showHotFaqs,hotFaqUids:(null==D||null===(t=D.serviceSettings)||void 0===t||null===(t=t.hotFaqs)||void 0===t?void 0:t.map((function(e){return e.uid})))||[]})}else if(n===C.aZD){var s;r.setFieldsValue({showHotFaqs:null==$?void 0:$.serviceSettings.showHotFaqs,hotFaqUids:(null==$||null===(s=$.serviceSettings)||void 0===s||null===(s=s.hotFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})))||[]})}}),[N,D,$]);var z=function(){var e=a()(i()().mark((function e(t){var s,r,a,l,c,v,f,p,h,q,m,F,w,S,y,b,k,x,U,j,M,R;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==C._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showHotFaqs:t.showHotFaqs,hotFaqUids:t.hotFaqUids,quickFaqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.quickFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})),faqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),guessFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.guessFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.shortcutFaqs)||void 0===l?void 0:l.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),_(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==C.Njn){e.next=21;break}return w=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showHotFaqs:t.showHotFaqs,hotFaqUids:t.hotFaqUids,quickFaqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.guessFaqs)||void 0===p?void 0:p.map((function(e){return e.uid})),faqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.faqs)||void 0===h?void 0:h.map((function(e){return e.uid})),shortcutFaqUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.shortcutFaqs)||void 0===q?void 0:q.map((function(e){return e.uid}))}),robotSettings:o()(o()({},D.robotSettings),{},{robotUid:null==D||null===(m=D.robotSettings)||void 0===m||null===(m=m.robot)||void 0===m?void 0:m.uid}),leaveMsgSettings:o()(o()({},D.leaveMsgSettings),{},{worktimeUids:null==D||null===(F=D.leaveMsgSettings)||void 0===F||null===(F=F.worktimes)||void 0===F?void 0:F.map((function(e){return e.uid}))}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",w),e.next=16,(0,Z.sE)(w);case 16:S=e.sent,console.log("updateAgent response:",S),200===S.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),I(S.data)):(d.yw.destroy(),d.yw.error(S.message)),e.next=29;break;case 21:if(n!==C.aZD){e.next=29;break}return M=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showHotFaqs:t.showHotFaqs,hotFaqUids:t.hotFaqUids,quickFaqUids:null===(y=$.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),faqUids:null==$||null===(b=$.serviceSettings)||void 0===b||null===(b=b.faqs)||void 0===b?void 0:b.map((function(e){return e.uid})),guessFaqUids:null==$||null===(k=$.serviceSettings)||void 0===k||null===(k=k.guessFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),shortcutFaqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.shortcutFaqs)||void 0===x?void 0:x.map((function(e){return e.uid}))}),robotSettings:o()(o()({},$.robotSettings),{},{robotUid:null==$||null===(U=$.robotSettings)||void 0===U||null===(U=U.robot)||void 0===U?void 0:U.uid}),leaveMsgSettings:o()(o()({},$.leaveMsgSettings),{},{worktimeUids:null==$||null===(j=$.leaveMsgSettings)||void 0===j||null===(j=j.worktimes)||void 0===j?void 0:j.map((function(e){return e.uid}))}),agentUids:$.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",M),e.next=26,(0,A.W5)(M);case 26:R=e.sent,console.log("updateWorkGroup response:",R),200===R.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(R.data)):(d.yw.destroy(),d.yw.error(R.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=a()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqHots handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{children:[(0,R.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,R.jsx)(k.ZP,{type:"link",icon:(0,R.jsx)(q.Z,{}),onClick:function(){return window.open(C.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(F.A,{form:r,layout:"vertical",onFinish:z,children:[(0,R.jsx)(w.Z,{label:"是否显示热门问题",name:"showHotFaqs",fieldProps:{onChange:Y}}),(0,R.jsx)(F.A.Item,{children:(0,R.jsx)(k.ZP,{icon:(0,R.jsx)(m.Z,{}),onClick:function(){l("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,R.jsx)(S.Z,{name:"hotFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faqHot"}),options:null==O||null===(t=O.data)||void 0===t?void 0:t.content.map((function(e){return{label:W(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,R.jsx)(y.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},90588:function(e,t,n){var s=n(73193),o=n.n(s),r=n(90819),i=n.n(r),u=n(89933),a=n.n(u),l=n(45332),c=n.n(l),d=n(89756),v=n(62639),g=n(63833),f=n(1780),p=n(3245),h=n(40431),q=n(16655),m=n(11984),F=n(5728),w=n(31806),S=n(8091),y=n(82045),b=n(93982),k=n(12265),x=n(72434),U=n(44194),j=n(85702),M=n(61017),C=n(77667),Z=n(81153),A=n(43314),R=n(31549);t.Z=function(e){var t,n=e.type,s=F.A.useForm(),r=c()(s,1)[0],u=(0,y.useIntl)(),l=(0,y.useNavigate)(),W=(0,f.Z)().translateString,V=(0,h.u)((function(e){return e.currentOrg})),P=(0,U.useState)(),E=c()(P,2),O=E[0],G=E[1],H=(0,p.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=H.currentRobot,_=H.setCurrentRobot,T=(0,j.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=T.currentAgent,I=T.setCurrentAgent,Q=(0,M.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=Q.currentWorkgroup,X=Q.setCurrentWorkgroup,L=function(){var e=a()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:V.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?G(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,U.useEffect)((function(){L()}),[V]),(0,U.useEffect)((function(){var e,t;if(n===C._X4)r.setFieldsValue({showQuickFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showQuickFaqs,quickFaqUids:null==N||null===(t=N.serviceSettings)||void 0===t||null===(t=t.quickFaqs)||void 0===t?void 0:t.map((function(e){return e.uid}))});else if(n===C.Njn){var s,o;r.setFieldsValue({showQuickFaqs:null==D||null===(s=D.serviceSettings)||void 0===s?void 0:s.showQuickFaqs,quickFaqUids:null==D||null===(o=D.serviceSettings)||void 0===o||null===(o=o.quickFaqs)||void 0===o?void 0:o.map((function(e){return e.uid}))})}else if(n===C.aZD){var i,u;r.setFieldsValue({showQuickFaqs:null==$||null===(i=$.serviceSettings)||void 0===i?void 0:i.showQuickFaqs,quickFaqUids:null==$||null===(u=$.serviceSettings)||void 0===u||null===(u=u.quickFaqs)||void 0===u?void 0:u.map((function(e){return e.uid}))})}}),[N,D,$]);var z=function(){var e=a()(i()().mark((function e(t){var s,r,a,l,c,v,f,p,h,q,m,F,w,S,y,b,k,x,U,j,M,R;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t),n!==C._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showQuickFaqs:t.showQuickFaqs,quickFaqUids:t.quickFaqUids,faqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.faqs)||void 0===s?void 0:s.map((function(e){return e.uid})),guessFaqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.guessFaqs)||void 0===r?void 0:r.map((function(e){return e.uid})),hotFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.hotFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),shortcutFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.shortcutFaqs)||void 0===l?void 0:l.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),_(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==C.Njn){e.next=21;break}return w=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showQuickFaqs:t.showQuickFaqs,quickFaqUids:t.quickFaqUids,faqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.faqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.guessFaqs)||void 0===p?void 0:p.map((function(e){return e.uid})),hotFaqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.hotFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),shortcutFaqUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.shortcutFaqs)||void 0===q?void 0:q.map((function(e){return e.uid}))}),robotSettings:o()(o()({},D.robotSettings),{},{robotUid:null==D||null===(m=D.robotSettings)||void 0===m||null===(m=m.robot)||void 0===m?void 0:m.uid}),leaveMsgSettings:o()(o()({},D.leaveMsgSettings),{},{worktimeUids:null==D||null===(F=D.leaveMsgSettings)||void 0===F||null===(F=F.worktimes)||void 0===F?void 0:F.map((function(e){return e.uid}))}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",w),e.next=16,(0,Z.sE)(w);case 16:S=e.sent,console.log("updateAgent response:",S),200===S.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),I(S.data)):(d.yw.destroy(),d.yw.error(S.message)),e.next=29;break;case 21:if(n!==C.aZD){e.next=29;break}return M=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showQuickFaqs:t.showQuickFaqs,quickFaqUids:t.quickFaqUids,faqUids:null===(y=$.serviceSettings)||void 0===y||null===(y=y.faqs)||void 0===y?void 0:y.map((function(e){return e.uid})),guessFaqUids:null==$||null===(b=$.serviceSettings)||void 0===b||null===(b=b.guessFaqs)||void 0===b?void 0:b.map((function(e){return e.uid})),hotFaqUids:null==$||null===(k=$.serviceSettings)||void 0===k||null===(k=k.hotFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),shortcutFaqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.shortcutFaqs)||void 0===x?void 0:x.map((function(e){return e.uid}))}),robotSettings:o()(o()({},$.robotSettings),{},{robotUid:null==$||null===(U=$.robotSettings)||void 0===U||null===(U=U.robot)||void 0===U?void 0:U.uid}),leaveMsgSettings:o()(o()({},$.leaveMsgSettings),{},{worktimeUids:null==$||null===(j=$.leaveMsgSettings)||void 0===j||null===(j=j.worktimes)||void 0===j?void 0:j.map((function(e){return e.uid}))}),agentUids:$.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",M),e.next=26,(0,A.W5)(M);case 26:R=e.sent,console.log("updateWorkGroup response:",R),200===R.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(R.data)):(d.yw.destroy(),d.yw.error(R.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=a()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqs handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{children:[(0,R.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,R.jsx)(k.ZP,{type:"link",icon:(0,R.jsx)(q.Z,{}),onClick:function(){return window.open(C.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(F.A,{form:r,layout:"vertical",onFinish:z,children:[(0,R.jsx)(w.Z,{label:"是否显示快捷按钮",name:"showQuickFaqs",fieldProps:{onChange:Y}}),(0,R.jsx)(F.A.Item,{children:(0,R.jsx)(k.ZP,{icon:(0,R.jsx)(m.Z,{}),onClick:function(){l("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,R.jsx)(S.Z,{name:"quickFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.quickbutton"}),options:null==O||null===(t=O.data)||void 0===t?void 0:t.content.map((function(e){return{label:W(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,R.jsx)(y.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},66772:function(e,t,n){var s=n(73193),o=n.n(s),r=n(90819),i=n.n(r),u=n(89933),a=n.n(u),l=n(45332),c=n.n(l),d=n(89756),v=n(62639),g=n(63833),f=n(1780),p=n(3245),h=n(40431),q=n(16655),m=n(11984),F=n(5728),w=n(31806),S=n(8091),y=n(82045),b=n(93982),k=n(12265),x=n(72434),U=n(44194),j=n(85702),M=n(61017),C=n(77667),Z=n(81153),A=n(43314),R=n(31549);t.Z=function(e){var t,n=e.type,s=F.A.useForm(),r=c()(s,1)[0],u=(0,y.useIntl)(),l=(0,y.useNavigate)(),W=(0,f.Z)().translateString,V=(0,h.u)((function(e){return e.currentOrg})),P=(0,U.useState)(),E=c()(P,2),O=E[0],G=E[1],H=(0,p.V)((function(e){return{currentRobot:e.currentRobot,setCurrentRobot:e.setCurrentRobot}})),N=H.currentRobot,_=H.setCurrentRobot,T=(0,j.E)((function(e){return{currentAgent:e.currentAgent,setCurrentAgent:e.setCurrentAgent}})),D=T.currentAgent,I=T.setCurrentAgent,Q=(0,M.$)((function(e){return{currentWorkgroup:e.currentWorkgroup,setCurrentWorkgroup:e.setCurrentWorkgroup}})),$=Q.currentWorkgroup,X=Q.setCurrentWorkgroup,L=function(){var e=a()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.yw.loading(u.formatMessage({id:"loading",defaultMessage:"Loading"})),t={pageNumber:0,pageSize:50,orgUid:V.uid},e.next=4,(0,v.pf)(t);case 4:n=e.sent,console.log("getAllFaqs response:",t,n),d.yw.destroy(),200===n.code?G(n):d.yw.error(n.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,U.useEffect)((function(){L()}),[V]),(0,U.useEffect)((function(){var e,t;if(n===C._X4)r.setFieldsValue({showShortcutFaqs:null==N||null===(e=N.serviceSettings)||void 0===e?void 0:e.showShortcutFaqs,shortcutFaqUids:(null==N||null===(t=N.serviceSettings)||void 0===t||null===(t=t.shortcutFaqs)||void 0===t?void 0:t.map((function(e){return e.uid})))||[]});else if(n===C.Njn){var s,o;r.setFieldsValue({showShortcutFaqs:null==D||null===(s=D.serviceSettings)||void 0===s?void 0:s.showShortcutFaqs,shortcutFaqUids:(null==D||null===(o=D.serviceSettings)||void 0===o||null===(o=o.shortcutFaqs)||void 0===o?void 0:o.map((function(e){return e.uid})))||[]})}else if(n===C.aZD){var i,u;r.setFieldsValue({showShortcutFaqs:null==$||null===(i=$.serviceSettings)||void 0===i?void 0:i.showShortcutFaqs,shortcutFaqUids:(null==$||null===(u=$.serviceSettings)||void 0===u||null===(u=u.shortcutFaqs)||void 0===u?void 0:u.map((function(e){return e.uid})))||[]})}}),[N,D,$]);var z=function(){var e=a()(i()().mark((function e(t){var s,r,a,l,c,v,f,p,h,q,m,F,w,S,y,b,k,x,U,j,M,R;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onFinish",t,n),n!==C._X4){e.next=11;break}return c=o()(o()({},N),{},{serviceSettings:o()(o()({},N.serviceSettings),{},{showShortcutFaqs:t.showShortcutFaqs,shortcutFaqUids:t.shortcutFaqUids,quickFaqUids:null==N||null===(s=N.serviceSettings)||void 0===s||null===(s=s.quickFaqs)||void 0===s?void 0:s.map((function(e){return e.uid})),faqUids:null==N||null===(r=N.serviceSettings)||void 0===r||null===(r=r.faqs)||void 0===r?void 0:r.map((function(e){return e.uid})),guessFaqUids:null==N||null===(a=N.serviceSettings)||void 0===a||null===(a=a.guessFaqs)||void 0===a?void 0:a.map((function(e){return e.uid})),hotFaqUids:null==N||null===(l=N.serviceSettings)||void 0===l||null===(l=l.hotFaqs)||void 0===l?void 0:l.map((function(e){return e.uid}))})}),console.log("robotObject:",c),e.next=6,(0,g.$l)(c);case 6:v=e.sent,console.log("updateRobot response:",v),200===v.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),_(v.data)):(d.yw.destroy(),d.yw.error(v.message)),e.next=29;break;case 11:if(n!==C.Njn){e.next=21;break}return w=o()(o()({},D),{},{serviceSettings:o()(o()({},null==D?void 0:D.serviceSettings),{},{showShortcutFaqs:t.showShortcutFaqs,shortcutFaqUids:t.shortcutFaqUids,quickFaqUids:null==D||null===(f=D.serviceSettings)||void 0===f||null===(f=f.quickFaqs)||void 0===f?void 0:f.map((function(e){return e.uid})),guessFaqUids:null==D||null===(p=D.serviceSettings)||void 0===p||null===(p=p.guessFaqs)||void 0===p?void 0:p.map((function(e){return e.uid})),hotFaqUids:null==D||null===(h=D.serviceSettings)||void 0===h||null===(h=h.hotFaqs)||void 0===h?void 0:h.map((function(e){return e.uid})),faqUids:null==D||null===(q=D.serviceSettings)||void 0===q||null===(q=q.faqs)||void 0===q?void 0:q.map((function(e){return e.uid}))}),robotSettings:o()(o()({},D.robotSettings),{},{robotUid:null==D||null===(m=D.robotSettings)||void 0===m||null===(m=m.robot)||void 0===m?void 0:m.uid}),leaveMsgSettings:o()(o()({},D.leaveMsgSettings),{},{worktimeUids:null==D||null===(F=D.leaveMsgSettings)||void 0===F||null===(F=F.worktimes)||void 0===F?void 0:F.map((function(e){return e.uid}))}),autoReplySettings:o()({},D.autoReplySettings)}),console.log("agentObject:",w),e.next=16,(0,Z.sE)(w);case 16:S=e.sent,console.log("updateAgent response:",S),200===S.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),I(S.data)):(d.yw.destroy(),d.yw.error(S.message)),e.next=29;break;case 21:if(n!==C.aZD){e.next=29;break}return M=o()(o()({},$),{},{serviceSettings:o()(o()({},$.serviceSettings),{},{showShortcutFaqs:t.showShortcutFaqs,shortcutFaqUids:t.shortcutFaqUids,quickFaqUids:null===(y=$.serviceSettings)||void 0===y||null===(y=y.quickFaqs)||void 0===y?void 0:y.map((function(e){return e.uid})),faqUids:null==$||null===(b=$.serviceSettings)||void 0===b||null===(b=b.faqs)||void 0===b?void 0:b.map((function(e){return e.uid})),hotFaqUids:null==$||null===(k=$.serviceSettings)||void 0===k||null===(k=k.hotFaqs)||void 0===k?void 0:k.map((function(e){return e.uid})),guessFaqUids:null==$||null===(x=$.serviceSettings)||void 0===x||null===(x=x.guessFaqs)||void 0===x?void 0:x.map((function(e){return e.uid}))}),robotSettings:o()(o()({},$.robotSettings),{},{robotUid:null==$||null===(U=$.robotSettings)||void 0===U||null===(U=U.robot)||void 0===U?void 0:U.uid}),leaveMsgSettings:o()(o()({},$.leaveMsgSettings),{},{worktimeUids:null==$||null===(j=$.leaveMsgSettings)||void 0===j||null===(j=j.worktimes)||void 0===j?void 0:j.map((function(e){return e.uid}))}),agentUids:$.agents.map((function(e){return e.uid}))}),console.log("workgroupObject:",M),e.next=26,(0,A.W5)(M);case 26:R=e.sent,console.log("updateWorkGroup response:",R),200===R.code?(d.yw.destroy(),d.yw.success(u.formatMessage({id:"update.success"})),X(R.data)):(d.yw.destroy(),d.yw.error(R.message));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=a()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("TabFaqShortcut handleChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{children:[(0,R.jsx)(b.Z,{message:"请先到 知识库 -> 常见问题 -> 新建，创建常见问题之后，再来添加",type:"success",action:(0,R.jsx)(k.ZP,{type:"link",icon:(0,R.jsx)(q.Z,{}),onClick:function(){return window.open(C.VPj)},children:u.formatMessage({id:"setting.helpcenter"})})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(F.A,{form:r,layout:"vertical",onFinish:z,children:[(0,R.jsx)(w.Z,{label:"是否显示快捷路径",name:"showShortcutFaqs",fieldProps:{onChange:Y}}),(0,R.jsx)(F.A.Item,{children:(0,R.jsx)(k.ZP,{icon:(0,R.jsx)(m.Z,{}),onClick:function(){l("/kb/faq/data")},children:"添加常见问题"},"github")}),(0,R.jsx)(S.Z,{name:"shortcutFaqUids",width:"md",label:u.formatMessage({id:"menu.knowledge.faqShortcut"}),options:null==O||null===(t=O.data)||void 0===t?void 0:t.content.map((function(e){return{label:W(e.question),value:e.uid}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:(0,R.jsx)(y.FormattedMessage,{id:"choose",defaultMessage:"Choose"})}})]})]})}},28243:function(e,t,n){n(90819),n(73193),n(89933),n(45332),n(81153),n(63833),n(43314),n(85702),n(3245),n(61017),n(77667),n(82045),n(44194),n(31549)},60029:function(e,t,n){var s=n(73193),o=n.n(s),r=n(84176),i=n.n(r),u=n(89756),a=n(74145),l=n(82045),c=n(72909),d=(n(79520),n(44194)),v=n(31549),g=["placeholder","defaultValue","value","style","toolbarKeys","onChange","options"];t.Z=function(e){var t=e.placeholder,n=e.defaultValue,s=e.value,r=e.style,f=e.toolbarKeys,p=e.onChange,h=(e.options,i()(e,g)),q=(0,l.useIntl)(),m=(0,a.Z)().isDarkMode,F=(0,d.useRef)(null),w=(0,d.useRef)(null);return(0,d.useEffect)((function(){if(F.current){if(!w.current){var e=new c.cW({element:F.current,theme:m?"dark":"light",placeholder:t,content:n,toolbarKeys:f,image:{uploaderEvent:{onUploadBefore:function(e,t,n){u.yw.warning(q.formatMessage({id:"i18n.under.development",defaultMessage:"Coming Soon"}))}}},video:{uploaderEvent:{onUploadBefore:function(e,t,n){u.yw.warning(q.formatMessage({id:"i18n.under.development",defaultMessage:"Coming Soon"}))}}},attachment:{uploaderEvent:{onUploadBefore:function(e,t,n){u.yw.warning(q.formatMessage({id:"i18n.under.development",defaultMessage:"Coming Soon"}))}}},onChange:function(e){"function"==typeof p&&p(e.getHtml(),e.getMarkdown())}});w.current=e}return function(){w.current&&(w.current.destroy(),w.current=null)}}}),[]),(0,d.useEffect)((function(){w.current&&s!==w.current.getHtml()&&w.current.setContent(s||"")}),[s]),(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",o()(o()({ref:F},h),{},{style:o()({height:"100%"},r)}))})}},89242:function(e,t,n){n(44194),n(82045),n(84330),n(81951),n(68925),n(20924),n(302),n(81167),n(85401),n(31549)},82639:function(e,t,n){n(44194);var s=n(50571),o=n(82980),r=n(26727),i=n(33067),u=n(83440),a=n(53499),l=n(84330),c=n(8401),d=n(34077),v=n(96144),g=n(45831),f=n(31549);t.Z=function(e){var t=e.type,n=[{key:"web",label:"Web",children:(0,f.jsx)(g.Z,{type:t})},{key:"react",label:"React",children:(0,f.jsx)(a.Z,{type:t})},{key:"vue",label:"Vue",children:(0,f.jsx)(v.Z,{type:t})},{key:"svelte",label:"Svelte",children:(0,f.jsx)(c.Z,{type:t})},{key:"vanilla",label:"Vanilla",children:(0,f.jsx)(d.Z,{type:t})},{key:"ios",label:"iOS",children:(0,f.jsx)(o.Z,{type:t})},{key:"android",label:"Android",children:(0,f.jsx)(u.Z,{type:t})},{key:"uniapp",label:"Uniapp",children:(0,f.jsx)(r.Z,{type:t})},{key:"flutter",label:"Flutter",children:(0,f.jsx)(i.Z,{type:t})}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{type:t}),(0,f.jsx)(s.Z,{tabPosition:"left",items:n})]})}},19743:function(e,t,n){n(44194),n(82045),n(84330),n(9579),n(64352),n(60992),n(15192),n(31549)},65352:function(e,t,n){n(44194);var s=n(82045),o=(n(48764),n(84330),n(20988),n(76457),n(41956),n(42685),n(2748),n(90819),n(73193),n(84176),n(89933),n(45332),n(40431),n(440),n(61017),n(77667),n(19140)),r=(n(85702),n(3245),n(33934),n(31549));o.Z.TextArea,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,n(51444),n(56746),s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage,s.FormattedMessage},84330:function(e,t,n){var s=n(82045),o=n(31549);t.Z=function(e){e.type,(0,s.useIntl)();return(0,o.jsx)(o.Fragment,{})}},92349:function(e,t,n){n.d(t,{G:function(){return v}});var s=n(73193),o=n.n(s),r=(n(44194),n(17433)),i=n(77667),u=n(28977),a=n.n(u),l=n(89756),c=n(33934),d=n(31549),v=function(e){var t=e.children,n=e.onSuccess,s=e.onError,u={file:null,file_name:"test.png",file_type:"image/png",is_avatar:"true",kb_type:i.IrL,category_uid:"",kb_uid:"",client:i.bVn},v={name:"file",accept:"image/*",action:(0,c.M$)(),headers:{Authorization:"Bearer "+localStorage.getItem(i.LA8)},data:u,showUploadList:!1,beforeUpload:function(e){console.log("beforeUpload",e);var t=a()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name;u.file=e,u.file_name=t,u.file_type=e.type,console.log("beforeUpload",u)},onChange:function(e){if("uploading"!==e.file.status&&console.log("not uploading:",e.file),"done"===e.file.status)if(console.log("response: ",e.file.response),200===e.file.response.code){var t=e.file.response.data;n(t),l.yw.success("".concat(e.file.name," 上传成功"))}else s(e.file),l.yw.error("".concat(e.file.name," 上传失败"));else"error"===e.file.status&&(l.yw.error("".concat(e.file.name," 上传失败")),s(e.file))}};return(0,d.jsx)(r.Z,o()(o()({},v),{},{children:t}))}}}]);