"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[290],{26859:function(b,i,e){var l=e(1413),n=e(67294),m=e(94737),o=e(89099),u=function(p,g){return n.createElement(o.Z,(0,l.Z)((0,l.Z)({},p),{},{ref:g,icon:m.Z}))},E=n.forwardRef(u);i.Z=E},5486:function(b,i,e){e.r(i);var l=e(97857),n=e.n(l),m=e(15009),o=e.n(m),u=e(99289),E=e.n(u),O=e(5574),p=e.n(O),g=e(67294),f=e(8232),c=e(66476),h=e(7134),A=e(14726),r=e(96365),C=e(34994),D=e(5966),I=e(90672),j=e(86745),T=e(27484),R=e.n(T),B=e(26859),_=e(85893),L={labelCol:{span:8},wrapperCol:{span:8}},K={required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},W=function(){var U=(0,j.useIntl)(),x=f.Z.useForm(),Z=p()(x,1),y=Z[0],d=(0,j.useModel)("@@initialState"),F=d.initialState,z=d.loading,G=d.refresh,H=d.setInitialState,s=F.userInfo,v={file_name:"test.png",username:"",type:"",kbname:"",client:"web"},$={name:"file",action:"/visitor/api/upload/avatar",headers:{authorization:"authorization-text"},showUploadList:!1,data:v,beforeUpload:function(a){console.log("file:",a," uploadData:",v);var t=R()(new Date).format("YYYYMMDDHHmmss");return v.file_name=t+a.name,!0},onChange:function(a){if(a.file.status!=="uploading"&&console.log(a.file,a.fileList),a.file.status==="done"){var t=a.file.response.data;console.log("url: ",t)}else a.file.status}},S=function(){var M=E()(o()().mark(function a(t){return o()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:console.log(s,t);case 1:case"end":return P.stop()}},a)}));return function(t){return M.apply(this,arguments)}}();return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(C.A,n()(n()({},L),{},{form:y,onFinish:S,initialValues:{nickname:s.nickname,email:s.email,mobile:s.mobile,description:s.description},validateMessages:K,children:[(0,_.jsx)(f.Z.Item,{name:"avatar",valuePropName:"fileList",label:U.formatMessage({id:"pages.robot.tab.avatar",defaultMessage:"Avatar"}),children:(0,_.jsxs)(c.Z,n()(n()({},$),{},{children:[(0,_.jsx)(h.C,{src:s.avatar}),(0,_.jsx)(A.ZP,{icon:(0,_.jsx)(B.Z,{}),children:U.formatMessage({id:"pages.robot.upload",defaultMessage:"Upload"})})]}),"avatar")}),(0,_.jsx)(D.Z,{name:"nickname",label:"\u6635\u79F0",rules:[{required:!0}],children:(0,_.jsx)(r.Z,{})}),(0,_.jsx)(D.Z,{name:"email",label:"\u90AE\u7BB1",rules:[{type:"email"}],children:(0,_.jsx)(r.Z,{})}),(0,_.jsx)(D.Z,{name:"mobile",label:"\u624B\u673A\u53F7",children:(0,_.jsx)(r.Z,{})}),(0,_.jsx)(I.Z,{name:"description",label:"\u63CF\u8FF0",children:(0,_.jsx)(r.Z.TextArea,{})})]}))})};i.default=W}}]);
