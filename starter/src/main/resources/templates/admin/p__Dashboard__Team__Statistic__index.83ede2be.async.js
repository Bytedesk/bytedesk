"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6805],{73140:function(e,s,t){t.r(s),t.d(s,{default:function(){return ae}});var a=t(73193),i=t.n(a),r=t(90819),l=t.n(r),n=t(89933),d=t.n(n),c=t(45332),x=t.n(c),o=t(44194),j=t(98123),u=t(8247),m=t(62673),p=t(3849),Z=t(75365),g=t(88201),h=t(5602),f=t(59485),v=t(88996),y=t(40269),F=t(95454),M=t(7875),b=t(29266),k=t(5939),z=t(89717),T=t(10737),w=t(24562),S=t(34892),D=t(30921),C=t(67247),R=t(61107),I=t(86994),q=t(58791),P=t(40776),A=t(48004),H=t(40074),E=t(47305),K=t(85642),L=t(55439),O=t(72608),V={},B={},G={},J={},N={},Q={},U={},W={},X={data:[{time:"00:00",value:120},{time:"02:00",value:80}],xField:"time",yField:"value",smooth:!0},Y={data:[{day:"1天",value:95},{day:"7天",value:82},{day:"30天",value:75}],xField:"day",yField:"value"},$={data:[{time:"09:00",response:2.5,volume:580},{time:"10:00",response:1.8,volume:780}],xField:"time",yField:["response","volume"]},_={data:[{group:"研发群",efficiency:85},{group:"产品群",efficiency:78}],xField:"group",yField:"efficiency"},ee=t(80709),se=t(31549),te=j.default.RangePicker,ae=(u.Z.TabPane,function(){var e=(0,D.useIntl)(),s=(0,D.useAccess)(),t=(0,o.useState)(!1),a=x()(t,2),r=(a[0],a[1]),n=(0,o.useState)(!1),c=x()(n,2),j=c[0],ae=c[1],ie=(0,o.useState)(["",""]),re=x()(ie,2),le=re[0],ne=re[1],de={total:12580,active:256,avgDuration:15.5,peakHour:"14:00",quality:4.5,crossDept:35.8},ce={total:1580,active:890,online:456,new:45,retention:92.5,dau:780},xe={total:156800,unread:256,avgResponse:2.5,peakValue:1580,broadcast:35,types:{text:65,image:20,file:10,other:5}},oe={total:256,active:180,avgSize:15.6,messageCount:89600,activeness:78.5,crossDept:45.2};(0,o.useEffect)((function(){je();var e=setInterval(je,3e4);return function(){return clearInterval(e)}}),[le]);var je=function(){var s=d()(l()().mark((function s(){return l()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:try{ae(!0)}catch(s){O.ZP.error(e.formatMessage({id:"team.statistic.fetch.failed"}))}finally{ae(!1)}case 1:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return(0,se.jsx)(D.Access,{accessible:s.canDebug(),children:(0,se.jsxs)(ee.FE,{children:[(0,se.jsx)(C.Z,{onResize:function(e){r(e.width<596)},children:(0,se.jsx)(m.Z,{loading:j,children:(0,se.jsxs)(p.Z,{children:[(0,se.jsx)(te,{onChange:function(e,s){ne(s)}}),(0,se.jsx)(Z.ZP,{icon:(0,se.jsx)(R.Z,{}),children:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.export"})})]})})},"filter-card"),(0,se.jsx)(C.Z,{onResize:function(e){r(e.width<596)},children:(0,se.jsxs)(g.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,se.jsx)(h.Z,{span:6,children:(0,se.jsxs)(m.Z,{children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.sessions.total"}),value:de.total,prefix:(0,se.jsx)(I.Z,{}),suffix:(0,se.jsx)(v.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.sessions.active"}),children:(0,se.jsx)(y.Z,{count:de.active,overflowCount:999,style:{backgroundColor:"#52c41a"}})})}),(0,se.jsx)(F.Z,{percent:20*de.quality,size:"small",status:"active",format:function(e){return"".concat(de.quality,"分")}})]})}),(0,se.jsx)(h.Z,{span:6,children:(0,se.jsxs)(m.Z,{children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.users.total"}),value:ce.total,prefix:(0,se.jsx)(q.Z,{}),valueStyle:{color:"#1890ff"}}),(0,se.jsxs)("div",{style:{marginTop:8},children:[(0,se.jsx)(y.Z,{status:"processing",text:"".concat(ce.online," 在线")}),(0,se.jsx)(y.Z,{status:"success",text:"".concat(ce.active," 活跃"),style:{marginLeft:8}})]})]})}),(0,se.jsx)(h.Z,{span:6,children:(0,se.jsxs)(m.Z,{children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.messages.total"}),value:xe.total,prefix:(0,se.jsx)(I.Z,{}),valueStyle:{color:"#52c41a"}}),(0,se.jsx)(F.Z,{percent:xe.types.text,success:{percent:xe.types.image},size:"small"})]})}),(0,se.jsx)(h.Z,{span:6,children:(0,se.jsxs)(m.Z,{children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.groups.total"}),value:oe.total,prefix:(0,se.jsx)(P.Z,{}),valueStyle:{color:"#faad14"}}),(0,se.jsx)(F.Z,{percent:oe.activeness,size:"small",status:"active"})]})})]})},"core-stats"),(0,se.jsx)(C.Z,{children:(0,se.jsxs)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.session.detail"}),style:{marginTop:16},children:[(0,se.jsxs)(g.Z,{gutter:[16,16],children:[(0,se.jsx)(h.Z,{span:8,children:(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.session.avgDuration"}),value:de.avgDuration,suffix:"min",prefix:(0,se.jsx)(A.Z,{})})}),(0,se.jsx)(h.Z,{span:8,children:(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.session.peakHour"}),value:de.peakHour,suffix:(0,se.jsx)(A.Z,{})})}),(0,se.jsx)(h.Z,{span:8,children:(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.session.crossDept"}),value:de.crossDept,suffix:"%",prefix:(0,se.jsx)(q.Z,{})})})]}),(0,se.jsx)("div",{style:{marginTop:16},children:(0,se.jsx)(k.Z,i()({},X))})]})},"session-detail"),(0,se.jsx)(C.Z,{children:(0,se.jsxs)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.user.retention.analysis"}),style:{marginTop:16},children:[(0,se.jsxs)(g.Z,{gutter:[16,16],children:[(0,se.jsxs)(h.Z,{span:12,children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.user.new"}),value:ce.new,prefix:(0,se.jsx)(H.Z,{}),valueStyle:{color:"#52c41a"}}),(0,se.jsx)(F.Z,{percent:ce.new/100,size:"small"})]}),(0,se.jsxs)(h.Z,{span:12,children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.user.distribution"}),value:(ce.active/ce.total*100).toFixed(1),suffix:"%",prefix:(0,se.jsx)(E.Z,{})}),(0,se.jsx)(F.Z,{percent:ce.active/ce.total*100,size:"small",status:"active"})]})]}),(0,se.jsx)("div",{style:{marginTop:16},children:(0,se.jsx)(z.Z,i()({},Y))})]})},"user-retention"),(0,se.jsx)(C.Z,{children:(0,se.jsxs)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.message.response"}),style:{marginTop:16},children:[(0,se.jsxs)(g.Z,{gutter:[16,16],children:[(0,se.jsxs)(h.Z,{span:8,children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.message.unread"}),value:xe.unread,valueStyle:{color:"#ff4d4f"},prefix:(0,se.jsx)(K.Z,{})}),(0,se.jsx)(F.Z,{percent:xe.unread/xe.total*100,size:"small",status:"exception"})]}),(0,se.jsxs)(h.Z,{span:8,children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.message.avgResponse"}),value:xe.avgResponse,suffix:"min",prefix:(0,se.jsx)(A.Z,{})}),(0,se.jsx)(F.Z,{percent:(5-xe.avgResponse)/5*100,size:"small",status:"active"})]}),(0,se.jsxs)(h.Z,{span:8,children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.message.broadcast"}),value:xe.broadcast,suffix:"%",prefix:(0,se.jsx)(L.Z,{})}),(0,se.jsx)(F.Z,{percent:xe.broadcast,size:"small"})]})]}),(0,se.jsx)("div",{style:{marginTop:16},children:(0,se.jsx)(T.Z,i()({},$))})]})},"message-response"),(0,se.jsx)(C.Z,{children:(0,se.jsxs)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.group.efficiency"}),style:{marginTop:16},children:[(0,se.jsxs)(g.Z,{gutter:[16,16],children:[(0,se.jsxs)(h.Z,{span:8,children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.group.avgSize"}),value:oe.avgSize,suffix:(0,se.jsx)(q.Z,{})}),(0,se.jsx)(F.Z,{percent:oe.avgSize/30*100,size:"small"})]}),(0,se.jsxs)(h.Z,{span:8,children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.group.messageCount"}),value:oe.messageCount,prefix:(0,se.jsx)(I.Z,{})}),(0,se.jsx)(F.Z,{percent:oe.messageCount/1e5*100,size:"small",status:"active"})]}),(0,se.jsxs)(h.Z,{span:8,children:[(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.group.crossDept"}),value:oe.crossDept,suffix:"%",prefix:(0,se.jsx)(q.Z,{})}),(0,se.jsx)(F.Z,{percent:oe.crossDept,size:"small"})]})]}),(0,se.jsx)("div",{style:{marginTop:16},children:(0,se.jsx)(z.Z,i()({},_))})]})},"group-efficiency"),(0,se.jsx)(C.Z,{onResize:function(e){r(e.width<596)},children:(0,se.jsx)(m.Z,{style:{marginTop:16},children:(0,se.jsx)(u.Z,{defaultActiveKey:"trend",items:[{key:"trend",label:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.realtime.trend"}),children:(0,se.jsx)(T.Z,i()({},{data:[{time:"09:00",messages:580,users:256},{time:"10:00",messages:780,users:312}],xField:"time",yField:["messages","users"],smooth:!0}))},{key:"heatmap",label:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.dept.heatmap"}),children:(0,se.jsx)(z.Z,i()({},{data:[{dept1:"技术部",dept2:"产品部",value:89},{dept1:"技术部",dept2:"市场部",value:45}],xField:"dept1",yField:"dept2",colorField:"value"}))}]})})},"monitor-panel"),(0,se.jsxs)(g.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,se.jsx)(h.Z,{span:12,children:(0,se.jsx)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.message.analysis"}),children:(0,se.jsx)(w.Z,{data:Object.entries(xe.types).map((function(e){var s=x()(e,2);return{type:s[0],value:s[1]}})),angleField:"value",colorField:"type",radius:.8})})}),(0,se.jsx)(h.Z,{span:12,children:(0,se.jsx)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.group.analysis"}),children:(0,se.jsx)(z.Z,{data:[{type:"技术部",value:oe.active},{type:"产品部",value:.8*oe.active}],xField:"type",yField:"value"})})})]}),(0,se.jsx)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.efficiency"}),style:{marginTop:16},children:(0,se.jsxs)(g.Z,{gutter:[16,16],children:[(0,se.jsx)(h.Z,{span:6,children:(0,se.jsx)(S.Z,{percent:de.quality/5,range:{color:["#f5222d","#faad14","#52c41a"]}})}),(0,se.jsx)(h.Z,{span:18,children:(0,se.jsx)(M.Z,{columns:[{title:"部门",dataIndex:"dept"},{title:"响应时间",dataIndex:"responseTime"},{title:"解决率",dataIndex:"resolveRate"},{title:"满意度",dataIndex:"satisfaction"}],dataSource:[],size:"small"})})]})}),(0,se.jsx)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.user.activity"}),style:{marginTop:16},children:(0,se.jsxs)(g.Z,{gutter:[16,16],children:[(0,se.jsx)(h.Z,{span:8,children:(0,se.jsx)(f.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.user.dau"}),value:ce.dau,suffix:(0,se.jsx)(v.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.user.retention"}),children:(0,se.jsxs)(b.Z,{color:"blue",children:[ce.retention,"%"]})})})}),(0,se.jsx)(h.Z,{span:16,children:(0,se.jsx)(k.Z,i()({},V))})]})}),(0,se.jsx)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.dept.collaboration"}),style:{marginTop:16},children:(0,se.jsx)(u.Z,{items:[{key:"network",label:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.dept.network"}),children:(0,se.jsx)(w.Z,i()({},B))},{key:"matrix",label:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.dept.matrix"}),children:(0,se.jsx)(z.Z,i()({},G))}]})}),(0,se.jsxs)(g.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,se.jsx)(h.Z,{span:12,children:(0,se.jsx)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.group.size"}),children:(0,se.jsx)(w.Z,i()({},J))})}),(0,se.jsx)(h.Z,{span:12,children:(0,se.jsx)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.group.activity"}),children:(0,se.jsx)(z.Z,i()({},N))})})]}),(0,se.jsx)(m.Z,{title:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.message.detail"}),style:{marginTop:16},children:(0,se.jsx)(u.Z,{items:[{key:"trend",label:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.message.trend"}),children:(0,se.jsx)(T.Z,i()({},Q))},{key:"type",label:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.message.type"}),children:(0,se.jsx)(w.Z,i()({},U))},{key:"hour",label:(0,se.jsx)(D.FormattedMessage,{id:"team.statistic.message.hour"}),children:(0,se.jsx)(z.Z,i()({},W))}]})})]})})})}}]);