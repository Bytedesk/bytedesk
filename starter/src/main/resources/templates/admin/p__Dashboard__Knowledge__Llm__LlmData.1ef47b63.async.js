"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[4167],{11475:function(me,X,e){e.d(X,{Z:function(){return x}});var l=e(1413),m=e(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},P=V,Q=e(89099),L=function(w,I){return m.createElement(Q.Z,(0,l.Z)((0,l.Z)({},w),{},{ref:I,icon:P}))},H=m.forwardRef(L),x=H},64317:function(me,X,e){var l=e(1413),m=e(91),V=e(22270),P=e(67294),Q=e(66758),L=e(24809),H=e(85893),x=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],Y=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],w=function(U,A){var E=U.fieldProps,D=U.children,C=U.params,c=U.proFieldProps,k=U.mode,F=U.valueEnum,O=U.request,p=U.showSearch,M=U.options,a=(0,m.Z)(U,x),d=(0,P.useContext)(Q.Z);return(0,H.jsx)(L.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,V.h)(F),request:O,params:C,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:M,mode:k,showSearch:p,getPopupContainer:d.getPopupContainer},E),ref:A,proFieldProps:c},a),{},{children:D}))},I=P.forwardRef(function(_,U){var A=_.fieldProps,E=_.children,D=_.params,C=_.proFieldProps,c=_.mode,k=_.valueEnum,F=_.request,O=_.options,p=(0,m.Z)(_,Y),M=(0,l.Z)({options:O,mode:c||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},A),a=(0,P.useContext)(Q.Z);return(0,H.jsx)(L.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,V.h)(k),request:F,params:D,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({getPopupContainer:a.getPopupContainer},M),ref:U,proFieldProps:C},p),{},{children:E}))}),T=P.forwardRef(w),W=I,B=T;B.SearchSelect=W,B.displayName="ProFormComponent",X.Z=B},91977:function(me,X,e){e.d(X,{HZ:function(){return B},RR:function(){return x},yL:function(){return w}});var l=e(15009),m=e.n(l),V=e(97857),P=e.n(V),Q=e(99289),L=e.n(Q),H=e(86745);function x(E){return Y.apply(this,arguments)}function Y(){return Y=L()(m()().mark(function E(D){return m()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,H.request)("/api/v1/upload/query/org",{method:"GET",params:P()({},D)}));case 1:case"end":return c.stop()}},E)})),Y.apply(this,arguments)}function w(E){return I.apply(this,arguments)}function I(){return I=L()(m()().mark(function E(D){return m()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,H.request)("/api/v1/upload/process",{method:"POST",data:P()({},D)}));case 1:case"end":return c.stop()}},E)})),I.apply(this,arguments)}function T(E){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function E(D){return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",request("/api/v1/upload/update",{method:"POST",data:_objectSpread({},D)}));case 1:case"end":return c.stop()}},E)})),W.apply(this,arguments)}function B(E){return _.apply(this,arguments)}function _(){return _=L()(m()().mark(function E(D){return m()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,H.request)("/api/v1/upload/delete",{method:"POST",data:P()({},D)}));case 1:case"end":return c.stop()}},E)})),_.apply(this,arguments)}function U(E){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function E(D){return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",request("/api/v1/upload/export",{method:"GET",params:_objectSpread({},D)}));case 1:case"end":return c.stop()}},E)})),A.apply(this,arguments)}},91310:function(me,X,e){var l=e(15009),m=e.n(l),V=e(99289),P=e.n(V),Q=e(85265),L=e(75658),H=e(98558),x=e(67294),Y=e(38302),w=e(73803),I=e(9361),T=e(39825),W=e(85615),B=e(85893),_=function(A){var E=A.type,D=A.open,C=A.onClose,c=(0,T.Z)(),k=c.isDarkMode,F=(0,w.Z)(),O=F.translateString,p=(0,x.useRef)(),M=(0,Y.j)(function(o){return o.currentKbase});(0,x.useEffect)(function(){var o;(o=p.current)===null||o===void 0||o.clearMessage()},[M]);var a=function(){var o=P()(m()().mark(function v(y){var Z,g,z;return m()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return console.log("handleChat"),Z=y[y.length-1],K.next=4,fetch("http://127.0.0.1:1001/visitor/api/v1/ai/ollama/chat?query=".concat(Z==null?void 0:Z.content,"&kbUid=").concat(M==null?void 0:M.uid),{method:"GET"});case 4:return g=K.sent,K.next=7,g.json();case 7:return z=K.sent,console.log("sendAiMessageStream response:",z),K.abrupt("return",new Response(z==null?void 0:z.data));case 10:case"end":return K.stop()}},v)}));return function(y){return o.apply(this,arguments)}}(),d=function(){var o=P()(m()().mark(function v(y){return m()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:console.log("handleChatKeyword");case 1:case"end":return g.stop()}},v)}));return function(y){return o.apply(this,arguments)}}(),f=function(){var o=P()(m()().mark(function v(y){var Z,g,z,oe,K,b;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("handleChatStream"),Z=y[y.length-1],n.next=4,fetch("http://127.0.0.1:1001/visitor/api/v1/ai/ollama/chat/stream",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({query:Z==null?void 0:Z.content,kbUid:M==null?void 0:M.uid,stream:!0})});case 4:if(g=n.sent,!(!g.ok||!g.body)){n.next=7;break}throw new Error("HTTP error! status: ".concat(g.status));case 7:return z=g.body.getReader(),oe=new TextDecoder("utf-8"),K=new TextEncoder,b=new ReadableStream({start:function(r){return P()(m()().mark(function s(){var i;return m()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:i=function(){z.read().then(function($){var ee=$.done,se=$.value;if(ee){r.close();return}var le=oe.decode(se,{stream:!0}),ie=le.replaceAll("data:","").replaceAll(`
`,"");r.enqueue(K.encode(ie)),i()}).catch(function($){console.error("\u8BFB\u53D6\u6D41\u4E2D\u7684\u6570\u636E\u65F6\u53D1\u751F\u9519\u8BEF",$),r.error($)})},i();case 2:case"end":return R.stop()}},s)}))()}}),n.abrupt("return",new Response(b));case 12:case"end":return n.stop()}},v)}));return function(y){return o.apply(this,arguments)}}();return(0,B.jsx)("div",{children:(0,B.jsx)(Q.Z,{title:O(M==null?void 0:M.name),onClose:function(){C&&C()},open:D,styles:{body:{padding:0}},children:(0,B.jsx)(H.f6,{appearance:k?"dark":"light",theme:{algorithm:k?I.Z.darkAlgorithm:I.Z.defaultAlgorithm},children:(0,B.jsx)(L.j,{chatRef:p,helloMessage:"\u8BF7\u8F93\u5165\u4F60\u60F3\u95EE\u7684\u95EE\u9898",request:function(){var o=P()(m()().mark(function v(y){return m()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(console.log("messages:",y),!(y.length>0)){g.next=8;break}if(E!==W.QP){g.next=6;break}return g.abrupt("return",f(y));case 6:if(E!==W.jN){g.next=8;break}return g.abrupt("return",d(y));case 8:case"end":return g.stop()}},v)}));return function(v){return o.apply(this,arguments)}}()})})})})};X.Z=_},68256:function(me,X,e){var l=e(97857),m=e.n(l),V=e(5574),P=e.n(V),Q=e(85576),L=e(67294),H=e(64082),x=e(78367),Y=e(27484),w=e.n(Y),I=e(85615),T=e(80049),W=e(38302),B=e(89102),_=e(85893),U=x.Z.Dragger,A=function(D){var C=D.type,c=D.isModalOpen,k=D.handleOk,F=D.handleCancel,O=(0,W.j)(function(n){return n.currentKbase}),p=(0,B.v)(function(n){return n.currentCategory}),M=(0,L.useState)("\u5F53\u524D\u652F\u6301\u4E0A\u4F20pdf/txt/markdown/docx\u7B49"),a=P()(M,2),d=a[0],f=a[1],o=(0,L.useState)({file:null,file_name:"test.pdf",file_type:"application/pdf",is_avatar:"false",kb_type:C,category_uid:(p==null?void 0:p.uid)==="all"?"":p==null?void 0:p.uid,kb_uid:O==null?void 0:O.uid,client:I.bV}),v=P()(o,2),y=v[0],Z=v[1],g=function(t){var r=w()(new Date).format("YYYYMMDDHHmmss")+"_"+t.name,s=new FormData;s.append("file",t),s.append("file_name",r),s.append("file_type",t.type),s.append("is_avatar","false"),s.append("kb_type",C),s.append("category_uid",(p==null?void 0:p.uid)==="all"?"":p==null?void 0:p.uid),s.append("kb_uid",O==null?void 0:O.uid),s.append("client",I.bV),fetch("/api/v1/upload/file",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem(I.LA)},body:s}).then(function(i){return i.json()}).then(function(i){console.log("upload data:",i),i.code===200?(T.yw.destroy(),T.yw.success("".concat(r," \u4E0A\u4F20\u6210\u529F")),k()):(T.yw.destroy(),T.yw.error("".concat(r," \u4E0A\u4F20\u5931\u8D25")),F())})},z={name:"file",accept:"application/pdf, text/plain, text/html, text/markdown, application/json, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.wordprocessingml.document",action:"/api/v1/upload/file",headers:{Authorization:"Bearer "+localStorage.getItem(I.LA)},data:y,showUploadList:!1,beforeUpload:function(t){console.log("beforeUpload",t);var r=w()(new Date).format("YYMMDDHHmmss")+"_"+t.name;y.file=t,y.file_name=r,y.file_type=t.type,y.kb_type=C,y.category_uid=(p==null?void 0:p.uid)==="all"?"":p==null?void 0:p.uid,y.kb_uid=O==null?void 0:O.uid,console.log("beforeUpload",y)},onChange:function(t){t.file.status==="uploading"&&T.yw.loading("".concat(t.file.name," \u4E0A\u4F20\u4E2D")),t.file.status==="done"?(console.log("response: ",t.file.response),t.file.response.code===200?(T.yw.destroy(),T.yw.success("".concat(t.file.name," \u4E0A\u4F20\u6210\u529F")),k()):(T.yw.destroy(),T.yw.error("".concat(t.file.name," \u4E0A\u4F20\u5931\u8D25")),F())):t.file.status==="error"&&(T.yw.error("".concat(t.file.name," \u4E0A\u4F20\u5931\u8D25")),F())},onDrop:function(t){console.log("Dropped files",t.dataTransfer.files),g(t.dataTransfer.files[0])}},oe=(0,L.useState)(z),K=P()(oe,2),b=K[0],h=K[1];return(0,L.useEffect)(function(){C!=I.QP&&(z.accept="application/vnd.ms-excel",h(z),f("\u5F53\u524D\u652F\u6301\u4E0A\u4F20excel\u6587\u4EF6")),Z(m()(m()({},y),{},{kb_type:C,category_uid:(p==null?void 0:p.uid)==="all"?"":p==null?void 0:p.uid,kb_uid:O==null?void 0:O.uid}))},[C,p,O]),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(Q.Z,{title:"\u4E0A\u4F20\u6587\u4EF6",open:c,onOk:k,onCancel:F,children:(0,_.jsxs)(U,m()(m()({},b),{},{children:[(0,_.jsx)("p",{className:"ant-upload-drag-icon",children:(0,_.jsx)(H.Z,{})}),(0,_.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u62D6\u62FD\u6587\u4EF6\u81F3\u6B64\u5904\u5B9E\u73B0\u4E0A\u4F20"}),(0,_.jsx)("p",{className:"ant-upload-hint",children:d})]}))})})};X.Z=A},80484:function(me,X,e){e.r(X),e.d(X,{default:function(){return oe}});var l=e(77154),m=e(21612),V=e(97857),P=e.n(V),Q=e(13769),L=e.n(Q),H=e(15009),x=e.n(H),Y=e(99289),w=e.n(Y),I=e(5574),T=e.n(I),W=e(80049),B=e(91977),_=e(91310),U=e(68256),A=e(89102),E=e(38302),D=e(87676),C=e(85615),c=e(51042),k=e(57482),F=e(86745),O=e(86738),p=e(14726),M=e(67294),a=e(85893),d=["current"],f=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,a.jsx)(F.FormattedMessage,{id:"fileName",defaultMessage:"fileName"}),dataIndex:"fileName",width:350},{title:(0,a.jsx)(F.FormattedMessage,{id:"fileType",defaultMessage:"fileType"}),dataIndex:"fileType",hideInSearch:!0},{title:(0,a.jsx)(F.FormattedMessage,{id:"status",defaultMessage:"Status"}),dataIndex:"status",hideInSearch:!0},{title:(0,a.jsx)(F.FormattedMessage,{id:"updatedAt",defaultMessage:"updatedAt"}),key:"updatedAt",dataIndex:"updatedAt",width:200,hideInSearch:!0}],o=function(){var b=(0,F.useIntl)(),h=(0,M.useRef)(),n=(0,D.u)(function(j){return j.currentOrg}),t=(0,E.j)(function(j){return j.currentKbase}),r=(0,A.v)(function(j){return j.currentCategory}),s=(0,M.useState)(!1),i=T()(s,2),N=i[0],R=i[1],q=(0,M.useState)(!1),$=T()(q,2),ee=$[0],se=$[1],le=function(){var j=w()(x()().mark(function ne(S){var ae;return x()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return console.log("process",S),G.next=3,(0,B.yL)(S);case 3:ae=G.sent,console.log("process response",ae),ae.code===200?(h==null||h.current.reload(),W.yw.success(b.formatMessage({id:"process.success",defaultMessage:"Process Success"}))):W.yw.error(b.formatMessage({id:"process.fail",defaultMessage:"Process Error"}));case 6:case"end":return G.stop()}},ne)}));return function(S){return j.apply(this,arguments)}}(),ie=function(){var j=w()(x()().mark(function ne(S){var ae;return x()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return console.log(S),G.next=3,(0,B.HZ)(S);case 3:ae=G.sent,console.log("delete response:",ae),ae.code===200?(h==null||h.current.reload(),W.yw.success(b.formatMessage({id:"delete.success",defaultMessage:"Delete Success"}))):W.yw.error(b.formatMessage({id:"delete.error",defaultMessage:"Delete Error"}));case 6:case"end":return G.stop()}},ne)}));return function(S){return j.apply(this,arguments)}}(),ce=[].concat(f,[{title:b.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",width:150,render:function(ne,S,ae,ve){return[(0,a.jsx)("a",{onClick:function(){var ge=S==null?void 0:S.fileUrl,he=encodeURIComponent(ge);window.open(decodeURIComponent(he))},children:b.formatMessage({id:"open",defaultMessage:"Open"})},"editable"),(0,a.jsx)("a",{onClick:function(){le(S)},children:"\u5904\u7406"},"status"),(0,a.jsx)(O.Z,{title:b.formatMessage({id:"deleteTip",defaultMessage:"Delete Tip"}),description:"".concat(b.formatMessage({id:"deleteAfirm",defaultMessage:"Delete"}),"\u3010").concat(S==null?void 0:S.fileName,"\u3011\uFF1F"),onConfirm:function(){return ie(S)},okText:b.formatMessage({id:"ok"}),cancelText:b.formatMessage({id:"cancel"}),children:(0,a.jsx)(p.ZP,{size:"small",type:"link",danger:!0,children:b.formatMessage({id:"delete",defaultMessage:"Delete"})})},"delete")]}}]);(0,M.useEffect)(function(){var j;h==null||(j=h.current)===null||j===void 0||j.reload()},[t,r]);var J=function(){console.log("handleUploadDragSubmit"),R(!1),h==null||h.current.reload()},fe=function(){console.log("handleUploadDragCancel"),R(!1),h==null||h.current.reload()},ue=(0,M.useMemo)(function(){return(t==null?void 0:t.type)===C.QP?(t==null?void 0:t.uid)==="":!0},[t]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Z,{columns:ce,actionRef:h,cardBordered:!0,request:function(){var j=w()(x()().mark(function ne(S,ae,ve){var G,ge,he,u;return x()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return console.log("request:",S,ae,ve),G=S.current,ge=L()(S,d),he=P()({pageNumber:S.current-1,categoryUid:(r==null?void 0:r.uid)==="all"?"":r==null?void 0:r.uid,kbUid:t==null?void 0:t.uid,orgUid:n==null?void 0:n.uid},ge),pe.next=5,(0,B.RR)(he);case 5:return u=pe.sent,console.log("getAllUploads response:",u),u.code===200||W.yw.error(u.message),pe.abrupt("return",{data:u.data.content,success:!0,total:u.data.totalElements});case 9:case"end":return pe.stop()}},ne)}));return function(ne,S,ae){return j.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(ne){console.log("page:",ne)}},dateFormatter:"string",headerTitle:"\u6587\u6863",toolBarRender:function(){return[(0,a.jsx)(p.ZP,{icon:(0,a.jsx)(c.Z,{}),type:"primary",onClick:function(){return R(!0)},disabled:ue,children:b.formatMessage({id:"upload",defaultMessage:"Upload"})},"button")]}}),(0,a.jsx)(U.Z,{type:C.QP,isModalOpen:N,handleOk:J,handleCancel:fe}),(0,a.jsx)(_.Z,{type:C.QP,open:ee,onClose:function(){return se(!1)}})]})},v=o,y=e(52670),Z=m.Z.Sider,g=m.Z.Content,z=function(){var b=(0,l.Z)(),h=b.leftSiderStyle,n=b.contentStyle;return(0,a.jsx)("div",{children:(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(Z,{style:h,children:(0,a.jsx)(y.Z,{type:C.QP})}),(0,a.jsx)(m.Z,{children:(0,a.jsx)(g,{style:n,children:(0,a.jsx)(v,{})})})]})})},oe=z},40056:function(me,X,e){e.d(X,{Z:function(){return h}});var l=e(67294),m=e(76278),V=e(17012),P=e(84481),Q=e(26702),L=e(1558),H=e(93967),x=e.n(H),Y=e(29372),w=e(64217),I=e(42550),T=e(96159),W=e(53124),B=e(85982),_=e(14747),U=e(27036);const A=(n,t,r,s,i)=>({background:n,border:`${(0,B.bf)(s.lineWidth)} ${s.lineType} ${t}`,[`${i}-icon`]:{color:r}}),E=n=>{const{componentCls:t,motionDurationSlow:r,marginXS:s,marginSM:i,fontSize:N,fontSizeLG:R,lineHeight:q,borderRadiusLG:$,motionEaseInOutCirc:ee,withDescriptionIconSize:se,colorText:le,colorTextHeading:ie,withDescriptionPadding:ce,defaultPadding:J}=n;return{[t]:Object.assign(Object.assign({},(0,_.Wf)(n)),{position:"relative",display:"flex",alignItems:"center",padding:J,wordWrap:"break-word",borderRadius:$,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:N,lineHeight:q},"&-message":{color:ie},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${ee}, opacity ${r} ${ee},
        padding-top ${r} ${ee}, padding-bottom ${r} ${ee},
        margin-bottom ${r} ${ee}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:ce,[`${t}-icon`]:{marginInlineEnd:i,fontSize:se,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:s,color:ie,fontSize:R},[`${t}-description`]:{display:"block",color:le}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},D=n=>{const{componentCls:t,colorSuccess:r,colorSuccessBorder:s,colorSuccessBg:i,colorWarning:N,colorWarningBorder:R,colorWarningBg:q,colorError:$,colorErrorBorder:ee,colorErrorBg:se,colorInfo:le,colorInfoBorder:ie,colorInfoBg:ce}=n;return{[t]:{"&-success":A(i,s,r,n,t),"&-info":A(ce,ie,le,n,t),"&-warning":A(q,R,N,n,t),"&-error":Object.assign(Object.assign({},A(se,ee,$,n,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},C=n=>{const{componentCls:t,iconCls:r,motionDurationMid:s,marginXS:i,fontSizeIcon:N,colorIcon:R,colorIconHover:q}=n;return{[t]:{"&-action":{marginInlineStart:i},[`${t}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:N,lineHeight:(0,B.bf)(N),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:R,transition:`color ${s}`,"&:hover":{color:q}}},"&-close-text":{color:R,transition:`color ${s}`,"&:hover":{color:q}}}}},c=n=>({withDescriptionIconSize:n.fontSizeHeading3,defaultPadding:`${n.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${n.paddingMD}px ${n.paddingContentHorizontalLG}px`});var k=(0,U.I$)("Alert",n=>[E(n),D(n),C(n)],c),F=function(n,t){var r={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(r[s[i]]=n[s[i]]);return r};const O={success:m.Z,info:L.Z,error:V.Z,warning:Q.Z},p=n=>{const{icon:t,prefixCls:r,type:s}=n,i=O[s]||null;return t?(0,T.wm)(t,l.createElement("span",{className:`${r}-icon`},t),()=>({className:x()(`${r}-icon`,{[t.props.className]:t.props.className})})):l.createElement(i,{className:`${r}-icon`})},M=n=>{const{isClosable:t,prefixCls:r,closeIcon:s,handleClose:i,ariaProps:N}=n,R=s===!0||s===void 0?l.createElement(P.Z,null):s;return t?l.createElement("button",Object.assign({type:"button",onClick:i,className:`${r}-close-icon`,tabIndex:0},N),R):null};var d=l.forwardRef((n,t)=>{const{description:r,prefixCls:s,message:i,banner:N,className:R,rootClassName:q,style:$,onMouseEnter:ee,onMouseLeave:se,onClick:le,afterClose:ie,showIcon:ce,closable:J,closeText:fe,closeIcon:ue,action:j,id:ne}=n,S=F(n,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ae,ve]=l.useState(!1),G=l.useRef(null);l.useImperativeHandle(t,()=>({nativeElement:G.current}));const{getPrefixCls:ge,direction:he,alert:u}=l.useContext(W.E_),te=ge("alert",s),[pe,Ce,Pe]=k(te),De=re=>{var de;ve(!0),(de=n.onClose)===null||de===void 0||de.call(n,re)},_e=l.useMemo(()=>n.type!==void 0?n.type:N?"warning":"info",[n.type,N]),Me=l.useMemo(()=>typeof J=="object"&&J.closeIcon||fe?!0:typeof J=="boolean"?J:ue!==!1&&ue!==null&&ue!==void 0?!0:!!(u!=null&&u.closable),[fe,ue,J,u==null?void 0:u.closable]),ye=N&&ce===void 0?!0:ce,Oe=x()(te,`${te}-${_e}`,{[`${te}-with-description`]:!!r,[`${te}-no-icon`]:!ye,[`${te}-banner`]:!!N,[`${te}-rtl`]:he==="rtl"},u==null?void 0:u.className,R,q,Pe,Ce),be=(0,w.Z)(S,{aria:!0,data:!0}),je=l.useMemo(()=>{var re,de;return typeof J=="object"&&J.closeIcon?J.closeIcon:fe||(ue!==void 0?ue:typeof(u==null?void 0:u.closable)=="object"&&(!((re=u==null?void 0:u.closable)===null||re===void 0)&&re.closeIcon)?(de=u==null?void 0:u.closable)===null||de===void 0?void 0:de.closeIcon:u==null?void 0:u.closeIcon)},[ue,J,fe,u==null?void 0:u.closeIcon]),Se=l.useMemo(()=>{const re=J!=null?J:u==null?void 0:u.closable;if(typeof re=="object"){const{closeIcon:de}=re;return F(re,["closeIcon"])}return{}},[J,u==null?void 0:u.closable]);return pe(l.createElement(Y.ZP,{visible:!ae,motionName:`${te}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:re=>({maxHeight:re.offsetHeight}),onLeaveEnd:ie},(re,de)=>{let{className:Ee,style:xe}=re;return l.createElement("div",Object.assign({id:ne,ref:(0,I.sQ)(G,de),"data-show":!ae,className:x()(Oe,Ee),style:Object.assign(Object.assign(Object.assign({},u==null?void 0:u.style),$),xe),onMouseEnter:ee,onMouseLeave:se,onClick:le,role:"alert"},be),ye?l.createElement(p,{description:r,icon:n.icon,prefixCls:te,type:_e}):null,l.createElement("div",{className:`${te}-content`},i?l.createElement("div",{className:`${te}-message`},i):null,r?l.createElement("div",{className:`${te}-description`},r):null),j?l.createElement("div",{className:`${te}-action`},j):null,l.createElement(M,{isClosable:Me,prefixCls:te,closeIcon:je,handleClose:De,ariaProps:Se}))}))}),f=e(15671),o=e(43144),v=e(61120),y=e(78814),Z=e(82963);function g(n,t,r){return t=(0,v.Z)(t),(0,Z.Z)(n,(0,y.Z)()?Reflect.construct(t,r||[],(0,v.Z)(n).constructor):t.apply(n,r))}var z=e(60136),K=function(n){function t(){var r;return(0,f.Z)(this,t),r=g(this,t,arguments),r.state={error:void 0,info:{componentStack:""}},r}return(0,z.Z)(t,n),(0,o.Z)(t,[{key:"componentDidCatch",value:function(s,i){this.setState({error:s,info:i})}},{key:"render",value:function(){const{message:s,description:i,id:N,children:R}=this.props,{error:q,info:$}=this.state,ee=($==null?void 0:$.componentStack)||null,se=typeof s=="undefined"?(q||"").toString():s,le=typeof i=="undefined"?ee:i;return q?l.createElement(d,{id:N,type:"error",message:se,description:l.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},le)}):R}}])}(l.Component);const b=d;b.ErrorBoundary=K;var h=b},86250:function(me,X,e){e.d(X,{Z:function(){return M}});var l=e(67294),m=e(93967),V=e.n(m),P=e(98423),Q=e(98065),L=e(53124),H=e(27036),x=e(45503);const Y=["wrap","nowrap","wrap-reverse"],w=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],I=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],T=(a,d)=>{const f=d.wrap===!0?"wrap":d.wrap;return{[`${a}-wrap-${f}`]:f&&Y.includes(f)}},W=(a,d)=>{const f={};return I.forEach(o=>{f[`${a}-align-${o}`]=d.align===o}),f[`${a}-align-stretch`]=!d.align&&!!d.vertical,f},B=(a,d)=>{const f={};return w.forEach(o=>{f[`${a}-justify-${o}`]=d.justify===o}),f};function _(a,d){return V()(Object.assign(Object.assign(Object.assign({},T(a,d)),W(a,d)),B(a,d)))}var U=_;const A=a=>{const{componentCls:d}=a;return{[d]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},E=a=>{const{componentCls:d}=a;return{[d]:{"&-gap-small":{gap:a.flexGapSM},"&-gap-middle":{gap:a.flexGap},"&-gap-large":{gap:a.flexGapLG}}}},D=a=>{const{componentCls:d}=a,f={};return Y.forEach(o=>{f[`${d}-wrap-${o}`]={flexWrap:o}}),f},C=a=>{const{componentCls:d}=a,f={};return I.forEach(o=>{f[`${d}-align-${o}`]={alignItems:o}}),f},c=a=>{const{componentCls:d}=a,f={};return w.forEach(o=>{f[`${d}-justify-${o}`]={justifyContent:o}}),f},k=()=>({});var F=(0,H.I$)("Flex",a=>{const{paddingXS:d,padding:f,paddingLG:o}=a,v=(0,x.TS)(a,{flexGapSM:d,flexGap:f,flexGapLG:o});return[A(v),E(v),D(v),C(v),c(v)]},k,{resetStyle:!1}),O=function(a,d){var f={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&d.indexOf(o)<0&&(f[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,o=Object.getOwnPropertySymbols(a);v<o.length;v++)d.indexOf(o[v])<0&&Object.prototype.propertyIsEnumerable.call(a,o[v])&&(f[o[v]]=a[o[v]]);return f},M=l.forwardRef((a,d)=>{const{prefixCls:f,rootClassName:o,className:v,style:y,flex:Z,gap:g,children:z,vertical:oe=!1,component:K="div"}=a,b=O(a,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:h,direction:n,getPrefixCls:t}=l.useContext(L.E_),r=t("flex",f),[s,i,N]=F(r),R=oe!=null?oe:h==null?void 0:h.vertical,q=V()(v,o,h==null?void 0:h.className,r,i,N,U(r,a),{[`${r}-rtl`]:n==="rtl",[`${r}-gap-${g}`]:(0,Q.n)(g),[`${r}-vertical`]:R}),$=Object.assign(Object.assign({},h==null?void 0:h.style),y);return Z&&($.flex=Z),g&&!(0,Q.n)(g)&&($.gap=g),s(l.createElement(K,Object.assign({ref:d,className:q,style:$},(0,P.Z)(b,["justify","wrap","align"])),z))})}}]);
