"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[3404],{69375:function(e,t,n){n.d(t,{$l:function(){return y},gf:function(){return v},lg:function(){return p},p0:function(){return d}});var r=n(90228),o=n.n(r),a=n(26068),s=n.n(a),u=n(87999),i=n.n(u),c=n(96677),l=n(18735);function d(e){return f.apply(this,arguments)}function f(){return(f=i()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/robot/query/org",{method:"GET",params:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return(g=i()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/robot/create",{method:"POST",data:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return m.apply(this,arguments)}function m(){return(m=i()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/robot/update",{method:"POST",data:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=i()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/robot/delete",{method:"POST",data:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},47859:function(e,t,n){var r=n(90228),o=n.n(r),a=n(87999),s=n.n(a),u=n(48305),i=n.n(u),c=n(75271),l=n(41258),d=n(8038),f=n(58439),p=n(62601),g=n(93454),y=n(26092),m=n(83782),v=n(59153),h=n(29244),x=n(51038),w=n(18735),k=n(71417),C=n(85946),b=n(21363),M=n(52676);t.Z=function(e){var t,n=e.level,r=e.type,a=(0,g.Z)().isDarkMode,u=(0,w.useIntl)(),Z=(0,c.useState)(!0),j=i()(Z,2),S=j[0],P=j[1],R=(0,h.u)((function(e){return e.currentOrg})),q=(0,x.Z)(),I=q.translateString,T=(q.translateStringTranct,(0,c.useState)(!1)),z=i()(T,2),O=z[0],D=z[1],E=l.Z.useModal(),L=i()(E,2),V=L[0],B=L[1],U=(0,y.v)((function(e){return{categoryResult:e.categoryResult,currentCategory:e.currentCategory,setCategoryResult:e.setCategoryResult,setCurrentCategory:e.setCurrentCategory}})),F=U.categoryResult,N=U.currentCategory,A=U.setCategoryResult,G=U.setCurrentCategory,Q=function(){var e=s()(o()().mark((function e(){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleEditCategory: ",N),P(!0),D(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=s()(o()().mark((function e(t){var n,r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleDeleteCategory: ",t),n={uid:null==t?void 0:t.uid,orgUid:null==R?void 0:R.uid},e.next=4,(0,m.uu)(n);case 4:r=e.sent,console.log("deleteCategory: ",r),200===r.code?(v.yw.success(r.message),$()):v.yw.error(r.message);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=s()(o()().mark((function e(){var t,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("requestCategories",n,r),t={pageNumber:0,pageSize:100,orgUid:null==R?void 0:R.uid,level:n,type:r},e.next=4,(0,m.XS)(t);case 4:a=e.sent,console.log("queryCategoriesByOrg: ",a),200===a.code?A(a):v.yw.error(a.message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){$()}),[]);var H=function(){var e=s()(o()().mark((function e(t){var n;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleSubmit: ",t),S?v.yw.loading(u.formatMessage({id:"updating"})):v.yw.loading(u.formatMessage({id:"creating"})),!S){e.next=8;break}return e.next=5,(0,m.yr)(t);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,m.k4)(t);case 10:e.t0=e.sent;case 11:n=e.t0,console.log("createCategory response: ",n),200===n.code?(v.yw.destroy(),S?v.yw.success(u.formatMessage({id:"update.success"})):v.yw.success(u.formatMessage({id:"create.success"})),D(!1),$()):(v.yw.destroy(),v.yw.error(n.message));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(d.Z,{gap:"small",wrap:"wrap",style:{marginBottom:5},children:[(0,M.jsx)(f.ZP,{type:"primary",size:"small",icon:(0,M.jsx)(C.Z,{}),onClick:function(){P(!1),D(!0)},children:u.formatMessage({id:"create"})}),""!==(null==N?void 0:N.uid)&&"all"!==(null==N?void 0:N.uid)&&(0,M.jsx)(f.ZP,{size:"small",onClick:Q,children:u.formatMessage({id:"edit"})}),""!==(null==N?void 0:N.uid)&&"all"!==(null==N?void 0:N.uid)&&(0,M.jsx)(f.ZP,{onClick:function(){return e=N,void V.confirm({title:u.formatMessage({id:"deleteTip"}),icon:(0,M.jsx)(k.Z,{}),content:"".concat(u.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(I(e.name),"】？"),onOk:function(){X(e)},onCancel:function(){},okText:u.formatMessage({id:"ok"}),cancelText:u.formatMessage({id:"cancel"})});var e},size:"small",style:{float:"right"},danger:!0,children:u.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})})]}),(0,M.jsx)(p.Z,{itemLayout:"horizontal",dataSource:null==F||null===(t=F.data)||void 0===t?void 0:t.content,renderItem:function(e,t){return(0,M.jsx)(p.Z.Item,{style:(null==N?void 0:N.uid)===e.uid?{backgroundColor:a?"#333333":"#dddddd",cursor:"pointer"}:{cursor:"pointer"},onClick:function(){return t=e,console.log("list on click",t),void G(t);var t},children:(0,M.jsx)(p.Z.Item.Meta,{style:{marginLeft:"10px"},title:I(e.name)})})}}),O&&(0,M.jsx)(b.Z,{open:O,type:r,isEdit:S,onCancel:function(){D(!1)},onSubmit:H}),B]})}},87141:function(e,t,n){var r=n(90228),o=n.n(r),a=n(87999),s=n.n(a),u=n(48305),i=n.n(u),c=n(75271),l=n(62601),d=n(58439),f=n(59153),p=n(69375),g=n(93454),y=n(18735),m=n(96677),v=n(26092),h=n(52676);t.Z=function(e){var t=e.level,n=(e.type,(0,c.useRef)(!1)),r=(0,y.useIntl)(),a=((0,g.Z)().isDarkMode,(0,c.useState)(!0)),u=i()(a,2),x=(u[0],u[1]),w=(0,c.useState)(),k=i()(w,2),C=k[0],b=k[1],M=(0,v.v)((function(e){return e.currentCategory})),Z=function(){var e=s()(o()().mark((function e(){var r,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=3;break}return console.log("isLoading: 1",n.current),e.abrupt("return");case 3:return n.current=!0,f.yw.loading("loading"),r={pageNumber:0,pageSize:100,categoryUid:"all"===(null==M?void 0:M.uid)?"":null==M?void 0:M.uid,type:m.Qeb,level:t},e.next=8,(0,p.p0)(r);case 8:a=e.sent,console.log("getPlatformRobots queryRobotsByOrg: ",a),200===a.code?(f.yw.destroy(),b(a)):(f.yw.destroy(),f.yw.error(a.message)),n.current=!1;case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){Z()}),[M]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.Z,{itemLayout:"horizontal",dataSource:null==C?void 0:C.data.content,renderItem:function(e,t){var n;return(0,h.jsx)(l.Z.Item,{actions:[(0,h.jsx)(d.ZP,{type:"link",onClick:function(){return t=e,console.log("list on edit",t),void x(!0);var t},children:r.formatMessage({id:"edit",defaultMessage:"Edit"})},"edit"),(0,h.jsx)(d.ZP,{type:"link",onClick:function(){return t=e,void console.log("list on delete",t);var t},children:r.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})},"delete")],children:(0,h.jsx)(l.Z.Item.Meta,{title:null==e?void 0:e.nickname,description:null==e||null===(n=e.llm)||void 0===n?void 0:n.prompt})})}})})}}}]);