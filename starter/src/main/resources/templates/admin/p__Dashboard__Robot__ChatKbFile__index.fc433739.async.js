"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[209],{63076:function(G,d,e){e.r(d),e.d(d,{default:function(){return x}});var c=e(21612),w=e(71230),W=e(15746),z=e(67294),y=e(19632),C=e.n(y),E=e(15009),l=e.n(E),S=e(99289),f=e.n(S),k=e(86745);function b(n){return m.apply(this,arguments)}function m(){return m=f()(l()().mark(function n(u){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/workgroup/query",{method:"GET",params:{page:u.pageNumber,size:u.pageSize,client:"web"}}));case 1:case"end":return t.stop()}},n)})),m.apply(this,arguments)}function T(n){var u=[{startTime:"00:00:00",endTime:"23:59:59"}];return(0,k.request)("/api/v3/create",{method:"POST",data:{nickname:n,workTimes:JSON.stringify(u),client:"web"}})}function Z(n){return(0,k.request)("/api/v3/update",{method:"POST",data:{wid:n.wid,nickname:n.nickname,avatar:n.avatar,description:n.description,client:"web"}})}function j(n){return(0,k.request)("/api/v3/delete",{method:"POST",data:{wid:n,client:"web"}})}var O=e(64529),g=e(782),P=e(1151),R=(0,O.Ue)()((0,g.mW)((0,g.tJ)((0,P.n)(function(n,u){return{defaultWorkGroup:{wid:"",nickname:"",avatar:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/avatars/workgroup_default_avatar.png",description:"\u6280\u80FD\u7EC4\u7B80\u4ECB"},workGroups:[],currentWorkGroup:{wid:"",nickname:"",avatar:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/avatars/workgroup_default_avatar.png",description:"\u6280\u80FD\u7EC4\u7B80\u4ECB"},items:[],fetchWorkGroups:function(){var s=f()(l()().mark(function i(){var a,o;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(u().workGroups.length>0)){r.next=2;break}return r.abrupt("return");case 2:return a={pageNumber:0,pageSize:10},r.next=5,b(a);case 5:o=r.sent,console.log("workGroups",o),n({workGroups:o.data.content,items:o.data.content.map(function(h){return{key:h.wid,label:h.nickname}})}),o.data.content.length>0&&n({currentWorkGroup:o.data.content[0]});case 9:case"end":return r.stop()}},i)}));function t(){return s.apply(this,arguments)}return t}(),createWorkGroup:function(){var s=f()(l()().mark(function i(a){var o;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(a.trim().length>0)){r.next=6;break}return r.next=3,T(a);case 3:o=r.sent,console.log("createWorkGroup: ",o),o.code===200?n({workGroups:[o.data].concat(C()(u().workGroups))}):console.log("createWorkGroup error");case 6:case"end":return r.stop()}},i)}));function t(i){return s.apply(this,arguments)}return t}(),updateWorkGroup:function(){var s=f()(l()().mark(function i(a){var o;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Z(a);case 2:o=r.sent,console.log("updateWorkGroup",o),o.code===200?n({currentWorkGroup:o.data}):console.log("updateWorkGroup error");case 5:case"end":return r.stop()}},i)}));function t(i){return s.apply(this,arguments)}return t}(),deleteWorkGroup:function(){var s=f()(l()().mark(function i(a){var o;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j(a);case 2:o=r.sent,console.log("deleteWorkGroup",a,o),o.code===200?n({workGroups:u().workGroups.filter(function(h){return h.wid!==a}),currentWorkGroup:u().workGroups[0]}):console.log("deleteWorkGroup error");case 5:case"end":return r.stop()}},i)}));function t(i){return s.apply(this,arguments)}return t}(),setCurrentWorkGroup:function(t){var i=u().workGroups.find(function(a){return a.wid===t});n({currentWorkGroup:i})},deleteWorkgroupCache:function(){return n({},!0)}}}),{name:"WORKGROUP_STORE"}))),p=e(85893),N=c.Z.Header,$=c.Z.Footer,D=c.Z.Sider,F=c.Z.Content,A={minHeight:120,backgroundColor:"#EEFAE0"},M={backgroundColor:"#EEFAE0",borderRight:"1px solid #ccc"},U={backgroundColor:"#EEFAE0"},K=function(){var u=R(function(t){return{currentWorkGroup:t.currentWorkGroup}}),s=u.currentWorkGroup;return(0,p.jsx)(c.Z,{children:(0,p.jsx)(c.Z,{children:(0,p.jsx)(F,{style:A,children:(0,p.jsxs)(w.Z,{children:[(0,p.jsx)(W.Z,{span:12,children:(0,p.jsx)("div",{className:"chatkbfile-iframe-file",children:(0,p.jsx)("iframe",{id:"chatfile-iframe",src:"https://www.weikefu.net/ruankao.pdf",title:"demo",width:"100%",height:"100%",style:{border:0},"data-loaded":"true"})})}),(0,p.jsx)(W.Z,{span:12,children:(0,p.jsx)("div",{className:"chatkbfile-iframe",children:(0,p.jsx)("iframe",{id:"chat-iframe",src:"http://localhost:3034/?wid="+s.wid+"&",title:"demo",width:"100%",height:"100%",style:{border:0},"data-loaded":"true"})})})]})})})})},x=K},15746:function(G,d,e){var c=e(21584);d.Z=c.Z},71230:function(G,d,e){var c=e(92820);d.Z=c.Z}}]);
