"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[915],{10793:function(se,v,s){s.r(v);var A=s(15009),m=s.n(A),T=s(97857),L=s.n(T),b=s(99289),M=s.n(b),R=s(5574),U=s.n(R),D=s(98661),F=s(61747),I=s(87547),P=s(94149),y=s(24454),W=s(10915),K=s(68262),f=s(5966),Z=s(16434),j=s(24556),t=s(86745),h=s(9361),k=s(38925),w=s(28459),S=s(31418),O=s(67294),C=s(39825),u=s(80049),z=s(85615),e=s(85893),N=h.Z.defaultAlgorithm,$=h.Z.darkAlgorithm,G=function(){var d=(0,j.l)(function(g){var c=g.token;return{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:c.borderRadius,":hover":{backgroundColor:c.colorBgTextHover}}});return(0,e.jsx)("div",{className:d,"data-lang":!0,children:t.SelectLang&&(0,e.jsx)(t.SelectLang,{})})},x=function(d){var g=d.content;return(0,e.jsx)(k.Z,{style:{marginBottom:24},message:g,type:"error",showIcon:!0})},H=function(){var d=h.Z.useToken(),g=d.token,c=(0,C.Z)(),Y=c.isDarkMode,J=(0,O.useState)(!1),B=U()(J,2),Q=B[0],X=B[1],q=(0,t.getLocale)();console.log("register page locale:",q);var o=(0,t.useIntl)(),ae=(0,j.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('/admin/assets/images/bg-wide.png')",backgroundSize:"100% 100%"}});(0,O.useEffect)(function(){var i=window.location.href;(i.indexOf("localhost")!==-1||i.indexOf("127.0.0.1")!==-1||i.indexOf("weiyu")!==-1||i.indexOf("kefux")!==-1||i.indexOf("bytedesk")!==-1)&&X(!0)},[]);var ee=function(){var i=M()(m()().mark(function _(r){var n,l;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log("values:",r),a.next=4,(0,D.z2)(L()({},r));case 4:if(n=a.sent,console.log("registerResult:",n),n.code!==200){a.next=11;break}return u.yw.success(n.message),a.abrupt("return");case 11:u.yw.error(n.message);case 12:console.log(n),a.next=20;break;case 15:a.prev=15,a.t0=a.catch(0),l=o.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),console.log(a.t0),u.yw.error(l);case 20:case"end":return a.stop()}},_,null,[[0,15]])}));return function(r){return i.apply(this,arguments)}}();return(0,e.jsxs)(W._Y,{hashed:!1,dark:Y,children:[(0,e.jsx)(G,{}),(0,e.jsx)("div",{style:{backgroundColor:g.colorBgContainer,textAlign:"center",height:"100vh",backgroundImage:"url('/admin/assets/images/bg-wide.png')"},children:Q?(0,e.jsxs)(K.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,e.jsx)("img",{alt:"logo",src:"/admin/icons/logo.png"}),title:(0,e.jsx)(t.FormattedMessage,{id:"app.title"}),subTitle:o.formatMessage({id:"pages.login.registerAccount"}),initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:o.formatMessage({id:"pages.login.register"})}},onFinish:function(){var i=M()(m()().mark(function _(r){var n;return m()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return console.log("login values:",r),n={email:r.username,password:r.password,mobile:r.mobile,code:r.code},console.log("register info:",n),p.next=5,ee(n);case 5:case"end":return p.stop()}},_)}));return function(_){return i.apply(this,arguments)}}(),children:[status==="error"&&(0,e.jsx)(x,{content:o.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF"})}),(0,e.jsx)(f.Z,{name:"username",fieldProps:{size:"large",prefix:(0,e.jsx)(I.Z,{})},placeholder:o.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u90AE\u7BB1"}),rules:[{required:!0,message:(0,e.jsx)(t.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u90AE\u7BB1!"})}]}),(0,e.jsx)(f.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,e.jsx)(P.Z,{})},placeholder:o.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,e.jsx)(t.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),(0,e.jsx)(f.Z,{fieldProps:{size:"large",prefix:(0,e.jsx)(y.Z,{})},name:"mobile",placeholder:o.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:(0,e.jsx)(t.FormattedMessage,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:(0,e.jsx)(t.FormattedMessage,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),(0,e.jsx)(Z.Z,{fieldProps:{size:"large",prefix:(0,e.jsx)(P.Z,{})},captchaProps:{size:"large"},placeholder:o.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(_,r){return _?"".concat(r," ").concat(o.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):o.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},phoneName:"mobile",name:"code",rules:[{required:!0,message:(0,e.jsx)(t.FormattedMessage,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var i=M()(m()().mark(function _(r){var n,l;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r&&r.length===11)){a.next=11;break}return n={mobile:r,type:z.o$},a.next=4,(0,D.Y7)(n);case 4:if(l=a.sent,l.code===200){a.next=8;break}return u.yw.error(l.message),a.abrupt("return");case 8:u.yw.success(l.message),a.next=12;break;case 11:u.yw.error("\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF");case 12:case"end":return a.stop()}},_)}));return function(_){return i.apply(this,arguments)}}()}),status==="error"&&(0,e.jsx)(x,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),(0,e.jsx)("div",{style:{marginBottom:64},children:(0,e.jsx)("div",{style:{float:"right"},children:(0,e.jsx)(t.Link,{to:"/auth/login",children:(0,e.jsx)(t.FormattedMessage,{id:"pages.login.submit",defaultMessage:"\u767B\u5F55 "})})})})]}):(0,e.jsx)("div",{style:{textAlign:"center",margin:"0 auto"},children:"\u4E0D\u5F00\u653E\u6CE8\u518C"})}),(0,e.jsx)(F.$_,{})]})},V=function(){var d=(0,C.Z)(),g=d.isDarkMode;return(0,e.jsx)(w.ZP,{theme:{algorithm:g?$:N},children:(0,e.jsxs)(S.Z,{children:[(0,e.jsx)(u.ZP,{}),(0,e.jsx)(H,{})]})})};v.default=V}}]);
