"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8505],{72614:function(n,e,r){r.d(e,{W5:function(){return m},n1:function(){return g},p0:function(){return f},u7:function(){return p},zl:function(){return w}});var t=r(90819),u=r.n(t),a=r(73193),o=r.n(a),i=r(89933),c=r.n(i),s=r(55735),l=r(30921);function p(n){return d.apply(this,arguments)}function d(){return(d=c()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/workgroup/query/org",{method:"GET",params:o()(o()({},e),{},{client:s.bVn})}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return h.apply(this,arguments)}function h(){return(h=c()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/workgroup/create",{method:"POST",data:o()(o()({},e),{},{client:s.bVn})}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return v.apply(this,arguments)}function v(){return(v=c()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/workgroup/update",{method:"POST",data:o()(o()({},e),{},{client:s.bVn})}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return x.apply(this,arguments)}function x(){return(x=c()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/workgroup/update/avatar",{method:"POST",data:o()(o()({},e),{},{client:s.bVn})}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(n){return j.apply(this,arguments)}function j(){return(j=c()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/workgroup/delete",{method:"POST",data:o()(o()({},e),{},{client:s.bVn})}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},40803:function(n,e,r){r.d(e,{_Z:function(){return p},aq:function(){return g},sS:function(){return f},ul:function(){return m}});var t=r(90819),u=r.n(t),a=r(73193),o=r.n(a),i=r(89933),c=r.n(i),s=r(55735),l=r(30921);function p(n){return d.apply(this,arguments)}function d(){return(d=c()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/wechat/mp/create",{method:"POST",data:o()(o()({},e),{},{client:s.bVn})}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return h.apply(this,arguments)}function h(){return(h=c()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/wechat/mp/update",{method:"POST",data:o()(o()({},e),{},{client:s.bVn})}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return v.apply(this,arguments)}function v(){return(v=c()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/wechat/mp/delete",{method:"POST",data:o()(o()({},e),{},{client:s.bVn})}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return x.apply(this,arguments)}function x(){return(x=c()(u()().mark((function n(e){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("/api/v1/wechat/mp/query/org",{method:"GET",params:o()(o()({},e),{},{client:s.bVn})}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},15025:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},6897:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},76432:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},29897:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},51103:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},75262:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},44574:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},10354:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},62476:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},21325:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},36378:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},13161:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},63289:function(n,e,r){var t=r(90819),u=r.n(t),a=r(89933),o=r.n(a),i=r(73193),c=r.n(i),s=r(45332),l=r.n(s),p=r(86803),d=r(72614),f=r(76750),h=r(40612),m=r(95490),v=r(69169),g=r(4499),x=r(84881),w=r(73442),j=r(3849),Z=r(75365),b=r(44194),y=r(31549);e.Z=function(n){var e,r=n.isEdit,t=n.wechatmp,a=n.open,i=n.onClose,s=n.onSubmit,k=v.A.useForm(),F=l()(k,1)[0],S=(0,f.Z)().translateStringTranct,q=(0,h.u)((function(n){return n.currentOrg})),A=(0,m.$)((function(n){return{workgroupResult:n.workgroupResult,setWorkgroupResult:n.setWorkgroupResult}})),T=A.workgroupResult,P=A.setWorkgroupResult;(0,b.useEffect)((function(){r?F.setFieldsValue({name:null==t?void 0:t.name,appId:null==t?void 0:t.appId,appSecret:null==t?void 0:t.appSecret,encodingAesKey:null==t?void 0:t.encodingAesKey,encryptMode:null==t?void 0:t.encryptMode,workgroupUid:null==t?void 0:t.workgroupUid}):F.setFieldsValue({name:"",appId:"",appSecret:"",encodingAesKey:"",encryptMode:"PLAINTEXT",workgroupUid:""})}),[r,t,F]);var V=function(){var n=o()(u()().mark((function n(){var e,r;return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p.yw.loading("loading"),e={pageNumber:0,pageSize:50,orgUid:null==q?void 0:q.uid},n.next=4,(0,d.u7)(e);case 4:r=n.sent,console.log("getWorkgroups",r),200===r.code?(p.yw.destroy(),P(r)):(p.yw.destroy(),p.yw.error(r.message));case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,b.useEffect)((function(){V()}),[]);return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(w.Z,{title:"微信公众号",onClose:i,open:a,children:(0,y.jsxs)(v.A,{form:F,name:"wechatMpForm",onFinish:function(){console.log("handleSubmit"),F.validateFields().then((function(n){var e=c()(c()({},n),{},{orgUid:null==q?void 0:q.uid});console.log("submit",e),s(e)}))},children:[(0,y.jsx)(g.Z,{label:"名称",name:"name",rules:[{required:!0}]}),(0,y.jsx)(g.Z,{label:"appId",name:"appId",rules:[{required:!0}]}),(0,y.jsx)(g.Z,{label:"appSecret",name:"appSecret",rules:[{required:!0}]}),(0,y.jsx)(g.Z,{label:"EncodingAESKey",name:"encodingAesKey",rules:[{required:!0}]}),(0,y.jsxs)(j.Z,{children:[(0,y.jsx)(Z.ZP,{onClick:function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",r=0;r<43;r++){var t=Math.floor(Math.random()*n.length);e+=n.charAt(t)}F.setFieldsValue({encodingAesKey:e})},children:"随机生成"}),(0,y.jsx)(Z.ZP,{onClick:function(){var n=F.getFieldValue("encodingAesKey");if(n){var e=document.createElement("textarea");e.value=n,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),p.yw.success("已复制到剪切板")}},children:"复制"})]}),(0,y.jsx)(x.Z,{label:"消息加解密方式",name:"encryptMode",options:[{label:"明文模式",value:"PLAINTEXT"},{label:"兼容模式",value:"COMPATIBLE"},{label:"安全模式",value:"SAFE"}],fieldProps:{defaultValue:"PLAINTEXT",allowClear:!0},rules:[{required:!0}]}),(0,y.jsx)(x.Z,{label:"客服技能组",name:"workgroupUid",options:null==T||null===(e=T.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(n){return{label:S(n.nickname),value:n.uid}})),fieldProps:{allowClear:!0},rules:[{required:!0}]}),(0,y.jsx)("p",{children:"注：微信公众号-》设置与开发-》开发接口管理-》基本设置 获取相关信息"})]})})})}},53300:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},79176:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},11452:function(n,e,r){var t=r(79686),u=r(31549);e.Z=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(t.Z,{})})}},79686:function(n,e,r){var t=r(55735),u=r(30921),a=r(31549);e.Z=function(){var n=(0,u.useAccess)();return n.canDebug&&console.log("Developing canDebug"),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.Access,{accessible:n.canDebug(),fallback:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.FormattedMessage,{id:t.h5w})}),children:"can debug"})})}}}]);