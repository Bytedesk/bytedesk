"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[4325],{77154:function(T,f,e){var g=e(39825);function s(){var c=(0,g.Z)(),t=c.isDarkMode,y=250,a={borderRight:t?"1px solid #333":"1px solid #ccc",background:t?"#141414":"#f5f5f5"},M={background:t?"#141414":"#fff"},v={borderLeft:t?"1px solid #333":"1px solid #ccc",background:t?"#141414":"#f5f5f5"},h={minHeight:120,background:t?"#141414":"#f5f5f5",height:"100vh"};return{leftSiderStyle:a,leftSiderWidth:y,headerStyle:M,rightSiderStyle:v,contentStyle:h}}f.Z=s},31317:function(T,f,e){e.r(f),e.d(f,{default:function(){return H}});var g=e(15009),s=e.n(g),c=e(99289),t=e.n(c),y=e(97857),a=e.n(y),M=e(77154),v=e(85615),h=e(73445),j=e(782),I=e(18753),U=(0,h.Ue)()((0,j.mW)((0,j.tJ)((0,I.n)(function(l,d){return{roles:[],currentRole:{label:"",key:""},setCurrentRole:function(n){var S=d().roles.find(function(u){return u.key===n});l(function(u){u.currentRole=S})},addRole:function(n){var S=d().roles.find(function(C){return C.key===n.uid});if(!S){var u={label:n.displayName,key:n.uid};l(function(C){C.roles.push(u)})}},deleteRoleCache:function(){return l({},!0)}}}),{name:v.uaR}))),E=e(21612),A=e(50136),L=e(67294),K=e(11941),o=e(85893),z=function(d){console.log(d)},B=[{key:"authority",label:"\u6743\u9650",children:"Content of Tab Pane 1"},{key:"member",label:"\u6210\u5458",children:"Content of Tab Pane 2"}],b=function(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(K.Z,{defaultActiveKey:"1",items:B,onChange:z})})},G=b,x=e(86745);function k(l){return P.apply(this,arguments)}function P(){return P=t()(s()().mark(function l(d){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,x.request)("/api/v1/role/query/org",{method:"GET",params:a()(a()({},d),{},{client:v.bVn})}));case 1:case"end":return n.stop()}},l)})),P.apply(this,arguments)}var J=e(87676),D=e(80049),N=E.Z.Sider,$=E.Z.Content,F=function(){var d=(0,x.useIntl)(),R=(0,M.Z)(),n=R.leftSiderStyle,S=(0,J.u)(function(r){return r.currentOrg}),u=U(function(r){return{roles:r.roles,setCurrentRole:r.setCurrentRole,addRole:r.addRole}}),C=u.roles,V=u.setCurrentRole,Q=u.addRole,X=C.map(function(r){var i=d.formatMessage({id:r.label,defaultMessage:r.label});return a()(a()({},r),{},{label:i})}),Y=function(){var r=t()(s()().mark(function i(){var W,m,p,Z;return s()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return D.yw.loading("\u6B63\u5728\u83B7\u53D6\u89D2\u8272\u5217\u8868..."),W={pageNumber:0,pageSize:20,orgUid:S.uid},O.next=4,k(W);case 4:if(m=O.sent,console.log("queryRoles response ",m),m.code===200)for(D.yw.destroy(),p=0;p<m.data.content.length;p++)Z=m.data.content[p],Q(Z);else D.yw.destroy(),D.yw.error(m.message);case 7:case"end":return O.stop()}},i)}));return function(){return r.apply(this,arguments)}}();(0,L.useEffect)(function(){Y()},[]);var w=function(i){console.log("menu click ",i.key),V(i.key)};return(0,o.jsxs)(E.Z,{children:[(0,o.jsx)(N,{style:n,children:(0,o.jsx)(A.Z,{mode:"inline",onClick:w,items:X})}),(0,o.jsx)(E.Z,{children:(0,o.jsx)($,{children:(0,o.jsx)(G,{})})})]})},H=F},87676:function(T,f,e){e.d(f,{u:function(){return y}});var g=e(85615),s=e(73445),c=e(782),t=e(18753),y=(0,s.Ue)()((0,c.mW)((0,c.tJ)((0,t.n)(function(a,M){return{currentOrg:{uid:"",name:"",description:""},setCurrentOrg:function(h){a({currentOrg:h})},deleteOrg:function(){return a({},!0)}}}),{name:g.eRd})))}}]);
