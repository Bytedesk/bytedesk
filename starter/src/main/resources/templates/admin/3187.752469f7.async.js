"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[3187],{15722:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(11757),o=n(44194),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},l=n(54183),s=function(e,t){return o.createElement(l.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var i=o.forwardRef(s)},82669:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(11757),o=n(44194),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=n(54183),s=function(e,t){return o.createElement(l.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var i=o.forwardRef(s)},4499:function(e,t,n){var r=n(42601),o=n(17082),a=n(73457),l=n(46015),s=n(16309),i=n(98036),u=n(36490),c=n(44194),d=n(87413),f=n(31549),p=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],g="text",h=function(e){var t=(0,l.Z)(e.open||!1,{value:e.open,onChange:e.onOpenChange}),n=(0,r.Z)(t,2),a=n[0],u=n[1];return(0,f.jsx)(s.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(t){var n,r=t.getFieldValue(e.name||[]);return(0,f.jsx)(i.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return u(e)},content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[null===(n=e.statusRender)||void 0===n?void 0:n.call(e,r),e.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:e.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},e.popoverProps),{},{open:a,children:e.children}))}})},v=function(e){var t=e.fieldProps,n=e.proFieldProps,r=(0,a.Z)(e,p);return(0,f.jsx)(d.Z,(0,o.Z)({valueType:g,fieldProps:t,filedConfig:{valueType:g},proFieldProps:n},r))};v.Password=function(e){var t=e.fieldProps,n=e.proFieldProps,l=(0,a.Z)(e,m),s=(0,c.useState)(!1),i=(0,r.Z)(s,2),p=i[0],v=i[1];return null!=t&&t.statusRender&&l.name?(0,f.jsx)(h,{name:l.name,statusRender:null==t?void 0:t.statusRender,popoverProps:null==t?void 0:t.popoverProps,strengthText:null==t?void 0:t.strengthText,open:p,onOpenChange:v,children:(0,f.jsx)("div",{children:(0,f.jsx)(d.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,u.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(e){var n;null==t||null===(n=t.onBlur)||void 0===n||n.call(t,e),v(!1)},onClick:function(e){var n;null==t||null===(n=t.onClick)||void 0===n||n.call(t,e),v(!0)}}),proFieldProps:n,filedConfig:{valueType:g}},l))})}):(0,f.jsx)(d.Z,(0,o.Z)({valueType:"password",fieldProps:t,proFieldProps:n,filedConfig:{valueType:g}},l))},v.displayName="ProFormComponent",t.Z=v},32350:function(e,t,n){var r=n(17082),o=n(73457),a=n(44194),l=n(87413),s=n(31549),i=["fieldProps","proFieldProps"],u=function(e,t){var n=e.fieldProps,a=e.proFieldProps,u=(0,o.Z)(e,i);return(0,s.jsx)(l.Z,(0,r.Z)({ref:t,valueType:"textarea",fieldProps:n,proFieldProps:a},u))};t.Z=a.forwardRef(u)},81924:function(e,t,n){n.d(t,{AM:function(){return d},E9:function(){return p},Rd:function(){return R},fA:function(){return g},ul:function(){return v}});var r=n(90819),o=n.n(r),a=n(73193),l=n.n(a),s=n(89933),i=n.n(s),u=n(55735),c=n(30921);function d(e){return f.apply(this,arguments)}function f(){return(f=i()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/query/super",{method:"GET",params:l()(l()({},t),{},{client:u.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=i()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/query/org",{method:"GET",params:l()(l()({},t),{},{client:u.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=i()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/create",{method:"POST",data:l()(l()({},t),{},{client:u.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=i()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/update",{method:"POST",data:l()(l()({},t),{},{client:u.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return x.apply(this,arguments)}function x(){return(x=i()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/delete",{method:"POST",data:l()(l()({},t),{},{client:u.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},80508:function(e,t,n){n.d(t,{Z:function(){return M}});var r=n(90819),o=n.n(r),a=n(89933),l=n.n(a),s=n(45332),i=n.n(s),u=n(78488),c=n(44194),d=n(81924),f=n(40612),p=n(86803),m=n(30921),g=n(53530),h=n(27487),v=n(75365),y=n(9452),R=n(23864),x=n(76750),w=n(15722),P=n(82669),Z=n(69169),b=n(4499),j=n(32350),C=n(16309),S=n(31549),O=function(e){var t=e.open,n=e.isEdit,r=e.role,a=e.onCancel,s=e.onSubmit,u=C.Z.useForm(),d=i()(u,1)[0],m=(0,f.u)((function(e){return e.currentOrg}));(0,c.useEffect)((function(){n?d.setFieldsValue({uid:null==r?void 0:r.uid,name:null==r?void 0:r.name,description:null==r?void 0:r.description}):d.resetFields()}),[n,r]);return(0,S.jsx)("div",{children:(0,S.jsx)(g.Z,{title:"创建角色",open:t,forceRender:!0,onOk:function(){d.validateFields().then(function(){var e=l()(o()().mark((function e(t){var a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={uid:n?null==r?void 0:r.uid:"",name:t.name,description:t.description,authorityUids:[],orgUid:null==m?void 0:m.uid},console.log("handleSaveRole:",t,a),s(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Failed:",e),p.yw.error("创建角色失败")}))},onCancel:a,children:(0,S.jsxs)(Z.A,{form:d,name:"depForm",style:{maxWidth:400},submitter:{render:function(){return null}},children:[(0,S.jsx)(b.Z,{label:"角色名称",name:"name",rules:[{required:!0,message:"请输入名称!"}],fieldProps:{onPressEnter:function(e){}}}),(0,S.jsx)(j.Z,{label:"角色简介",name:"description",placeholder:"请输入角色简介",rules:[{required:!0,message:"角色简介是必填项"}],fieldProps:{onPressEnter:function(){d.submit()},autoSize:{minRows:2,maxRows:6}}})]})})})},k=n(55735),M=function(e){var t=e.isSuper,n=(0,m.useIntl)(),r=(0,R.Z)().isDarkMode,a=g.Z.useModal(),s=i()(a,2),Z=s[0],b=s[1],j=(0,x.Z)().translateString,C=(0,c.useState)(!1),M=i()(C,2),E=M[0],F=M[1],T=(0,c.useState)(!1),$=i()(T,2),I=$[0],q=$[1],N=(0,f.u)((function(e){return e.currentOrg})),z=(0,c.useState)({uid:""}),G=i()(z,2),A=(G[0],G[1],(0,u.Z)((function(e){return{roleResult:e.roleResult,roleResultPlatform:e.roleResultPlatform,setRoleResult:e.setRoleResult,setRoleResultPlatform:e.setRoleResultPlatform,insertRole:e.insertRole,upgradeRole:e.upgradeRole,currentRole:e.currentRole,currentRolePlatform:e.currentRolePlatform,removeRole:e.removeRole,setCurrentRole:e.setCurrentRole,setCurrentRolePlatform:e.setCurrentRolePlatform}}))),V=A.roleResult,U=A.roleResultPlatform,W=A.setRoleResult,B=A.setRoleResultPlatform,L=A.insertRole,D=A.upgradeRole,_=A.removeRole,H=A.currentRole,X=A.currentRolePlatform,J=A.setCurrentRole,K=A.setCurrentRolePlatform,Q=function(){var e=l()(o()().mark((function e(){var t,n;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.yw.loading("正在获取角色列表..."),t={pageNumber:0,pageSize:100,orgUid:null==N?void 0:N.uid},e.next=4,(0,d.E9)(t);case 4:n=e.sent,console.log("queryRolesByOrg response ",n),200===n.code?(p.yw.destroy(),W(n),console.log("currentRole",H),console.log("roleResult.data.content",n.data.content),""===(null==H?void 0:H.uid)&&n.data.content.length>0&&J(n.data.content[0])):(p.yw.destroy(),p.yw.error(n.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=l()(o()().mark((function e(){var t,n;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.yw.loading("正在获取Super角色列表..."),t={pageNumber:0,pageSize:100,level:k.Hxq},e.next=4,(0,d.AM)(t);case 4:n=e.sent,console.log("queryRolesBySuper response ",n),200===n.code?(p.yw.destroy(),B(n)):(p.yw.destroy(),p.yw.error(n.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){t?Y():Q()}),[]);var ee=function(){var e=l()(o()().mark((function e(t){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("createRole",t),p.yw.loading(n.formatMessage({id:"creating"})),e.next=4,(0,d.fA)(t);case 4:r=e.sent,console.log("createRole:",r),200===r.code?(p.yw.destroy(),p.yw.success(n.formatMessage({id:"create.success",defaultMessage:"create success"})),L(r.data),F(!1),J(r.data)):(p.yw.destroy(),p.yw.error(r.message));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=l()(o()().mark((function e(t){var r,a,l;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={uid:null==t?void 0:t.uid,name:null==t?void 0:t.name,description:null==t?void 0:t.description,authorityUids:(null==t||null===(r=t.authorities)||void 0===r?void 0:r.map((function(e){return e.uid})))||[]},p.yw.loading(n.formatMessage({id:"updating"})),e.next=4,(0,d.ul)(a);case 4:l=e.sent,console.log("updateRole:",a,l),200===l.code?(p.yw.destroy(),p.yw.success(n.formatMessage({id:"update.success",defaultMessage:"update success"})),D(l.data),F(!1)):(p.yw.destroy(),p.yw.error(l.message));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=l()(o()().mark((function e(t){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleteRole",t),p.yw.loading(n.formatMessage({id:"deleting"})),e.next=4,(0,d.Rd)(t);case 4:r=e.sent,console.log("deleteRole:",r),200===r.code?(p.yw.destroy(),p.yw.success(n.formatMessage({id:"delete.success",defaultMessage:"delete success"})),_(t.uid),F(!1),Q()):(p.yw.destroy(),p.yw.error(r.message));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(h.Z,{gap:"small",wrap:"wrap",style:{padding:"10px"},children:[(0,S.jsx)(v.ZP,{type:"primary",size:"small",icon:(0,S.jsx)(P.Z,{}),onClick:function(){console.log("new role"),q(!1),F(!0)},children:n.formatMessage({id:"create",defaultMessage:"Create"})}),(0,S.jsx)(v.ZP,{size:"small",onClick:t?Y:Q,children:n.formatMessage({id:"refresh",defaultMessage:"Refresh"})}),!(null!=H&&H.system)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(v.ZP,{size:"small",onClick:function(){console.log("edit role"),q(!0),F(!0)},disabled:""===(null==H?void 0:H.uid),children:n.formatMessage({id:"edit",defaultMessage:"Edit"})}),(0,S.jsx)(v.ZP,{onClick:function(){return function(e){Z.confirm({title:n.formatMessage({id:"deleteTip"}),icon:(0,S.jsx)(w.Z,{}),content:"".concat(n.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(e.name,"】？"),onOk:function(){ne(e)},onCancel:function(){},okText:n.formatMessage({id:"ok"}),cancelText:n.formatMessage({id:"cancel"})})}(H)},size:"small",style:{float:"right"},danger:!0,disabled:""===(null==H?void 0:H.uid),children:n.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})})]})]}),(0,S.jsx)(y.Z,{dataSource:t?U.data.content:V.data.content,renderItem:function(e,n){return(0,S.jsx)(y.Z.Item,{style:(t?X.uid===e.uid:H.uid===e.uid)?{backgroundColor:r?"#333333":"#dddddd",cursor:"pointer"}:{cursor:"pointer"},onClick:function(){return n=e,void(t?K(n):J(n));var n},children:(0,S.jsx)(y.Z.Item.Meta,{style:{marginLeft:"10px"},title:(0,S.jsx)(S.Fragment,{children:j(e.name)}),description:j(e.description)})},e.uid)}}),E&&(0,S.jsx)(O,{open:E,isSuper:t,isEdit:I,role:H,onCancel:function(){F(!1)},onSubmit:function(e){I?te(e):ee(e)}}),b]})}},15008:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(44194),o=n(8247),a=n(73193),l=n.n(a),s=n(76711),i=n.n(s),u=n(90819),c=n.n(u),d=n(89933),f=n.n(d),p=n(45332),m=n.n(p),g=n(86803),h=n(55735),v=n(30921);function y(e){return R.apply(this,arguments)}function R(){return(R=f()(c()().mark((function e(t){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/authority/query/org",{method:"GET",params:l()(l()({},t),{},{client:h.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=n(76750),w=n(78488),P=n(62673),Z=n(99749),b=n(38775),j=n(81924),C=n(31549),S={width:"20%",textAlign:"center"},O=function(e){var t,n=e.isSuper,o=(0,v.useIntl)(),a=(0,x.Z)().translateString,s=(0,r.useState)({uid:""}),u=m()(s,2),d=u[0],p=u[1],R=(0,w.Z)((function(e){return{upgradeRole:e.upgradeRole,currentRole:e.currentRole,setCurrentRole:e.setCurrentRole,currentRolePlatform:e.currentRolePlatform,setCurrentRolePlatform:e.setCurrentRolePlatform}})),O=R.upgradeRole,k=R.currentRole,M=R.setCurrentRole,E=R.currentRolePlatform,F=R.setCurrentRolePlatform,T=(0,r.useState)([]),$=m()(T,2),I=$[0],q=$[1],N=(0,r.useState)(k.authorities),z=m()(N,2),G=z[0],A=z[1],V=function(){var e=f()(c()().mark((function e(){var t,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pageNumber:0,pageSize:100,level:h.Hxq},e.next=3,y(t);case 3:n=e.sent,console.log("getAuthorities response",n),200===n.code?q(n.data.content):(console.log("getAuthorities error",n),g.yw.error(n.message));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=I.reduce((function(e,t){var n=t.name.split("_"),r=m()(n,1)[0];return e[r]||(e[r]=[]),e[r].push(t),e}),{});(0,r.useEffect)((function(){n?(p(E),A(E.authorities)):(p(k),A(k.authorities))}),[k,E,n]),(0,r.useEffect)((function(){V()}),[]);var W=function(e,t){var r=t?[].concat(i()(G),[e]):G.filter((function(t){return t.name!==e.name}));A(r),n?(F(l()(l()({},E),{},{authorities:r})),B(l()(l()({},E),{},{authorities:r}))):(M(l()(l()({},k),{},{authorities:r})),B(l()(l()({},k),{},{authorities:r})))},B=function(){var e=f()(c()().mark((function e(t){var n,r;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={uid:t.uid,name:t.name,description:t.description,authorityUids:t.authorities.map((function(e){return e.uid}))},console.log("handleUpdateRole authority:",n),g.yw.loading(o.formatMessage({id:"updating"})),e.next=5,(0,j.ul)(n);case 5:r=e.sent,console.log("updateRole:",r),200===r.code?(g.yw.destroy(),g.yw.success(o.formatMessage({id:"update.success",defaultMessage:"update success"})),O(r.data)):(g.yw.destroy(),g.yw.error(r.message));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(P.Z,{title:"已选权限",children:null==d||null===(t=d.authorities)||void 0===t?void 0:t.map((function(e,t){return(0,C.jsx)(P.Z.Grid,{style:S,children:(0,C.jsx)(Z.Z,{checked:null==G?void 0:G.some((function(t){return t.name===e.name})),onChange:function(t){return W(e,t.target.checked)},disabled:(null==d?void 0:d.system)||""===(null==d?void 0:d.uid),children:a(e.name)})},t)}))}),(0,C.jsx)(b.Z,{children:"备选权限"}),Object.keys(U).map((function(e){return(0,C.jsx)(P.Z,{title:a(e),style:{marginTop:10},children:U[e].map((function(e){return(0,C.jsx)(P.Z.Grid,{style:S,children:(0,C.jsx)(Z.Z,{checked:null==G?void 0:G.some((function(t){return t.name===e.name})),onChange:function(t){return W(e,t.target.checked)},disabled:(null==d?void 0:d.system)||""===(null==d?void 0:d.uid),children:a(e.name)})},e.name)}))},e)}))]})},k=function(e){var t=e.isSuper,n=[{key:"authority",label:"权限",children:(0,C.jsx)(O,{isSuper:t})}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(o.Z,{defaultActiveKey:"1",items:n,onChange:function(e){console.log(e)}})})}},96865:function(e,t,n){var r=n(23864);t.Z=function(){var e=(0,r.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"}}}},76750:function(e,t,n){var r=n(55735),o=n(65461),a=n(30921);t.Z=function(){var e=(0,a.useIntl)();return{translateString:function(t){return null==t?t:t&&(null!=t&&t.startsWith(r.VoP)||null!=t&&t.startsWith("ROLE_"))?e.formatMessage({id:t,defaultMessage:t}):t},translateStringTranct:function(t){return null==t?t:null!=t&&t.startsWith(r.VoP)||null!=t&&t.startsWith("ROLE_")?(0,o.aS)(e.formatMessage({id:t,defaultMessage:t}),10):(0,o.aS)(t,10)}}}},78488:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(73193),o=n.n(r),a=n(76711),l=n.n(a),s=n(55735),i=n(44435),u=n(83642),c=n(83890),d=(0,i.Ue)()((0,u.mW)((0,u.tJ)((0,c.n)((function(e,t){return{currentRole:{uid:"",orgUid:"",authorities:[]},currentRolePlatform:{uid:"",orgUid:"",authorities:[]},roleResult:{data:{content:[]}},roleResultPlatform:{data:{content:[]}},insertRole:function(t){e((function(e){e.roleResult.data.content.unshift(t)}))},upgradeRole:function(t){e((function(e){var n=e.roleResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Role with uid ".concat(t.uid," not found."))}))},setRoleResult:function(n){var r;(e({roleResult:n}),""===t().currentRole.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentRole:n.data.content[0]}))},setRoleResultPlatform:function(n){var r;(e({roleResultPlatform:n}),""===t().currentRolePlatform.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentRolePlatform:n.data.content[0]}))},setCurrentRole:function(n){var r=t().roleResult.data.content,a=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==a){var s=[].concat(l()(r.slice(0,a)),[n],l()(r.slice(a+1))),i=o()(o()({},t().roleResult),{},{data:{content:s}});e({roleResult:i,currentRole:n})}else console.warn("Role with the specified uid not found."),e({currentRole:n})},setCurrentRolePlatform:function(n){var r=t().roleResultPlatform.data.content,a=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==a){var s=[].concat(l()(r.slice(0,a)),[n],l()(r.slice(a+1))),i=o()(o()({},t().roleResultPlatform),{},{data:{content:s}});e({roleResultPlatform:i,currentRolePlatform:n})}else console.warn("Role with the specified uid not found."),e({currentRolePlatform:n})},removeRole:function(n){var r=t().roleResult.data.content,a=r.findIndex((function(e){return e.uid===n}));-1!==a?e({roleResult:o()(o()({},t().roleResult),{},{data:{content:[].concat(l()(r.slice(0,a)),l()(r.slice(a+1)))}})}):console.warn("Role not found in cache:",n),t().currentRole.uid===n&&e({currentRole:{uid:"",orgUid:"",authorities:[]}})},deleteRoleCache:function(){return e({},!0)}}})),{name:s.uaR})))},27487:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(44194),o=n(51865),a=n.n(o),l=n(97859),s=n(90899),i=n(37167),u=n(65759),c=n(77167);const d=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],p=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];var m=function(e,t){return a()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${n}`]:n&&d.includes(n)}})(e,t)),((e,t)=>{const n={};return p.forEach((r=>{n[`${e}-align-${r}`]=t.align===r})),n[`${e}-align-stretch`]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return f.forEach((r=>{n[`${e}-justify-${r}`]=t.justify===r})),n})(e,t)))};const g=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},h=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},v=e=>{const{componentCls:t}=e,n={};return d.forEach((e=>{n[`${t}-wrap-${e}`]={flexWrap:e}})),n},y=e=>{const{componentCls:t}=e,n={};return p.forEach((e=>{n[`${t}-align-${e}`]={alignItems:e}})),n},R=e=>{const{componentCls:t}=e,n={};return f.forEach((e=>{n[`${t}-justify-${e}`]={justifyContent:e}})),n};var x=(0,u.I$)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:r}=e,o=(0,c.IX)(e,{flexGapSM:t,flexGap:n,flexGapLG:r});return[g(o),h(o),v(o),y(o),R(o)]}),(()=>({})),{resetStyle:!1}),w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const P=r.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:o,className:u,style:c,flex:d,gap:f,children:p,vertical:g=!1,component:h="div"}=e,v=w(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:y,direction:R,getPrefixCls:P}=r.useContext(i.E_),Z=P("flex",n),[b,j,C]=x(Z),S=null!=g?g:null==y?void 0:y.vertical,O=a()(u,o,null==y?void 0:y.className,Z,j,C,m(Z,e),{[`${Z}-rtl`]:"rtl"===R,[`${Z}-gap-${f}`]:(0,s.n)(f),[`${Z}-vertical`]:S}),k=Object.assign(Object.assign({},null==y?void 0:y.style),c);return d&&(k.flex=d),f&&!(0,s.n)(f)&&(k.gap=f),b(r.createElement(h,Object.assign({ref:t,className:O,style:k},(0,l.Z)(v,["justify","wrap","align"])),p))}));var Z=P},53530:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(18960),o=n(31695),a=n(27710),l=n(44194),s=n(51865),i=n.n(s),u=n(24255),c=n(43037),d=n(37167),f=n(30829),p=n(78660),m=n(59348),g=n(6750),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var v=(0,c.i)((e=>{const{prefixCls:t,className:n,closeIcon:r,closable:o,type:a,title:s,children:c,footer:v}=e,y=h(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:R}=l.useContext(d.E_),x=R(),w=t||R("modal"),P=(0,f.Z)(x),[Z,b,j]=(0,g.ZP)(w,P),C=`${w}-confirm`;let S={};return S=a?{closable:null!=o&&o,title:"",footer:"",children:l.createElement(p.O,Object.assign({},e,{prefixCls:w,confirmPrefixCls:C,rootPrefixCls:x,content:c}))}:{closable:null==o||o,title:s,footer:null!==v&&l.createElement(m.$,Object.assign({},e)),children:c},Z(l.createElement(u.s,Object.assign({prefixCls:w,className:i()(b,`${w}-pure-panel`,a&&C,a&&`${C}-${a}`,n,j,P)},y,{closeIcon:(0,m.b)(w,r),closable:o},S)))})),y=n(75807);function R(e){return(0,r.ZP)((0,r.uW)(e))}const x=a.Z;x.useModal=y.Z,x.info=function(e){return(0,r.ZP)((0,r.cw)(e))},x.success=function(e){return(0,r.ZP)((0,r.vq)(e))},x.error=function(e){return(0,r.ZP)((0,r.AQ)(e))},x.warning=R,x.warn=R,x.confirm=function(e){return(0,r.ZP)((0,r.Au)(e))},x.destroyAll=function(){for(;o.Z.length;){const e=o.Z.pop();e&&e()}},x.config=r.ai,x._InternalPanelDoNotUseOrYouWillBeFired=v;var w=x}}]);