(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2647],{15722:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(11757),o=n(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},a=n(54183),l=function(e,t){return o.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:s}))};var c=o.forwardRef(l)},84881:function(e,t,n){"use strict";var r=n(17082),o=n(73457),s=n(82308),a=n(44194),l=n(63653),c=n(24018),i=n(31549),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=function(e,t){var n=e.fieldProps,d=e.children,f=e.params,p=e.proFieldProps,g=e.mode,m=e.valueEnum,h=e.request,y=e.showSearch,v=e.options,x=(0,o.Z)(e,u),b=(0,a.useContext)(l.Z);return(0,i.jsx)(c.Z,(0,r.Z)((0,r.Z)({valueEnum:(0,s.h)(m),request:h,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({options:v,mode:g,showSearch:y,getPopupContainer:b.getPopupContainer},n),ref:t,proFieldProps:p},x),{},{children:d}))},p=a.forwardRef((function(e,t){var n=e.fieldProps,u=e.children,f=e.params,p=e.proFieldProps,g=e.mode,m=e.valueEnum,h=e.request,y=e.options,v=(0,o.Z)(e,d),x=(0,r.Z)({options:y,mode:g||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},n),b=(0,a.useContext)(l.Z);return(0,i.jsx)(c.Z,(0,r.Z)((0,r.Z)({valueEnum:(0,s.h)(m),request:h,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({getPopupContainer:b.getPopupContainer},x),ref:t,proFieldProps:p},v),{},{children:u}))})),g=a.forwardRef(f);g.SearchSelect=p,g.displayName="ProFormComponent",t.Z=g},4499:function(e,t,n){"use strict";var r=n(42601),o=n(17082),s=n(73457),a=n(46015),l=n(16309),c=n(98036),i=n(36490),u=n(44194),d=n(24018),f=n(31549),p=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],m="text",h=function(e){var t=(0,a.Z)(e.open||!1,{value:e.open,onChange:e.onOpenChange}),n=(0,r.Z)(t,2),s=n[0],i=n[1];return(0,f.jsx)(l.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(t){var n,r=t.getFieldValue(e.name||[]);return(0,f.jsx)(c.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return i(e)},content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[null===(n=e.statusRender)||void 0===n?void 0:n.call(e,r),e.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:e.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},e.popoverProps),{},{open:s,children:e.children}))}})},y=function(e){var t=e.fieldProps,n=e.proFieldProps,r=(0,s.Z)(e,p);return(0,f.jsx)(d.Z,(0,o.Z)({valueType:m,fieldProps:t,filedConfig:{valueType:m},proFieldProps:n},r))};y.Password=function(e){var t=e.fieldProps,n=e.proFieldProps,a=(0,s.Z)(e,g),l=(0,u.useState)(!1),c=(0,r.Z)(l,2),p=c[0],y=c[1];return null!=t&&t.statusRender&&a.name?(0,f.jsx)(h,{name:a.name,statusRender:null==t?void 0:t.statusRender,popoverProps:null==t?void 0:t.popoverProps,strengthText:null==t?void 0:t.strengthText,open:p,onOpenChange:y,children:(0,f.jsx)("div",{children:(0,f.jsx)(d.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,i.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(e){var n;null==t||null===(n=t.onBlur)||void 0===n||n.call(t,e),y(!1)},onClick:function(e){var n;null==t||null===(n=t.onClick)||void 0===n||n.call(t,e),y(!0)}}),proFieldProps:n,filedConfig:{valueType:m}},a))})}):(0,f.jsx)(d.Z,(0,o.Z)({valueType:"password",fieldProps:t,proFieldProps:n,filedConfig:{valueType:m}},a))},y.displayName="ProFormComponent",t.Z=y},8377:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(90819),o=n.n(r),s=n(89933),a=n.n(s),l=n(45332),c=n.n(l),i=n(15722),u=n(53530),d=n(27487),f=n(75365),p=n(79777),g=n(88996),m=n(78996),h=n(44194),y=n(32045),v=n(40612),x=n(86803),b=n(90838),w=n(76750),Z=n(30921),C=n(6397),P=n(55735),j=n(31549),O=function(e){var t=e.type,n=(0,Z.useIntl)(),r=(0,h.useState)(!0),s=c()(r,2),l=s[0],O=s[1],E=(0,v.u)((function(e){return e.currentOrg})),S=(0,C.j)((function(e){return e.currentKbase})),k=(0,h.useState)(!1),N=c()(k,2),M=N[0],$=N[1],K=(0,b.v)((function(e){return{categoryTreeOptions:e.categoryTreeOptions,setCategoryResult:e.setCategoryResult,currentCategory:e.currentCategory,setCurrentCategoryUid:e.setCurrentCategoryUid}})),I=K.categoryTreeOptions,T=K.setCategoryResult,z=K.currentCategory,R=K.setCurrentCategoryUid,F=(0,w.Z)(),L=F.translateString,H=F.translateStringTranct,A=u.Z.useModal(),D=c()(A,2),V=D[0],q=D[1],G=function(){var e=a()(o()().mark((function e(t){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleSubmit: ",t),l?x.yw.loading(n.formatMessage({id:"updating"})):x.yw.loading(n.formatMessage({id:"creating"})),!l){e.next=8;break}return e.next=5,(0,y.yr)(t);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,y.k4)(t);case 10:e.t0=e.sent;case 11:r=e.t0,console.log("createCategory response: ",r),200===r.code?(x.yw.destroy(),l?x.yw.success(n.formatMessage({id:"update.success"})):x.yw.success(n.formatMessage({id:"create.success"})),$(!1),B()):(x.yw.destroy(),x.yw.error(r.message));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=a()(o()().mark((function e(){var r,s;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getCategories"),x.yw.success(n.formatMessage({id:"loading"})),r={pageNumber:0,pageSize:50,type:t,orgUid:null==E?void 0:E.uid},t!==P.hcJ&&(r.kbUid=null==S?void 0:S.uid),e.next=6,(0,y.XS)(r);case 6:s=e.sent,console.log("queryCategories response: ",s,r),200===s.code?(T(s),x.yw.destroy()):(x.yw.destroy(),x.yw.error(s.message));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=a()(o()().mark((function e(){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleEditCategory: ",z),O(!0),$(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleDeleteCategory: ",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,h.useEffect)((function(){t!==P.hcJ&&B()}),[S]),(0,h.useEffect)((function(){t===P.hcJ&&B()}),[]);return(0,j.jsxs)("div",{children:[(0,j.jsxs)(d.Z,{gap:"small",wrap:"wrap",style:{margin:5},children:[(0,j.jsx)(f.ZP,{type:"primary",size:"small",onClick:function(){O(!1),$(!0)},children:n.formatMessage({id:"create.category"})}),(0,j.jsx)(f.ZP,{size:"small",onClick:B,children:n.formatMessage({id:"refresh"})}),""!==(null==z?void 0:z.uid)&&"all"!==(null==z?void 0:z.uid)&&(0,j.jsx)(f.ZP,{size:"small",onClick:U,children:n.formatMessage({id:"edit"})}),""!==(null==z?void 0:z.uid)&&"all"!==(null==z?void 0:z.uid)&&(0,j.jsx)(f.ZP,{onClick:function(){return function(e){V.confirm({title:n.formatMessage({id:"deleteTip"}),icon:(0,j.jsx)(i.Z,{}),content:"".concat(n.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(L(e.name),"】？"),onOk:function(){_(e)},onCancel:function(){},okText:n.formatMessage({id:"ok"}),cancelText:n.formatMessage({id:"cancel"})})}(z)},size:"small",style:{float:"right"},danger:!0,children:n.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})})]}),(0,j.jsx)(p.Z,{defaultSelectedKeys:[null==z?void 0:z.uid],onSelect:function(e,t){console.log("selected",e,t),0!==e.length&&R(e[0].toString())},treeData:I,blockNode:!0,titleRender:function(e){return(0,j.jsx)(g.Z,{title:L(e.title),children:H(e.title)})}}),M&&(0,j.jsx)(m.Z,{open:M,type:t,isEdit:l,onCancel:function(){$(!1)},onSubmit:G}),q]})}},26070:function(e,t,n){"use strict";n.r(t);var r=n(96865),o=n(75574),s=n(90741),a=n.n(s),l=n(55735),c=n(8377),i=n(31549),u=o.Z.Sider,d=o.Z.Content;t.default=function(){var e=(0,r.Z)(),t=e.leftSiderStyle,n=e.contentStyle;return(0,i.jsx)("div",{children:(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(u,{style:t,children:(0,i.jsx)(c.Z,{type:l.qAy})}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(d,{style:n,children:(0,i.jsx)(a(),{})})})]})})}},90741:function(){},27487:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(44194),o=n(51865),s=n.n(o),a=n(97859),l=n(90899),c=n(37167),i=n(65759),u=n(77167);const d=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],p=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];var g=function(e,t){return s()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${n}`]:n&&d.includes(n)}})(e,t)),((e,t)=>{const n={};return p.forEach((r=>{n[`${e}-align-${r}`]=t.align===r})),n[`${e}-align-stretch`]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return f.forEach((r=>{n[`${e}-justify-${r}`]=t.justify===r})),n})(e,t)))};const m=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},h=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},y=e=>{const{componentCls:t}=e,n={};return d.forEach((e=>{n[`${t}-wrap-${e}`]={flexWrap:e}})),n},v=e=>{const{componentCls:t}=e,n={};return p.forEach((e=>{n[`${t}-align-${e}`]={alignItems:e}})),n},x=e=>{const{componentCls:t}=e,n={};return f.forEach((e=>{n[`${t}-justify-${e}`]={justifyContent:e}})),n};var b=(0,i.I$)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:r}=e,o=(0,u.IX)(e,{flexGapSM:t,flexGap:n,flexGapLG:r});return[m(o),h(o),y(o),v(o),x(o)]}),(()=>({})),{resetStyle:!1}),w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Z=r.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:o,className:i,style:u,flex:d,gap:f,children:p,vertical:m=!1,component:h="div"}=e,y=w(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:v,direction:x,getPrefixCls:Z}=r.useContext(c.E_),C=Z("flex",n),[P,j,O]=b(C),E=null!=m?m:null==v?void 0:v.vertical,S=s()(i,o,null==v?void 0:v.className,C,j,O,g(C,e),{[`${C}-rtl`]:"rtl"===x,[`${C}-gap-${f}`]:(0,l.n)(f),[`${C}-vertical`]:E}),k=Object.assign(Object.assign({},null==v?void 0:v.style),u);return d&&(k.flex=d),f&&!(0,l.n)(f)&&(k.gap=f),P(r.createElement(h,Object.assign({ref:t,className:S,style:k},(0,a.Z)(y,["justify","wrap","align"])),p))}));var C=Z},53530:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(18960),o=n(31695),s=n(27710),a=n(44194),l=n(51865),c=n.n(l),i=n(24255),u=n(43037),d=n(37167),f=n(30829),p=n(78660),g=n(59348),m=n(6750),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var y=(0,u.i)((e=>{const{prefixCls:t,className:n,closeIcon:r,closable:o,type:s,title:l,children:u,footer:y}=e,v=h(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:x}=a.useContext(d.E_),b=x(),w=t||x("modal"),Z=(0,f.Z)(b),[C,P,j]=(0,m.ZP)(w,Z),O=`${w}-confirm`;let E={};return E=s?{closable:null!=o&&o,title:"",footer:"",children:a.createElement(p.O,Object.assign({},e,{prefixCls:w,confirmPrefixCls:O,rootPrefixCls:b,content:u}))}:{closable:null==o||o,title:l,footer:null!==y&&a.createElement(g.$,Object.assign({},e)),children:u},C(a.createElement(i.s,Object.assign({prefixCls:w,className:c()(P,`${w}-pure-panel`,s&&O,s&&`${O}-${s}`,n,j,Z)},v,{closeIcon:(0,g.b)(w,r),closable:o},E)))})),v=n(75807);function x(e){return(0,r.ZP)((0,r.uW)(e))}const b=s.Z;b.useModal=v.Z,b.info=function(e){return(0,r.ZP)((0,r.cw)(e))},b.success=function(e){return(0,r.ZP)((0,r.vq)(e))},b.error=function(e){return(0,r.ZP)((0,r.AQ)(e))},b.warning=x,b.warn=x,b.confirm=function(e){return(0,r.ZP)((0,r.Au)(e))},b.destroyAll=function(){for(;o.Z.length;){const e=o.Z.pop();e&&e()}},b.config=r.ai,b._InternalPanelDoNotUseOrYouWillBeFired=y;var w=b},79777:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(76901),o=n(56299),s=n(44194),a=n(48800),l=n(11757),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},i=n(54183),u=function(e,t){return s.createElement(i.Z,(0,l.Z)({},e,{ref:t,icon:c}))};var d=s.forwardRef(u),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},p=function(e,t){return s.createElement(i.Z,(0,l.Z)({},e,{ref:t,icon:f}))};var g=s.forwardRef(p),m=n(51865),h=n.n(m),y=n(74970),v=n(79241),x=n(37167),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},w=function(e,t){return s.createElement(i.Z,(0,l.Z)({},e,{ref:t,icon:b}))};var Z=s.forwardRef(w),C=n(63601),P=n(70566),j=n(8822);var O=function(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:r,indent:o,direction:a="ltr"}=e,l="ltr"===a?"left":"right",c={[l]:-n*o+4,["ltr"===a?"right":"left"]:0};switch(t){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[l]=o+4}return s.createElement("div",{style:c,className:`${r}-drop-indicator`})},E=n(58090);const S=s.forwardRef(((e,t)=>{var n;const{getPrefixCls:o,direction:a,virtual:l,tree:c}=s.useContext(x.E_),{prefixCls:i,className:u,showIcon:d=!1,showLine:f,switcherIcon:p,switcherLoadingIcon:g,blockNode:m=!1,children:y,checkable:v=!1,selectable:b=!0,draggable:w,motion:S,style:k}=e,N=o("tree",i),M=o(),$=null!=S?S:Object.assign(Object.assign({},(0,C.Z)(M)),{motionAppear:!1}),K=Object.assign(Object.assign({},e),{checkable:v,selectable:b,showIcon:d,motion:$,blockNode:m,showLine:Boolean(f),dropIndicatorRender:O}),[I,T,z]=(0,j.ZP)(N),[,R]=(0,P.ZP)(),F=R.paddingXS/2+((null===(n=R.Tree)||void 0===n?void 0:n.titleHeight)||R.controlHeightSM),L=s.useMemo((()=>{if(!w)return!1;let e={};switch(typeof w){case"function":e.nodeDraggable=w;break;case"object":e=Object.assign({},w)}return!1!==e.icon&&(e.icon=e.icon||s.createElement(Z,null)),e}),[w]);return I(s.createElement(r.ZP,Object.assign({itemHeight:F,ref:t,virtual:l},K,{style:Object.assign(Object.assign({},null==c?void 0:c.style),k),prefixCls:N,className:h()({[`${N}-icon-hide`]:!d,[`${N}-block-node`]:m,[`${N}-unselectable`]:!b,[`${N}-rtl`]:"rtl"===a},null==c?void 0:c.className,u,T,z),direction:a,checkable:v?s.createElement("span",{className:`${N}-checkbox-inner`}):v,selectable:b,switcherIcon:e=>s.createElement(E.Z,{prefixCls:N,switcherIcon:p,switcherLoadingIcon:g,treeNodeProps:e,showLine:f}),draggable:L}),y))}));var k=S;function N(e,t,n){const{key:r,children:o}=n;e.forEach((function(e){const s=e[r],a=e[o];!1!==t(s,e)&&N(a||[],t,n)}))}function M(e){let{treeData:t,expandedKeys:n,startKey:r,endKey:o,fieldNames:s}=e;const a=[];let l=0;if(r&&r===o)return[r];if(!r||!o)return[];return N(t,(e=>{if(2===l)return!1;if(function(e){return e===r||e===o}(e)){if(a.push(e),0===l)l=1;else if(1===l)return l=2,!1}else 1===l&&a.push(e);return n.includes(e)}),(0,v.w$)(s)),a}function $(e,t,n){const r=(0,o.Z)(t),s=[];return N(e,((e,t)=>{const n=r.indexOf(e);return-1!==n&&(s.push(t),r.splice(n,1)),!!r.length}),(0,v.w$)(n)),s}var K=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function I(e){const{isLeaf:t,expanded:n}=e;return t?s.createElement(a.Z,null):n?s.createElement(d,null):s.createElement(g,null)}function T(e){let{treeData:t,children:n}=e;return t||(0,v.zn)(n)}const z=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:a}=e,l=K(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const c=s.useRef(null),i=s.useRef(null),[u,d]=s.useState(l.selectedKeys||l.defaultSelectedKeys||[]),[f,p]=s.useState((()=>(()=>{const{keyEntities:e}=(0,v.I8)(T(l));let t;return t=n?Object.keys(e):r?(0,y.r7)(l.expandedKeys||a||[],e):l.expandedKeys||a||[],t})()));s.useEffect((()=>{"selectedKeys"in l&&d(l.selectedKeys)}),[l.selectedKeys]),s.useEffect((()=>{"expandedKeys"in l&&p(l.expandedKeys)}),[l.expandedKeys]);const{getPrefixCls:g,direction:m}=s.useContext(x.E_),{prefixCls:b,className:w,showIcon:Z=!0,expandAction:C="click"}=l,P=K(l,["prefixCls","className","showIcon","expandAction"]),j=g("tree",b),O=h()(`${j}-directory`,{[`${j}-directory-rtl`]:"rtl"===m},w);return s.createElement(k,Object.assign({icon:I,ref:t,blockNode:!0},P,{showIcon:Z,expandAction:C,prefixCls:j,className:O,expandedKeys:f,selectedKeys:u,onSelect:(e,t)=>{var n;const{multiple:r,fieldNames:s}=l,{node:a,nativeEvent:u}=t,{key:p=""}=a,g=T(l),m=Object.assign(Object.assign({},t),{selected:!0}),h=(null==u?void 0:u.ctrlKey)||(null==u?void 0:u.metaKey),y=null==u?void 0:u.shiftKey;let v;r&&h?(v=e,c.current=p,i.current=v,m.selectedNodes=$(g,v,s)):r&&y?(v=Array.from(new Set([].concat((0,o.Z)(i.current||[]),(0,o.Z)(M({treeData:g,expandedKeys:f,startKey:p,endKey:c.current,fieldNames:s}))))),m.selectedNodes=$(g,v,s)):(v=[p],c.current=p,i.current=v,m.selectedNodes=$(g,v,s)),null===(n=l.onSelect)||void 0===n||n.call(l,v,m),"selectedKeys"in l||d(v)},onExpand:(e,t)=>{var n;return"expandedKeys"in l||p(e),null===(n=l.onExpand)||void 0===n?void 0:n.call(l,e,t)}}))};var R=s.forwardRef(z);const F=k;F.DirectoryTree=R,F.TreeNode=r.OF;var L=F}}]);