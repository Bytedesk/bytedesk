"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[9590],{11475:function(V,T,e){e.d(T,{Z:function(){return P}});var d=e(1413),i=e(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},g=h,y=e(89099),C=function(c,E){return i.createElement(y.Z,(0,d.Z)((0,d.Z)({},c),{},{ref:E,icon:g}))},O=i.forwardRef(C),P=O},58638:function(V,T,e){e.d(T,{Z:function(){return P}});var d=e(1413),i=e(67294),h={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},g=h,y=e(89099),C=function(c,E){return i.createElement(y.Z,(0,d.Z)((0,d.Z)({},c),{},{ref:E,icon:g}))},O=i.forwardRef(C),P=O},64317:function(V,T,e){var d=e(1413),i=e(91),h=e(22270),g=e(67294),y=e(66758),C=e(24809),O=e(85893),P=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],x=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],c=function(f,v){var u=f.fieldProps,s=f.children,t=f.params,a=f.proFieldProps,_=f.mode,Z=f.valueEnum,b=f.request,A=f.showSearch,j=f.options,n=(0,i.Z)(f,P),o=(0,g.useContext)(y.Z);return(0,O.jsx)(C.Z,(0,d.Z)((0,d.Z)({valueEnum:(0,h.h)(Z),request:b,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({options:j,mode:_,showSearch:A,getPopupContainer:o.getPopupContainer},u),ref:v,proFieldProps:a},n),{},{children:s}))},E=g.forwardRef(function(m,f){var v=m.fieldProps,u=m.children,s=m.params,t=m.proFieldProps,a=m.mode,_=m.valueEnum,Z=m.request,b=m.options,A=(0,i.Z)(m,x),j=(0,d.Z)({options:b,mode:a||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},v),n=(0,g.useContext)(y.Z);return(0,O.jsx)(C.Z,(0,d.Z)((0,d.Z)({valueEnum:(0,h.h)(_),request:Z,params:s,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({getPopupContainer:n.getPopupContainer},j),ref:f,proFieldProps:t},A),{},{children:u}))}),B=g.forwardRef(c),M=E,R=B;R.SearchSelect=M,R.displayName="ProFormComponent",T.Z=R},5966:function(V,T,e){var d=e(97685),i=e(1413),h=e(91),g=e(21770),y=e(8232),C=e(55241),O=e(97435),P=e(67294),x=e(24809),c=e(85893),E=["fieldProps","proFieldProps"],B=["fieldProps","proFieldProps"],M="text",R=function(s){var t=s.fieldProps,a=s.proFieldProps,_=(0,h.Z)(s,E);return(0,c.jsx)(x.Z,(0,i.Z)({valueType:M,fieldProps:t,filedConfig:{valueType:M},proFieldProps:a},_))},m=function(s){var t=(0,g.Z)(s.open||!1,{value:s.open,onChange:s.onOpenChange}),a=(0,d.Z)(t,2),_=a[0],Z=a[1];return(0,c.jsx)(y.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(A){var j,n=A.getFieldValue(s.name||[]);return(0,c.jsx)(C.Z,(0,i.Z)((0,i.Z)({getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},onOpenChange:function(r){return Z(r)},content:(0,c.jsxs)("div",{style:{padding:"4px 0"},children:[(j=s.statusRender)===null||j===void 0?void 0:j.call(s,n),s.strengthText?(0,c.jsx)("div",{style:{marginTop:10},children:(0,c.jsx)("span",{children:s.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},s.popoverProps),{},{open:_,children:s.children}))}})},f=function(s){var t=s.fieldProps,a=s.proFieldProps,_=(0,h.Z)(s,B),Z=(0,P.useState)(!1),b=(0,d.Z)(Z,2),A=b[0],j=b[1];return t!=null&&t.statusRender&&_.name?(0,c.jsx)(m,{name:_.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:A,onOpenChange:j,children:(0,c.jsx)("div",{children:(0,c.jsx)(x.Z,(0,i.Z)({valueType:"password",fieldProps:(0,i.Z)((0,i.Z)({},(0,O.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(o){var r;t==null||(r=t.onBlur)===null||r===void 0||r.call(t,o),j(!1)},onClick:function(o){var r;t==null||(r=t.onClick)===null||r===void 0||r.call(t,o),j(!0)}}),proFieldProps:a,filedConfig:{valueType:M}},_))})}):(0,c.jsx)(x.Z,(0,i.Z)({valueType:"password",fieldProps:t,proFieldProps:a,filedConfig:{valueType:M}},_))},v=R;v.Password=f,v.displayName="ProFormComponent",T.Z=v},14101:function(V,T,e){e.d(T,{Nm:function(){return B},fk:function(){return P}});var d=e(15009),i=e.n(d),h=e(97857),g=e.n(h),y=e(99289),C=e.n(y),O=e(86745);function P(u){return x.apply(this,arguments)}function x(){return x=C()(i()().mark(function u(s){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,O.request)("/api/v1/thread/query/org",{method:"GET",params:g()({},s)}));case 1:case"end":return a.stop()}},u)})),x.apply(this,arguments)}function c(u){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function u(s){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/v1/thread/update",{method:"POST",data:_objectSpread({},s)}));case 1:case"end":return a.stop()}},u)})),E.apply(this,arguments)}function B(u){return M.apply(this,arguments)}function M(){return M=C()(i()().mark(function u(s){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,O.request)("/api/v1/thread/close",{method:"POST",data:g()({},s)}));case 1:case"end":return a.stop()}},u)})),M.apply(this,arguments)}function R(u){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function u(s){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/v1/thread/delete",{method:"POST",data:_objectSpread({},s)}));case 1:case"end":return a.stop()}},u)})),m.apply(this,arguments)}function f(u){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function u(s){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/v1/thread/export",{method:"GET",params:_objectSpread({},s)}));case 1:case"end":return a.stop()}},u)})),v.apply(this,arguments)}},33209:function(V,T,e){e.r(T),e.d(T,{default:function(){return r}});var d=e(77154),i=e(21612),h=e(97857),g=e.n(h),y=e(13769),C=e.n(y),O=e(15009),P=e.n(O),x=e(99289),c=e.n(x),E=e(80049),B=e(14101),M=e(87676),R=e(85615),m=e(58638),f=e(57482),v=e(86745),u=e(14726),s=e(67294),t=e(85893),a=["current"],_=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,t.jsx)(v.FormattedMessage,{id:"nickname",defaultMessage:"Nickname"}),dataIndex:"user",render:function(p,G){var I;return(I=G.user)===null||I===void 0?void 0:I.nickname}},{title:(0,t.jsx)(v.FormattedMessage,{id:"type",defaultMessage:"Type"}),dataIndex:"type",hideInSearch:!0},{title:"\u672A\u8BFB\u6570",dataIndex:"unreadCount",hideInSearch:!0},{title:(0,t.jsx)(v.FormattedMessage,{id:"status",defaultMessage:"Status"}),dataIndex:"status",copyable:!0},{title:(0,t.jsx)(v.FormattedMessage,{id:"client",defaultMessage:"Client"}),dataIndex:"client"},{title:(0,t.jsx)(v.FormattedMessage,{id:"updatedAt",defaultMessage:"updatedAt"}),key:"updatedAt",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0}],Z=function(){var p=(0,v.useIntl)(),G=(0,s.useRef)(),I=(0,M.u)(function(D){return D.currentOrg}),N=[].concat(_,[{title:p.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",render:function(W,F,S,L){return[(0,t.jsx)("a",{onClick:function(){},children:p.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable")]}}]),H=function(){var D=c()(P()().mark(function W(){var F;return P()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:console.log("handleExportExcel"),F=localStorage.getItem(R.LA),window.open("/api/v1/thread/export?uid="+I.uid+"pageNumber=0&pageSize=20&accessToken="+F);case 3:case"end":return L.stop()}},W)}));return function(){return D.apply(this,arguments)}}();return(0,t.jsx)(f.Z,{columns:N,actionRef:G,cardBordered:!0,request:function(){var D=c()(P()().mark(function W(F,S,L){var z,U,w,$;return P()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return console.log("request:",F,S,L),z=F.current,U=C()(F,a),w=g()({pageNumber:F.current-1,orgUid:I.uid},U),K.next=5,(0,B.fk)(w);case 5:return $=K.sent,console.log("getAllThreads response:",w,$),$.code===200||E.yw.error($.message),K.abrupt("return",{data:$.data.content,success:!0,total:$.data.totalElements});case 9:case"end":return K.stop()}},W)}));return function(W,F,S){return D.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(W){console.log("page:",W)}},dateFormatter:"string",headerTitle:p.formatMessage({id:"email",defaultMessage:"Email"}),toolBarRender:function(){return[(0,t.jsx)(u.ZP,{icon:(0,t.jsx)(m.Z,{}),type:"primary",onClick:H,children:p.formatMessage({id:"export",defaultMessage:"Export"})},"button")]}})},b=Z,A=e(52670),j=i.Z.Sider,n=i.Z.Content,o=function(){var p=(0,d.Z)(),G=p.leftSiderStyle,I=p.contentStyle;return(0,t.jsx)("div",{children:(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(j,{style:G,children:(0,t.jsx)(A.Z,{type:R.X6})}),(0,t.jsx)(i.Z,{children:(0,t.jsx)(n,{style:I,children:(0,t.jsx)(b,{})})})]})})},r=o},86250:function(V,T,e){e.d(T,{Z:function(){return j}});var d=e(67294),i=e(93967),h=e.n(i),g=e(98423),y=e(98065),C=e(53124),O=e(27036),P=e(45503);const x=["wrap","nowrap","wrap-reverse"],c=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],E=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],B=(n,o)=>{const r=o.wrap===!0?"wrap":o.wrap;return{[`${n}-wrap-${r}`]:r&&x.includes(r)}},M=(n,o)=>{const r={};return E.forEach(l=>{r[`${n}-align-${l}`]=o.align===l}),r[`${n}-align-stretch`]=!o.align&&!!o.vertical,r},R=(n,o)=>{const r={};return c.forEach(l=>{r[`${n}-justify-${l}`]=o.justify===l}),r};function m(n,o){return h()(Object.assign(Object.assign(Object.assign({},B(n,o)),M(n,o)),R(n,o)))}var f=m;const v=n=>{const{componentCls:o}=n;return{[o]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},u=n=>{const{componentCls:o}=n;return{[o]:{"&-gap-small":{gap:n.flexGapSM},"&-gap-middle":{gap:n.flexGap},"&-gap-large":{gap:n.flexGapLG}}}},s=n=>{const{componentCls:o}=n,r={};return x.forEach(l=>{r[`${o}-wrap-${l}`]={flexWrap:l}}),r},t=n=>{const{componentCls:o}=n,r={};return E.forEach(l=>{r[`${o}-align-${l}`]={alignItems:l}}),r},a=n=>{const{componentCls:o}=n,r={};return c.forEach(l=>{r[`${o}-justify-${l}`]={justifyContent:l}}),r},_=()=>({});var Z=(0,O.I$)("Flex",n=>{const{paddingXS:o,padding:r,paddingLG:l}=n,p=(0,P.TS)(n,{flexGapSM:o,flexGap:r,flexGapLG:l});return[v(p),u(p),s(p),t(p),a(p)]},_,{resetStyle:!1}),b=function(n,o){var r={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&o.indexOf(l)<0&&(r[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,l=Object.getOwnPropertySymbols(n);p<l.length;p++)o.indexOf(l[p])<0&&Object.prototype.propertyIsEnumerable.call(n,l[p])&&(r[l[p]]=n[l[p]]);return r},j=d.forwardRef((n,o)=>{const{prefixCls:r,rootClassName:l,className:p,style:G,flex:I,gap:N,children:H,vertical:D=!1,component:W="div"}=n,F=b(n,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:S,direction:L,getPrefixCls:z}=d.useContext(C.E_),U=z("flex",r),[w,$,X]=Z(U),K=D!=null?D:S==null?void 0:S.vertical,Q=h()(p,l,S==null?void 0:S.className,U,$,X,f(U,n),{[`${U}-rtl`]:L==="rtl",[`${U}-gap-${N}`]:(0,y.n)(N),[`${U}-vertical`]:K}),J=Object.assign(Object.assign({},S==null?void 0:S.style),G);return I&&(J.flex=I),N&&!(0,y.n)(N)&&(J.gap=N),w(d.createElement(W,Object.assign({ref:o,className:Q,style:J},(0,g.Z)(F,["justify","wrap","align"])),H))})}}]);
