"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[9590],{58638:function(A,h,e){e.d(h,{Z:function(){return i}});var g=e(1413),n=e(67294),T={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},v=T,b=e(91146),f=function(M,m){return n.createElement(b.Z,(0,g.Z)((0,g.Z)({},M),{},{ref:m,icon:v}))},_=n.forwardRef(f),i=_},14101:function(A,h,e){e.d(h,{Nm:function(){return C},fk:function(){return i}});var g=e(15009),n=e.n(g),T=e(97857),v=e.n(T),b=e(99289),f=e.n(b),_=e(86745);function i(a){return y.apply(this,arguments)}function y(){return y=f()(n()().mark(function a(s){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/v1/thread/org",{method:"GET",params:v()({},s)}));case 1:case"end":return t.stop()}},a)})),y.apply(this,arguments)}function M(a){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function a(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/v1/thread/update",{method:"POST",data:_objectSpread({},s)}));case 1:case"end":return t.stop()}},a)})),m.apply(this,arguments)}function C(a){return S.apply(this,arguments)}function S(){return S=f()(n()().mark(function a(s){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,_.request)("/api/v1/thread/close",{method:"POST",data:v()({},s)}));case 1:case"end":return t.stop()}},a)})),S.apply(this,arguments)}function P(a){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function a(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/v1/thread/delete",{method:"POST",data:_objectSpread({},s)}));case 1:case"end":return t.stop()}},a)})),O.apply(this,arguments)}function B(a){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark(function a(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/v1/thread/export",{method:"GET",params:_objectSpread({},s)}));case 1:case"end":return t.stop()}},a)})),u.apply(this,arguments)}},33209:function(A,h,e){e.r(h),e.d(h,{default:function(){return N}});var g=e(77154),n=e(21612),T=e(97857),v=e.n(T),b=e(13769),f=e.n(b),_=e(15009),i=e.n(_),y=e(99289),M=e.n(y),m=e(80049),C=e(14101),S=e(87676),P=e(85615),O=e(58638),B=e(53719),u=e(86745),a=e(14726),s=e(67294),r=e(85893),t=["current"],G=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,r.jsx)(u.FormattedMessage,{id:"nickname",defaultMessage:"Nickname"}),dataIndex:"user",render:function(d,R){var l;return(l=R.user)===null||l===void 0?void 0:l.nickname}},{title:(0,r.jsx)(u.FormattedMessage,{id:"type",defaultMessage:"Type"}),dataIndex:"type",hideInSearch:!0},{title:"\u672A\u8BFB\u6570",dataIndex:"unreadCount",hideInSearch:!0},{title:(0,r.jsx)(u.FormattedMessage,{id:"status",defaultMessage:"Status"}),dataIndex:"status",copyable:!0},{title:(0,r.jsx)(u.FormattedMessage,{id:"client",defaultMessage:"Client"}),dataIndex:"client"},{title:(0,r.jsx)(u.FormattedMessage,{id:"updatedAt",defaultMessage:"updatedAt"}),key:"updatedAt",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0}],K=function(){var d=(0,u.useIntl)(),R=(0,s.useRef)(),l=(0,S.u)(function(c){return c.orgCurrent}),H=[].concat(G,[{title:d.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",render:function(p,o,D,E){return[(0,r.jsx)("a",{onClick:function(){},children:d.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable")]}}]),V=function(){var c=M()(i()().mark(function p(){var o;return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:console.log("handleExportExcel"),o=localStorage.getItem(P.LA),window.open("/api/v1/thread/export?uid="+l.uid+"pageNumber=0&pageSize=20&accessToken="+o);case 3:case"end":return E.stop()}},p)}));return function(){return c.apply(this,arguments)}}();return(0,r.jsx)(B.Z,{columns:H,actionRef:R,cardBordered:!0,request:function(){var c=M()(i()().mark(function p(o,D,E){var Z,W,I,j;return i()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return console.log("request:",o,D,E),Z=o.current,W=f()(o,t),I=v()({pageNumber:o.current-1,orgUid:l.uid},W),x.next=5,(0,C.fk)(I);case 5:return j=x.sent,console.log("getAllThreads response:",I,j),j.code===200||m.yw.error(j.message),x.abrupt("return",{data:j.data.content,success:!0,total:j.data.totalElements});case 9:case"end":return x.stop()}},p)}));return function(p,o,D){return c.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(p){console.log("page:",p)}},dateFormatter:"string",headerTitle:d.formatMessage({id:"email",defaultMessage:"Email"}),toolBarRender:function(){return[(0,r.jsx)(a.ZP,{icon:(0,r.jsx)(O.Z,{}),type:"primary",onClick:V,children:d.formatMessage({id:"export",defaultMessage:"Export"})},"button")]}})},L=K,$=e(52670),k=n.Z.Sider,F=n.Z.Content,z=function(){var d=(0,g.Z)(),R=d.leftSiderStyle,l=d.contentStyle;return(0,r.jsx)("div",{children:(0,r.jsxs)(n.Z,{children:[(0,r.jsx)(k,{style:R,children:(0,r.jsx)($.Z,{type:P.ac})}),(0,r.jsx)(n.Z,{children:(0,r.jsx)(F,{style:l,children:(0,r.jsx)(L,{})})})]})})},N=z}}]);
