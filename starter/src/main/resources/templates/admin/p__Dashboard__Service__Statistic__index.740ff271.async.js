"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[9967],{60150:function(e,t,s){s.d(t,{RU:function(){return u},xL:function(){return m}});var i=s(90819),a=s.n(i),r=s(73193),n=s.n(r),d=s(89933),l=s.n(d),o=s(55735),c=s(30921);function u(e){return x.apply(this,arguments)}function x(){return(x=l()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/service/statistic/query/date",{method:"GET",params:n()(n()({},t),{},{client:o.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=l()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/service/statistic/calculate",{method:"POST",data:n()(n()({},t),{},{client:o.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},74317:function(e,t,s){s.r(t);var i=s(90819),a=s.n(i),r=s(89933),n=s.n(r),d=s(45332),l=s.n(d),o=s(44194),c=s(98123),u=s(44781),x=s(62673),m=s(3849),v=s(67402),g=s(88996),j=s(75365),f=s(88201),p=s(5602),h=s(59485),y=s(7875),Z=s(61107),M=s(80556),F=s(58791),k=s(58368),w=s(86994),b=s(48004),T=s(93689),R=s(429),S=s(27995),C=s(24429),O=s(34545),A=s(25640),Y=s(52294),P=s(86803),q=s(40612),I=s(1902),D=s(95490),U=s(24170),W=s(76750),B=s(72614),E=s(55735),H=s(28977),V=s.n(H),G=s(30921),z=s(5939),N=s(24562),L=s(21499),$=s(89717),_=s(10737),J=s(60150),K=s(18697),Q=s(31549),X=K.Z.Title,ee=c.default.RangePicker,te=u.default.Option;t.default=function(){var e,t,s=(0,G.useIntl)(),i=(0,W.Z)().translateStringTranct,r=(0,o.useState)(V()().startOf("day")),d=l()(r,2),c=d[0],H=d[1],K=(0,o.useState)(V()().endOf("day")),se=l()(K,2),ie=se[0],ae=se[1],re=(0,o.useState)("today"),ne=l()(re,2),de=ne[0],le=ne[1],oe=(0,o.useState)(E.AOk),ce=l()(oe,2),ue=ce[0],xe=ce[1],me=(0,o.useState)(),ve=l()(me,2),ge=ve[0],je=ve[1],fe=(0,o.useState)(),pe=l()(fe,2),he=pe[0],ye=pe[1],Ze=(0,q.u)((function(e){return e.currentOrg})),Me=(0,I.E)((function(e){return e})),Fe=Me.agentResult,ke=Me.setAgentResult,we=(0,D.$)((function(e){return e})),be=we.workgroupResult,Te=we.setWorkgroupResult,Re=(0,o.useState)(),Se=l()(Re,2),Ce=Se[0],Oe=Se[1],Ae=(0,o.useState)(E.OwA),Ye=l()(Ae,2),Pe=Ye[0],qe=Ye[1],Ie=(0,o.useState)(!1),De=l()(Ie,2),Ue=(De[0],De[1]),We=[{label:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}],Be=[{type:s.formatMessage({id:"service.statistic.status.online"}),value:8},{type:s.formatMessage({id:"service.statistic.status.busy"}),value:5},{type:s.formatMessage({id:"service.statistic.status.away"}),value:2},{type:s.formatMessage({id:"service.statistic.status.offline"}),value:3}],Ee=[{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.agent"}),dataIndex:"name",key:"name"},{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.onlineTime"}),dataIndex:"onlineTime",key:"onlineTime"},{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.sessionCount"}),dataIndex:"sessionCount",key:"sessionCount"},{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.avgResponseTime"}),dataIndex:"avgResponseTime",key:"avgResponseTime"},{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.avgSessionTime"}),dataIndex:"avgSessionTime",key:"avgSessionTime"},{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.satisfaction"}),dataIndex:"satisfaction",key:"satisfaction"},{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.workingHours"}),dataIndex:"workingHours",key:"workingHours"},{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.transferRate"}),dataIndex:"transferRate",key:"transferRate"},{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.firstResolutionRate"}),dataIndex:"firstResolutionRate",key:"firstResolutionRate"},{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.table.overdueCount"}),dataIndex:"overdueCount",key:"overdueCount"}];(0,o.useEffect)((function(){if("custom"===de)H(c),ae(ie),qe(E.dd4);else{var e=V()();"today"===de?(H(e),ae(e),qe(E.OwA)):"yesterday"===de?(H(e.subtract(1,"day")),ae(e.subtract(1,"day")),qe(E.OwA)):"week"===de?(H(e.startOf("week")),ae(e.endOf("week")),qe(E.dd4)):"lastWeek"===de?(H(e.subtract(1,"week").startOf("week")),ae(e.subtract(1,"week").endOf("week")),qe(E.dd4)):"month"===de&&(H(e.startOf("month")),ae(e.endOf("month")),qe(E.dd4))}}),[de]);var He=function(){var e=n()(a()().mark((function e(){var t,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.yw.loading("loading"),t={pageNumber:0,pageSize:50,orgUid:null==Ze?void 0:Ze.uid},e.next=4,(0,B.u7)(t);case 4:s=e.sent,console.log("fetchAllWorkgroups: ",s),200===s.code?(P.yw.destroy(),Te(s),s.data.content.length>0&&ye(s.data.content[0].uid)):(P.yw.destroy(),P.yw.error(s.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=n()(a()().mark((function e(){var t,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.yw.loading("loading"),t={pageNumber:0,pageSize:50,orgUid:null==Ze?void 0:Ze.uid},e.next=4,(0,U._t)(t);case 4:s=e.sent,console.log("fetchAllAgents: ",s),200===s.code?(P.yw.destroy(),ke(s),s.data.content.length>0&&je(s.data.content[0].uid)):(P.yw.destroy(),P.yw.error(i(s.message))),console.log("queryAllAgents response",s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=n()(a()().mark((function e(){var t,i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ue(!0),e.prev=1,P.yw.loading("loading"),t={type:ue,statisticStartTime:null==c?void 0:c.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==ie?void 0:ie.format("YYYY-MM-DD 23:59:59"),workgroupUid:he,assigneeUid:ge,orgUid:null==Ze?void 0:Ze.uid},e.next=6,(0,J.RU)(t);case 6:i=e.sent,console.log("queryStatisticServicesByOrg response",i,t),200===i.code?(P.yw.destroy(),Oe(i.data)):(P.yw.destroy(),P.yw.error(i.message)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),P.yw.error(s.formatMessage({id:"ticket.message.operation.failed"}));case 14:return e.prev=14,Ue(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=n()(a()().mark((function e(){var t,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.yw.loading("loading"),t={type:ue,statisticStartTime:null==c?void 0:c.format("YYYY-MM-DD 00:00:00"),statisticEndTime:null==ie?void 0:ie.format("YYYY-MM-DD 23:59:59"),workgroupUid:he,assigneeUid:ge,orgUid:null==Ze?void 0:Ze.uid},e.next=4,(0,J.RU)(t);case 4:s=e.sent,console.log("queryStatisticServicesByOrg response",s,t),200===s.code?P.yw.destroy():(P.yw.destroy(),P.yw.error(s.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){He(),Ve()}),[]),(0,o.useEffect)((function(){Ge()}),[ue,ge,he]),(0,o.useEffect)((function(){ze()}),[Pe,ue,ge,he]),(0,o.useEffect)((function(){Ge()}),[c,ie]),(0,Q.jsxs)("div",{style:{padding:16},children:[(0,Q.jsx)(x.Z,{style:{marginBottom:16},children:(0,Q.jsxs)(m.Z,{direction:"vertical",style:{width:"100%"},children:[(0,Q.jsxs)(m.Z,{wrap:!0,children:[(0,Q.jsx)(v.ZP.Group,{value:de,onChange:function(e){return le(e.target.value)},children:We.map((function(e){return(0,Q.jsx)(v.ZP.Button,{value:e.value,children:e.label},e.value)}))}),"custom"===de&&(0,Q.jsx)(ee,{value:[c,ie],onChange:function(e){H(e[0]),ae(e[1])}})]}),(0,Q.jsxs)(m.Z,{wrap:!0,children:[(0,Q.jsxs)(u.default,{placeholder:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.filter.type"}),style:{width:200},value:ue,onChange:function(e){return xe(e)},children:[(0,Q.jsx)(te,{value:E.AOk,children:(0,Q.jsx)(G.FormattedMessage,{id:"i18n.all"})}),(0,Q.jsx)(te,{value:E.pHh,children:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.filter.agent"})}),(0,Q.jsx)(te,{value:E.ti4,children:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.filter.workgroup"})})]}),ue===E.pHh&&(0,Q.jsx)(u.default,{placeholder:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.filter.agent"}),style:{width:200},value:ge,onChange:function(e){return je(e)},children:null===(e=Fe.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.map((function(e){return(0,Q.jsx)(te,{value:null==e?void 0:e.uid,children:i(null==e?void 0:e.nickname)},null==e?void 0:e.uid)}))}),ue===E.ti4&&(0,Q.jsx)(u.default,{placeholder:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.filter.department"}),style:{width:200},value:he,onChange:function(e){return ye(e)},children:null===(t=be.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.map((function(e){return(0,Q.jsx)(te,{value:null==e?void 0:e.uid,children:i(null==e?void 0:e.nickname)},null==e?void 0:e.uid)}))}),(0,Q.jsx)(g.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.filter.export"}),children:(0,Q.jsx)(j.ZP,{icon:(0,Q.jsx)(Z.Z,{}),onClick:function(){P.yw.warning("TODO: 待实现")},children:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.filter.export"})})}),(0,Q.jsx)(g.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.filter.refresh"}),children:(0,Q.jsx)(j.ZP,{icon:(0,Q.jsx)(M.Z,{}),onClick:function(){return Ge()},children:(0,Q.jsx)(G.FormattedMessage,{id:"ticket.statistic.filter.refresh"})})}),!1]})]})}),(0,Q.jsxs)(f.Z,{gutter:24,children:[(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.onlineAgentCount"}),value:(null==Ce?void 0:Ce.onlineAgentCount)||0,prefix:(0,Q.jsx)(F.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.person"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.offlineAgentCount"}),value:(null==Ce?void 0:Ce.offlineAgentCount)||0,prefix:(0,Q.jsx)(k.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.person"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.queuingThreadCount"}),value:(null==Ce?void 0:Ce.queuingThreadCount)||0,prefix:(0,Q.jsx)(F.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.person"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.currentThreadCount"}),value:(null==Ce?void 0:Ce.currentThreadCount)||0,prefix:(0,Q.jsx)(w.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.session"})})})})]}),(0,Q.jsxs)(f.Z,{gutter:24,style:{marginTop:24},children:[(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.maxResponseTime"}),value:(null==Ce?void 0:Ce.maxResponseTime)||0,prefix:(0,Q.jsx)(b.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.seconds"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.minResponseTime"}),value:(null==Ce?void 0:Ce.minResponseTime)||0,prefix:(0,Q.jsx)(b.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.seconds"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.avgFirstResponseTime"}),value:(null==Ce?void 0:Ce.avgFirstResponseTime)||0,prefix:(0,Q.jsx)(b.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.seconds"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.avgWaitingTime"}),value:(null==Ce?void 0:Ce.avgWaitingTime)||0,prefix:(0,Q.jsx)(b.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.seconds"})})})})]}),(0,Q.jsxs)(f.Z,{gutter:24,style:{marginTop:24},children:[(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.totalIncomingThreads"}),value:(null==Ce?void 0:Ce.totalIncomingThreads)||0,prefix:(0,Q.jsx)(w.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.session"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.acceptedThreadCount"}),value:(null==Ce?void 0:Ce.acceptedThreadCount)||0,prefix:(0,Q.jsx)(T.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.session"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.acceptRate"}),value:(null==Ce?void 0:Ce.acceptRate)||0,prefix:(0,Q.jsx)(T.Z,{}),suffix:"%"})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.firstSolveRate"}),value:(null==Ce?void 0:Ce.firstSolveRate)||0,prefix:(0,Q.jsx)(R.Z,{}),suffix:"%"})})})]}),(0,Q.jsxs)(f.Z,{gutter:24,style:{marginTop:24},children:[(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.robotThreadCount"}),value:(null==Ce?void 0:Ce.robotThreadCount)||0,prefix:(0,Q.jsx)(S.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.session"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.robotToHumanCount"}),value:(null==Ce?void 0:Ce.robotToHumanCount)||0,prefix:(0,Q.jsx)(C.Z,{}),suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.session"})})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.robotSolveRate"}),value:(null==Ce?void 0:Ce.robotSolveRate)||0,prefix:(0,Q.jsx)(T.Z,{}),suffix:"%"})})}),(0,Q.jsx)(p.Z,{xl:6,lg:12,md:12,sm:24,xs:24,children:(0,Q.jsx)(x.Z,{bordered:!1,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.transferRate"}),value:(null==Ce?void 0:Ce.transferRate)||0,prefix:(0,Q.jsx)(O.Z,{}),suffix:"%"})})})]}),(0,Q.jsxs)(x.Z,{style:{marginTop:24},children:[(0,Q.jsx)(X,{level:4,children:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.sessionDuration"})}),(0,Q.jsxs)(f.Z,{gutter:24,children:[(0,Q.jsx)(p.Z,{span:8,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.duration.within5min"}),value:(null==Ce?void 0:Ce.durationWithin5Min)||0,suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.sessions"})})}),(0,Q.jsx)(p.Z,{span:8,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.duration.within15min"}),value:(null==Ce?void 0:Ce.durationWithin15Min)||0,suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.sessions"})})}),(0,Q.jsx)(p.Z,{span:8,children:(0,Q.jsx)(h.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.duration.over15min"}),value:(null==Ce?void 0:Ce.durationOver15Min)||0,suffix:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.unit.sessions"})})})]})]}),(0,Q.jsxs)(f.Z,{gutter:[16,16],style:{marginTop:24},children:[(0,Q.jsx)(p.Z,{span:12,children:(0,Q.jsx)(x.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.trend"}),extra:(0,Q.jsxs)(v.ZP.Group,{defaultValue:"day",children:[(0,Q.jsx)(v.ZP.Button,{value:"day",children:"日"}),(0,Q.jsx)(v.ZP.Button,{value:"week",children:"周"}),(0,Q.jsx)(v.ZP.Button,{value:"month",children:"月"})]}),children:(0,Q.jsx)(z.Z,{data:[{date:"2024-01-01",type:"总会话数",count:120},{date:"2024-01-02",type:"总会话数",count:132},{date:"2024-01-01",type:"已评价",count:89},{date:"2024-01-02",type:"已评价",count:98}],xField:"date",yField:"count",seriesField:"type",animation:{appear:{duration:1e3}}})})}),(0,Q.jsx)(p.Z,{span:12,children:(0,Q.jsx)(x.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.distribution"}),children:(0,Q.jsx)(N.Z,{data:Be,angleField:"value",colorField:"type",radius:.8,label:{style:{fontSize:12,fill:"#666"},autoRotate:!0},tooltip:{showTitle:!1,formatter:function(e){return{name:e.type||"",value:e.value?"".concat(e.value,"人"):""}}},legend:{position:"bottom",itemWidth:100},interactions:[{type:"element-active"}],animation:{appear:{duration:1e3}},height:300})})})]}),(0,Q.jsxs)(f.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,Q.jsx)(p.Z,{span:12,children:(0,Q.jsx)(x.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.peakHours"}),children:(0,Q.jsx)(L.Z,{data:[{hour:"09:00",day:"周一",value:28},{hour:"10:00",day:"周一",value:35}],xField:"hour",yField:"day",colorField:"value",animation:!1,legend:{position:"right"},tooltip:{title:"会话数",formatter:function(e){return{name:"".concat(e.day," ").concat(e.hour),value:e.value}}}})})}),(0,Q.jsx)(p.Z,{span:12,children:(0,Q.jsx)(x.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.ranking"}),extra:(0,Q.jsxs)(u.default,{defaultValue:"sessions",style:{width:120},children:[(0,Q.jsx)(te,{value:"sessions",children:"会话量"}),(0,Q.jsx)(te,{value:"satisfaction",children:"满意度"}),(0,Q.jsx)(te,{value:"response",children:"响应时间"})]}),children:(0,Q.jsx)($.Z,{data:[{agent:"客服A",sessions:156,satisfaction:4.8},{agent:"客服B",sessions:142,satisfaction:4.7}],xField:"agent",yField:"sessions",label:{position:"top"},animation:{appear:{duration:1e3}}})})})]}),(0,Q.jsxs)(f.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,Q.jsx)(p.Z,{span:12,children:(0,Q.jsx)(x.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.comparison"}),extra:(0,Q.jsxs)(m.Z,{children:[(0,Q.jsxs)(u.default,{defaultValue:"sessions",style:{width:120},children:[(0,Q.jsx)(te,{value:"sessions",children:"会话量"}),(0,Q.jsx)(te,{value:"satisfaction",children:"满意度"}),(0,Q.jsx)(te,{value:"response",children:"响应时间"})]}),(0,Q.jsxs)(v.ZP.Group,{defaultValue:"mom",children:[(0,Q.jsx)(v.ZP.Button,{value:"mom",children:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.comparison.mom"})}),(0,Q.jsx)(v.ZP.Button,{value:"yoy",children:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.comparison.yoy"})})]})]}),children:(0,Q.jsx)($.Z,{data:[{date:"2024-01",type:"本期",metric:"会话量",value:1200},{date:"2024-01",type:"环比",metric:"会话量",value:1150},{date:"2024-01",type:"同比",metric:"会话量",value:980}],xField:"type",yField:"value",seriesField:"metric",isGroup:!0,columnStyle:{radius:[4,4,0,0]},label:{position:"top"}})})}),(0,Q.jsx)(p.Z,{span:12,children:(0,Q.jsx)(x.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.quality"}),children:(0,Q.jsx)(_.Z,{data:[[{date:"2024-01-01",value:92,type:"实际"},{date:"2024-01-02",value:93,type:"实际"},{date:"2024-01-03",value:95,type:"实际"},{date:"2024-01-04",value:94,type:"实际"},{date:"2024-01-05",value:96,type:"实际"}],[{date:"2024-01-01",target:95},{date:"2024-01-02",target:95},{date:"2024-01-03",target:95},{date:"2024-01-04",target:95},{date:"2024-01-05",target:95}]],xField:"date",yField:["value","target"],geometryOptions:[{geometry:"column",columnStyle:{radius:[4,4,0,0]}},{geometry:"line",lineStyle:{lineWidth:2}}],legend:{itemName:{formatter:function(e){return"value"===e?s.formatMessage({id:"service.statistic.quality.actual"}):s.formatMessage({id:"service.statistic.quality.target"})}}},yAxis:{value:{min:80,max:100},target:{min:80,max:100}},tooltip:{formatter:function(e){return{name:e.target?s.formatMessage({id:"service.statistic.quality.target"}):s.formatMessage({id:"service.statistic.quality.actual"}),value:e.target||e.value}}},animation:{appear:{duration:1e3}}})})})]}),(0,Q.jsx)(x.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.performance"}),style:{marginTop:24},extra:(0,Q.jsxs)(m.Z,{children:[(0,Q.jsx)(g.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.export.excel"}),children:(0,Q.jsx)(j.ZP,{icon:(0,Q.jsx)(A.Z,{})})}),(0,Q.jsx)(g.Z,{title:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.export.pdf"}),children:(0,Q.jsx)(j.ZP,{icon:(0,Q.jsx)(Y.Z,{})})})]}),children:(0,Q.jsx)(y.Z,{columns:Ee,dataSource:[],scroll:{x:!0},size:"small",locale:{emptyText:(0,Q.jsx)(G.FormattedMessage,{id:"service.statistic.tips.noData"})}})})]})}}}]);