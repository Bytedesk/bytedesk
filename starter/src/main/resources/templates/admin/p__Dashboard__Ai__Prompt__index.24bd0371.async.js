"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1466],{50484:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(17082),o=n(44194),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},s=n(64423),i=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};var l=o.forwardRef(i)},70458:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(17082),o=n(44194),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},s=n(64423),i=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};var l=o.forwardRef(i)},69957:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(17082),o=n(44194),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},s=n(64423),i=function(e,t){return o.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};var l=o.forwardRef(i)},8091:function(e,t,n){var r=n(17082),o=n(51190),a=n(19753),s=n(44194),i=n(84686),l=n(39647),c=n(31549),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=function(e,t){var n=e.fieldProps,d=e.children,f=e.params,p=e.proFieldProps,g=e.mode,m=e.valueEnum,v=e.request,y=e.showSearch,h=e.options,x=(0,o.Z)(e,u),b=(0,s.useContext)(i.Z);return(0,c.jsx)(l.Z,(0,r.Z)((0,r.Z)({valueEnum:(0,a.h)(m),request:v,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({options:h,mode:g,showSearch:y,getPopupContainer:b.getPopupContainer},n),ref:t,proFieldProps:p},x),{},{children:d}))},p=s.forwardRef((function(e,t){var n=e.fieldProps,u=e.children,f=e.params,p=e.proFieldProps,g=e.mode,m=e.valueEnum,v=e.request,y=e.options,h=(0,o.Z)(e,d),x=(0,r.Z)({options:y,mode:g||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},n),b=(0,s.useContext)(i.Z);return(0,c.jsx)(l.Z,(0,r.Z)((0,r.Z)({valueEnum:(0,a.h)(m),request:v,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({getPopupContainer:b.getPopupContainer},x),ref:t,proFieldProps:p},h),{},{children:u}))})),g=s.forwardRef(f);g.SearchSelect=p,g.displayName="ProFormComponent",t.Z=g},11607:function(e,t,n){var r=n(17082),o=n(51190),a=n(44194),s=n(39647),i=n(31549),l=["fieldProps","proFieldProps"],c=function(e,t){var n=e.fieldProps,a=e.proFieldProps,c=(0,o.Z)(e,l);return(0,i.jsx)(s.Z,(0,r.Z)({ref:t,valueType:"textarea",fieldProps:n,proFieldProps:a},c))};t.Z=a.forwardRef(c)},63833:function(e,t,n){n.d(t,{$l:function(){return y},JT:function(){return x},gf:function(){return w},lg:function(){return p},p0:function(){return d},s9:function(){return m}});var r=n(90819),o=n.n(r),a=n(73193),s=n.n(a),i=n(89933),l=n.n(i),c=n(77667),u=n(82045);function d(e){return f.apply(this,arguments)}function f(){return(f=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/robot/query/org",{method:"GET",params:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return(g=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/robot/create",{method:"POST",data:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/robot/create/prompt",{method:"POST",data:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return h.apply(this,arguments)}function h(){return(h=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/robot/update",{method:"POST",data:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return b.apply(this,arguments)}function b(){return(b=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/robot/update/prompt",{method:"POST",data:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return C.apply(this,arguments)}function C(){return(C=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/robot/delete",{method:"POST",data:s()(s()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},92349:function(e,t,n){n.d(t,{G:function(){return f}});var r=n(73193),o=n.n(r),a=(n(44194),n(17433)),s=n(77667),i=n(28977),l=n.n(i),c=n(89756),u=n(33934),d=n(31549),f=function(e){var t=e.children,n=e.onSuccess,r=e.onError,i={file:null,file_name:"test.png",file_type:"image/png",is_avatar:"true",kb_type:s.IrL,category_uid:"",kb_uid:"",client:s.bVn},f={name:"file",accept:"image/*",action:(0,u.M$)(),headers:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},data:i,showUploadList:!1,beforeUpload:function(e){console.log("beforeUpload",e);var t=l()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name;i.file=e,i.file_name=t,i.file_type=e.type,console.log("beforeUpload",i)},onChange:function(e){if("uploading"!==e.file.status&&console.log("not uploading:",e.file),"done"===e.file.status)if(console.log("response: ",e.file.response),200===e.file.response.code){var t=e.file.response.data;n(t),c.yw.success("".concat(e.file.name," 上传成功"))}else r(e.file),c.yw.error("".concat(e.file.name," 上传失败"));else"error"===e.file.status&&(c.yw.error("".concat(e.file.name," 上传失败")),r(e.file))}};return(0,d.jsx)(a.Z,o()(o()({},f),{},{children:t}))}},39641:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var r=n(64476),o=n(93139),a=n(77667),s=n(90819),i=n.n(s),l=n(89933),c=n.n(l),u=n(45332),d=n.n(u),f=n(44194),p=n(83730),g=n(80093),m=n(12265),v=n(90136),y=n(74145),h=n(26305),x=n(72272),b=n(89756),w=n(40431),C=n(1780),Z=n(82045),k=n(50484),j=n(70458),S=n(56913),M=n(31549),P=function(e){var t,n=e.level,r=e.type,o=(0,y.Z)().isDarkMode,a=(0,Z.useIntl)(),s=(0,f.useState)(!0),l=d()(s,2),u=l[0],P=l[1],E=(0,w.u)((function(e){return e.currentOrg})),O=(0,C.Z)(),F=O.translateString,T=(O.translateStringTranct,(0,f.useState)(!1)),$=d()(T,2),q=$[0],R=$[1],z=p.Z.useModal(),I=d()(z,2),U=I[0],V=I[1],L=(0,h.v)((function(e){return{categoryResult:e.categoryResult,currentCategory:e.currentCategory,setCategoryResult:e.setCategoryResult,setCurrentCategory:e.setCurrentCategory,insertCategory:e.insertCategory,upgradeCategory:e.upgradeCategory}})),D=L.categoryResult,G=L.currentCategory,N=L.setCategoryResult,A=L.setCurrentCategory,_=L.insertCategory,B=L.upgradeCategory,H=function(){var e=c()(i()().mark((function e(){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleEditCategory: ",G),P(!0),R(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=c()(i()().mark((function e(t){var n,r;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleDeleteCategory: ",t),n={uid:null==t?void 0:t.uid,orgUid:null==E?void 0:E.uid},e.next=4,(0,x.uu)(n);case 4:r=e.sent,console.log("deleteCategory: ",r),200===r.code?(b.yw.success(r.message),Y()):b.yw.error(r.message);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=c()(i()().mark((function e(){var t,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("requestCategories",n,r),t={pageNumber:0,pageSize:100,orgUid:null==E?void 0:E.uid,level:n,type:r},e.next=4,(0,x.XS)(t);case 4:o=e.sent,console.log("queryCategoriesByOrg: ",o),200===o.code?N(o):b.yw.error(o.message);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){Y()}),[]);var X=function(){var e=c()(i()().mark((function e(t){var n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleSubmit: ",t),b.yw.loading(a.formatMessage({id:"creating"})),e.next=4,(0,x.k4)(t);case 4:n=e.sent,console.log("createCategory response: ",n),200===n.code?(b.yw.destroy(),b.yw.success(a.formatMessage({id:"create.success"})),_(n.data),R(!1)):(b.yw.destroy(),b.yw.error(n.message));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=c()(i()().mark((function e(t){var n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleUpdateCategory: ",t),b.yw.loading(a.formatMessage({id:"updating"})),e.next=4,(0,x.yr)(t);case 4:n=e.sent,console.log("createCategory response: ",n),200===n.code?(b.yw.destroy(),b.yw.success(a.formatMessage({id:"update.success"})),B(n.data),R(!1)):(b.yw.destroy(),b.yw.error(n.message));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=c()(i()().mark((function e(t){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleSubmit: ",t),u?J(t):X(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(g.Z,{gap:"small",wrap:"wrap",style:{marginBottom:5},children:[(0,M.jsx)(m.ZP,{type:"primary",size:"small",icon:(0,M.jsx)(j.Z,{}),onClick:function(){P(!1),R(!0)},children:a.formatMessage({id:"create"})}),""!==(null==G?void 0:G.uid)&&"all"!==(null==G?void 0:G.uid)&&(0,M.jsx)(m.ZP,{size:"small",onClick:H,children:a.formatMessage({id:"pages.robot.edit"})}),""!==(null==G?void 0:G.uid)&&"all"!==(null==G?void 0:G.uid)&&(0,M.jsx)(m.ZP,{onClick:function(){return function(e){U.confirm({title:a.formatMessage({id:"deleteTip"}),icon:(0,M.jsx)(k.Z,{}),content:"".concat(a.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(F(e.name),"】？"),onOk:function(){Q(e)},onCancel:function(){},okText:a.formatMessage({id:"ok"}),cancelText:a.formatMessage({id:"cancel"})})}(G)},size:"small",style:{float:"right"},danger:!0,children:a.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})})]}),(0,M.jsx)(v.Z,{itemLayout:"horizontal",dataSource:null==D||null===(t=D.data)||void 0===t?void 0:t.content,renderItem:function(e,t){return(0,M.jsx)(v.Z.Item,{style:(null==G?void 0:G.uid)===e.uid?{backgroundColor:o?"#333333":"#dddddd",cursor:"pointer"}:{cursor:"pointer"},onClick:function(){return t=e,console.log("list on click",t),void A(t);var t},children:(0,M.jsx)(v.Z.Item.Meta,{style:{marginLeft:"10px"},title:F(e.name)})})}}),q&&(0,M.jsx)(S.Z,{open:q,level:n,type:r,isEdit:u,onCancel:function(){R(!1)},onSubmit:W}),V]})},E=n(73193),O=n.n(E),F=n(76711),T=n.n(F),$=n(62599),q=n(63833),R=n(5728),z=n(8091),I=n(43688),U=n(11607),V=n(61411),L=n(21276),D=n(92349),G=n(69957),N=function(e){var t,n=e.isEdit,r=e.robot,o=e.open,s=e.level,i=e.onClose,l=e.onSubmit,c=R.A.useForm(),u=d()(c,1)[0],p=(0,Z.useIntl)(),g=(0,w.u)((function(e){return e.currentOrg})),v=(0,f.useState)("https://cdn.weiyuai.cn/assets/images/llm/provider/zhipu.png"),y=d()(v,2),x=y[0],k=(y[1],(0,f.useState)()),j=d()(k,2),S=j[0],P=j[1],E=(0,h.v)((function(e){return e.categoryResult})),O=(0,C.Z)(),F=O.translateString;O.translateStringTranct;(0,f.useEffect)((function(){if(n&&r&&u){var e,t;u.setFieldsValue({uid:null==r?void 0:r.uid,nickname:null==r?void 0:r.nickname,prompt:null==r||null===(e=r.llm)||void 0===e?void 0:e.prompt,description:null==r?void 0:r.description,categoryUid:null==r?void 0:r.categoryUid});var o=null==E||null===(t=E.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.find((function(e){return e.uid===(null==r?void 0:r.categoryUid)}));P(o)}else console.log("form resetFields"),u.resetFields()}),[r]);(0,f.useEffect)((function(){}),[r]);return(0,M.jsx)("div",{children:(0,M.jsx)(V.Z,{title:n?"编辑智能体":"新建智能体",width:650,onClose:i,open:o,extra:(0,M.jsxs)($.Z,{children:[(0,M.jsx)(m.ZP,{onClick:i,children:"取消"}),(0,M.jsx)(m.ZP,{onClick:function(){console.log("handleSubmit"),u.validateFields().then((function(e){console.log("Form values:",e);var t={uid:n?null==r?void 0:r.uid:"",nickname:e.nickname,avatar:x,categoryUid:null==S?void 0:S.uid,llm:{prompt:e.prompt},description:e.description,type:a.Qeb,level:s,orgUid:null==g?void 0:g.uid};console.log("robotObject:",t),l(t)})).catch((function(e){console.log("Form errors:",e)}))},type:"primary",children:"保存"})]}),children:(0,M.jsxs)(R.A,{form:u,name:"model",submitter:!1,children:[(0,M.jsx)(z.Z,{label:"类别",name:"categoryUid",required:!0,options:null==E||null===(t=E.data)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.filter((function(e){return"all"!==e.uid})))||void 0===t?void 0:t.map((function(e){return{label:F(null==e?void 0:e.name),value:null==e?void 0:e.uid}})),fieldProps:{allowClear:!0,onChange:function(e){var t;console.log("handleChange:",e),P(null==E||null===(t=E.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.find((function(t){return t.uid===e})))}}}),(0,M.jsx)(I.Z,{label:"昵称",name:"nickname",required:!0}),(0,M.jsx)(R.A.Item,{name:"avatar",valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:null==e?void 0:e.fileList},label:p.formatMessage({id:"pages.robot.tab.avatar",defaultMessage:"Avatar"}),children:(0,M.jsxs)(D.G,{onSuccess:function(e){console.log("handleUploadSuccess:",e)},onError:function(e){console.log("handleUploadError:",e),b.yw.error(e)},children:[(0,M.jsx)(L.C,{src:x}),(0,M.jsx)(m.ZP,{icon:(0,M.jsx)(G.Z,{}),children:p.formatMessage({id:"pages.robot.upload",defaultMessage:"Upload"})})]},"avatar")}),(0,M.jsx)(U.Z,{label:"提示语Prompt",name:"prompt",required:!0}),(0,M.jsx)(U.Z,{label:"简介描述",name:"description"})]})})})},A=n(31816),_=function(e){var t=e.level,n=(e.type,(0,f.useRef)(!1)),r=(0,Z.useIntl)(),o=(0,y.Z)().isDarkMode,s=(0,f.useState)(!0),l=d()(s,2),u=l[0],g=l[1],x=(0,C.Z)(),j=x.translateString,S=(x.translateStringTranct,(0,f.useState)(!1)),P=d()(S,2),E=P[0],F=P[1],R=(0,f.useState)(),z=d()(R,2),I=z[0],U=z[1],V=(0,f.useState)({}),L=d()(V,2),D=L[0],G=L[1],_=(0,h.v)((function(e){return e.currentCategory})),B=(0,w.u)((function(e){return e.currentOrg})),H=p.Z.useModal(),Q=d()(H,2),Y=Q[0],X=Q[1],J=function(){var e=c()(i()().mark((function e(t){var n,o,a;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete robot",t),b.yw.loading(r.formatMessage({id:"deleting",defaultMessage:"Deleting"})),e.next=4,(0,q.gf)(t);case 4:if(n=e.sent,console.log("delete robot response",n),200!==n.code){e.next=21;break}b.yw.destroy(),b.yw.success(r.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),o=T()(null==I?void 0:I.data.content),e.t0=i()().keys(o);case 11:if((e.t1=e.t0()).done){e.next=18;break}if(a=e.t1.value,o[a].uid!==t.uid){e.next=16;break}return o.splice(Number(a),1),e.abrupt("break",18);case 16:e.next=11;break;case 18:U(O()(O()({},I),{},{data:{content:o}})),e.next=23;break;case 21:b.yw.destroy(),b.yw.error(n.message);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=c()(i()().mark((function e(){var r,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=3;break}return console.log("isLoading: 1",n.current),e.abrupt("return");case 3:return n.current=!0,b.yw.loading("loading"),r={pageNumber:0,pageSize:100,orgUid:null==B?void 0:B.uid,categoryUid:"all"===(null==_?void 0:_.uid)?"":null==_?void 0:_.uid,type:a.Qeb,level:t},e.next=8,(0,q.p0)(r);case 8:o=e.sent,console.log("getPlatformRobots queryRobotsByOrg: ",o),200===o.code?(b.yw.destroy(),U(o)):(b.yw.destroy(),b.yw.error(o.message)),n.current=!1;case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){W()}),[_]);var K=function(){var e=c()(i()().mark((function e(t){var n,o,a,s,l;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleSubmit"),!u){e.next=24;break}return e.next=4,(0,q.JT)(t);case 4:if(n=e.sent,console.log("updatePromptRobot:",n),200!==n.code){e.next=21;break}b.yw.success(r.formatMessage({id:"update.success",defaultMessage:"update success"})),o=T()(null==I?void 0:I.data.content),e.t0=i()().keys(o);case 10:if((e.t1=e.t0()).done){e.next=17;break}if(a=e.t1.value,o[a].uid!==t.uid){e.next=15;break}return o[a]=null==n?void 0:n.data,e.abrupt("break",17);case 15:e.next=10;break;case 17:U(O()(O()({},I),{},{data:{content:o}})),F(!1),e.next=22;break;case 21:b.yw.error(n.message);case 22:e.next=29;break;case 24:return e.next=26,(0,q.s9)(t);case 26:s=e.sent,console.log("createPromptRobot:",s),200===s.code?(b.yw.success(r.formatMessage({id:"create.success",defaultMessage:"create success"})),(l=T()(null==I?void 0:I.data.content)).unshift(null==s?void 0:s.data),U(O()(O()({},I),{},{data:{content:l}})),F(!1)):b.yw.error(s.message);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e,t){var n;console.log("list on delete",e,t),G(e),n=e,Y.confirm({title:r.formatMessage({id:"deleteTip"}),icon:(0,M.jsx)(k.Z,{}),content:"".concat(r.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(j(n.nickname),"】？"),onOk:function(){J(n)},onCancel:function(){},okText:r.formatMessage({id:"ok"}),cancelText:r.formatMessage({id:"cancel"})})};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)($.Z,{children:(0,M.jsx)(m.ZP,{icon:(0,M.jsx)(A.Z,{}),type:"primary",onClick:function(){g(!1),F(!0)},children:"添加智能体"})}),(0,M.jsx)(v.Z,{itemLayout:"horizontal",dataSource:null==I?void 0:I.data.content,renderItem:function(e,t){var n;return(0,M.jsx)(v.Z.Item,{style:(null==D?void 0:D.uid)===e.uid?{backgroundColor:o?"#333333":"#dddddd",cursor:"pointer"}:{cursor:"pointer"},onClick:function(){return t=e,console.log("list on click",t),void G(t);var t},actions:[(0,M.jsx)(m.ZP,{type:"link",onClick:function(){return function(e,t){console.log("list on edit",e,t),g(!0),G(e),F(!0)}(e,t)},children:r.formatMessage({id:"pages.robot.edit",defaultMessage:"Edit"})},"edit"),(0,M.jsx)(m.ZP,{type:"link",onClick:function(){return ee(e,t)},children:r.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})},"delete")],children:(0,M.jsx)(v.Z.Item.Meta,{style:{marginLeft:"10px"},title:j(null==e?void 0:e.nickname)+(null!=e&&e.description?" - "+j(null==e?void 0:e.description):""),description:null==e||null===(n=e.llm)||void 0===n?void 0:n.prompt})},null==e?void 0:e.uid)}}),E&&(0,M.jsx)(N,{isEdit:u,robot:D,level:t,open:E,onClose:function(){return F(!1)},onSubmit:K}),X]})},B=r.Z.Sider,H=r.Z.Content,Q=function(){var e=(0,o.Z)(),t=e.leftSiderStyle,n=e.leftSiderWidth,s=e.contentStyle;return(0,M.jsxs)(r.Z,{children:[(0,M.jsx)(B,{width:n,style:t,children:(0,M.jsx)(P,{level:a.whQ,type:a.Kvk})}),(0,M.jsx)(r.Z,{children:(0,M.jsx)(H,{style:s,children:(0,M.jsx)(_,{level:a.whQ})})})]})}},80093:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(44194),o=n(51865),a=n.n(o),s=n(82252),i=n(74511),l=n(19735),c=n(2645),u=n(53681);const d=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],p=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];var g=function(e,t){return a()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${n}`]:n&&d.includes(n)}})(e,t)),((e,t)=>{const n={};return p.forEach((r=>{n[`${e}-align-${r}`]=t.align===r})),n[`${e}-align-stretch`]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return f.forEach((r=>{n[`${e}-justify-${r}`]=t.justify===r})),n})(e,t)))};const m=e=>{const{componentCls:t}=e;return{[t]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},v=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},y=e=>{const{componentCls:t}=e,n={};return d.forEach((e=>{n[`${t}-wrap-${e}`]={flexWrap:e}})),n},h=e=>{const{componentCls:t}=e,n={};return p.forEach((e=>{n[`${t}-align-${e}`]={alignItems:e}})),n},x=e=>{const{componentCls:t}=e,n={};return f.forEach((e=>{n[`${t}-justify-${e}`]={justifyContent:e}})),n};var b=(0,c.I$)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:r}=e,o=(0,u.IX)(e,{flexGapSM:t,flexGap:n,flexGapLG:r});return[m(o),v(o),y(o),h(o),x(o)]}),(()=>({})),{resetStyle:!1}),w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const C=r.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:o,className:c,style:u,flex:d,gap:f,children:p,vertical:m=!1,component:v="div"}=e,y=w(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:h,direction:x,getPrefixCls:C}=r.useContext(l.E_),Z=C("flex",n),[k,j,S]=b(Z),M=null!=m?m:null==h?void 0:h.vertical,P=a()(c,o,null==h?void 0:h.className,Z,j,S,g(Z,e),{[`${Z}-rtl`]:"rtl"===x,[`${Z}-gap-${f}`]:(0,i.n)(f),[`${Z}-vertical`]:M}),E=Object.assign(Object.assign({},null==h?void 0:h.style),u);return d&&(E.flex=d),f&&!(0,i.n)(f)&&(E.gap=f),k(r.createElement(v,Object.assign({ref:t,className:P,style:E},(0,s.Z)(y,["justify","wrap","align"])),p))}));var Z=C}}]);