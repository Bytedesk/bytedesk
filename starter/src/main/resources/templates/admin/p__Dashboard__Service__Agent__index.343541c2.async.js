"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[642],{3418:function($,C,e){e.d(C,{W:function(){return x},x:function(){return F}});var E=e(15009),s=e.n(E),U=e(97857),o=e.n(U),f=e(99289),j=e.n(f),h=e(86745);function x(_){return m.apply(this,arguments)}function m(){return m=j()(s()().mark(function _(A){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.request)("/api/v1/agent/query",{method:"GET",params:o()(o()({},A),{},{client:"web"})}));case 1:case"end":return a.stop()}},_)})),m.apply(this,arguments)}function F(_){return c.apply(this,arguments)}function c(){return c=j()(s()().mark(function _(A){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.request)("/api/v1/agent/create",{method:"POST",data:o()(o()({},A),{},{client:"web"})}));case 1:case"end":return a.stop()}},_)})),c.apply(this,arguments)}},24172:function($,C,e){e.d(C,{Kq:function(){return x},tn:function(){return _}});var E=e(97857),s=e.n(E),U=e(15009),o=e.n(U),f=e(99289),j=e.n(f),h=e(86745);function x(d){return m.apply(this,arguments)}function m(){return m=j()(o()().mark(function d(a){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,h.request)("/api/org",{method:"POST",data:{nickname:a,client:"web"}}));case 1:case"end":return u.stop()}},d)})),m.apply(this,arguments)}function F(d){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function d(a){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/v1/org/query",{method:"GET",params:_objectSpread(_objectSpread({},a),{},{client:"web"})}));case 1:case"end":return u.stop()}},d)})),c.apply(this,arguments)}function _(d){return A.apply(this,arguments)}function A(){return A=j()(o()().mark(function d(a){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,h.request)("/api/v1/org/uid",{method:"GET",params:{uid:a,client:"web"}}));case 1:case"end":return u.stop()}},d)})),A.apply(this,arguments)}},77154:function($,C,e){var E=e(39825);function s(){var U=(0,E.Z)(),o=U.isDarkMode,f={borderRight:o?"1px solid #333":"1px solid #ccc",background:o?"#141414":"#eee",width:260},j={background:o?"#141414":"#fff"},h={borderLeft:o?"1px solid #333":"1px solid #ccc",background:o?"#141414":"#eee"},x={minHeight:120};return{leftSiderStyle:f,headerStyle:j,rightSiderStyle:h,contentStyle:x}}C.Z=s},26813:function($,C,e){e.r(C),e.d(C,{default:function(){return Ae}});var E=e(21612),s=e(67294),U=e(48096),o=e(15009),f=e.n(o),j=e(99289),h=e.n(j),x=e(5574),m=e.n(x),F=e(80049),c=e(30694),_=e(34994),A=e(62370),d=e(77636),a=e(5966),g=e(90672),u=e(86745),i=e(8232),R=e(7134),H=e(27484),S=e.n(H),n=e(85893),Q=function(){var D=i.Z.useForm(),y=m()(D,1),l=y[0],M=(0,u.useIntl)(),r=(0,c.E)(function(O){return O.currentAgent});(0,s.useEffect)(function(){var O=c.E.subscribe(function(t){l.setFieldValue("nickname",t.currentAgent.nickname),l.setFieldValue("avatar",t.currentAgent.avatar),l.setFieldValue("email",t.currentAgent.email),l.setFieldValue("mobile",t.currentAgent.mobile),l.setFieldValue("description",t.currentAgent.description)});return O},[r]);var T={file_name:"test.png",username:"",type:"",kbname:"",client:"web"},Z={name:"file",action:"/visitor/api/upload/avatar",showUploadList:!1,data:T,beforeUpload:function(t){console.log("file:",t," uploadData:",T);var p=S()(new Date).format("YYYYMMDDHHmmss");return T.file_name=p+t.name,!0},onChange:function(t){if(t.file.status!=="uploading"&&console.log(t.file,t.fileList),t.file.status==="done"){var p=t.file.response.data;console.log("url: ",p),F.yw.success("".concat(t.file.name," file uploaded successfully"))}else t.file.status==="error"&&F.yw.error("".concat(t.file.name," file upload failed."))}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(_.A,{form:l,style:{marginLeft:"100px"},onFinish:function(){var O=h()(f()().mark(function t(p){return f()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:console.log("onFinish:",p);case 1:case"end":return W.stop()}},t)}));return function(t){return O.apply(this,arguments)}}(),initialValues:{nickname:r==null?void 0:r.nickname,email:r==null?void 0:r.email,mobile:r==null?void 0:r.mobile,avatar:r==null?void 0:r.avatar,description:r==null?void 0:r.description},children:[(0,n.jsxs)(A.Z,{name:"avatar",label:"\u5934\u50CF",children:[(0,n.jsx)(R.C,{src:r.avatar}),(0,n.jsx)(d.Z,{})]}),(0,n.jsx)(a.Z,{width:"md",name:"nickname",label:"\u5BA2\u670D\u6635\u79F0"}),(0,n.jsx)(a.Z,{width:"md",name:"email",label:"\u90AE\u7BB1"}),(0,n.jsx)(a.Z,{width:"md",name:"mobile",label:"\u624B\u673A\u53F7"}),(0,n.jsx)(g.Z,{width:"md",name:"description",label:"\u63CF\u8FF0"})]})})},X=Q,q=function(){var D=i.Z.useForm(),y=m()(D,1),l=y[0],M=(0,c.E)(function(r){return r.currentAgent});return(0,s.useEffect)(function(){var r=c.E.subscribe(function(T){l.setFieldValue("welcomeTip",T.currentAgent.welcomeTip)});return r},[M]),(0,n.jsx)(_.A,{form:l,style:{marginLeft:"100px"},initialValues:{welcomeTip:M.welcomeTip},children:(0,n.jsx)(g.Z,{width:"md",name:"welcomeTip",label:"\u6B22\u8FCE\u8BED"})})},ee=q,k=e(14726),ne=function(){var D=i.Z.useForm(),y=m()(D,1),l=y[0],M=(0,c.E)(function(t){return t.currentAgent}),r=(0,s.useMemo)(function(){return"http://localhost:9006/?t=1&sid="+M.uid+"&"},[M]);(0,s.useEffect)(function(){var t=c.E.subscribe(function(p){console.log("currentAgent code:",p.currentAgent),l.setFieldValue("code","http://localhost:9006/?t=1&sid="+p.currentAgent.uid+"&")});return t},[M]);var T=function(){window.open(r)},Z=function(){navigator.clipboard.writeText(r),F.yw.info("code copyied into clicpboard")},O=function(p,P){return[(0,n.jsx)(k.ZP,{type:"primary",onClick:function(){var K;(K=p.form)===null||K===void 0||K.submit(),T()},children:"\u6253\u5F00"},"submit"),(0,n.jsx)(k.ZP,{onClick:function(){Z()},children:"\u590D\u5236"},"reset")]};return(0,n.jsx)(_.A,{form:l,style:{marginLeft:"100px"},submitter:{render:O},initialValues:{code:r},children:(0,n.jsx)(g.Z,{width:"md",name:"code",label:"\u5BA2\u670D\u4EE3\u7801"})})},te=ne,V=e(78045),re=function(){var D=i.Z.useForm(),y=m()(D,1),l=y[0],M=(0,c.E)(function(p){return p.currentAgent}),r=(0,s.useState)(!1),T=m()(r,2),Z=T[0],O=T[1],t=function(P){console.log("radio checked",P.target.value),O(P.target.value)};return(0,s.useEffect)(function(){var p=c.E.subscribe(function(P){l.setFieldValue("nickname",P.currentAgent.nickname)});return p},[M]),(0,n.jsx)(i.Z,{form:l,style:{marginLeft:"100px"},children:(0,n.jsx)(i.Z.Item,{label:"\u673A\u5668\u4EBA",children:(0,n.jsxs)(V.ZP.Group,{onChange:t,value:Z,children:[(0,n.jsx)(V.ZP,{value:!0,children:"\u5F00\u542F"}),(0,n.jsx)(V.ZP,{value:!1,children:"\u5173\u95ED"})]})})})},ae=re,se=function(){var D=(0,u.useIntl)(),y=function(r){console.log(r)},l=[{key:"basic",label:D.formatMessage({id:"pages.robot.tab.basic",defaultMessage:"Basic"}),children:(0,n.jsx)(X,{})},{key:"tip",label:"\u6B22\u8FCE\u8BED",children:(0,n.jsx)(ee,{})},{key:"robot",label:"\u673A\u5668\u4EBA",children:(0,n.jsx)(ae,{})},{key:"code",label:"\u5BA2\u670D\u4EE3\u7801",children:(0,n.jsx)(te,{})}];return(0,n.jsx)(U.Z,{defaultActiveKey:"1",items:l,onChange:y})},ue=se,ie=e(3418),le=e(39825),oe=e(87676),_e=e(64789),de=e(86250),z=e(2487),me=e(85576),G=e(96365),ce=function(){var D=i.Z.useForm(),y=m()(D,1),l=y[0],M=(0,le.Z)(),r=M.isDarkMode,T=(0,s.useState)(!1),Z=m()(T,2),O=Z[0],t=Z[1],p=(0,oe.u)(function(v){return v.orgCurrent}),P=(0,c.E)(function(v){return{agents:v.agents,currentAgent:v.currentAgent,createAgent:v.createAgent,setAgents:v.setAgents,setCurrentAgent:v.setCurrentAgent}}),W=P.agents,K=P.currentAgent,be=P.createAgent,Ee=P.setAgents,je=P.setCurrentAgent,De=function(){var v=h()(f()().mark(function b(){var B,I;return f()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return B={pageNumber:0,pageSize:10,orgUid:p.uid},L.next=3,(0,ie.W)(B);case 3:I=L.sent,console.log("get agents",I),I.code===200&&I.data.content.length>0&&Ee(I.data.content);case 6:case"end":return L.stop()}},b)}));return function(){return v.apply(this,arguments)}}();(0,s.useEffect)(function(){De()},[]);var ye=function(){t(!0)},Oe=function(){var v=h()(f()().mark(function b(){var B,I,N,L,J;return f()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:B=l.getFieldValue("nickname"),I=l.getFieldValue("email"),N=l.getFieldValue("mobile"),L=l.getFieldValue("password"),J={nickname:B,email:I,mobile:N,password:L,orgUid:p.uid},be(J),t(!1);case 7:case"end":return Y.stop()}},b)}));return function(){return v.apply(this,arguments)}}(),Ce=function(){t(!1)},Me=function(){ye()},Te=function(b,B){je(b)},Pe=function(b,B){console.log("list on delete",b)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(de.Z,{gap:"small",wrap:"wrap",children:(0,n.jsx)(k.ZP,{type:"primary",size:"small",icon:(0,n.jsx)(_e.Z,{}),onClick:Me,children:"\u521B\u5EFA\u5BA2\u670D\u8D26\u53F7"})}),(0,n.jsx)(z.Z,{itemLayout:"horizontal",dataSource:W,renderItem:function(b,B){return(0,n.jsx)(z.Z.Item,{style:K.uid===b.uid?{backgroundColor:r?"#333333":"#dddddd",cursor:"pointer"}:{cursor:"pointer"},actions:K.uid===b.uid?[(0,n.jsx)("a",{onClick:function(){return Pe(b,B)},children:"\u5220\u9664"},"list-delete")]:[],onClick:function(){return Te(b,B)},children:(0,n.jsx)(z.Z.Item.Meta,{style:{marginLeft:"10px"},avatar:(0,n.jsx)(R.C,{src:b.avatar}),title:b.nickname})})}}),(0,n.jsx)(me.Z,{title:"\u521B\u5EFA\u5BA2\u670D",open:O,onOk:Oe,onCancel:Ce,children:(0,n.jsxs)(i.Z,{form:l,name:"agentForm",style:{maxWidth:400},children:[(0,n.jsx)(i.Z.Item,{label:"\u5BA2\u670D\u6635\u79F0",name:"nickname",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6635\u79F0!"}],children:(0,n.jsx)(G.Z,{})}),(0,n.jsx)(i.Z.Item,{label:"\u90AE\u7BB1",name:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1!"}],children:(0,n.jsx)(G.Z,{})}),(0,n.jsx)(i.Z.Item,{label:"\u624B\u673A\u53F7",name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"}],children:(0,n.jsx)(G.Z,{})}),(0,n.jsx)(i.Z.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:(0,n.jsx)(G.Z,{})})]})})]})},ge=ce,pe=e(77154),ve=E.Z.Sider,fe=E.Z.Content,he=function(){var D=(0,pe.Z)(),y=D.leftSiderStyle,l=D.contentStyle;return(0,s.useEffect)(function(){},[]),(0,n.jsxs)(E.Z,{children:[(0,n.jsx)(ve,{style:y,children:(0,n.jsx)(ge,{})}),(0,n.jsx)(E.Z,{children:(0,n.jsx)(fe,{children:(0,n.jsx)(ue,{})})})]})},Ae=he},30694:function($,C,e){e.d(C,{E:function(){return c}});var E=e(15009),s=e.n(E),U=e(19632),o=e.n(U),f=e(99289),j=e.n(f),h=e(3418),x=e(64529),m=e(782),F=e(71381),c=(0,x.Ue)()((0,m.mW)((0,m.tJ)((0,F.n)(function(_,A){return{agents:[],currentAgent:{uid:"",orgUid:""},createAgent:function(){var d=j()(s()().mark(function g(u){var i,R;return s()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,h.x)(u);case 2:i=S.sent,console.log("create agent:",i),i.code===200&&(R=i.data,_({agents:[R].concat(o()(A().agents)),currentAgent:R}));case 5:case"end":return S.stop()}},g)}));function a(g){return d.apply(this,arguments)}return a}(),setAgents:function(){var d=j()(s()().mark(function g(u){return s()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:A().currentAgent.uid===""?_({agents:u,currentAgent:u[0]}):_({agents:u});case 1:case"end":return R.stop()}},g)}));function a(g){return d.apply(this,arguments)}return a}(),setCurrentAgent:function(a){return _(function(g){g.currentAgent=a})},deleteAgent:function(){return _({},!0)}}}),{name:"AGENT_STORE"})))},87676:function($,C,e){e.d(C,{u:function(){return m}});var E=e(15009),s=e.n(E),U=e(99289),o=e.n(U),f=e(24172),j=e(64529),h=e(782),x=e(71381),m=(0,j.Ue)()((0,h.mW)((0,h.tJ)((0,x.n)(function(F,c){return{orgCurrent:{uid:"",name:"",description:""},setOrgCurrent:function(A){F({orgCurrent:A})},createOrg:function(){var _=o()(s()().mark(function d(a){var g;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.Kq)(a);case 2:g=i.sent,console.log("createOrg:",g),g.code==200;case 5:case"end":return i.stop()}},d)}));function A(d){return _.apply(this,arguments)}return A}(),deleteOrgCache:function(){return F({},!0)}}}),{name:"ORGANIZTION_STORE"})))}}]);
