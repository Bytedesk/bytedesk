"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[5306],{93139:function(e,t,n){var r=n(74145);t.Z=function(){var e=(0,r.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"}}}},10076:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(93139),u=n(6115),i=n(44194),a=n(90819),o=n.n(a),c=n(89933),s=n.n(c),l=n(45332),d=n.n(l),f=n(89756),p=n(73193),y=n.n(p),h=n(77667),g=n(74698);function m(e){return x.apply(this,arguments)}function x(){return(x=s()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,g.request)("/api/v1/meiyu/query",{method:"GET",params:y()(y()({},t),{},{client:h.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(39701),k=n(83642),b=n(41617),T=(0,v.Ue)()((0,k.mW)((0,k.tJ)((0,b.n)((function(e,t){return{currentType:"",meiyuResult:{data:{content:[]}},setCurrentType:function(t){e({currentType:t})},setMeiyuResult:function(t){e({meiyuResult:t})},deleteMeiyuCache:function(){e({currentType:"",meiyuResult:{data:{content:[]}}})}}})),{name:h.z3B}))),S=n(62009),j=n(31549),R=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"标题",dataIndex:"title",copyable:!0},{title:(0,j.jsx)(FormattedMessage,{id:"type",defaultMessage:"Type"}),dataIndex:"type",copyable:!0},{title:"URL",dataIndex:"url",copyable:!0},{title:(0,j.jsx)(FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),dataIndex:"createdAt",sorter:!0,hideInSearch:!0},{title:intl.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",render:function(e,t,n,r){return[(0,j.jsx)("a",{onClick:function(){var e;null==r||null===(e=r.startEditable)||void 0===e||e.call(r,t.uid)},children:"修改"},"editable")]}}],M=function(){var e=(0,i.useRef)(),t=(0,i.useState)(1),n=d()(t,2),r=n[0],u=n[1],a=(0,i.useState)(10),c=d()(a,2),l=c[0],p=c[1],y=T((function(e){return{currentType:e.currentType,meiyuResult:e.meiyuResult,setMeiyuResult:e.setMeiyuResult}})),h=y.currentType,g=y.meiyuResult,x=y.setMeiyuResult,v=function(){var e=s()(o()().mark((function e(){var t,n;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pageNumber:r-1,pageSize:l,type:h},e.next=3,m(t);case 3:n=e.sent,console.log("queryMeiyus response:",t,n),200===n.code?x(n):f.yw.error(n.message);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){v()}),[]),(0,i.useEffect)((function(){v()}),[r,l,h]),(0,i.useEffect)((function(){e.current.reload()}),[g]),(0,j.jsx)(S.Z,{columns:R,actionRef:e,cardBordered:!0,request:function(){var e=s()(o()().mark((function e(t,n,r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,r),u(t.current),p(t.pageSize),e.abrupt("return",Promise.resolve({data:g.data.content,success:!0,total:g.data.totalElements}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{pageSize:l,showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"今日美语",toolBarRender:function(){return[]}})},w=n(80588),C=n(65502),Z=[{title:"全部",key:""},{title:"VOA慢速英语",key:"voa_special_english"},{title:"VOA视频",key:"voa_videos"},{title:"VOA英语教学",key:"voa_english_learning"}],A=function(){var e=T((function(e){return{currentType:e.currentType,setCurrentType:e.setCurrentType}})),t=(e.currentType,e.setCurrentType);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(w.Z,{defaultExpandAll:!0,treeData:Z,titleRender:function(e){return(0,j.jsx)(C.Z.Item,{onClick:function(){return function(e){console.log("handleMeiyuTtpeClick:",e),t(e.key)}(e)},children:(0,j.jsx)(C.Z.Item.Meta,{title:(0,j.jsx)(j.Fragment,{children:e.title}),description:(0,j.jsx)(j.Fragment,{children:e.key})})})},blockNode:!0})})},I=u.Z.Sider,E=u.Z.Content,F=function(){var e=(0,r.Z)(),t=e.leftSiderStyle,n=e.contentStyle;return(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(I,{style:t,children:(0,j.jsx)(A,{})}),(0,j.jsx)(u.Z,{children:(0,j.jsx)(E,{style:n,children:(0,j.jsx)(M,{})})})]})}}}]);