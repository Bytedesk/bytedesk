"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[693],{77154:function(Ge,ue,f){var N=f(39825);function v(){var me=(0,N.Z)(),F=me.isDarkMode,be={borderRight:F?"1px solid #333":"1px solid #ccc",background:F?"#141414":"#eee",width:260},ce={background:F?"#141414":"#fff"},ge={borderLeft:F?"1px solid #333":"1px solid #ccc",background:F?"#141414":"#eee"},g={minHeight:120};return{leftSiderStyle:be,headerStyle:ce,rightSiderStyle:ge,contentStyle:g}}ue.Z=v},55068:function(Ge,ue,f){f.r(ue),f.d(ue,{default:function(){return rn}});var N=f(21612),v=f(67294),me=f(5574),F=f.n(me),be=f(19632),ce=f.n(be),ge=f(15009),g=f.n(ge),Qe=f(99289),T=f.n(Qe),Je=f(97857),U=f.n(Je),R=f(86745);function Xe(r){return ve.apply(this,arguments)}function ve(){return ve=T()(g()().mark(function r(n){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,R.request)("/api/v1/robot/query",{method:"GET",params:U()(U()({},n),{},{client:"web"})}));case 1:case"end":return t.stop()}},r)})),ve.apply(this,arguments)}function qe(r){return xe.apply(this,arguments)}function xe(){return xe=T()(g()().mark(function r(n){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,R.request)("/api/v1/robot/create",{method:"POST",data:{name:n,client:"web"}}));case 1:case"end":return t.stop()}},r)})),xe.apply(this,arguments)}function _e(r){return Fe.apply(this,arguments)}function Fe(){return Fe=T()(g()().mark(function r(n){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,R.request)("/api/v1/robot/update",{method:"POST",data:{rid:n.uid,name:n.name,description:n.description,welcome_tip:n.welcome,avatar:n.avatar,client:"web"}}));case 1:case"end":return t.stop()}},r)})),Fe.apply(this,arguments)}function et(r){return ye.apply(this,arguments)}function ye(){return ye=T()(g()().mark(function r(n){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,R.request)("/api/v1/robot/delete",{method:"POST",data:{rid:n,client:"web"}}));case 1:case"end":return t.stop()}},r)})),ye.apply(this,arguments)}var Le=f(64529),de=f(782),Be=f(71381),I=(0,Le.Ue)()((0,de.mW)((0,de.tJ)((0,Be.n)(function(r,n){return{robots:[],currentRobot:{uid:"",name:""},fetchRobots:function(){var o=T()(g()().mark(function a(){var s,i;return g()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return s={pageNumber:0,pageSize:10},d.next=3,Xe(s);case 3:i=d.sent,console.log("robotPage:",i,i.code,i.message),r({robots:i.data.content}),i.data.content.length>0&&r({currentRobot:i.data.content[0]});case 7:case"end":return d.stop()}},a)}));function t(){return o.apply(this,arguments)}return t}(),createRobot:function(){var o=T()(g()().mark(function a(s){var i;return g()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,qe(s);case 2:i=d.sent,console.log("create robot",i),r(function(l){return{robots:[].concat(ce()(l.robots),[i.data])}});case 5:case"end":return d.stop()}},a)}));function t(a){return o.apply(this,arguments)}return t}(),updateRobot:function(){var o=T()(g()().mark(function a(s,i){var c,d;return g()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return console.log("before update:",s),b.next=3,_e(s);case 3:c=b.sent,i(c),console.log("upate robot",c),d=n().robots.filter(function(u){return u.uid!==s.uid}),r(function(u){return{robots:[s].concat(ce()(d)),currentRobot:s}});case 8:case"end":return b.stop()}},a)}));function t(a,s){return o.apply(this,arguments)}return t}(),deleteRobot:function(){var o=T()(g()().mark(function a(s){var i;return g()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,et(s);case 2:i=d.sent,console.log("delete robot",i),r(function(l){return{robots:l.robots.filter(function(b){return b.uid!==s}),currentRobot:l.robots[0]}});case 5:case"end":return d.stop()}},a)}));function t(a){return o.apply(this,arguments)}return t}(),setCurrentRobot:function(t){var a=n().robots.find(function(s){return s.uid===t});console.log("welcomeTip:",a.welcome),r({currentRobot:a})},deleteRobotCache:function(){return r({},!0)}}}),{name:"ROBOT_STORE"}))),w=f(8232),P=f(45360),ze=f(85576),tt=f(86250),x=f(14726),fe=f(96365),nt=f(11475),rt=f(64789),at=f(39825),e=f(85893),ot=function(){var n=(0,at.Z)(),o=n.isDarkMode,t=w.Z.useForm(),a=F()(t,1),s=a[0],i=(0,R.useIntl)(),c=I(function(p){return{robots:p.robots,currentRobot:p.currentRobot,fetchRobots:p.fetchRobots,createRobot:p.createRobot,deleteRobot:p.deleteRobot,setCurrentRobot:p.setCurrentRobot}}),d=c.robots,l=c.currentRobot,b=c.fetchRobots,u=c.createRobot,m=c.deleteRobot,C=c.setCurrentRobot;(0,v.useEffect)(function(){console.log("fetchRobots"),b()},[]);var j=(0,v.useState)(!1),B=F()(j,2),y=B[0],S=B[1],K=function(){S(!0)},re=function(){var Z=s.getFieldValue("nickname");console.log("nickname",Z),Z?(u(Z),S(!1)):P.ZP.error("\u673A\u5668\u4EBA\u6635\u79F0\u4E0D\u80FD\u4E3A\u7A7A")},Y=function(){S(!1)},V=function(Z){console.log("handleClick",Z),C(Z)},A=function(){K()},W=ze.Z.useModal(),O=F()(W,2),z=O[0],E=O[1],D=function(){if(console.log("handleDeleteRobotClicked"),d.length===1){P.ZP.error("can not delete all robot");return}z.confirm({title:"\u786E\u8BA4\u5220\u9664\uFF1F",icon:(0,e.jsx)(nt.Z,{}),content:"\u786E\u5B9A\u8981\u5220\u9664 {"+l.name+"} ?",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){console.log("OK"),m(l.uid)},onCancel:function(){console.log("Cancel")}})};return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{margin:10},children:(0,e.jsxs)(tt.Z,{gap:"small",align:"flex-start",children:[(0,e.jsx)(x.ZP,{size:"small",type:"primary",icon:(0,e.jsx)(rt.Z,{}),onClick:A,children:i.formatMessage({id:"pages.robot.new",defaultMessage:"New"})}),(0,e.jsx)(x.ZP,{onClick:D,size:"small",style:{float:"right"},danger:!0,disabled:l&&l.uid==="",children:i.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})})]})}),d.map(function(p){return(0,e.jsxs)("li",{className:l&&l.uid===p.uid?o?"list-item-dark dark-active":"list-item active":o?"list-item-dark":"list-item",onClick:function(){return V(p.uid)},children:[(0,e.jsx)("div",{className:"list-left",children:(0,e.jsx)("img",{src:p.avatar,style:{width:40,height:40}})}),(0,e.jsxs)("div",{className:"list-right",children:[(0,e.jsxs)("div",{className:"top",children:[(0,e.jsx)("span",{className:"nickname",children:p.name}),(0,e.jsx)("span",{className:"timestamp"})]}),(0,e.jsx)("div",{className:"bottom",children:(0,e.jsx)("span",{className:"content",children:p.description})})]})]},p.uid)}),(0,e.jsx)(ze.Z,{title:"\u65B0\u5EFA\u673A\u5668\u4EBA",open:y,okText:"\u4FDD\u5B58",onOk:re,onCancel:Y,children:(0,e.jsx)(w.Z,{form:s,name:"basic",style:{maxWidth:400},children:(0,e.jsx)(w.Z.Item,{label:"\u673A\u5668\u4EBA\u6635\u79F0",name:"nickname",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6635\u79F0!"}],children:(0,e.jsx)(fe.Z,{})})})}),E]})},lt=ot,oe=f(48096),ke=f(85322),st=f(9220),$e=f(26859),Ne=f(34994),it=f(5966),je=f(90672),Ue=f(66476),ut=f(7134),ct=f(27484),De=f.n(ct),dt=function(){var r=w.Z.useForm(),n=F()(r,1),o=n[0],t=(0,R.useIntl)(),a=I(function(b){return b.updateRobot}),s=I(function(b){return b.currentRobot});(0,v.useEffect)(function(){var b=I.subscribe(function(u,m){console.log("currentRobot.name: ",u.currentRobot.name),o.setFieldValue("name",u.currentRobot.name),o.setFieldValue("welcome",u.currentRobot.welcome),o.setFieldValue("description",u.currentRobot.description)});return b},[s]);var i=function(){var b=T()(g()().mark(function u(m){return g()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return console.log("handleSubmit",m),m.uid=s.uid,m.avatar=s.avatar,j.next=5,a(m,function(B){B.code===200&&P.ZP.success("update success")});case 5:case"end":return j.stop()}},u)}));return function(m){return b.apply(this,arguments)}}(),c={file_name:"test.png",username:"",type:"",kbname:"",client:"web"},d={name:"file",action:"/visitor/api/upload/avatar",showUploadList:!1,data:c,beforeUpload:function(u){console.log("file:",u," uploadData:",c);var m=De()(new Date).format("YYYYMMDDHHmmss");return c.file_name=m+u.name,c.kbname=s.uid,!0},onChange:function(u){if(u.file.status!=="uploading"&&console.log(u.file,u.fileList),u.file.status==="done"){var m=u.file.response.data;console.log("url: ",m),s.avatar=m,o.setFieldValue("avatar",s.avatar),P.ZP.success("".concat(u.file.name," file uploaded successfully"))}else u.file.status==="error"&&P.ZP.error("".concat(u.file.name," file upload failed."))}},l=function(u){return console.log("Upload event:",u),Array.isArray(u)?u:u==null?void 0:u.fileList};return(0,e.jsxs)(Ne.A,{form:o,onFinish:function(){var b=T()(g()().mark(function u(m){return g()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return console.log("onFinish:",m),j.next=3,i(m);case 3:case"end":return j.stop()}},u)}));return function(u){return b.apply(this,arguments)}}(),initialValues:{name:s.name,welcome:s.welcome,description:s.description},children:[(0,e.jsx)(w.Z.Item,{name:"avatar",valuePropName:"fileList",getValueFromEvent:l,label:t.formatMessage({id:"pages.robot.tab.avatar",defaultMessage:"Avatar"}),children:(0,e.jsxs)(Ue.Z,U()(U()({},d),{},{children:[(0,e.jsx)(ut.C,{src:s.avatar}),(0,e.jsx)(x.ZP,{icon:(0,e.jsx)($e.Z,{}),children:t.formatMessage({id:"pages.robot.upload",defaultMessage:"Upload"})})]}),"avatar")}),(0,e.jsx)(it.Z,{width:"md",name:"name",label:t.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"}),tooltip:t.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"}),placeholder:t.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"})}),(0,e.jsx)(je.Z,{width:"md",name:"welcome",label:t.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"}),tooltip:t.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"}),placeholder:t.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"})}),(0,e.jsx)(je.Z,{width:"md",name:"description",label:t.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"}),tooltip:t.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"}),placeholder:t.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"})})]})},He=function(){var n=(0,R.useIntl)(),o=(0,v.useState)(!1),t=F()(o,2),a=t[0],s=t[1],i=I(function(l){return l.currentRobot});function c(){var l=window.open("/chaty?tid=&","chaty","width=1000,height=800,top=100,left=200,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no");l.onload=function(){l.document.title="Chaty - Bytedesk AI Playground"}}function d(){var l=window.open("https://www.weiyuai.cn/?rid="+i.uid+"&","chaty","width=400,height=600,top=100,left=500,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no");l.onload=function(){l.document.title="Chaty Mobile - Bytedesk AI Playground"}}return(0,e.jsx)(st.Z,{onResize:function(b){s(b.width<596)},children:(0,e.jsxs)(ke.Z,{split:a?"horizontal":"vertical",bordered:!0,headerBordered:!0,children:[(0,e.jsx)(ke.Z,{colSpan:"50%",layout:"center",children:(0,e.jsx)(dt,{})}),(0,e.jsx)(ke.Z,{title:n.formatMessage({id:"pages.robot.tab.preview",defaultMessage:"Preview"}),bordered:!0,extra:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:c,children:"Chaty"}),(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:d,children:"Mobile"})]}),tooltip:n.formatMessage({id:"pages.robot.tab.preview",defaultMessage:"Preview"}),layout:"center",children:(0,e.jsx)("div",{className:"chat-iframe-outer"})})]})},"resize-observer")};function an(r){return Re.apply(this,arguments)}function Re(){return Re=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/v1/kb/query",{method:"GET",params:{pageNumber:n.pageNumber,pageSize:n.pageSize,client:"web"}}));case 1:case"end":return t.stop()}},r)})),Re.apply(this,arguments)}function ft(r,n){return we.apply(this,arguments)}function we(){return we=T()(g()().mark(function r(n,o){return g()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,R.request)("/api/v1/kb/file/query",{method:"GET",params:{kbName:n,pageNumber:o.pageNumber,pageSize:o.pageSize,client:"web"}}));case 1:case"end":return a.stop()}},r)})),we.apply(this,arguments)}function pt(r,n){return Ce.apply(this,arguments)}function Ce(){return Ce=T()(g()().mark(function r(n,o){return g()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,R.request)("/api/v1/kb/doc/query",{method:"GET",params:{kbName:n,pageNumber:o.pageNumber,pageSize:o.pageSize,client:"web"}}));case 1:case"end":return a.stop()}},r)})),Ce.apply(this,arguments)}function on(r,n){return Se.apply(this,arguments)}function Se(){return Se=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,o){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/llm/kb/file/doc/update",{method:"POST",data:{did:n,pageContent:o,client:"web"}}));case 1:case"end":return a.stop()}},r)})),Se.apply(this,arguments)}function ln(r,n,o){return Ze.apply(this,arguments)}function Ze(){return Ze=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,o,t){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("/update/doc",{method:"POST",data:{did:n,content:o,metadata:t,client:"web"}}));case 1:case"end":return s.stop()}},r)})),Ze.apply(this,arguments)}function ht(r){return(0,R.request)("/api/v1/kb/file/delete",{method:"POST",params:{kid:r,client:"web"}})}function mt(r){return Me.apply(this,arguments)}function Me(){return Me=T()(g()().mark(function r(n){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,R.request)("/api/v1/kb/doc/delete",{method:"POST",params:{did:n,client:"web"}}));case 1:case"end":return t.stop()}},r)})),Me.apply(this,arguments)}function sn(r){return Te.apply(this,arguments)}function Te(){return Te=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/delete/doc",{method:"POST",data:{did:n,client:"web"}}));case 1:case"end":return t.stop()}},r)})),Te.apply(this,arguments)}var te=(0,Le.Ue)()((0,de.mW)((0,de.tJ)((0,Be.n)(function(r,n){return{kbFileResult:{},kbDocResult:{items:[]},currentKbFile:{},currentKbDoc:{fileName:"",pageContent:""},fetchFiles:function(){var o=T()(g()().mark(function a(s,i){var c;return g()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return console.log("kbName",s," pageParams",i),l.next=3,ft(s,i);case 3:c=l.sent,console.log("kbName kbFiles",c);case 5:case"end":return l.stop()}},a)}));function t(a,s){return o.apply(this,arguments)}return t}(),deleteFile:function(){var o=T()(g()().mark(function a(s){var i,c,d,l,b;return g()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log("delete file",s),m.next=3,ht(s);case 3:i=m.sent,c=n().kbFileResult.data.content.filter(function(C){return C.uid!==s}),r(function(C){return{kbFileResult:{items:c}}}),console.log("delete file result",i),d=n().kbDocResult.data.content,l=g()().mark(function C(){var j;return g()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:j=i.data[b],d=d.filter(function(S){return S.uid!==j});case 2:case"end":return y.stop()}},C)}),b=0;case 10:if(!(b<i.data.length)){m.next=15;break}return m.delegateYield(l(),"t0",12);case 12:b++,m.next=10;break;case 15:r(function(C){return{kbFileDocResult:{items:d}}});case 16:case"end":return m.stop()}},a)}));function t(a){return o.apply(this,arguments)}return t}(),fetchDocs:function(){var o=T()(g()().mark(function a(s,i){var c;return g()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return console.log("fetchFileDocs kbName",s," pageParams",i),l.next=3,pt(s,i);case 3:c=l.sent,console.log("kbName kbFileDocs",c);case 5:case"end":return l.stop()}},a)}));function t(a,s){return o.apply(this,arguments)}return t}(),deleteFileDoc:function(){var o=T()(g()().mark(function a(s){var i,c;return g()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return console.log("delete file doc",s),l.next=3,mt(s);case 3:i=l.sent,console.log("delete file doc result",i),c=n().kbDocResult.data.content.filter(function(b){return b.uid!==s}),r(function(b){return{kbFileDocResult:{items:c}}});case 7:case"end":return l.stop()}},a)}));function t(a){return o.apply(this,arguments)}return t}(),setCurrentFile:function(t){var a=n().kbFileResult.data.content.find(function(s){return s.uid===t});r({currentKbFile:a})},setCurrentFileDoc:function(t){var a=n().kbDocResult.data.content.find(function(s){return s.uid===t});console.log("setCurrentFileDoc",t,a),r({currentKbDoc:a})},updateKbFileDocPython:function(){var o=T()(g()().mark(function a(s,i,c){return g()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:console.log("updateKbFileDocPython",s,i,c);case 1:case"end":return l.stop()}},a)}));function t(a,s,i){return o.apply(this,arguments)}return t}(),deleteKbCache:function(){return r({},!0)}}}),{name:"KB_STORE"}))),pe=f(22185),he=f(86738),Pe=f(85265),H=f(42075),bt=function(){var n=(0,R.useIntl)(),o=w.Z.useForm(),t=F()(o,1),a=t[0],s=I(function(k){return{currentRobot:k.currentRobot}}),i=s.currentRobot,c=(0,v.useRef)(),d=(0,v.useState)(1),l=F()(d,2),b=l[0],u=l[1],m=(0,v.useState)(20),C=F()(m,2),j=C[0],B=C[1],y=te(function(k){return{kbFileDocResult:k.kbDocResult,currentKbFileDoc:k.currentKbDoc,fetchFileDocs:k.fetchDocs,setCurrentFileDoc:k.setCurrentFileDoc,updateKbFileDocPython:k.updateKbFileDocPython}}),S=y.kbFileDocResult,K=y.currentKbFileDoc,re=y.fetchFileDocs,Y=y.setCurrentFileDoc,V=y.updateKbFileDocPython;te.subscribe(function(k,L){console.log("kb",k)});var A=function(){};(0,v.useEffect)(function(){A()},[]),(0,v.useEffect)(function(){A()},[b,j]),(0,v.useEffect)(function(){u(1),A()},[i]),(0,v.useEffect)(function(){c.current.reload()},[S]);var W=(0,v.useState)(!1),O=F()(W,2),z=O[0],E=O[1],D=(0,v.useState)("\u7F16\u8F91\u6587\u672C"),p=F()(D,2),Z=p[0],$=p[1],ne=function(){E(!0)},ae=function(){E(!1)},le=function(){E(!1)},Ie=function(){console.log("handleInputText"),$("\u8F93\u5165\u6587\u672C"),ne()},q=function(){console.log("handleInputUrl"),$("\u8F93\u5165\u7F51\u5740"),ne()};function Oe(k){Y(k.did),ne()}function G(k){console.log("handleDelete",k)}var se=[{title:n.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),width:150,dataIndex:"file_name"},{title:n.formatMessage({id:"pages.robot.file.content",defaultMessage:"Content"}),dataIndex:"page_content"},{title:n.formatMessage({id:"pages.robot.file.type",defaultMessage:"Type"}),width:80,dataIndex:"type"},{title:n.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(L,_){return[(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:function(){return Oe(_)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(he.Z,{title:n.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return G(_)},onCancel:function(){return le()},children:(0,e.jsx)(x.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],Ae=function(L){console.log("Success:",L,K.uid,K.meta),V(K.uid,L.pageContent,K.meta),P.ZP.success("\u66F4\u65B0\u6210\u529F"),E(!1)},ie=function(L){console.log("Failed:",L)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z,{actionRef:c,columns:se,headerTitle:"\u89E3\u6790\u6587\u672C\u5185\u5BB9",request:function(L,_,ee){return console.log("request:",L,_,ee),u(L.current-1),B(L.pageSize),Promise.resolve({data:S.data.content,success:!0,total:S.data.totalElements})},rowKey:"did",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(x.ZP,{onClick:Ie,children:"\u8F93\u5165\u95EE\u7B54\u5BF9"},"text")]}}),(0,e.jsx)(Pe.Z,{title:Z,size:"default",placement:"right",onClose:le,open:z,extra:(0,e.jsx)(H.Z,{children:(0,e.jsx)(x.ZP,{onClick:le,children:"\u53D6\u6D88"})}),children:(0,e.jsxs)(w.Z,{form:a,name:"basic",onFinish:Ae,onFinishFailed:ie,autoComplete:"off",children:[(0,e.jsx)(w.Z.Item,{label:"\u6807\u9898",name:"fileName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898!"}]}),(0,e.jsx)(w.Z.Item,{label:"\u5185\u5BB9",name:"pageContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9!"}],children:(0,e.jsx)(fe.Z.TextArea,{rows:15})}),(0,e.jsx)(w.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})})]})})]})},gt=function(){var n=(0,R.useIntl)(),o=w.Z.useForm(),t=F()(o,1),a=t[0],s=I(function(h){return{currentRobot:h.currentRobot}}),i=s.currentRobot,c=(0,v.useRef)(),d=(0,v.useState)(1),l=F()(d,2),b=l[0],u=l[1],m=(0,v.useState)(20),C=F()(m,2),j=C[0],B=C[1],y=te(function(h){return{kbFileDocResult:h.kbDocResult,currentKbFileDoc:h.currentKbDoc,fetchFileDocs:h.fetchDocs,setCurrentFileDoc:h.setCurrentFileDoc,updateKbFileDocPython:h.updateKbFileDocPython}}),S=y.kbFileDocResult,K=y.currentKbFileDoc,re=y.fetchFileDocs,Y=y.setCurrentFileDoc,V=y.updateKbFileDocPython;te.subscribe(function(h,M){});var A=function(){};(0,v.useEffect)(function(){A()},[]),(0,v.useEffect)(function(){A()},[b,j]),(0,v.useEffect)(function(){u(1),A()},[i]),(0,v.useEffect)(function(){c.current.reload()},[S]);var W=(0,v.useState)(!1),O=F()(W,2),z=O[0],E=O[1],D=(0,v.useState)("\u7F16\u8F91\u6587\u672C"),p=F()(D,2),Z=p[0],$=p[1],ne=(0,v.useState)(""),ae=F()(ne,2),le=ae[0],Ie=ae[1],q=function(){E(!0)},Oe=function(){E(!1)},G=function(){E(!1)},se=function(){console.log("handleInputText"),$("\u8F93\u5165\u6587\u672C"),q()},Ae=function(){console.log("handleInputUrl"),$("\u8F93\u5165\u7F51\u5740"),q()};function ie(h){Y(h.did),q()}function k(h){console.log("handleDelete",h)}var L=[{title:n.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),width:150,dataIndex:"file_name"},{title:n.formatMessage({id:"pages.robot.file.content",defaultMessage:"Content"}),dataIndex:"page_content"},{title:n.formatMessage({id:"pages.robot.file.type",defaultMessage:"Type"}),width:80,dataIndex:"type"},{title:n.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(M,Q){return[(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:function(){return ie(Q)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(he.Z,{title:n.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return k(Q)},onCancel:function(){return G()},children:(0,e.jsx)(x.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],_=function(M){console.log("Success:",M,K.uid,K.meta),V(K.uid,M.pageContent,K.meta),P.ZP.success("\u66F4\u65B0\u6210\u529F"),E(!1)},ee=function(M){console.log("Failed:",M)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z,{actionRef:c,columns:L,headerTitle:"\u89E3\u6790\u6587\u672C\u5185\u5BB9",request:function(M,Q,J){return console.log("request:",M,Q,J),u(M.current-1),B(M.pageSize),Promise.resolve({data:S.data.content,success:!0,total:S.data.totalElements})},rowKey:"did",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(x.ZP,{onClick:se,children:"\u8F93\u5165\u95EE\u7B54\u5BF9"},"text")]}}),(0,e.jsx)(Pe.Z,{title:Z,size:"default",placement:"right",onClose:G,open:z,extra:(0,e.jsx)(H.Z,{children:(0,e.jsx)(x.ZP,{onClick:G,children:"\u53D6\u6D88"})}),children:(0,e.jsxs)(w.Z,{form:a,name:"basic",onFinish:_,onFinishFailed:ee,autoComplete:"off",children:[(0,e.jsx)(w.Z.Item,{label:"\u6807\u9898",name:"fileName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898!"}]}),(0,e.jsx)(w.Z.Item,{label:"\u5185\u5BB9",name:"pageContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9!"}],children:(0,e.jsx)(fe.Z.TextArea,{rows:15})}),(0,e.jsx)(w.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})})]})})]})},vt=function(){var n=(0,R.useIntl)(),o=w.Z.useForm(),t=F()(o,1),a=t[0],s=I(function(h){return{currentRobot:h.currentRobot}}),i=s.currentRobot,c=(0,v.useRef)(),d=(0,v.useState)(1),l=F()(d,2),b=l[0],u=l[1],m=(0,v.useState)(20),C=F()(m,2),j=C[0],B=C[1],y=te(function(h){return{kbFileDocResult:h.kbDocResult,currentKbFileDoc:h.currentKbDoc,fetchFileDocs:h.fetchDocs,setCurrentFileDoc:h.setCurrentFileDoc,updateKbFileDocPython:h.updateKbFileDocPython}}),S=y.kbFileDocResult,K=y.currentKbFileDoc,re=y.fetchFileDocs,Y=y.setCurrentFileDoc,V=y.updateKbFileDocPython;te.subscribe(function(h,M){a.setFieldValue("pageContent",h.currentKbDoc.content)});var A=function(){};(0,v.useEffect)(function(){A()},[]),(0,v.useEffect)(function(){A()},[b,j]),(0,v.useEffect)(function(){u(1),A()},[i]),(0,v.useEffect)(function(){c.current.reload()},[S]);var W=(0,v.useState)(!1),O=F()(W,2),z=O[0],E=O[1],D=(0,v.useState)("\u7F16\u8F91\u6587\u672C"),p=F()(D,2),Z=p[0],$=p[1],ne=(0,v.useState)(""),ae=F()(ne,2),le=ae[0],Ie=ae[1],q=function(){E(!0)},Oe=function(){E(!1)},G=function(){E(!1)},se=function(){console.log("handleInputText"),$("\u8F93\u5165\u6587\u672C"),q()},Ae=function(){console.log("handleInputUrl"),$("\u8F93\u5165\u7F51\u5740"),q()};function ie(h){Y(h.did),q()}function k(h){console.log("handleDelete",h)}var L=[{title:n.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),width:150,dataIndex:"file_name"},{title:n.formatMessage({id:"pages.robot.file.content",defaultMessage:"Content"}),dataIndex:"page_content"},{title:n.formatMessage({id:"pages.robot.file.type",defaultMessage:"Type"}),width:80,dataIndex:"type"},{title:n.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(M,Q){return[(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:function(){return ie(Q)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(he.Z,{title:n.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return k(Q)},onCancel:function(){return G()},children:(0,e.jsx)(x.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],_=function(M){console.log("Success:",M,K.uid,K.meta),V(K.uid,M.pageContent,K.meta),P.ZP.success("\u66F4\u65B0\u6210\u529F"),E(!1)},ee=function(M){console.log("Failed:",M)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z,{actionRef:c,columns:L,headerTitle:"\u89E3\u6790\u6587\u672C\u5185\u5BB9",request:function(M,Q,J){return console.log("request:",M,Q,J),u(M.current-1),B(M.pageSize),Promise.resolve({data:S.data.content,success:!0,total:S.data.totalElements})},rowKey:"did",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(x.ZP,{onClick:se,children:"\u8F93\u5165\u95EE\u7B54\u5BF9"},"text")]}}),(0,e.jsx)(Pe.Z,{title:Z,size:"default",placement:"right",onClose:G,open:z,extra:(0,e.jsx)(H.Z,{children:(0,e.jsx)(x.ZP,{onClick:G,children:"\u53D6\u6D88"})}),children:(0,e.jsxs)(w.Z,{form:a,name:"basic",onFinish:_,onFinishFailed:ee,autoComplete:"off",children:[(0,e.jsx)(w.Z.Item,{label:"\u6807\u9898",name:"fileName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898!"}]}),(0,e.jsx)(w.Z.Item,{label:"\u5185\u5BB9",name:"pageContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9!"}],children:(0,e.jsx)(fe.Z.TextArea,{rows:15})}),(0,e.jsx)(w.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})})]})})]})},xt=function(){var n=(0,R.useIntl)(),o=P.ZP.useMessage(),t=F()(o,2),a=t[0],s=t[1],i=I(function(D){return D.currentRobot}),c=(0,v.useRef)(),d=(0,v.useState)(1),l=F()(d,2),b=l[0],u=l[1],m=(0,v.useState)(10),C=F()(m,2),j=C[0],B=C[1],y=te(function(D){return{kbFileResult:D.kbFileResult,fetchFiles:D.fetchFiles,fetchFileDocs:D.fetchDocs,deleteFile:D.deleteFile}}),S=y.kbFileResult,K=y.fetchFiles,re=y.fetchFileDocs,Y=y.deleteFile;function V(D){console.log("handleDelete",D),Y(D.uid)}function A(){console.log("handleCancel")}var W=[{title:n.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),dataIndex:"name"},{title:n.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(p,Z){return[(0,e.jsx)(he.Z,{title:n.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return V(Z)},onCancel:function(){return A()},children:(0,e.jsx)(x.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],O=function(){var p={pageNumber:b,pageSize:j};K(i.uid,p),re(i.uid,p)};(0,v.useEffect)(function(){O()},[]),(0,v.useEffect)(function(){O()},[b,j]),(0,v.useEffect)(function(){u(1),O()},[i]),(0,v.useEffect)(function(){c.current.reload()},[S]);var z={file_name:"test.png",file_kid:De()(new Date).format("YYYYMMDDHHmmss"),rid:i.uid,client:"web"},E={name:"file",action:"/visitor/api/upload/file",headers:{Authorization:"Bearer "+localStorage.getItem("ACCESS_TOKEN").replaceAll('"',"")},showUploadList:!1,data:z,beforeUpload:function(p){if(p.name.includes("_"))return P.ZP.error(n.formatMessage({id:"pages.robot.file.name_invalid",defaultMessage:"File name should not contain _"})),!1;z.file_name=p.name;var Z=De()(new Date).format("YYYYMMDDHHmmss");return z.file_kid=Z,z.rid=i.uid,console.log("file:",p," uploadData:",z),a.open({type:"loading",content:n.formatMessage({id:"pages.robot.file.uploading",defaultMessage:"Uploading..."}),duration:0}),!0},onChange:function(p){p.file.status!=="uploading"&&console.log(p.file,p.fileList),p.file.status==="done"?(console.log(p.file.response.data),a.destroy(),P.ZP.success("".concat(p.file.name," file uploaded successfully")),O()):p.file.status==="error"&&P.ZP.error("".concat(p.file.name," file upload failed."))}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z,{actionRef:c,columns:W,headerTitle:i.name,request:function(p,Z,$){return console.log("request:",p,Z,$),u(p.current),B(p.pageSize),Promise.resolve({data:S.data.content,success:!0,total:S.data.totalElements})},rowKey:"kid",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(Ue.Z,U()(U()({},E),{},{children:(0,e.jsx)(x.ZP,{icon:(0,e.jsx)($e.Z,{}),type:"primary",children:n.formatMessage({id:"pages.robot.upload",defaultMessage:"Upload"})})}),"upload")]}}),s]})},Ft=function(){var n=(0,R.useIntl)(),o=[{key:"file",label:n.formatMessage({id:"pages.robot.kb.file",defaultMessage:"File"}),children:(0,e.jsx)(xt,{})},{key:"text",label:n.formatMessage({id:"pages.robot.kb.text",defaultMessage:"Text"}),children:(0,e.jsx)(bt,{})},{key:"qa",label:n.formatMessage({id:"pages.robot.kb.qa",defaultMessage:"Q&A"}),children:(0,e.jsx)(gt,{})},{key:"web",label:n.formatMessage({id:"pages.robot.kb.web",defaultMessage:"Website"}),children:(0,e.jsx)(vt,{})}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{tabPosition:"left",items:o})})},Ye=Ft,X=f(71230),yt=function(){var r=I(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.uid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.uid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.uid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},kt=function(){var r=I(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.uid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.uid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.uid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},jt=function(){var r=I(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.uid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.uid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.uid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},Dt=function(){var r=I(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.uid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.uid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.uid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},Rt=function(){var r=I(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.uid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.uid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.uid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},wt=function(){var r=I(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.uid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.uid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.uid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},Ct=[{key:"web",label:"Web",children:(0,e.jsx)(yt,{})},{key:"h5",label:"H5",children:(0,e.jsx)(Dt,{})},{key:"ios",label:"iOS",children:(0,e.jsx)(kt,{})},{key:"android",label:"Android",children:(0,e.jsx)(wt,{})},{key:"uniapp",label:"Uniapp",children:(0,e.jsx)(jt,{})},{key:"flutter",label:"Flutter",children:(0,e.jsx)(Rt,{})}],St=function(){var n=(0,R.useIntl)();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{tabPosition:"left",items:Ct})})},Ve=St,Ke=f(60887),Zt=f(24285);function Mt(r){var n=(0,Ke.O1)({id:"draggable"}),o=n.attributes,t=n.listeners,a=n.setNodeRef,s=n.transform,i=s?{transform:Zt.ux.Translate.toString(s)}:void 0;return(0,e.jsx)(x.ZP,U()(U()(U()({ref:a,style:i},t),o),{},{children:r.children}))}function Tt(r){var n=(0,Ke.Zj)({id:"droppable"}),o=n.isOver,t=n.setNodeRef,a={color:o?"green":void 0};return(0,e.jsx)("div",{ref:t,style:a,children:r.children})}var un=N.Z.Header,cn=N.Z.Footer,Pt=N.Z.Sider,Kt=N.Z.Content,Et={},It={textAlign:"center",lineHeight:"120px",color:"#fff"},Ot={minHeight:120},At=function(){var n=(0,R.useIntl)(),o=(0,v.useState)(!1),t=F()(o,2),a=t[0],s=t[1],i=(0,e.jsx)(Mt,{children:"Drag me"});function c(m){console.log("handleDragStart",m)}function d(m){console.log("handleDragMove",m)}function l(m){console.log("handleDragOver",m)}function b(m){m.over&&m.over.id==="droppable"&&s(!0)}function u(m){console.log("handleDragCancel",m)}return(0,e.jsx)(Ke.LB,{onDragEnd:b,children:(0,e.jsxs)(N.Z,{style:Et,children:[(0,e.jsx)(Pt,{style:It,children:a?null:i}),(0,e.jsx)(Kt,{style:Ot,children:(0,e.jsx)(Tt,{children:a?i:"Drop here"})})]})})},Lt=At,Bt=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(X.Z,{children:(0,e.jsx)("div",{children:"\u4F1A\u8BDD\u8BB0\u5F55"})})})},zt=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(X.Z,{children:(0,e.jsx)("div",{children:"\u6D88\u606F\u8BB0\u5F55"})})})},$t=[{key:"1",label:"\u4F1A\u8BDD",children:(0,e.jsx)(Bt,{})},{key:"2",label:"\u6D88\u606F",children:(0,e.jsx)(zt,{})}],Nt=function(){var n=(0,R.useIntl)();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{tabPosition:"left",items:$t})})},Ut=Nt,We=f(64317),Ee=f(31199),dn={labelCol:{span:8},wrapperCol:{span:16}},Ht=function(){var r=w.Z.useForm(),n=F()(r,1),o=n[0],t=I(function(c){return{currentRobot:c.currentRobot,updateRobot:c.updateRobot}}),a=t.currentRobot,s=t.updateRobot;I.subscribe(function(c,d){o.setFieldValue("prompt",c.currentRobot.prompt),o.setFieldValue("model_name",c.currentRobot.model_name)});var i=function(){var c=T()(g()().mark(function d(l){return g()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("handleSubmit",l),l.uid=a.uid,l.name=a.name,l.description=a.description,l.welcome=a.welcome,l.avatar=a.avatar,l.show_history=a.show_history,l.history_count=a.history_count,l.kb_name=a.kb_name,l.is_published=a.is_published,u.next=12,s(l,function(m){m.code===200&&P.ZP.success("update success")});case 12:case"end":return u.stop()}},d)}));return function(l){return c.apply(this,arguments)}}();return(0,e.jsxs)(Ne.A,{form:o,size:"large",onFinish:function(){var c=T()(g()().mark(function d(l){return g()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("onFinish:",l),u.next=3,i(l);case 3:case"end":return u.stop()}},d)}));return function(d){return c.apply(this,arguments)}}(),initialValues:{prompt:a.prompt,model_name:a.model_name,model_api_key:a.model_api_key,model_api_secret:a.model_api_secret,embeddings_name:a.embeddings_name,top_k:a.top_k,score_threshold:a.score_threshold,temperature:a.temperature},children:[(0,e.jsx)(je.Z,{width:"lg",name:"prompt",label:"prompt",placeholder:"\u8BF7\u8F93\u5165prompt"}),(0,e.jsx)(We.Z,{width:"lg",name:"model_name",label:"model_name",allowClear:!0,options:[{value:"model_name",label:"model_name"}]}),(0,e.jsx)(We.Z,{width:"lg",name:"embeddings_name",label:"embeddings_name",allowClear:!0,options:[{value:"embeddings_name",label:"embeddings_name"}]}),(0,e.jsx)(Ee.Z,{width:"lg",label:"top_k",name:"top_k",min:1,max:3}),(0,e.jsx)(Ee.Z,{width:"lg",label:"score_threshold",name:"score_threshold",min:0,max:1,fieldProps:{precision:1,step:.1}}),(0,e.jsx)(Ee.Z,{width:"lg",label:"temperature",name:"temperature",min:0,max:1,fieldProps:{precision:1,step:.1}})]})},Yt=function(){return(0,e.jsx)(e.Fragment,{children:"quick replies"})},Vt=function(){return(0,e.jsx)(e.Fragment,{children:"appearance"})},Wt=function(){return(0,e.jsx)(e.Fragment,{children:"pop tip"})},Gt=[{key:"appearance",label:"Appearance",children:(0,e.jsx)(Vt,{})},{key:"poptip",label:"Poptip",children:(0,e.jsx)(Wt,{})},{key:"quick",label:"QuickReplies",children:(0,e.jsx)(Yt,{})},{key:"llm",label:"LLm",children:(0,e.jsx)(Ht,{})}],Qt=function(){var n=(0,R.useIntl)();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{tabPosition:"left",items:Gt})})},Jt=Qt,Xt=function(){var n=(0,R.useIntl)(),o=function(i){},t=[{key:"basic",label:n.formatMessage({id:"pages.robot.tab.basic",defaultMessage:"Basic"}),children:(0,e.jsx)(He,{})},{key:"kb",label:n.formatMessage({id:"pages.robot.tab.kb",defaultMessage:"Knowledge Base"}),children:(0,e.jsx)(Ye,{})},{key:"channel",label:n.formatMessage({id:"pages.robot.tab.channel",defaultMessage:"Channel"}),children:(0,e.jsx)(Ve,{})},{key:"statistic",label:n.formatMessage({id:"pages.robot.tab.statistic",defaultMessage:"Statistic"}),children:(0,e.jsx)(Ut,{})},{key:"advanced",label:n.formatMessage({id:"pages.robot.tab.advanced",defaultMessage:"Advanced"}),children:(0,e.jsx)(Jt,{})},{key:"flow",label:n.formatMessage({id:"pages.robot.tab.flow",defaultMessage:"Flow"}),children:(0,e.jsx)(Lt,{})}],a=[{key:"basic",label:n.formatMessage({id:"pages.robot.tab.basic",defaultMessage:"Basic"}),children:(0,e.jsx)(He,{})},{key:"kb",label:n.formatMessage({id:"pages.robot.tab.kb",defaultMessage:"Knowledge Basic"}),children:(0,e.jsx)(Ye,{})},{key:"channel",label:n.formatMessage({id:"pages.robot.tab.channel",defaultMessage:"Channel"}),children:(0,e.jsx)(Ve,{})}];return(0,e.jsx)(oe.Z,{defaultActiveKey:"1",items:a,onChange:o})},qt=Xt,_t=f(77154),en=N.Z.Sider,tn=N.Z.Content,nn=function(){var n=(0,_t.Z)(),o=n.leftSiderStyle,t=n.contentStyle;return(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(en,{style:o,children:(0,e.jsx)(lt,{})}),(0,e.jsx)(N.Z,{children:(0,e.jsx)(tn,{style:t,children:(0,e.jsx)(qt,{})})})]})},rn=nn}}]);
