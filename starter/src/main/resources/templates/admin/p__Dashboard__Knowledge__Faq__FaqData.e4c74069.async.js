"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[79],{69753:function(Q,b,e){var u=e(1413),s=e(67294),M=e(49495),i=e(89099),j=function(f,A){return s.createElement(i.Z,(0,u.Z)((0,u.Z)({},f),{},{ref:A,icon:M.Z}))},y=s.forwardRef(j);b.Z=y},11475:function(Q,b,e){e.d(b,{Z:function(){return f}});var u=e(1413),s=e(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},i=M,j=e(89099),y=function(E,O){return s.createElement(j.Z,(0,u.Z)((0,u.Z)({},E),{},{ref:O,icon:i}))},P=s.forwardRef(y),f=P},58638:function(Q,b,e){e.d(b,{Z:function(){return f}});var u=e(1413),s=e(67294),M={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},i=M,j=e(89099),y=function(E,O){return s.createElement(j.Z,(0,u.Z)((0,u.Z)({},E),{},{ref:O,icon:i}))},P=s.forwardRef(y),f=P},57546:function(Q,b,e){e.d(b,{Z:function(){return f}});var u=e(1413),s=e(67294),M={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},i=M,j=e(89099),y=function(E,O){return s.createElement(j.Z,(0,u.Z)((0,u.Z)({},E),{},{ref:O,icon:i}))},P=s.forwardRef(y),f=P},64082:function(Q,b,e){e.d(b,{Z:function(){return f}});var u=e(1413),s=e(67294),M={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},i=M,j=e(89099),y=function(E,O){return s.createElement(j.Z,(0,u.Z)((0,u.Z)({},E),{},{ref:O,icon:i}))},P=s.forwardRef(y),f=P},64317:function(Q,b,e){var u=e(1413),s=e(91),M=e(22270),i=e(67294),j=e(66758),y=e(24809),P=e(85893),f=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],E=function(S,T){var W=S.fieldProps,Z=S.children,d=S.params,X=S.proFieldProps,K=S.mode,F=S.valueEnum,Y=S.request,C=S.showSearch,p=S.options,o=(0,s.Z)(S,f),a=(0,i.useContext)(j.Z);return(0,P.jsx)(y.Z,(0,u.Z)((0,u.Z)({valueEnum:(0,M.h)(F),request:Y,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,u.Z)({options:p,mode:K,showSearch:C,getPopupContainer:a.getPopupContainer},W),ref:T,proFieldProps:X},o),{},{children:Z}))},O=i.forwardRef(function(x,S){var T=x.fieldProps,W=x.children,Z=x.params,d=x.proFieldProps,X=x.mode,K=x.valueEnum,F=x.request,Y=x.options,C=(0,s.Z)(x,A),p=(0,u.Z)({options:Y,mode:X||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},T),o=(0,i.useContext)(j.Z);return(0,P.jsx)(y.Z,(0,u.Z)((0,u.Z)({valueEnum:(0,M.h)(K),request:F,params:Z,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,u.Z)({getPopupContainer:o.getPopupContainer},p),ref:S,proFieldProps:d},C),{},{children:W}))}),g=i.forwardRef(E),m=O,L=g;L.SearchSelect=m,L.displayName="ProFormComponent",b.Z=L},90672:function(Q,b,e){var u=e(1413),s=e(91),M=e(67294),i=e(24809),j=e(85893),y=["fieldProps","proFieldProps"],P=function(A,E){var O=A.fieldProps,g=A.proFieldProps,m=(0,s.Z)(A,y);return(0,j.jsx)(i.Z,(0,u.Z)({ref:E,valueType:"textarea",fieldProps:O,proFieldProps:g},m))};b.Z=M.forwardRef(P)},40401:function(Q,b,e){e.d(b,{Yg:function(){return x},kh:function(){return O},pf:function(){return A},y:function(){return m}});var u=e(15009),s=e.n(u),M=e(97857),i=e.n(M),j=e(99289),y=e.n(j),P=e(85615),f=e(86745);function A(T){return E.apply(this,arguments)}function E(){return E=y()(s()().mark(function T(W){return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.request)("/api/v1/faq/query/org",{method:"GET",params:i()(i()({},W),{},{client:P.bVn})}));case 1:case"end":return d.stop()}},T)})),E.apply(this,arguments)}function O(T){return g.apply(this,arguments)}function g(){return g=y()(s()().mark(function T(W){return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.request)("/api/v1/faq/create",{method:"POST",data:i()(i()({},W),{},{client:P.bVn})}));case 1:case"end":return d.stop()}},T)})),g.apply(this,arguments)}function m(T){return L.apply(this,arguments)}function L(){return L=y()(s()().mark(function T(W){return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.request)("/api/v1/faq/update",{method:"POST",data:i()(i()({},W),{},{client:P.bVn})}));case 1:case"end":return d.stop()}},T)})),L.apply(this,arguments)}function x(T){return S.apply(this,arguments)}function S(){return S=y()(s()().mark(function T(W){return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.request)("/api/v1/faq/delete",{method:"POST",data:i()(i()({},W),{},{client:P.bVn})}));case 1:case"end":return d.stop()}},T)})),S.apply(this,arguments)}},68256:function(Q,b,e){var u=e(97857),s=e.n(u),M=e(5574),i=e.n(M),j=e(85576),y=e(67294),P=e(64082),f=e(64121),A=e(27484),E=e.n(A),O=e(85615),g=e(80049),m=e(38302),L=e(89102),x=e(85893),S=f.Z.Dragger,T=function(Z){var d=Z.type,X=Z.acceptType,K=Z.isModalOpen,F=Z.handleOk,Y=Z.handleCancel,C=(0,m.j)(function(N){return N.currentKbase}),p=(0,L.v)(function(N){return N.currentCategory}),o=(0,y.useState)("\u5F53\u524D\u652F\u6301\u4E0A\u4F20pdf/txt/markdown/docx\u7B49"),a=i()(o,2),v=a[0],c=a[1],U=(0,y.useState)({file:void 0,file_name:"test.pdf",file_type:"application/pdf",is_avatar:"false",kb_type:d,category_uid:(p==null?void 0:p.uid)==="all"?"":(p==null?void 0:p.uid)||"",kb_uid:(C==null?void 0:C.uid)||"",client:O.bVn}),le=i()(U,2),z=le[0],k=le[1],fe=function(h){var ee=E()(new Date).format("YYYYMMDDHHmmss")+"_"+h.name,H=new FormData;H.append("file",h),H.append("file_name",ee),H.append("file_type",h.type),H.append("is_avatar","false"),H.append("kb_type",d),H.append("category_uid",(p==null?void 0:p.uid)==="all"?"":(p==null?void 0:p.uid)||""),H.append("kb_uid",(C==null?void 0:C.uid)||""),H.append("client",O.bVn),fetch("/api/v1/upload/file",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem(O.LA8)},body:H}).then(function(te){return te.json()}).then(function(te){console.log("upload data:",te),te.code===200?(g.yw.destroy(),g.yw.success("".concat(ee," \u4E0A\u4F20\u6210\u529F")),F()):(g.yw.destroy(),g.yw.error("".concat(ee," \u4E0A\u4F20\u5931\u8D25")),Y())})},q={name:"file",accept:X,action:"/api/v1/upload/file",headers:{Authorization:"Bearer "+localStorage.getItem(O.LA8)},data:z,showUploadList:!1,beforeUpload:function(h){console.log("beforeUpload",h);var ee=E()(new Date).format("YYMMDDHHmmss")+"_"+h.name;z.file=h,z.file_name=ee,z.file_type=h.type,z.kb_type=d,z.category_uid=(p==null?void 0:p.uid)==="all"?"":p==null?void 0:p.uid,z.kb_uid=C==null?void 0:C.uid,console.log("beforeUpload",z)},onChange:function(h){h.file.status==="uploading"&&g.yw.loading("".concat(h.file.name," \u4E0A\u4F20\u4E2D")),h.file.status==="done"?(console.log("response: ",h.file.response),h.file.response.code===200?(g.yw.destroy(),g.yw.success("".concat(h.file.name," \u4E0A\u4F20\u6210\u529F")),F()):(g.yw.destroy(),g.yw.error("".concat(h.file.name," \u4E0A\u4F20\u5931\u8D25")),Y())):h.file.status==="error"&&(g.yw.error("".concat(h.file.name," \u4E0A\u4F20\u5931\u8D25")),Y())},onDrop:function(h){console.log("Dropped files",h.dataTransfer.files),fe(h.dataTransfer.files[0])}},me=(0,y.useState)(q),oe=i()(me,2),n=oe[0],ve=oe[1];return(0,y.useEffect)(function(){d!=O.QPQ&&(q.accept="application/vnd.ms-excel",ve(q),c("\u5F53\u524D\u652F\u6301\u4E0A\u4F20excel\u6587\u4EF6")),k(s()(s()({},z),{},{kb_type:d,category_uid:(p==null?void 0:p.uid)==="all"?"":p==null?void 0:p.uid,kb_uid:C==null?void 0:C.uid}))},[d,p,C]),(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(j.Z,{title:"\u4E0A\u4F20\u6587\u4EF6",open:K,onOk:F,onCancel:Y,children:(0,x.jsxs)(S,s()(s()({},n),{},{children:[(0,x.jsx)("p",{className:"ant-upload-drag-icon",children:(0,x.jsx)(P.Z,{})}),(0,x.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u62D6\u62FD\u6587\u4EF6\u81F3\u6B64\u5904\u5B9E\u73B0\u4E0A\u4F20"}),(0,x.jsx)("p",{className:"ant-upload-hint",children:v})]}))})})};b.Z=T},19177:function(Q,b,e){e.r(b),e.d(b,{default:function(){return Ve}});var u=e(77154),s=e(21612),M=e(97857),i=e.n(M),j=e(13769),y=e.n(j),P=e(15009),f=e.n(P),A=e(99289),E=e.n(A),O=e(5574),g=e.n(O),m=e(80049),L=e(40401),x=e(87676),S=e(51042),T=e(57546),W=e(58638),Z=e(69753),d=e(57482),X=e(86738),K=e(14726),F=e(67294),Y=e(89102),C=e(86745),p=e(73803),o=e(38302),a=e(85615),v=e(64082),c=e(34994),U=e(64317),le=e(5966),z=e(90672),k=e(85265),fe=e(42075),q=e(43940),me=e(27484),oe=e.n(me),n=e(85893),ve=function(_){var se=_.isEdit,I=_.faq,V=_.open,_e=_.onClose,De=_.onSubmit,he=c.A.useForm(),xe=g()(he,1),ae=xe[0],ie=(0,x.u)(function(l){return l.currentOrg}),B=(0,o.j)(function(l){return l.currentKbase}),Pe=(0,Y.v)(function(l){return l.categorySelectOptions}),Te=(0,F.useState)(),ye=g()(Te,2),Oe=ye[0],ue=ye[1],ne=(0,F.useState)(a.PYi),R=g()(ne,2),re=R[0],Ae=R[1],Ce=(0,F.useState)(".png,.jpg,.jpeg"),Me=g()(Ce,2),je=Me[0],de=Me[1],Ue=(0,F.useState)({file:void 0,file_name:"test.pdf",file_type:"application/pdf",is_avatar:"false",kb_type:"type",category_uid:"",kb_uid:(B==null?void 0:B.uid)||"",client:a.bVn}),be=g()(Ue,2),J=be[0],We=be[1];(0,F.useEffect)(function(){se?ae.setFieldsValue({type:I==null?void 0:I.type,title:I==null?void 0:I.title,content:I==null?void 0:I.content,categoryUid:I==null?void 0:I.categoryUid,kbUid:B==null?void 0:B.uid}):ae.resetFields()},[V]);var Ie=function(t){console.log("category selected ".concat(t)),ue(t)},Ze=function(t){console.log("type selected ".concat(t)),Ae(t),t===a.Qm?de(".png,.jpg,.jpeg,.gif,.bmp"):t===a.tVi?de(".mp4,.avi,.mov,.wmv"):t===a.Yu1?de(".mp3,.wav,.flac"):t===a.Qn&&de(".doc,.xls,.ppt,.pdf,.docx,.txt,.csv,.xlsx,.rtf,.zip,.7z,.tar,.gz,.rar,.iso")},Be=function(){console.log("handleSubmit"),ae.validateFields().then(function(t){console.log(t),De(i()(i()(i()({},I),t),{},{kbUid:B==null?void 0:B.uid,orgUid:ie==null?void 0:ie.uid}))}).catch(function(t){console.log("Form errors:",t),m.yw.error("\u8BF7\u68C0\u67E5\u8868\u5355\u586B\u5199")})},Re=function(t){var r=oe()(new Date).format("YYYYMMDDHHmmss")+"_"+t.name,D=new FormData;D.append("file",t),D.append("file_name",r),D.append("file_type",t.type),D.append("is_avatar","false"),D.append("kb_type",a.YjS),D.append("category_uid",Oe||""),D.append("kb_uid",(B==null?void 0:B.uid)||""),D.append("client",a.bVn),fetch("/api/v1/upload/file",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem(a.LA8)},body:D}).then(function(w){return w.json()}).then(function(w){if(console.log("upload data:",w),w.code===200){var G=w.data;ae.setFieldValue("content",G),m.yw.destroy(),m.yw.success("".concat(r," \u4E0A\u4F20\u6210\u529F"))}else m.yw.destroy(),m.yw.error("".concat(r," \u4E0A\u4F20\u5931\u8D25"))})},Ee={name:"file",action:"/api/v1/upload/file",headers:{Authorization:"Bearer "+localStorage.getItem(a.LA8)},data:J,showUploadList:!1,beforeUpload:function(t){console.log("beforeUpload",t);var r=oe()(new Date).format("YYMMDDHHmmss")+"_"+t.name;J.file=t,J.file_name=r,J.file_type=t.type,J.kb_type=a.YjS,J.category_uid=Oe||"",J.kb_uid=B==null?void 0:B.uid,console.log("beforeUpload",J)},onChange:function(t){if(t.file.status==="uploading"&&m.yw.loading("".concat(t.file.name," \u4E0A\u4F20\u4E2D")),t.file.status==="done")if(console.log("response: ",t.file.response),t.file.response.code===200){var r=t.file.response.data;ae.setFieldValue("content",r),m.yw.destroy(),m.yw.success("".concat(t.file.name," \u4E0A\u4F20\u6210\u529F"))}else m.yw.destroy(),m.yw.error("".concat(t.file.name," \u4E0A\u4F20\u5931\u8D25"));else t.file.status==="error"&&m.yw.error("".concat(t.file.name," \u4E0A\u4F20\u5931\u8D25"))},onDrop:function(t){console.log("Dropped files",t.dataTransfer.files),Re(t.dataTransfer.files[0])}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(k.Z,{title:se?"\u4FEE\u6539":"\u65B0\u5EFA",onClose:_e,open:V,extra:(0,n.jsxs)(fe.Z,{children:[(0,n.jsx)(K.ZP,{onClick:_e,children:"\u53D6\u6D88"}),(0,n.jsx)(K.ZP,{onClick:Be,type:"primary",children:"\u4FDD\u5B58"})]}),children:(0,n.jsxs)(c.A,{form:ae,initialValues:i()({},I),submitter:{render:function(){return null}},children:[(0,n.jsx)(U.Z,{label:"\u5206\u7C7B",name:"categoryUid",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5206\u7C7B"}],options:Pe,fieldProps:{allowClear:!0,placeholder:"\u8BF7\u9009\u62E9\u5206\u7C7B",onChange:Ie}}),(0,n.jsx)(U.Z,{label:"\u7C7B\u578B",name:"type",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B"}],options:[{label:"\u6587\u672C",value:a.PYi},{label:"\u56FE\u7247",value:a.Qm},{label:"\u89C6\u9891",value:a.tVi},{label:"\u97F3\u9891",value:a.Yu1},{label:"\u6587\u4EF6",value:a.Qn}],fieldProps:{allowClear:!0,placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",onChange:Ze}}),(0,n.jsx)(le.Z,{label:"\u6807\u9898",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}]}),(0,n.jsx)(z.Z,{label:"\u5185\u5BB9",name:"content"}),re!=a.PYi&&(0,n.jsxs)(q.Z,i()(i()({},Ee),{},{children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(v.Z,{})}),(0,n.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u62D6\u62FD\u4E0A\u4F20\u6587\u4EF6"})]}))]})})})},N=ve,h=e(68256),ee=["current"],H=function(){var _=(0,C.useIntl)(),se=(0,p.Z)(),I=se.translateStringTranct,V=(0,F.useRef)(),_e=(0,F.useState)(!0),De=g()(_e,2),he=De[0],xe=De[1],ae=(0,F.useState)(),ie=g()(ae,2),B=ie[0],Pe=ie[1],Te=(0,F.useState)(!1),ye=g()(Te,2),Oe=ye[0],ue=ye[1],ne=(0,x.u)(function(l){return l.currentOrg}),R=(0,o.j)(function(l){return l.currentKbase}),re=(0,Y.v)(function(l){return l.currentCategory}),Ae=(0,F.useState)(!1),Ce=g()(Ae,2),Me=Ce[0],je=Ce[1],de=function(){var l=E()(f()().mark(function t(r){var D;return f()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return console.log(r),G.next=3,(0,L.Yg)(r);case 3:D=G.sent,console.log("delete response:",D),D.code===200?(V==null||V.current.reload(),m.yw.success(_.formatMessage({id:"delete.success",defaultMessage:"Delete Success"}))):m.yw.error(_.formatMessage({id:"delete.error",defaultMessage:"Delete Error"}));case 6:case"end":return G.stop()}},t)}));return function(r){return l.apply(this,arguments)}}(),Ue=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,n.jsx)(C.FormattedMessage,{id:"title",defaultMessage:"Title"}),dataIndex:"title",copyable:!0,render:function(t,r){return I(r==null?void 0:r.title)}},{title:(0,n.jsx)(C.FormattedMessage,{id:"content",defaultMessage:"Content"}),dataIndex:"content",render:function(t,r){return I(r==null?void 0:r.content)}},{title:(0,n.jsx)(C.FormattedMessage,{id:"type",defaultMessage:"Type"}),dataIndex:"type",hideInSearch:!0,render:function(t,r){return(0,n.jsx)(n.Fragment,{children:_.formatMessage({id:r==null?void 0:r.type,defaultMessage:r==null?void 0:r.type})})}},{title:(0,n.jsx)(C.FormattedMessage,{id:"updatedAt",defaultMessage:"updatedAt"}),key:"updatedAt",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0,width:180},{title:_.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",width:100,render:function(t,r,D,w){return[(0,n.jsx)("a",{onClick:function(){J(r)},children:_.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable"),(0,n.jsx)(X.Z,{title:_.formatMessage({id:"deleteTip",defaultMessage:"Delete Tip"}),description:"".concat(_.formatMessage({id:"deleteAfirm",defaultMessage:"Delete"}),"\u3010").concat(r==null?void 0:r.title,"\u3011\uFF1F"),onConfirm:function(){return de(r)},okText:_.formatMessage({id:"ok"}),cancelText:_.formatMessage({id:"cancel"}),children:(0,n.jsx)(K.ZP,{size:"small",type:"link",danger:!0,children:_.formatMessage({id:"delete",defaultMessage:"Delete"})})},"delete")]}}],be=function(){Pe(void 0),xe(!1),ue(!0)},J=function(t){Pe(t),xe(!0),ue(!0)},We=function(){var l=E()(f()().mark(function t(r){var D,w;return f()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(console.log("handleSubmitDrawer",r),he?m.yw.loading(_.formatMessage({id:"updating"})):m.yw.loading(_.formatMessage({id:"creating"})),!he){$.next=8;break}return $.next=5,(0,L.y)(r);case 5:$.t0=$.sent,$.next=11;break;case 8:return $.next=10,(0,L.kh)(r);case 10:$.t0=$.sent;case 11:D=$.t0,console.log("createFaq response:",r,D),D.code===200?(m.yw.destroy(),m.yw.success(_.formatMessage({id:"create.success",defaultMessage:"create success"})),ue(!1),(w=V.current)===null||w===void 0||w.reloadAndRest()):(m.yw.destroy(),m.yw.error(D.message));case 14:case"end":return $.stop()}},t)}));return function(r){return l.apply(this,arguments)}}(),Ie=function(){var l=E()(f()().mark(function t(){return f()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:console.log("handleImport"),je(!0);case 2:case"end":return D.stop()}},t)}));return function(){return l.apply(this,arguments)}}(),Ze=function(){var l=E()(f()().mark(function t(){var r;return f()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:console.log("handleExport"),r=localStorage.getItem(a.LA8),window.open("/api/v1/faq/export?categoryUid="+(re==null?void 0:re.uid)+"&kbUid="+(R==null?void 0:R.uid)+"&orgUid="+(ne==null?void 0:ne.uid)+"&pageNumber=0&pageSize=20&accessToken="+r);case 3:case"end":return w.stop()}},t)}));return function(){return l.apply(this,arguments)}}();(0,F.useEffect)(function(){var l;(l=V.current)===null||l===void 0||l.reloadAndRest()},[R,re]);var Be=function(){console.log("handleUploadDragSubmit"),je(!1),V==null||V.current.reload()},Re=function(){console.log("handleUploadDragCancel"),je(!1),V==null||V.current.reload()},Ee=(0,F.useMemo)(function(){return(R==null?void 0:R.type)===a.bE7?(R==null?void 0:R.uid)==="":!0},[R]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{columns:Ue,actionRef:V,cardBordered:!0,request:function(){var l=E()(f()().mark(function t(r,D,w){var G,$,we,ce;return f()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return console.log("request:",r,D,w),m.yw.loading(_.formatMessage({id:"loading",defaultMessage:"Loading"})),G=r.current,$=y()(r,ee),we=i()({pageNumber:r.current-1,categoryUid:re.uid==="all"?"":re.uid,kbUid:R==null?void 0:R.uid,orgUid:ne==null?void 0:ne.uid},$),pe.next=6,(0,L.pf)(we);case 6:return ce=pe.sent,console.log("getAllFaqs response:",we,ce),m.yw.destroy(),ce.code===200||m.yw.error(ce.message),pe.abrupt("return",{data:ce.data.content,success:!0,total:ce.data.totalElements});case 11:case"end":return pe.stop()}},t)}));return function(t,r,D){return l.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(t){console.log("page:",t)}},dateFormatter:"string",headerTitle:"\u5E38\u89C1\u95EE\u9898/\u5FEB\u6377\u6309\u94AE/\u731C\u4F60\u76F8\u95EE/\u70ED\u95E8\u95EE\u9898/\u5FEB\u6377\u8DEF\u5F84",toolBarRender:function(){return[(0,n.jsx)(K.ZP,{icon:(0,n.jsx)(S.Z,{}),type:"primary",onClick:be,disabled:Ee,children:_.formatMessage({id:"create",defaultMessage:"Create"})},"button"),(0,n.jsx)(K.ZP,{icon:(0,n.jsx)(T.Z,{}),type:"primary",onClick:Ie,disabled:Ee,children:_.formatMessage({id:"import",defaultMessage:"Import"})},"button"),(0,n.jsx)(K.ZP,{icon:(0,n.jsx)(W.Z,{}),type:"primary",onClick:Ze,disabled:Ee,children:_.formatMessage({id:"export",defaultMessage:"Export"})},"button"),(0,n.jsx)(K.ZP,{icon:(0,n.jsx)(Z.Z,{}),type:"link",onClick:function(){window.open("https://www.weiyuai.cn/download/excel/faq.xlsx")},children:_.formatMessage({id:"download.template",defaultMessage:"Download Template"})},"download")]}}),(0,n.jsx)(N,{isEdit:he,open:Oe,faq:B,onClose:function(){return ue(!1)},onSubmit:We}),(0,n.jsx)(h.Z,{type:a.bE7,acceptType:".xls,.xlsx,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",isModalOpen:Me,handleOk:Be,handleCancel:Re})]})},te=H,Se=e(52670),Fe=s.Z.Sider,ge=s.Z.Content,Ke=function(){var _=(0,u.Z)(),se=_.leftSiderStyle,I=_.contentStyle;return(0,n.jsx)("div",{children:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(Fe,{style:se,children:(0,n.jsx)(Se.Z,{type:a.bE7})}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(ge,{style:I,children:(0,n.jsx)(te,{})})})]})})},Ve=Ke},86250:function(Q,b,e){e.d(b,{Z:function(){return p}});var u=e(67294),s=e(93967),M=e.n(s),i=e(98423),j=e(98065),y=e(53124),P=e(27036),f=e(45503);const A=["wrap","nowrap","wrap-reverse"],E=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],O=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],g=(o,a)=>{const v=a.wrap===!0?"wrap":a.wrap;return{[`${o}-wrap-${v}`]:v&&A.includes(v)}},m=(o,a)=>{const v={};return O.forEach(c=>{v[`${o}-align-${c}`]=a.align===c}),v[`${o}-align-stretch`]=!a.align&&!!a.vertical,v},L=(o,a)=>{const v={};return E.forEach(c=>{v[`${o}-justify-${c}`]=a.justify===c}),v};function x(o,a){return M()(Object.assign(Object.assign(Object.assign({},g(o,a)),m(o,a)),L(o,a)))}var S=x;const T=o=>{const{componentCls:a}=o;return{[a]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},W=o=>{const{componentCls:a}=o;return{[a]:{"&-gap-small":{gap:o.flexGapSM},"&-gap-middle":{gap:o.flexGap},"&-gap-large":{gap:o.flexGapLG}}}},Z=o=>{const{componentCls:a}=o,v={};return A.forEach(c=>{v[`${a}-wrap-${c}`]={flexWrap:c}}),v},d=o=>{const{componentCls:a}=o,v={};return O.forEach(c=>{v[`${a}-align-${c}`]={alignItems:c}}),v},X=o=>{const{componentCls:a}=o,v={};return E.forEach(c=>{v[`${a}-justify-${c}`]={justifyContent:c}}),v},K=()=>({});var F=(0,P.I$)("Flex",o=>{const{paddingXS:a,padding:v,paddingLG:c}=o,U=(0,f.TS)(o,{flexGapSM:a,flexGap:v,flexGapLG:c});return[T(U),W(U),Z(U),d(U),X(U)]},K,{resetStyle:!1}),Y=function(o,a){var v={};for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.indexOf(c)<0&&(v[c]=o[c]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,c=Object.getOwnPropertySymbols(o);U<c.length;U++)a.indexOf(c[U])<0&&Object.prototype.propertyIsEnumerable.call(o,c[U])&&(v[c[U]]=o[c[U]]);return v},p=u.forwardRef((o,a)=>{const{prefixCls:v,rootClassName:c,className:U,style:le,flex:z,gap:k,children:fe,vertical:q=!1,component:me="div"}=o,oe=Y(o,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:n,direction:ve,getPrefixCls:N}=u.useContext(y.E_),h=N("flex",v),[ee,H,te]=F(h),Se=q!=null?q:n==null?void 0:n.vertical,Fe=M()(U,c,n==null?void 0:n.className,h,H,te,S(h,o),{[`${h}-rtl`]:ve==="rtl",[`${h}-gap-${k}`]:(0,j.n)(k),[`${h}-vertical`]:Se}),ge=Object.assign(Object.assign({},n==null?void 0:n.style),le);return z&&(ge.flex=z),k&&!(0,j.n)(k)&&(ge.gap=k),ee(u.createElement(me,Object.assign({ref:a,className:Fe,style:ge},(0,i.Z)(oe,["justify","wrap","align"])),fe))})}}]);
