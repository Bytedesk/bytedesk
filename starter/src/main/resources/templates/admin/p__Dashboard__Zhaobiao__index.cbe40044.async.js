"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8327],{70150:function(P,l,e){e.d(l,{tR:function(){return E}});var g=e(15009),s=e.n(g),c=e(97857),n=e.n(c),d=e(99289),i=e.n(d),o=e(85615),m=e(86745);function E(u){return f.apply(this,arguments)}function f(){return f=i()(s()().mark(function u(t){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/v1/message/org",{method:"GET",params:n()(n()({},t),{},{client:o.bV})}));case 1:case"end":return r.stop()}},u)})),f.apply(this,arguments)}function O(u){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function u(t){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/user/robot",{method:"GET",params:{page:t.pageNumber,size:t.pageSize,client:HTTP_CLIENT}}));case 1:case"end":return r.stop()}},u)})),p.apply(this,arguments)}function v(u){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function u(t){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/v1/message/rest/send",{method:"POST",data:{json:t,client:HTTP_CLIENT}}));case 1:case"end":return r.stop()}},u)})),_.apply(this,arguments)}},24172:function(P,l,e){e.d(l,{Kq:function(){return m},tn:function(){return p}});var g=e(97857),s=e.n(g),c=e(15009),n=e.n(c),d=e(99289),i=e.n(d),o=e(86745);function m(_){return E.apply(this,arguments)}function E(){return E=i()(n()().mark(function _(u){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,o.request)("/api/org",{method:"POST",data:{nickname:u,client:"web"}}));case 1:case"end":return a.stop()}},_)})),E.apply(this,arguments)}function f(_){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function _(u){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/v1/org/query",{method:"GET",params:_objectSpread(_objectSpread({},u),{},{client:"web"})}));case 1:case"end":return a.stop()}},_)})),O.apply(this,arguments)}function p(_){return v.apply(this,arguments)}function v(){return v=i()(n()().mark(function _(u){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,o.request)("/api/v1/org/uid",{method:"GET",params:{uid:u,client:"web"}}));case 1:case"end":return a.stop()}},_)})),v.apply(this,arguments)}},77154:function(P,l,e){var g=e(39825);function s(){var c=(0,g.Z)(),n=c.isDarkMode,d={borderRight:n?"1px solid #333":"1px solid #ccc",background:n?"#141414":"#eee",width:260},i={background:n?"#141414":"#fff"},o={borderLeft:n?"1px solid #333":"1px solid #ccc",background:n?"#141414":"#eee"},m={minHeight:120};return{leftSiderStyle:d,headerStyle:i,rightSiderStyle:o,contentStyle:m}}l.Z=s},85778:function(P,l,e){e.r(l),e.d(l,{default:function(){return N}});var g=e(77154),s=e(21612),c=e(68508),n=e(67294),d=e(15009),i=e.n(d),o=e(99289),m=e.n(o),E=e(5574),f=e.n(E),O=e(80049),p=e(70150),v=e(69888),_=e(87676),u=e(66955),t=e(85893),a=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u7C7B\u578B",dataIndex:"type",copyable:!0},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(j,C,S,y){return[(0,t.jsx)("a",{onClick:function(){var D;y==null||(D=y.startEditable)===null||D===void 0||D.call(y,C.uid)},children:"\u7F16\u8F91"},"editable")]}}],r=function(){var j=(0,n.useRef)(),C=(0,n.useState)(1),S=f()(C,2),y=S[0],I=S[1],D=(0,n.useState)(10),L=f()(D,2),K=L[0],F=L[1],H=(0,_.u)(function(h){return h.orgCurrent}),W=(0,v.G)(function(h){return{messageResult:h.messageResult,setMemberResult:h.setMessageResult}}),U=W.messageResult,J=W.setMemberResult,x=function(){var h=m()(i()().mark(function R(){var b,M;return i()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return b={pageNumber:y-1,pageSize:K,orgUid:H.uid},T.next=3,(0,p.tR)(b);case 3:M=T.sent,console.log("getAllMessages response:",b,M),M.code===200?J(M):O.yw.error(M.message);case 6:case"end":return T.stop()}},R)}));return function(){return h.apply(this,arguments)}}();return(0,n.useEffect)(function(){x()},[]),(0,n.useEffect)(function(){x()},[y,K]),(0,n.useEffect)(function(){console.log("messageResult:",U),j.current.reload()},[U]),(0,t.jsx)(u.Z,{columns:a,actionRef:j,cardBordered:!0,request:function(){var h=m()(i()().mark(function R(b,M,G){return i()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return console.log("request:",b,M,G),I(b.current),F(b.pageSize),A.abrupt("return",Promise.resolve({data:U.data.content,success:!0,total:U.data.totalElements}));case 4:case"end":return A.stop()}},R)}));return function(R,b,M){return h.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{pageSize:K,showQuickJumper:!0,onChange:function(R){console.log("page:",R)}},dateFormatter:"string",headerTitle:"\u7EC4\u7EC7\u6D88\u606F",toolBarRender:function(){return[]}})},w=r,Q=s.Z.Header,V=s.Z.Footer,Z=s.Z.Sider,z=s.Z.Content,k=[{label:"\u9AD8\u7EA7",key:"top",children:[{label:"column",key:"xinxixitongxiangmuguanlishi"}]},{label:"\u4E2D\u7EA7",key:"middle",children:[{label:"column2",key:"xitongjichengxiangmuguanligongchengshi"}]}],$=function(){var j=(0,g.Z)(),C=j.leftSiderStyle,S=j.contentStyle,y=function(D){console.log("menu click ",D)};return(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(Z,{style:C,children:(0,t.jsx)(c.Z,{mode:"inline",onClick:y,defaultSelectedKeys:["xinxixitongxiangmuguanlishi"],defaultOpenKeys:["top","middle"],items:k})}),(0,t.jsx)(s.Z,{children:(0,t.jsx)(z,{style:S,children:(0,t.jsx)(w,{})})})]})},N=$},69888:function(P,l,e){e.d(l,{G:function(){return n}});var g=e(64529),s=e(782),c=e(71381),n=(0,g.Ue)()((0,s.mW)((0,s.tJ)((0,c.n)(function(d,i){return{messageResult:{data:{content:[]}},setMessageResult:function(m){d({messageResult:m})},deleteMessageCache:function(){return d({},!0)}}}),{name:"MESSAGE_STORE"})))},87676:function(P,l,e){e.d(l,{u:function(){return E}});var g=e(15009),s=e.n(g),c=e(99289),n=e.n(c),d=e(24172),i=e(64529),o=e(782),m=e(71381),E=(0,i.Ue)()((0,o.mW)((0,o.tJ)((0,m.n)(function(f,O){return{orgCurrent:{uid:"",name:"",description:""},setOrgCurrent:function(v){f({orgCurrent:v})},createOrg:function(){var p=n()(s()().mark(function _(u){var t;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,d.Kq)(u);case 2:t=r.sent,console.log("createOrg:",t),t.code==200;case 5:case"end":return r.stop()}},_)}));function v(_){return p.apply(this,arguments)}return v}(),deleteOrgCache:function(){return f({},!0)}}}),{name:"ORGANIZTION_STORE"})))}}]);
