"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8491],{70150:function(T,d,e){e.d(d,{tR:function(){return M}});var E=e(15009),a=e.n(E),c=e(97857),u=e.n(c),m=e(99289),p=e.n(m),o=e(85615),D=e(86745);function M(r){return O.apply(this,arguments)}function O(){return O=p()(a()().mark(function r(s){return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,D.request)("/api/v1/message/org",{method:"GET",params:u()(u()({},s),{},{client:o.bV})}));case 1:case"end":return _.stop()}},r)})),O.apply(this,arguments)}function P(r){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function r(s){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("/api/user/robot",{method:"GET",params:{page:s.pageNumber,size:s.pageSize,client:HTTP_CLIENT}}));case 1:case"end":return _.stop()}},r)})),i.apply(this,arguments)}function l(r){return t.apply(this,arguments)}function t(){return t=_asyncToGenerator(_regeneratorRuntime().mark(function r(s){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("/api/v1/message/rest/send",{method:"POST",data:{json:s,client:HTTP_CLIENT}}));case 1:case"end":return _.stop()}},r)})),t.apply(this,arguments)}},24172:function(T,d,e){e.d(d,{Kq:function(){return D},tn:function(){return i}});var E=e(97857),a=e.n(E),c=e(15009),u=e.n(c),m=e(99289),p=e.n(m),o=e(86745);function D(t){return M.apply(this,arguments)}function M(){return M=p()(u()().mark(function t(r){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/org",{method:"POST",data:{nickname:r,client:"web"}}));case 1:case"end":return n.stop()}},t)})),M.apply(this,arguments)}function O(t){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function t(r){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/v1/org/query",{method:"GET",params:_objectSpread(_objectSpread({},r),{},{client:"web"})}));case 1:case"end":return n.stop()}},t)})),P.apply(this,arguments)}function i(t){return l.apply(this,arguments)}function l(){return l=p()(u()().mark(function t(r){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.request)("/api/v1/org/uid",{method:"GET",params:{uid:r,client:"web"}}));case 1:case"end":return n.stop()}},t)})),l.apply(this,arguments)}},27824:function(T,d,e){e.r(d);var E=e(15009),a=e.n(E),c=e(99289),u=e.n(c),m=e(5574),p=e.n(m),o=e(80049),D=e(70150),M=e(69888),O=e(87676),P=e(66955),i=e(67294),l=e(85893),t=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u7C7B\u578B",dataIndex:"type",copyable:!0},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(n,_,U,h){return[(0,l.jsx)("a",{onClick:function(){var R;h==null||(R=h.startEditable)===null||R===void 0||R.call(h,_.uid)},children:"\u7F16\u8F91"},"editable")]}}],r=function(){var n=(0,i.useRef)(),_=(0,i.useState)(1),U=p()(_,2),h=U[0],C=U[1],R=(0,i.useState)(10),A=p()(R,2),I=A[0],L=A[1],S=(0,O.u)(function(g){return g.orgCurrent}),B=(0,M.G)(function(g){return{messageResult:g.messageResult,setMemberResult:g.setMessageResult}}),K=B.messageResult,w=B.setMemberResult,G=function(){var g=u()(a()().mark(function f(){var v,b;return a()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return v={pageNumber:h-1,pageSize:I,orgUid:S.uid},j.next=3,(0,D.tR)(v);case 3:b=j.sent,console.log("getAllMessages response:",v,b),b.code===200?w(b):o.yw.error(b.message);case 6:case"end":return j.stop()}},f)}));return function(){return g.apply(this,arguments)}}();return(0,i.useEffect)(function(){G()},[]),(0,l.jsx)(P.Z,{columns:t,actionRef:n,cardBordered:!0,request:function(){var g=u()(a()().mark(function f(v,b,W){return a()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return console.log("request:",v,b,W),C(v.current),L(v.pageSize),y.abrupt("return",Promise.resolve({data:K.data.content,success:!0,total:K.data.totalElements}));case 4:case"end":return y.stop()}},f)}));return function(f,v,b){return g.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{pageSize:I,showQuickJumper:!0,onChange:function(f){console.log("page:",f)}},dateFormatter:"string",headerTitle:"\u7EC4\u7EC7\u6D88\u606F",toolBarRender:function(){return[]}})};d.default=r},69888:function(T,d,e){e.d(d,{G:function(){return u}});var E=e(64529),a=e(782),c=e(71381),u=(0,E.Ue)()((0,a.mW)((0,a.tJ)((0,c.n)(function(m,p){return{messageResult:{data:{content:[]}},setMessageResult:function(D){m({messageResult:D})},deleteMessageCache:function(){return m({},!0)}}}),{name:"MESSAGE_STORE"})))},87676:function(T,d,e){e.d(d,{u:function(){return M}});var E=e(15009),a=e.n(E),c=e(99289),u=e.n(c),m=e(24172),p=e(64529),o=e(782),D=e(71381),M=(0,p.Ue)()((0,o.mW)((0,o.tJ)((0,D.n)(function(O,P){return{orgCurrent:{uid:"",name:"",description:""},setOrgCurrent:function(l){O({orgCurrent:l})},createOrg:function(){var i=u()(a()().mark(function t(r){var s;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,m.Kq)(r);case 2:s=_.sent,console.log("createOrg:",s),s.code==200;case 5:case"end":return _.stop()}},t)}));function l(t){return i.apply(this,arguments)}return l}(),deleteOrgCache:function(){return O({},!0)}}}),{name:"ORGANIZTION_STORE"})))}}]);
