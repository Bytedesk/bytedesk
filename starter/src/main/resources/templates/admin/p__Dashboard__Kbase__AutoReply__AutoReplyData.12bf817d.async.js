"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[5852],{15722:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(11757),o=r(44194),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},l=r(54183),i=function(e,t){return o.createElement(l.Z,(0,n.Z)({},e,{ref:t,icon:a}))};var s=o.forwardRef(i)},11090:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(11757),o=r(44194),a={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},l=r(54183),i=function(e,t){return o.createElement(l.Z,(0,n.Z)({},e,{ref:t,icon:a}))};var s=o.forwardRef(i)},30617:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(11757),o=r(44194),a={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},l=r(54183),i=function(e,t){return o.createElement(l.Z,(0,n.Z)({},e,{ref:t,icon:a}))};var s=o.forwardRef(i)},42085:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(11757),o=r(44194),a={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},l=r(54183),i=function(e,t){return o.createElement(l.Z,(0,n.Z)({},e,{ref:t,icon:a}))};var s=o.forwardRef(i)},84881:function(e,t,r){var n=r(17082),o=r(73457),a=r(82308),l=r(44194),i=r(63653),s=r(87413),c=r(31549),d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(e,t){var r=e.fieldProps,u=e.children,p=e.params,f=e.proFieldProps,g=e.mode,m=e.valueEnum,h=e.request,y=e.showSearch,v=e.options,x=(0,o.Z)(e,d),b=(0,l.useContext)(i.Z);return(0,c.jsx)(s.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,a.h)(m),request:h,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:v,mode:g,showSearch:y,getPopupContainer:b.getPopupContainer},r),ref:t,proFieldProps:f},x),{},{children:u}))},f=l.forwardRef((function(e,t){var r=e.fieldProps,d=e.children,p=e.params,f=e.proFieldProps,g=e.mode,m=e.valueEnum,h=e.request,y=e.options,v=(0,o.Z)(e,u),x=(0,n.Z)({options:y,mode:g||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},r),b=(0,l.useContext)(i.Z);return(0,c.jsx)(s.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,a.h)(m),request:h,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:b.getPopupContainer},x),ref:t,proFieldProps:f},v),{},{children:d}))})),g=l.forwardRef(p);g.SearchSelect=f,g.displayName="ProFormComponent",t.Z=g},48708:function(e,t,r){var n=r(17082),o=r(73457),a=r(44194),l=r(87413),i=r(31549),s=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],c=a.forwardRef((function(e,t){var r=e.fieldProps,a=e.unCheckedChildren,c=e.checkedChildren,d=e.proFieldProps,u=(0,o.Z)(e,s);return(0,i.jsx)(l.Z,(0,n.Z)({valueType:"switch",fieldProps:(0,n.Z)({unCheckedChildren:a,checkedChildren:c},r),ref:t,valuePropName:"checked",proFieldProps:d,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},u))}));t.Z=c},32350:function(e,t,r){var n=r(17082),o=r(73457),a=r(44194),l=r(87413),i=r(31549),s=["fieldProps","proFieldProps"],c=function(e,t){var r=e.fieldProps,a=e.proFieldProps,c=(0,o.Z)(e,s);return(0,i.jsx)(l.Z,(0,n.Z)({ref:t,valueType:"textarea",fieldProps:r,proFieldProps:a},c))};t.Z=a.forwardRef(c)},200:function(e,t,r){r.d(t,{I2:function(){return y},dO:function(){return f},l8:function(){return m},o_:function(){return u}});var n=r(90819),o=r.n(n),a=r(73193),l=r.n(a),i=r(89933),s=r.n(i),c=r(55735),d=r(30921);function u(e){return p.apply(this,arguments)}function p(){return(p=s()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/autoreply/fixed/query/org",{method:"GET",params:l()(l()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=s()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/autoreply/fixed/create",{method:"POST",data:l()(l()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=s()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/autoreply/fixed/update",{method:"POST",data:l()(l()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return(v=s()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/autoreply/fixed/delete",{method:"POST",data:l()(l()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},17220:function(e,t,r){r(44194);var n=r(75365),o=r(54881),a=r(30921),l=r(31549);t.Z=function(e){var t,r,i=e.file,s=e.onDelete,c=e.showDelete,d=void 0===c||c,u=(0,a.useIntl)();return(0,l.jsxs)("div",{style:{position:"relative",width:"50px",height:"50px",border:"1px solid #f0f0f0",borderRadius:"4px",overflow:"hidden"},title:u.formatMessage({id:null!=i&&null!==(t=i.fileType)&&void 0!==t&&t.startsWith("image/")?"upload.preview.image":"upload.preview.file"}),children:[d&&(0,l.jsx)(n.ZP,{type:"text",size:"small",icon:(0,l.jsx)(o.Z,{}),onClick:function(){return s(i.uid)},style:{position:"absolute",top:0,right:0,padding:"2px",background:"rgba(255, 255, 255, 0.8)",border:"none",borderRadius:"0 4px 0 4px",zIndex:1}}),(0,l.jsx)("div",{onClick:function(){return window.open(i.fileUrl,"_blank")},style:{width:"100%",height:"100%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:null!=i&&null!==(r=i.fileType)&&void 0!==r&&r.startsWith("image/")?(0,l.jsx)("img",{src:null==i?void 0:i.fileUrl,alt:null==i?void 0:i.fileName,style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,l.jsx)("div",{style:{fontSize:"12px",padding:"4px",textAlign:"center",wordBreak:"break-all",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:i.fileName})}),(0,l.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0, 0, 0, 0.5)",color:"#fff",fontSize:"10px",padding:"2px",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i.fileName})]},i.uid)}},27650:function(e,t,r){var n=r(76711),o=r.n(n),a=r(73193),l=r.n(a),i=r(45332),s=r.n(i),c=r(44194),d=r(42085),u=r(30348),p=r(53530),f=r(28977),g=r.n(f),m=r(55735),h=r(86803),y=r(44521),v=r(17220),x=r(30921),b=r(6397),w=r(31549),k=u.Z.Dragger;t.Z=function(e){var t=e.type,r=(e.acceptType,e.isModalOpen),n=e.attachments,a=e.handleSubmit,i=e.handleCancel,u=(0,x.useIntl)(),f=(0,b.j)((function(e){return e.currentKbase})),j=(0,c.useState)([]),M=s()(j,2),C=M[0],S=M[1],Z=(0,c.useState)({file:null,file_name:"test.pdf",file_type:"application/pdf",is_avatar:"false",kb_type:t,category_uid:"",kb_uid:null==f?void 0:f.uid,client:m.bVn}),P=s()(Z,2),T=P[0],O=P[1];(0,c.useEffect)((function(){console.log("UploadDrag currentKbase",f),f&&O((function(e){return l()(l()({},e),{},{kb_uid:null==f?void 0:f.uid})}))}),[f]);var E=(0,c.useMemo)((function(){return{name:"file",multiple:!0,action:(0,y.M$)(),headers:{Authorization:"Bearer "+localStorage.getItem(m.LA8)},data:T,showUploadList:!1,beforeUpload:function(e){var t=g()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name;return O((function(r){return l()(l()({},r),{},{file:e,file_name:t,file_type:e.type,category_uid:""})})),!0},onChange:function(e){"uploading"===e.file.status&&h.yw.loading(u.formatMessage({id:"upload.uploading"},{filename:e.file.name})),"done"===e.file.status?200===e.file.response.code?(h.yw.destroy(),h.yw.success(u.formatMessage({id:"upload.success"},{filename:e.file.name})),S((function(t){return[].concat(o()(t),[e.file.response.data])}))):(h.yw.destroy(),h.yw.error(u.formatMessage({id:"upload.failed"},{filename:e.file.name}))):"error"===e.file.status&&h.yw.error(u.formatMessage({id:"upload.failed"},{filename:e.file.name}))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}}}),[T,u]);(0,c.useEffect)((function(){O((function(e){return l()(l()({},e),{},{kb_type:t,category_uid:""})})),n&&S(n.map((function(e){return e.upload})))}),[t]);var I=function(e){console.log("handleDelete",e),S((function(t){return t.filter((function(t){return t.uid!==e}))}))};return(0,w.jsxs)(p.Z,{title:u.formatMessage({id:"upload.modal.title"}),open:r,onOk:function(){a(C)},onCancel:i,children:[(0,w.jsxs)(k,l()(l()({},E),{},{children:[(0,w.jsx)("p",{className:"ant-upload-drag-icon",children:(0,w.jsx)(d.Z,{})}),(0,w.jsx)("p",{className:"ant-upload-text",children:u.formatMessage({id:"upload.drag.text"})}),(0,w.jsx)("p",{className:"ant-upload-hint",children:u.formatMessage({id:"upload.drag.hint"})})]})),(0,w.jsx)("div",{style:{marginTop:"16px",maxHeight:"200px",overflowY:"auto"},children:(0,w.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:C.map((function(e){return(0,w.jsx)(v.Z,{file:e,onDelete:I},e.uid)}))})})]})}},10896:function(e,t,r){r.r(t),r.d(t,{default:function(){return ce}});var n=r(96865),o=r(75574),a=r(55735),l=r(8377),i=r(8247),s=r(30921),c=r(73193),d=r.n(c),u=r(84176),p=r.n(u),f=r(90819),g=r.n(f),m=r(89933),h=r.n(m),y=r(45332),v=r.n(y),x=r(86803);function b(e){return w.apply(this,arguments)}function w(){return(w=h()(g()().mark((function e(t){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/autoreply/keyword/query/org",{method:"GET",params:d()(d()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return j.apply(this,arguments)}function j(){return(j=h()(g()().mark((function e(t){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/autoreply/keyword/create",{method:"POST",data:d()(d()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return C.apply(this,arguments)}function C(){return(C=h()(g()().mark((function e(t){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/autoreply/keyword/update",{method:"POST",data:d()(d()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return Z.apply(this,arguments)}function Z(){return(Z=h()(g()().mark((function e(t){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/autoreply/keyword/delete",{method:"POST",data:d()(d()({},t),{},{client:a.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=r(40612),T=r(25482),O=r(30617),E=r(11090),I=r(61107),$=r(72381),L=r(3849),F=r(29266),z=r(61355),A=r(75365),D=r(44194),U=r(90838),q=r(6397),N=r(44521),V=r(69169),_=r(84881),B=r(32350),R=r(48708),H=r(73442),Y=r(28977),W=r.n(Y),K=r(31549),G=function(e){var t=e.isEdit,r=e.keyword,n=e.open,o=e.onClose,l=e.onSubmit,i=V.A.useForm(),s=v()(i,1)[0],c=(0,P.u)((function(e){return e.currentOrg})),u=(0,q.j)((function(e){return e.currentKbase})),p=(0,U.v)((function(e){return e.categorySelectOptions})),f=(0,D.useState)(),g=v()(f,2),m=(g[0],g[1]),h=(0,D.useState)(a.PYi),y=v()(h,2),b=(y[0],y[1]),w=(0,D.useState)(".png,.jpg,.jpeg"),k=v()(w,2),j=(k[0],k[1]),M=(0,D.useState)({file:void 0,file_name:"test.pdf",file_type:"application/pdf",is_avatar:"false",kb_type:"type",category_uid:"",kb_uid:(null==u?void 0:u.uid)||"",client:a.bVn}),C=v()(M,2);C[0],C[1];(0,D.useEffect)((function(){if(t&&r){var e=Array.isArray(null==r?void 0:r.keywordList)?null==r?void 0:r.keywordList.join("|"):null==r?void 0:r.keywordList,n=Array.isArray(null==r?void 0:r.replyList)?null==r?void 0:r.replyList.join("|"):null==r?void 0:r.replyList;s.setFieldsValue({keywordList:e,replyList:n,matchType:null==r?void 0:r.matchType,contentType:null==r?void 0:r.contentType,categoryUid:null==r?void 0:r.categoryUid,kbUid:null==u?void 0:u.uid,enabled:null==r?void 0:r.enabled})}else s.resetFields(),s.setFieldsValue({keywordList:"",replyList:"",matchType:a.lEl,contentType:a.PYi,categoryUid:"",enabled:!0})}),[n,r,t,s,null==u?void 0:u.uid]);(0,N.M$)(),localStorage.getItem(a.LA8);return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(H.Z,{title:t?"修改关键词回复":"新建关键词回复",width:650,onClose:o,open:n,extra:(0,K.jsxs)(L.Z,{children:[(0,K.jsx)(A.ZP,{onClick:o,children:"取消"}),(0,K.jsx)(A.ZP,{onClick:function(){console.log("handleSubmit"),s.validateFields().then((function(e){console.log("validateFields:",e);var t=Array.isArray(e.keywordList)?e.keywordList:e.keywordList.split("|").map((function(e){return e.trim()})).filter((function(e){return e})),r=Array.isArray(e.replyList)?e.replyList:e.replyList.split("|").map((function(e){return e.trim()})).filter((function(e){return e}));l(d()(d()({},e),{},{keywordList:t,replyList:r,kbUid:null==u?void 0:u.uid,orgUid:null==c?void 0:c.uid}))})).catch((function(e){console.log("Form errors:",e),x.yw.error("请检查表单填写")}))},type:"primary",children:"保存"})]}),children:(0,K.jsxs)(V.A,{form:s,submitter:{render:function(){return null}},children:[(0,K.jsx)(_.Z,{label:"匹配类型",name:"matchType",rules:[{required:!0,message:"请选择匹配类型"}],options:[{label:"模糊匹配",value:a.lEl},{label:"精确匹配",value:a.TAc,disabled:!0},{label:"正则匹配",value:a.c7i,disabled:!0},{label:"向量匹配",value:a.sOn,disabled:!0},{label:"搜索引擎匹配",value:a.NDq,disabled:!0}],fieldProps:{allowClear:!0,placeholder:"请选择匹配类型"}}),(0,K.jsx)(_.Z,{label:"内容分类",name:"categoryUid",rules:[{required:!0,message:"请选择分类"}],options:p,tooltip:"请先：创建分类",fieldProps:{allowClear:!0,placeholder:"请选择分类",onChange:function(e){console.log("category selected ".concat(e)),m(e)}}}),(0,K.jsx)(_.Z,{label:"类型",name:"contentType",rules:[{required:!0,message:"请选择类型"}],options:[{label:"文本",value:a.PYi},{label:"图片",value:a.Qm,disabled:!0},{label:"视频",value:a.tVi,disabled:!0},{label:"音频",value:a.Yu1,disabled:!0},{label:"文件",value:a.Qn,disabled:!0}],fieldProps:{allowClear:!0,placeholder:"请选择类型",onChange:function(e){console.log("type selected ".concat(e)),b(e),e===a.Qm?j(".png,.jpg,.jpeg,.gif,.bmp"):e===a.tVi?j(".mp4,.avi,.mov,.wmv"):e===a.Yu1?j(".mp3,.wav,.flac"):e===a.Qn&&j(".doc,.xls,.ppt,.pdf,.docx,.txt,.csv,.xlsx,.rtf,.zip,.7z,.tar,.gz,.rar,.iso")}}}),(0,K.jsx)(B.Z,{label:"关键词，多个关键词使用 '|' 分割",name:"keywordList",tooltip:"多个关键词使用 '|' 分割",placeholder:"请输入关键词，多个关键词使用 '|' 分割",rules:[{required:!0,message:"请输入关键词，多个关键词使用 '|' 分割 "}]}),(0,K.jsx)(B.Z,{name:"replyList",label:"回复，多个回复使用 '|' 分割",tooltip:"多个回复使用 '|' 分割",rules:[{required:!0,message:"请输入回复，多个回复使用 '|' 分割"}]}),(0,K.jsx)(R.Z,{label:"启用",name:"enabled",fieldProps:{defaultValue:!0}})]})})})},Q=r(27650),X=r(76750),J=r(28425),ee=["current","pageSize"],te=function(){var e=(0,s.useIntl)(),t=(0,X.Z)().translateString,r=(0,D.useRef)(),n=(0,D.useState)(!0),o=v()(n,2),l=o[0],i=o[1],c=(0,D.useState)(!1),u=v()(c,2),f=u[0],m=u[1],y=(0,D.useState)(1),w=v()(y,2),j=w[0],C=w[1],Z=(0,D.useState)(10),V=v()(Z,2),_=V[0],B=V[1],R=(0,P.u)((function(e){return e.currentOrg})),H=(0,q.j)((function(e){return e.currentKbase})),Y=(0,U.v)((function(e){return e.currentCategory})),te=(0,U.v)((function(e){return e.categorySelectOptions})),re=(0,D.useState)(!1),ne=v()(re,2),oe=(ne[0],ne[1],(0,D.useState)(!1)),ae=v()(oe,2),le=ae[0],ie=ae[1],se=(0,D.useState)(),ce=v()(se,2),de=ce[0],ue=ce[1],pe=function(){var t=h()(g()().mark((function t(n){var o;return g()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,S(n);case 3:o=t.sent,console.log("delete response:",o),200===o.code?(null==r||r.current.reload(),x.yw.success(e.formatMessage({id:"delete.success",defaultMessage:"Delete Success"}))):x.yw.error(e.formatMessage({id:"delete.error",defaultMessage:"Delete Error"}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fe=function(e){if(!e)return"-";var t=String(e).split("|");return(0,K.jsx)(L.Z,{wrap:!0,children:t.map((function(e,t){return(0,K.jsx)(F.Z,{color:"blue",children:e},t)}))})},ge=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,K.jsx)(s.FormattedMessage,{id:"keyword",defaultMessage:"Keyword"}),dataIndex:"keywordList",copyable:!0,render:function(e,t){var r;return fe(null==t||null===(r=t.keywordList)||void 0===r?void 0:r.join(","))},ellipsis:!0},{title:(0,K.jsx)(s.FormattedMessage,{id:"reply",defaultMessage:"Reply"}),dataIndex:"replyList",copyable:!0,render:function(e,t){var r;return fe(null==t||null===(r=t.replyList)||void 0===r?void 0:r.join(","))},ellipsis:!0},{title:(0,K.jsx)(s.FormattedMessage,{id:"matchType",defaultMessage:"MatchType"}),dataIndex:"matchType",hideInSearch:!0,width:80,render:function(t,r){return e.formatMessage({id:null==r?void 0:r.matchType,defaultMessage:null==r?void 0:r.matchType})}},{title:(0,K.jsx)(s.FormattedMessage,{id:"type",defaultMessage:"Type"}),dataIndex:"contentType",hideInSearch:!0,width:50,render:function(t,r){return(0,K.jsx)(K.Fragment,{children:e.formatMessage({id:null==r?void 0:r.contentType,defaultMessage:null==r?void 0:r.contentType})})}},{title:(0,K.jsx)(s.FormattedMessage,{id:"category",defaultMessage:"Category"}),dataIndex:"categoryUid",hideInSearch:!0,render:function(e,t){var r=te.find((function(e){return e.value===(null==t?void 0:t.categoryUid)}));return(0,K.jsx)(F.Z,{children:null==r?void 0:r.label})}},{title:(0,K.jsx)(s.FormattedMessage,{id:"enabled",defaultMessage:"Enabled"}),dataIndex:"enabled",hideInSearch:!0,width:80,render:function(t,r){return(0,K.jsx)(K.Fragment,{children:null!=r&&r.enabled?e.formatMessage({id:"yes",defaultMessage:"Yes"}):e.formatMessage({id:"no",defaultMessage:"No"})})}},{title:(0,K.jsx)(s.FormattedMessage,{id:"updatedAt",defaultMessage:"updatedAt"}),key:"updatedAt",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0,width:180,render:function(e,t,r,n){return W()(null==t?void 0:t.updatedAt).format("YYYY-MM-DD HH:mm:ss")}},{title:e.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",width:100,render:function(t,r,n,o){return[(0,K.jsx)("a",{onClick:function(){he(r)},children:e.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable"),(0,K.jsx)(z.Z,{title:e.formatMessage({id:"deleteTip",defaultMessage:"Delete Tip"}),description:"".concat(e.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(null==r?void 0:r.keywordList,"】？"),onConfirm:function(){return pe(r)},okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"}),children:(0,K.jsx)(A.ZP,{size:"small",type:"link",danger:!0,children:e.formatMessage({id:"delete",defaultMessage:"Delete"})})},"delete")]}}],me=function(){ue(void 0),i(!1),m(!0)},he=function(e){ue(e),i(!0),m(!0)},ye=function(){var t=h()(g()().mark((function t(n){var o,a;return g()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("handleSubmitDrawer",n),l?(x.yw.loading(e.formatMessage({id:"updating"})),n.uid=null==de?void 0:de.uid):x.yw.loading(e.formatMessage({id:"creating"})),!l){t.next=8;break}return t.next=5,M(n);case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,k(n);case 10:t.t0=t.sent;case 11:o=t.t0,console.log("createKeyword response:",n,o),200===o.code?(x.yw.destroy(),x.yw.success(e.formatMessage({id:"create.success",defaultMessage:"create success"})),m(!1),null===(a=r.current)||void 0===a||a.reloadAndRest()):(x.yw.destroy(),x.yw.error(o.message));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ve=function(){var e=h()(g()().mark((function e(){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=h()(g()().mark((function e(){var t;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",j,_),t=localStorage.getItem(a.LA8),window.open((0,N.kG)()+"/api/v1/autoreply/keyword/export?"+new URLSearchParams({orgUid:(null==R?void 0:R.uid)||"",pageNumber:String(j-1),pageSize:String(_),accessToken:t||""}).toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,D.useEffect)((function(){var e;null===(e=r.current)||void 0===e||e.reloadAndRest()}),[H,Y]);var be=function(){var t=h()(g()().mark((function t(){return g()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,J.HK)(a.WvL,null==R?void 0:R.uid,null==H?void 0:H.uid,{showLoading:!0,loadingMessage:e.formatMessage({id:"loading"}),errorMessage:e.formatMessage({id:"fetch.categories.error",defaultMessage:"Failed to fetch categories"})});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)($.Z,{columns:ge,actionRef:r,cardBordered:!0,request:function(){var t=h()(g()().mark((function t(r,n,o){var l,i,s,c,u;return g()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("request:",r,n,o),x.yw.loading(e.formatMessage({id:"loading",defaultMessage:"Loading"})),l=r.current,i=r.pageSize,s=p()(r,ee),C(l),B(i),c=d()({pageNumber:l-1,pageSize:i,categoryUid:(null==Y?void 0:Y.uid)===a.zBg?"":null==Y?void 0:Y.uid,kbUid:null==H?void 0:H.uid,orgUid:null==R?void 0:R.uid},s),t.next=8,b(c);case 8:return u=t.sent,console.log("getAllKeywords response:",c,u),x.yw.destroy(),200===u.code||x.yw.error(u.message),t.abrupt("return",{data:u.data.content,success:!0,total:u.data.totalElements});case 13:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:t(null==H?void 0:H.name)+" - "+e.formatMessage({id:"menu.kbase.keyword",defaultMessage:"KEYWORD"}),tooltip:{title:"客服-》一对一-》高级设置-》自动回复",placement:"top"},toolBarRender:function(){return[(0,K.jsx)(A.ZP,{icon:(0,K.jsx)(T.Z,{}),type:"primary",onClick:me,children:e.formatMessage({id:"create",defaultMessage:"Create"})},"create"),(0,K.jsx)(A.ZP,{icon:(0,K.jsx)(O.Z,{}),type:"primary",onClick:ve,children:e.formatMessage({id:"import",defaultMessage:"Import"})},"import"),(0,K.jsx)(A.ZP,{icon:(0,K.jsx)(E.Z,{}),type:"primary",onClick:xe,children:e.formatMessage({id:"export",defaultMessage:"Export"})},"export"),(0,K.jsx)(A.ZP,{icon:(0,K.jsx)(I.Z,{}),type:"link",onClick:function(){(0,N.zw)()},children:e.formatMessage({id:"download.template",defaultMessage:"Download Template"})},"download")]}}),f&&(0,K.jsx)(G,{isEdit:l,open:f,keyword:de,onClose:function(){return m(!1)},onSubmit:ye}),le&&(0,K.jsx)(Q.Z,{type:a.ibP,isModalOpen:le,handleSubmit:function(e){console.log("handleUploadDragSubmit",e),ie(!1),null==r||r.current.reload(),be()},handleCancel:function(){console.log("handleUploadDragCancel"),ie(!1),null==r||r.current.reload()}})]})},re=r(200),ne=function(e){var t=e.isEdit,r=e.autoreply,n=e.open,o=e.onClose,l=e.onSubmit,i=V.A.useForm(),s=v()(i,1)[0],c=(0,P.u)((function(e){return e.currentOrg})),u=(0,q.j)((function(e){return e.currentKbase})),p=(0,U.v)((function(e){return e.categorySelectOptions})),f=(0,D.useState)(),g=v()(f,2),m=(g[0],g[1]),h=(0,D.useState)(a.PYi),y=v()(h,2),b=(y[0],y[1]),w=(0,D.useState)(".png,.jpg,.jpeg"),k=v()(w,2),j=(k[0],k[1]),M=(0,D.useState)({file:void 0,file_name:"test.pdf",file_type:"application/pdf",is_avatar:"false",kb_type:"type",category_uid:"",kb_uid:(null==u?void 0:u.uid)||"",client:a.bVn}),C=v()(M,2);C[0],C[1];(0,D.useEffect)((function(){t?s.setFieldsValue({type:null==r?void 0:r.type,content:null==r?void 0:r.content,categoryUid:null==r?void 0:r.categoryUid,kbUid:null==u?void 0:u.uid}):s.resetFields()}),[n]);(0,N.M$)(),localStorage.getItem(a.LA8);return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(H.Z,{title:t?"修改固定回复":"新建固定回复",width:650,onClose:o,open:n,extra:(0,K.jsxs)(L.Z,{children:[(0,K.jsx)(A.ZP,{onClick:o,children:"取消"}),(0,K.jsx)(A.ZP,{onClick:function(){console.log("handleSubmit"),s.validateFields().then((function(e){console.log(e),l(d()(d()(d()({},r),e),{},{kbUid:null==u?void 0:u.uid,orgUid:null==c?void 0:c.uid}))})).catch((function(e){console.log("Form errors:",e),x.yw.error("请检查表单填写")}))},type:"primary",children:"保存"})]}),children:(0,K.jsxs)(V.A,{form:s,initialValues:d()({},r),submitter:{render:function(){return null}},children:[(0,K.jsx)(_.Z,{label:"分类",name:"categoryUid",rules:[{required:!0,message:"请选择分类"}],options:p,fieldProps:{allowClear:!0,placeholder:"请选择分类",onChange:function(e){console.log("category selected ".concat(e)),m(e)}}}),(0,K.jsx)(_.Z,{label:"类型",name:"type",rules:[{required:!0,message:"请选择类型"}],options:[{label:"文本",value:a.PYi},{label:"图片",value:a.Qm,disabled:!0},{label:"视频",value:a.tVi,disabled:!0},{label:"音频",value:a.Yu1,disabled:!0},{label:"文件",value:a.Qn,disabled:!0}],fieldProps:{allowClear:!0,placeholder:"请选择类型",onChange:function(e){console.log("type selected ".concat(e)),b(e),e===a.Qm?j(".png,.jpg,.jpeg,.gif,.bmp"):e===a.tVi?j(".mp4,.avi,.mov,.wmv"):e===a.Yu1?j(".mp3,.wav,.flac"):e===a.Qn&&j(".doc,.xls,.ppt,.pdf,.docx,.txt,.csv,.xlsx,.rtf,.zip,.7z,.tar,.gz,.rar,.iso")}}}),(0,K.jsx)(B.Z,{name:"content",label:"回复",rules:[{required:!0,message:"请输入回复"}]})]})})})},oe=["current","pageSize"],ae=function(){var e=(0,s.useIntl)(),t=(0,D.useRef)(),r=(0,D.useState)(!0),n=v()(r,2),o=n[0],l=n[1],i=(0,D.useState)(!1),c=v()(i,2),u=c[0],f=c[1],m=(0,X.Z)().translateString,y=(0,D.useState)(1),b=v()(y,2),w=b[0],k=b[1],j=(0,D.useState)(10),M=v()(j,2),C=M[0],S=M[1],Z=(0,P.u)((function(e){return e.currentOrg})),L=(0,q.j)((function(e){return e.currentKbase})),V=(0,U.v)((function(e){return e.currentCategory})),_=(0,U.v)((function(e){return e.categorySelectOptions})),B=(0,D.useState)(!1),R=v()(B,2),H=R[0],Y=R[1],G=(0,D.useState)(),ee=v()(G,2),te=ee[0],ae=ee[1],le=function(){var r=h()(g()().mark((function r(n){var o,a;return g()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(n),r.next=3,(0,re.I2)(n);case 3:o=r.sent,console.log("delete response:",o),200===o.code?(null==t||null===(a=t.current)||void 0===a||a.reload(),x.yw.success(e.formatMessage({id:"delete.success",defaultMessage:"Delete Success"}))):x.yw.error(e.formatMessage({id:"delete.error",defaultMessage:"Delete Error"}));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),ie=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,K.jsx)(s.FormattedMessage,{id:"content",defaultMessage:"Content"}),dataIndex:"content",render:function(e,t){return m(null==t?void 0:t.content)}},{title:(0,K.jsx)(s.FormattedMessage,{id:"type",defaultMessage:"Type"}),dataIndex:"type",hideInSearch:!0,render:function(t,r){return(0,K.jsx)(K.Fragment,{children:e.formatMessage({id:null==r?void 0:r.type,defaultMessage:null==r?void 0:r.type})})}},{title:(0,K.jsx)(s.FormattedMessage,{id:"category",defaultMessage:"Category"}),dataIndex:"categoryUid",hideInSearch:!0,render:function(e,t){var r=_.find((function(e){return e.value===(null==t?void 0:t.categoryUid)}));return(0,K.jsx)(F.Z,{children:null==r?void 0:r.label})}},{title:(0,K.jsx)(s.FormattedMessage,{id:"updatedAt",defaultMessage:"updatedAt"}),key:"updatedAt",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0,width:180,render:function(e,t,r,n){return W()(null==t?void 0:t.updatedAt).format("YYYY-MM-DD HH:mm:ss")}},{title:e.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",width:100,render:function(t,r,n,o){return[(0,K.jsx)("a",{onClick:function(){ce(r)},children:e.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable"),(0,K.jsx)(z.Z,{title:e.formatMessage({id:"deleteTip",defaultMessage:"Delete Tip"}),description:"".concat(e.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(null==r?void 0:r.content,"】？"),onConfirm:function(){return le(r)},okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"}),children:(0,K.jsx)(A.ZP,{size:"small",type:"link",danger:!0,children:e.formatMessage({id:"delete",defaultMessage:"Delete"})})},"delete")]}}],se=function(){ae(void 0),l(!1),f(!0)},ce=function(e){ae(e),l(!0),f(!0)},de=function(){var r=h()(g()().mark((function r(n){var a,l;return g()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log("handleSubmitDrawer",n),o?(x.yw.loading(e.formatMessage({id:"updating"})),n.uid=null==te?void 0:te.uid):x.yw.loading(e.formatMessage({id:"creating"})),!o){r.next=8;break}return r.next=5,(0,re.l8)(n);case 5:r.t0=r.sent,r.next=11;break;case 8:return r.next=10,(0,re.dO)(n);case 10:r.t0=r.sent;case 11:a=r.t0,console.log("createQuickreply response:",n,a),200===a.code?(x.yw.destroy(),x.yw.loading(e.formatMessage({id:"create.success"})),f(!1),null===(l=t.current)||void 0===l||l.reload()):(x.yw.destroy(),x.yw.error(a.message));case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),ue=function(){var e=h()(g()().mark((function e(){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=h()(g()().mark((function e(){var t;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",w,C),t=localStorage.getItem(a.LA8),window.open((0,N.kG)()+"/api/v1/autoreply/fixed/export?"+new URLSearchParams({orgUid:(null==Z?void 0:Z.uid)||"",pageNumber:String(w-1),pageSize:String(C),accessToken:t||""}).toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,D.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.reload()}),[L,V]);var fe=function(){var t=h()(g()().mark((function t(){return g()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,J.HK)(a.WvL,null==Z?void 0:Z.uid,null==L?void 0:L.uid,{showLoading:!0,loadingMessage:e.formatMessage({id:"loading"}),errorMessage:e.formatMessage({id:"fetch.categories.error",defaultMessage:"Failed to fetch categories"})});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)($.Z,{columns:ie,actionRef:t,cardBordered:!0,request:function(){var t=h()(g()().mark((function t(r,n,o){var l,i,s,c,u;return g()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("request:",r,n,o),x.yw.loading(e.formatMessage({id:"loading",defaultMessage:"Loading"})),l=r.current,i=r.pageSize,s=p()(r,oe),k(l),S(i),c=d()({pageNumber:l-1,pageSize:i,categoryUid:(null==V?void 0:V.uid)===a.zBg?"":null==V?void 0:V.uid,kbUid:null==L?void 0:L.uid,orgUid:null==Z?void 0:Z.uid},s),t.next=8,(0,re.o_)(c);case 8:return u=t.sent,console.log("queryAutoReplyFixedByOrg response:",c,u),x.yw.destroy(),200===u.code||x.yw.error(u.message),t.abrupt("return",{data:u.data.content,success:!0,total:u.data.totalElements});case 13:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:m(null==L?void 0:L.name)+" - 固定回复",tooltip:{title:"客服-》一对一-》高级设置-》自动回复",placement:"top"},toolBarRender:function(){return[(0,K.jsx)(A.ZP,{icon:(0,K.jsx)(T.Z,{}),type:"primary",onClick:se,children:e.formatMessage({id:"create",defaultMessage:"Create"})},"button"),(0,K.jsx)(A.ZP,{icon:(0,K.jsx)(O.Z,{}),type:"primary",onClick:ue,children:e.formatMessage({id:"import",defaultMessage:"Import"})},"button"),(0,K.jsx)(A.ZP,{icon:(0,K.jsx)(E.Z,{}),type:"primary",onClick:pe,children:e.formatMessage({id:"export",defaultMessage:"Export"})},"button"),(0,K.jsx)(A.ZP,{icon:(0,K.jsx)(I.Z,{}),type:"link",onClick:function(){(0,N.x5)()},children:e.formatMessage({id:"download.template",defaultMessage:"Download Template"})},"download")]}}),u&&(0,K.jsx)(ne,{isEdit:o,open:u,autoreply:te,onClose:function(){return f(!1)},onSubmit:de}),H&&(0,K.jsx)(Q.Z,{type:a.BMI,isModalOpen:H,handleSubmit:function(e){var r;console.log("handleUploadDragSubmit",e),Y(!1),null==t||null===(r=t.current)||void 0===r||r.reload(),fe()},handleCancel:function(){var e;console.log("handleUploadDragCancel"),Y(!1),null==t||null===(e=t.current)||void 0===e||e.reload()}})]})},le=function(){var e=(0,s.useIntl)(),t=[{key:"keyword",label:e.formatMessage({id:"kbase.autoreply.keyword",defaultMessage:"关键词回复"}),children:(0,K.jsx)(te,{})},{key:"fixed",label:e.formatMessage({id:"kbase.autoreply.fixed",defaultMessage:"固定回复"}),children:(0,K.jsx)(ae,{})}];return(0,K.jsx)(i.Z,{defaultActiveKey:"keyword",items:t})},ie=o.Z.Sider,se=o.Z.Content,ce=function(){var e=(0,n.Z)(),t=e.leftSiderStyle,r=e.contentStyle;return(0,K.jsx)("div",{children:(0,K.jsxs)(o.Z,{children:[(0,K.jsx)(ie,{style:t,children:(0,K.jsx)(l.Z,{type:a.WvL})}),(0,K.jsx)(o.Z,{children:(0,K.jsx)(se,{style:r,children:(0,K.jsx)(le,{})})})]})})}},27487:function(e,t,r){r.d(t,{Z:function(){return j}});var n=r(44194),o=r(51865),a=r.n(o),l=r(97859),i=r(90899),s=r(37167),c=r(65759),d=r(77167);const u=["wrap","nowrap","wrap-reverse"],p=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],f=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];var g=function(e,t){return a()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const r=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${r}`]:r&&u.includes(r)}})(e,t)),((e,t)=>{const r={};return f.forEach((n=>{r[`${e}-align-${n}`]=t.align===n})),r[`${e}-align-stretch`]=!t.align&&!!t.vertical,r})(e,t)),((e,t)=>{const r={};return p.forEach((n=>{r[`${e}-justify-${n}`]=t.justify===n})),r})(e,t)))};const m=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},h=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},y=e=>{const{componentCls:t}=e,r={};return u.forEach((e=>{r[`${t}-wrap-${e}`]={flexWrap:e}})),r},v=e=>{const{componentCls:t}=e,r={};return f.forEach((e=>{r[`${t}-align-${e}`]={alignItems:e}})),r},x=e=>{const{componentCls:t}=e,r={};return p.forEach((e=>{r[`${t}-justify-${e}`]={justifyContent:e}})),r};var b=(0,c.I$)("Flex",(e=>{const{paddingXS:t,padding:r,paddingLG:n}=e,o=(0,d.IX)(e,{flexGapSM:t,flexGap:r,flexGapLG:n});return[m(o),h(o),y(o),v(o),x(o)]}),(()=>({})),{resetStyle:!1}),w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const k=n.forwardRef(((e,t)=>{const{prefixCls:r,rootClassName:o,className:c,style:d,flex:u,gap:p,children:f,vertical:m=!1,component:h="div"}=e,y=w(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:v,direction:x,getPrefixCls:k}=n.useContext(s.E_),j=k("flex",r),[M,C,S]=b(j),Z=null!=m?m:null==v?void 0:v.vertical,P=a()(c,o,null==v?void 0:v.className,j,C,S,g(j,e),{[`${j}-rtl`]:"rtl"===x,[`${j}-gap-${p}`]:(0,i.n)(p),[`${j}-vertical`]:Z}),T=Object.assign(Object.assign({},null==v?void 0:v.style),d);return u&&(T.flex=u),p&&!(0,i.n)(p)&&(T.gap=p),M(n.createElement(h,Object.assign({ref:t,className:P,style:T},(0,l.Z)(y,["justify","wrap","align"])),f))}));var j=k},29266:function(e,t,r){r.d(t,{Z:function(){return O}});var n=r(44194),o=r(51865),a=r.n(o),l=r(97859),i=r(63125),s=r(80314),c=r(79145),d=r(18011),u=r(37167),p=r(47825),f=r(87471),g=r(88874),m=r(77167),h=r(65759);const y=e=>{const{lineWidth:t,fontSizeIcon:r,calc:n}=e,o=e.fontSizeSM;return(0,m.IX)(e,{tagFontSize:o,tagLineHeight:(0,p.bf)(n(e.lineHeightSM).mul(o).equal()),tagIconSize:n(r).sub(n(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},v=e=>({defaultBg:new f.t(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var x=(0,h.I$)("Tag",(e=>(e=>{const{paddingXXS:t,lineWidth:r,tagPaddingHorizontal:n,componentCls:o,calc:a}=e,l=a(n).sub(r).equal(),i=a(t).sub(r).equal();return{[o]:Object.assign(Object.assign({},(0,g.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:l,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,p.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${o}-close-icon`]:{marginInlineStart:i,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:l}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(y(e))),v),b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const w=n.forwardRef(((e,t)=>{const{prefixCls:r,style:o,className:l,checked:i,onChange:s,onClick:c}=e,d=b(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:p,tag:f}=n.useContext(u.E_),g=p("tag",r),[m,h,y]=x(g),v=a()(g,`${g}-checkable`,{[`${g}-checkable-checked`]:i},null==f?void 0:f.className,l,h,y);return m(n.createElement("span",Object.assign({},d,{ref:t,style:Object.assign(Object.assign({},o),null==f?void 0:f.style),className:v,onClick:e=>{null==s||s(!i),null==c||c(e)}})))}));var k=w,j=r(85772);var M=(0,h.bk)(["Tag","preset"],(e=>(e=>(0,j.Z)(e,((t,r)=>{let{textColor:n,lightBorderColor:o,lightColor:a,darkColor:l}=r;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:n,background:a,borderColor:o,"&-inverse":{color:e.colorTextLightSolid,background:l,borderColor:l},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}})))(y(e))),v);const C=(e,t,r)=>{const n="string"!=typeof(o=r)?o:o.charAt(0).toUpperCase()+o.slice(1);var o;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${r}`],background:e[`color${n}Bg`],borderColor:e[`color${n}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var S=(0,h.bk)(["Tag","status"],(e=>{const t=y(e);return[C(t,"success","Success"),C(t,"processing","Info"),C(t,"error","Error"),C(t,"warning","Warning")]}),v),Z=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const P=n.forwardRef(((e,t)=>{const{prefixCls:r,className:o,rootClassName:p,style:f,children:g,icon:m,color:h,onClose:y,bordered:v=!0,visible:b}=e,w=Z(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:k,direction:j,tag:C}=n.useContext(u.E_),[P,T]=n.useState(!0),O=(0,l.Z)(w,["closeIcon","closable"]);n.useEffect((()=>{void 0!==b&&T(b)}),[b]);const E=(0,i.o2)(h),I=(0,i.yT)(h),$=E||I,L=Object.assign(Object.assign({backgroundColor:h&&!$?h:void 0},null==C?void 0:C.style),f),F=k("tag",r),[z,A,D]=x(F),U=a()(F,null==C?void 0:C.className,{[`${F}-${h}`]:$,[`${F}-has-color`]:h&&!$,[`${F}-hidden`]:!P,[`${F}-rtl`]:"rtl"===j,[`${F}-borderless`]:!v},o,p,A,D),q=e=>{e.stopPropagation(),null==y||y(e),e.defaultPrevented||T(!1)},[,N]=(0,s.Z)((0,s.w)(e),(0,s.w)(C),{closable:!1,closeIconRender:e=>{const t=n.createElement("span",{className:`${F}-close-icon`,onClick:q},e);return(0,c.wm)(e,t,(e=>({onClick:t=>{var r;null===(r=null==e?void 0:e.onClick)||void 0===r||r.call(e,t),q(t)},className:a()(null==e?void 0:e.className,`${F}-close-icon`)})))}}),V="function"==typeof w.onClick||g&&"a"===g.type,_=m||null,B=_?n.createElement(n.Fragment,null,_,g&&n.createElement("span",null,g)):g,R=n.createElement("span",Object.assign({},O,{ref:t,className:U,style:L}),B,N,E&&n.createElement(M,{key:"preset",prefixCls:F}),I&&n.createElement(S,{key:"status",prefixCls:F}));return z(V?n.createElement(d.Z,{component:"Tag"},R):R)})),T=P;T.CheckableTag=k;var O=T}}]);