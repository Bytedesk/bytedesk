"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8455],{83259:function(e,t,n){n.d(t,{W5:function(){return l}});var r=n(90819),a=n.n(r),s=n(73193),i=n.n(s),u=n(89933),o=n.n(u),c=(n(77667),n(82045));function l(e){return d.apply(this,arguments)}function d(){return(d=o()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/message/query/org",{method:"GET",params:i()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},93139:function(e,t,n){var r=n(74145);t.Z=function(){var e=(0,r.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"}}}},85475:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r=n(93139),a=n(64476),s=n(32423),i=n(44194),u=n(90819),o=n.n(u),c=n(89933),l=n.n(c),d=n(45332),f=n.n(d),g=n(89756),p=n(83259),h=n(12647),m=n(40431),x=n(52519),y=n(31549),v=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,y.jsx)(FormattedMessage,{id:"type",defaultMessage:"Type"}),dataIndex:"type",copyable:!0},{title:(0,y.jsx)(FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",sorter:!0,hideInSearch:!0},{title:intl.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",render:function(e,t,n,r){return[(0,y.jsx)("a",{onClick:function(){var e;null==r||null===(e=r.startEditable)||void 0===e||e.call(r,t.uid)},children:"修改"},"editable")]}}],b=function(){var e=(0,i.useRef)(),t=(0,i.useState)(1),n=f()(t,2),r=n[0],a=n[1],s=(0,i.useState)(10),u=f()(s,2),c=u[0],d=u[1],b=(0,m.u)((function(e){return e.currentOrg})),k=(0,h.G)((function(e){return{messageResult:e.messageResult,setMemberResult:e.setMessageResult}})),S=k.messageResult,w=k.setMemberResult,R=function(){var e=l()(o()().mark((function e(){var t,n;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pageNumber:r-1,pageSize:c,orgUid:b.uid},e.next=3,(0,p.W5)(t);case 3:n=e.sent,console.log("getAllMessages response:",t,n),200===n.code?w(n):g.yw.error(n.message);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){R()}),[]),(0,i.useEffect)((function(){R()}),[r,c]),(0,i.useEffect)((function(){console.log("messageResult:",S),e.current.reload()}),[S]),(0,y.jsx)(x.Z,{columns:v,actionRef:e,cardBordered:!0,request:function(){var e=l()(o()().mark((function e(t,n,r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request:",t,n,r),a(t.current),d(t.pageSize),e.abrupt("return",Promise.resolve({data:S.data.content,success:!0,total:S.data.totalElements}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{pageSize:c,showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:"组织消息",toolBarRender:function(){return[]}})},k=(a.Z.Header,a.Z.Footer,a.Z.Sider),S=a.Z.Content,w=[{label:"高级",key:"top",children:[{label:"column",key:"xinxixitongxiangmuguanlishi"}]},{label:"中级",key:"middle",children:[{label:"column2",key:"xitongjichengxiangmuguanligongchengshi"}]}],R=function(){var e=(0,r.Z)(),t=e.leftSiderStyle,n=e.contentStyle;return(0,y.jsxs)(a.Z,{children:[(0,y.jsx)(k,{style:t,children:(0,y.jsx)(s.Z,{mode:"inline",onClick:function(e){console.log("menu click ",e)},defaultSelectedKeys:["xinxixitongxiangmuguanlishi"],defaultOpenKeys:["top","middle"],items:w})}),(0,y.jsx)(a.Z,{children:(0,y.jsx)(S,{style:n,children:(0,y.jsx)(b,{})})})]})}},12647:function(e,t,n){n.d(t,{G:function(){return u}});var r=n(77667),a=n(39701),s=n(83642),i=n(41617),u=(0,a.Ue)()((0,s.mW)((0,s.tJ)((0,i.n)((function(e,t){return{messageResult:{data:{content:[]}},setMessageResult:function(t){e({messageResult:t})},deleteMessageCache:function(){return e({},!0)}}})),{name:r.j87})))}}]);