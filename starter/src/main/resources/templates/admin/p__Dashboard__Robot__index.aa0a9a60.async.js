"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6693],{41771:function(qt,Pe,l){l.r(Pe),l.d(Pe,{default:function(){return Xt}});var ge=l(21612),c=l(67294),Le=l(15009),M=l.n(Le),ze=l(99289),J=l.n(ze),Ue=l(5574),j=l.n(Ue),ne=l(37326),Ke=l(85576),Ve=l(86250),L=l(14726),be=l(2487),Ee=l(7134),He=l(11475),Qe=l(64789),Q=l(86745),Ge=l(39825),ve=l(87676),V=l(85615),le=l(34994),Ie=l(5966),me=l(64317),e=l(85893),We=function(t){var o=t.open,n=t.onClose,r=t.onSubmit,a=(0,Q.useIntl)(),m=le.A.useForm(),v=j()(m,1),i=v[0],d=(0,ve.u)(function(y){return y.orgCurrent}),x=function(){console.log("handleSaveRobot"),i.validateFields().then(function($){console.log("handleSaveRobot values:",$);var H={nickname:$.nickname,type:$.type,orgUid:d.uid};console.log("robotObject:",H),r(H)}).catch(function($){console.log("Form errors:",$)})},N=function(){n()},P=function($){console.log("onTreeSelectChange:",$)};return(0,e.jsx)("div",{children:(0,e.jsx)(Ke.Z,{title:a.formatMessage({id:"pages.robot.new",defaultMessage:"New"}),open:o,okText:a.formatMessage({id:"save",defaultMessage:"Save"}),onOk:x,onCancel:N,children:(0,e.jsxs)(le.A,{form:i,name:"basic",style:{maxWidth:400},submitter:!1,children:[(0,e.jsx)(Ie.Z,{label:a.formatMessage({id:"nickname",defaultMessage:"Nickname"}),name:"nickname",rules:[{required:!0,message:a.formatMessage({id:"nickname",defaultMessage:"Nickname"})}]}),(0,e.jsx)(me.Z,{label:a.formatMessage({id:"type",defaultMessage:"Type"}),name:["type"],options:[{label:a.formatMessage({id:V.f4,defaultMessage:"Service"}),value:V.f4},{label:a.formatMessage({id:V.wG,defaultMessage:"Marketing"}),value:V.wG},{label:a.formatMessage({id:V.ML,defaultMessage:"Knowledgebase"}),value:V.ML},{label:a.formatMessage({id:V.iu,defaultMessage:"Qa"}),value:V.iu}],rules:[{required:!0,message:a.formatMessage({id:"choose",defaultMessage:"Choose"})}],fieldProps:{placeholder:a.formatMessage({id:"choose",defaultMessage:"Choose"}),onChange:P,allowClear:!0}})]})})})},Ye=We,ce=l(76545),T=l(80049),de=l(73803),Je=function(){var t=(0,Ge.Z)(),o=t.isDarkMode,n=(0,Q.useIntl)(),r=(0,c.useRef)(!1),a=(0,de.Z)(),m=a.translateString,v=a.translateStringTranct,i=(0,ne.V)(function(E){return{robotResult:E.robotResult,currentRobot:E.currentRobot,insertRobot:E.insertRobot,deleteCurrentRobot:E.deleteCurrentRobot,setRobotResult:E.setRobotResult,setCurrentRobot:E.setCurrentRobot}}),d=i.robotResult,x=i.currentRobot,N=i.insertRobot,P=i.deleteCurrentRobot,y=i.setRobotResult,$=i.setCurrentRobot,H=(0,ve.u)(function(E){return E.orgCurrent}),C=Ke.Z.useModal(),u=j()(C,2),F=u[0],w=u[1],K=function(D){F.confirm({title:n.formatMessage({id:"deleteTip"}),icon:(0,e.jsx)(He.Z,{}),content:"".concat(n.formatMessage({id:"deleteAfirm",defaultMessage:"Delete"}),"\u3010").concat(m(D.nickname),"\u3011\uFF1F"),onOk:function(){A(D)},onCancel:function(){},okText:n.formatMessage({id:"ok"}),cancelText:n.formatMessage({id:"cancel"})})},A=function(){var E=J()(M()().mark(function D(B){var z;return M()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return console.log("delete robot",B),T.yw.loading(n.formatMessage({id:"deleting",defaultMessage:"Deleting"})),O.next=4,(0,ce.gf)(B);case 4:z=O.sent,console.log("delete robot response",z),z.code===200?(T.yw.destroy(),T.yw.success(n.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),P(B.uid)):(T.yw.destroy(),T.yw.error(z.message));case 7:case"end":return O.stop()}},D)}));return function(B){return E.apply(this,arguments)}}(),h=function(){var E=J()(M()().mark(function D(){var B,z;return M()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!r.current){O.next=3;break}return console.log("isLoading: 1",r.current),O.abrupt("return");case 3:return r.current=!0,T.yw.loading("loading"),B={pageNumber:0,pageSize:50,orgUid:H.uid},O.next=8,(0,ce.p0)(B);case 8:z=O.sent,console.log("queryRobotsByOrg: ",z),z.code===200?(T.yw.destroy(),y(z)):(T.yw.destroy(),T.yw.error(z.message)),r.current=!1;case 12:case"end":return O.stop()}},D)}));return function(){return E.apply(this,arguments)}}();(0,c.useEffect)(function(){h()},[]);var b=(0,c.useState)(!1),p=j()(b,2),Z=p[0],f=p[1],S=function(){f(!0)},W=function(){var E=J()(M()().mark(function D(B){var z;return M()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return T.yw.loading(n.formatMessage({id:"creating",defaultMessage:"Creating"})),O.next=3,(0,ce.lg)(B);case 3:z=O.sent,console.log("handleSaveRobot response:",z),z.code===200?(T.yw.destroy(),T.yw.success(n.formatMessage({id:"create.success"})),N(z.data),f(!1)):(T.yw.destroy(),f(!1),T.yw.error(z.message));case 6:case"end":return O.stop()}},D)}));return function(B){return E.apply(this,arguments)}}(),k=function(){f(!1)},R=function(){S()},Y=function(D,B){$(D)},ee=function(D){return n.formatMessage({id:D==null?void 0:D.type,defaultMessage:D==null?void 0:D.type})};return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{margin:10},children:(0,e.jsxs)(Ve.Z,{gap:"small",align:"flex-start",children:[(0,e.jsx)(L.ZP,{size:"small",type:"primary",icon:(0,e.jsx)(Qe.Z,{}),onClick:R,children:n.formatMessage({id:"pages.robot.new",defaultMessage:"New"})}),(0,e.jsx)(L.ZP,{size:"small",onClick:h,children:n.formatMessage({id:"refresh",defaultMessage:"Refresh"})}),(0,e.jsx)(L.ZP,{onClick:function(){return K(x)},size:"small",style:{float:"right"},danger:!0,disabled:(x==null?void 0:x.uid)==="",children:n.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})})]})}),(0,e.jsx)(be.Z,{itemLayout:"horizontal",dataSource:d.data.content,renderItem:function(D,B){return(0,e.jsx)(be.Z.Item,{style:(x==null?void 0:x.uid)===D.uid?{backgroundColor:o?"#333333":"#dddddd",cursor:"pointer"}:{cursor:"pointer"},onClick:function(){return Y(D,B)},children:(0,e.jsx)(be.Z.Item.Meta,{style:{marginLeft:"10px"},avatar:(0,e.jsx)(Ee.C,{src:D.avatar}),title:(0,e.jsx)(e.Fragment,{children:v(D==null?void 0:D.nickname)}),description:ee(D)})})}}),(0,e.jsx)(Ye,{open:Z,onClose:k,onSubmit:W}),w]})},Xe=Je,Fe=l(48096),qe=l(97857),X=l.n(qe),_e=l(66723),$e=l(88484),ye=l(90672),G=l(8232),et=function(){var s,t=G.Z.useForm(),o=j()(t,1),n=o[0],r=(0,Q.useIntl)(),a=(0,de.Z)(),m=a.translateString,v=(0,ne.V)(function(F){return{currentRobot:F.currentRobot,setCurrentRobot:F.setCurrentRobot}}),i=v.currentRobot,d=v.setCurrentRobot,x=(0,c.useState)(""),N=j()(x,2),P=N[0],y=N[1];(0,c.useEffect)(function(){var F=ne.V.subscribe(function(w,K){var A,h,b;n.setFieldValue("nickname",m((A=w.currentRobot)===null||A===void 0?void 0:A.nickname)),n.setFieldValue("welcomeTip",m((h=w.currentRobot)===null||h===void 0||(h=h.serviceSettings)===null||h===void 0?void 0:h.welcomeTip)),n.setFieldValue("description",m((b=w.currentRobot)===null||b===void 0?void 0:b.description))});return F},[i]);var $=function(){var F=J()(M()().mark(function w(K){var A,h;return M()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return console.log("onFinish:",K),T.yw.loading(r.formatMessage({id:"updating"})),A=X()(X()(X()({},i),K),{},{avatar:P}),console.log("robotObject:",A),p.next=6,(0,ce.$l)(A);case 6:h=p.sent,console.log("updateRobot response:",h),h.code===200?(T.yw.success(r.formatMessage({id:"update.success"})),d(h.data)):T.yw.error(h.message),T.yw.destroy();case 10:case"end":return p.stop()}},w)}));return function(K){return F.apply(this,arguments)}}(),H=function(w){console.log("handleUploadSuccess:",w),y(w)},C=function(w){console.log("handleUploadError:",w)},u=function(w){return console.log("Upload event:",w),Array.isArray(w)?w:w==null?void 0:w.fileList};return(0,c.useEffect)(function(){y(i==null?void 0:i.avatar)},[i]),(0,e.jsxs)(le.A,{form:n,style:{marginLeft:"100px"},onFinish:$,initialValues:{nickname:m(i==null?void 0:i.nickname),welcomeTip:m(i==null||(s=i.serviceSettings)===null||s===void 0?void 0:s.welcomeTip),description:m(i==null?void 0:i.description)},children:[(0,e.jsx)(G.Z.Item,{name:"avatar",valuePropName:"fileList",getValueFromEvent:u,label:r.formatMessage({id:"pages.robot.tab.avatar",defaultMessage:"Avatar"}),children:(0,e.jsxs)(_e.G,{onSuccess:H,onError:C,children:[(0,e.jsx)(Ee.C,{src:P}),(0,e.jsx)(L.ZP,{icon:(0,e.jsx)($e.Z,{}),children:r.formatMessage({id:"pages.robot.upload",defaultMessage:"Upload"})})]},"avatar")}),(0,e.jsx)(Ie.Z,{width:"md",name:"nickname",label:r.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"}),tooltip:r.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"}),placeholder:r.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"}),rules:[{required:!0,message:r.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"})}]}),(0,e.jsx)(ye.Z,{width:"md",name:"welcomeTip",label:r.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"}),tooltip:r.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"}),placeholder:r.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"}),rules:[{required:!0,message:r.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"})}]}),(0,e.jsx)(ye.Z,{width:"md",name:"description",label:r.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"}),tooltip:r.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"}),placeholder:r.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"}),rules:[{required:!0,message:r.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"})}]})]})},tt=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(et,{})})};function _t(s){return Re.apply(this,arguments)}function Re(){return Re=_asyncToGenerator(_regeneratorRuntime().mark(function s(t){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/v1/kb/query",{method:"GET",params:{pageNumber:t.pageNumber,pageSize:t.pageSize,client:HTTP_CLIENT}}));case 1:case"end":return n.stop()}},s)})),Re.apply(this,arguments)}function nt(s,t){return Ce.apply(this,arguments)}function Ce(){return Ce=J()(M()().mark(function s(t,o){return M()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,Q.request)("/api/v1/kb/file/query",{method:"GET",params:{kbName:t,pageNumber:o.pageNumber,pageSize:o.pageSize,client:V.bV}}));case 1:case"end":return r.stop()}},s)})),Ce.apply(this,arguments)}function rt(s,t){return Se.apply(this,arguments)}function Se(){return Se=J()(M()().mark(function s(t,o){return M()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,Q.request)("/api/v1/kb/doc/query",{method:"GET",params:{kbName:t,pageNumber:o.pageNumber,pageSize:o.pageSize,client:V.bV}}));case 1:case"end":return r.stop()}},s)})),Se.apply(this,arguments)}function en(s,t){return xe.apply(this,arguments)}function xe(){return xe=_asyncToGenerator(_regeneratorRuntime().mark(function s(t,o){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/llm/kb/file/doc/update",{method:"POST",data:{did:t,pageContent:o,client:HTTP_CLIENT}}));case 1:case"end":return r.stop()}},s)})),xe.apply(this,arguments)}function tn(s,t,o){return Me.apply(this,arguments)}function Me(){return Me=_asyncToGenerator(_regeneratorRuntime().mark(function s(t,o,n){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/update/doc",{method:"POST",data:{did:t,content:o,metadata:n,client:HTTP_CLIENT}}));case 1:case"end":return a.stop()}},s)})),Me.apply(this,arguments)}function ot(s){return(0,Q.request)("/api/v1/kb/file/delete",{method:"POST",params:{kid:s,client:V.bV}})}function at(s){return De.apply(this,arguments)}function De(){return De=J()(M()().mark(function s(t){return M()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Q.request)("/api/v1/kb/doc/delete",{method:"POST",params:{did:t,client:V.bV}}));case 1:case"end":return n.stop()}},s)})),De.apply(this,arguments)}function nn(s){return we.apply(this,arguments)}function we(){return we=_asyncToGenerator(_regeneratorRuntime().mark(function s(t){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/delete/doc",{method:"POST",data:{did:t,client:HTTP_CLIENT}}));case 1:case"end":return n.stop()}},s)})),we.apply(this,arguments)}var Ne=l(73445),Oe=l(782),st=l(71381),ie=(0,Ne.Ue)()((0,Oe.mW)((0,Oe.tJ)((0,st.n)(function(s,t){return{kbFileResult:{},kbDocResult:{items:[]},currentKbFile:{},currentKbDoc:{fileName:"",pageContent:""},fetchFiles:function(){var o=J()(M()().mark(function r(a,m){var v;return M()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log("kbName",a," pageParams",m),d.next=3,nt(a,m);case 3:v=d.sent,console.log("kbName kbFiles",v);case 5:case"end":return d.stop()}},r)}));function n(r,a){return o.apply(this,arguments)}return n}(),deleteFile:function(){var o=J()(M()().mark(function r(a){var m,v,i,d,x;return M()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.log("delete file",a),P.next=3,ot(a);case 3:m=P.sent,v=t().kbFileResult.data.content.filter(function(y){return y.uid!==a}),s(function(y){return{kbFileResult:{items:v}}}),console.log("delete file result",m),i=t().kbDocResult.data.content,d=M()().mark(function y(){var $;return M()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:$=m.data[x],i=i.filter(function(u){return u.uid!==$});case 2:case"end":return C.stop()}},y)}),x=0;case 10:if(!(x<m.data.length)){P.next=15;break}return P.delegateYield(d(),"t0",12);case 12:x++,P.next=10;break;case 15:s(function(y){return{kbFileDocResult:{items:i}}});case 16:case"end":return P.stop()}},r)}));function n(r){return o.apply(this,arguments)}return n}(),fetchDocs:function(){var o=J()(M()().mark(function r(a,m){var v;return M()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log("fetchFileDocs kbName",a," pageParams",m),d.next=3,rt(a,m);case 3:v=d.sent,console.log("kbName kbFileDocs",v);case 5:case"end":return d.stop()}},r)}));function n(r,a){return o.apply(this,arguments)}return n}(),deleteFileDoc:function(){var o=J()(M()().mark(function r(a){var m,v;return M()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log("delete file doc",a),d.next=3,at(a);case 3:m=d.sent,console.log("delete file doc result",m),v=t().kbDocResult.data.content.filter(function(x){return x.uid!==a}),s(function(x){return{kbFileDocResult:{items:v}}});case 7:case"end":return d.stop()}},r)}));function n(r){return o.apply(this,arguments)}return n}(),setCurrentFile:function(n){var r=t().kbFileResult.data.content.find(function(a){return a.uid===n});s({currentKbFile:r})},setCurrentFileDoc:function(n){var r=t().kbDocResult.data.content.find(function(a){return a.uid===n});console.log("setCurrentFileDoc",n,r),s({currentKbDoc:r})},updateKbFileDocPython:function(){var o=J()(M()().mark(function r(a,m,v){return M()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:console.log("updateKbFileDocPython",a,m,v);case 1:case"end":return d.stop()}},r)}));function n(r,a,m){return o.apply(this,arguments)}return n}(),deleteKbCache:function(){return s({},!0)}}}),{name:V.cn}))),pe=l(53719),he=l(86738),ue=l(45360),je=l(85265),Te=l(42075),ke=l(55102),lt=function(){var t=(0,Q.useIntl)(),o=G.Z.useForm(),n=j()(o,1),r=n[0],a=(0,ne.V)(function(I){return{currentRobot:I.currentRobot}}),m=a.currentRobot,v=(0,c.useRef)(),i=(0,c.useState)(1),d=j()(i,2),x=d[0],N=d[1],P=(0,c.useState)(20),y=j()(P,2),$=y[0],H=y[1],C=ie(function(I){return{kbFileDocResult:I.kbDocResult,currentKbFileDoc:I.currentKbDoc,fetchFileDocs:I.fetchDocs,setCurrentFileDoc:I.setCurrentFileDoc,updateKbFileDocPython:I.updateKbFileDocPython}}),u=C.kbFileDocResult,F=C.currentKbFileDoc,w=C.fetchFileDocs,K=C.setCurrentFileDoc,A=C.updateKbFileDocPython;ie.subscribe(function(I,q){console.log("kb",I)});var h=function(){};(0,c.useEffect)(function(){h()},[]),(0,c.useEffect)(function(){h()},[x,$]),(0,c.useEffect)(function(){N(1),h()},[m]),(0,c.useEffect)(function(){v.current.reload()},[u]);var b=(0,c.useState)(!1),p=j()(b,2),Z=p[0],f=p[1],S=(0,c.useState)("\u4FEE\u6539\u6587\u672C"),W=j()(S,2),k=W[0],R=W[1],Y=function(){f(!0)},ee=function(){f(!1)},E=function(){f(!1)},D=function(){console.log("handleInputText"),R("\u8F93\u5165\u6587\u672C"),Y()},B=function(){console.log("handleInputUrl"),R("\u8F93\u5165\u7F51\u5740"),Y()};function z(I){K(I.did),Y()}function te(I){console.log("handleDelete",I)}var O=[{title:t.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),width:150,dataIndex:"file_name"},{title:t.formatMessage({id:"pages.robot.file.content",defaultMessage:"Content"}),dataIndex:"page_content"},{title:t.formatMessage({id:"pages.robot.file.type",defaultMessage:"Type"}),width:80,dataIndex:"type"},{title:t.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(q,ae){return[(0,e.jsx)(L.ZP,{type:"link",size:"small",onClick:function(){return z(ae)},children:"\u4FEE\u6539"},"edit"),(0,e.jsx)(he.Z,{title:t.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return te(ae)},onCancel:function(){return E()},children:(0,e.jsx)(L.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],Ze=function(q){console.log("Success:",q,F.uid,F.meta),A(F.uid,q.pageContent,F.meta),ue.ZP.success("\u66F4\u65B0\u6210\u529F"),f(!1)},fe=function(q){console.log("Failed:",q)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z,{actionRef:v,columns:O,headerTitle:"\u89E3\u6790\u6587\u672C\u5185\u5BB9",request:function(q,ae,se){return console.log("request:",q,ae,se),N(q.current-1),H(q.pageSize),Promise.resolve({data:u.data.content,success:!0,total:u.data.totalElements})},rowKey:"did",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(L.ZP,{onClick:D,children:"\u8F93\u5165\u95EE\u7B54\u5BF9"},"text")]}}),(0,e.jsx)(je.Z,{title:k,size:"default",placement:"right",onClose:E,open:Z,extra:(0,e.jsx)(Te.Z,{children:(0,e.jsx)(L.ZP,{onClick:E,children:"\u53D6\u6D88"})}),children:(0,e.jsxs)(G.Z,{form:r,name:"basic",onFinish:Ze,onFinishFailed:fe,autoComplete:"off",children:[(0,e.jsx)(G.Z.Item,{label:"\u6807\u9898",name:"fileName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898!"}]}),(0,e.jsx)(G.Z.Item,{label:"\u5185\u5BB9",name:"pageContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9!"}],children:(0,e.jsx)(ke.Z.TextArea,{rows:15})}),(0,e.jsx)(G.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(L.ZP,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})})]})})]})},it=function(){var t=(0,Q.useIntl)(),o=G.Z.useForm(),n=j()(o,1),r=n[0],a=(0,ne.V)(function(g){return{currentRobot:g.currentRobot}}),m=a.currentRobot,v=(0,c.useRef)(),i=(0,c.useState)(1),d=j()(i,2),x=d[0],N=d[1],P=(0,c.useState)(20),y=j()(P,2),$=y[0],H=y[1],C=ie(function(g){return{kbFileDocResult:g.kbDocResult,currentKbFileDoc:g.currentKbDoc,fetchFileDocs:g.fetchDocs,setCurrentFileDoc:g.setCurrentFileDoc,updateKbFileDocPython:g.updateKbFileDocPython}}),u=C.kbFileDocResult,F=C.currentKbFileDoc,w=C.fetchFileDocs,K=C.setCurrentFileDoc,A=C.updateKbFileDocPython;ie.subscribe(function(g,U){});var h=function(){};(0,c.useEffect)(function(){h()},[]),(0,c.useEffect)(function(){h()},[x,$]),(0,c.useEffect)(function(){N(1),h()},[m]),(0,c.useEffect)(function(){v.current.reload()},[u]);var b=(0,c.useState)(!1),p=j()(b,2),Z=p[0],f=p[1],S=(0,c.useState)("\u4FEE\u6539\u6587\u672C"),W=j()(S,2),k=W[0],R=W[1],Y=(0,c.useState)(""),ee=j()(Y,2),E=ee[0],D=ee[1],B=function(){f(!0)},z=function(){f(!1)},te=function(){f(!1)},O=function(){console.log("handleInputText"),R("\u8F93\u5165\u6587\u672C"),B()},Ze=function(){console.log("handleInputUrl"),R("\u8F93\u5165\u7F51\u5740"),B()};function fe(g){K(g.did),B()}function I(g){console.log("handleDelete",g)}var q=[{title:t.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),width:150,dataIndex:"file_name"},{title:t.formatMessage({id:"pages.robot.file.content",defaultMessage:"Content"}),dataIndex:"page_content"},{title:t.formatMessage({id:"pages.robot.file.type",defaultMessage:"Type"}),width:80,dataIndex:"type"},{title:t.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(U,re){return[(0,e.jsx)(L.ZP,{type:"link",size:"small",onClick:function(){return fe(re)},children:"\u4FEE\u6539"},"edit"),(0,e.jsx)(he.Z,{title:t.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return I(re)},onCancel:function(){return te()},children:(0,e.jsx)(L.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],ae=function(U){console.log("Success:",U,F.uid,F.meta),A(F.uid,U.pageContent,F.meta),ue.ZP.success("\u66F4\u65B0\u6210\u529F"),f(!1)},se=function(U){console.log("Failed:",U)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z,{actionRef:v,columns:q,headerTitle:"\u89E3\u6790\u6587\u672C\u5185\u5BB9",request:function(U,re,oe){return console.log("request:",U,re,oe),N(U.current-1),H(U.pageSize),Promise.resolve({data:u.data.content,success:!0,total:u.data.totalElements})},rowKey:"did",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(L.ZP,{onClick:O,children:"\u8F93\u5165\u95EE\u7B54\u5BF9"},"text")]}}),(0,e.jsx)(je.Z,{title:k,size:"default",placement:"right",onClose:te,open:Z,extra:(0,e.jsx)(Te.Z,{children:(0,e.jsx)(L.ZP,{onClick:te,children:"\u53D6\u6D88"})}),children:(0,e.jsxs)(G.Z,{form:r,name:"basic",onFinish:ae,onFinishFailed:se,autoComplete:"off",children:[(0,e.jsx)(G.Z.Item,{label:"\u6807\u9898",name:"fileName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898!"}]}),(0,e.jsx)(G.Z.Item,{label:"\u5185\u5BB9",name:"pageContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9!"}],children:(0,e.jsx)(ke.Z.TextArea,{rows:15})}),(0,e.jsx)(G.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(L.ZP,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})})]})})]})},ut=function(){var t=(0,Q.useIntl)(),o=G.Z.useForm(),n=j()(o,1),r=n[0],a=(0,ne.V)(function(g){return{currentRobot:g.currentRobot}}),m=a.currentRobot,v=(0,c.useRef)(),i=(0,c.useState)(1),d=j()(i,2),x=d[0],N=d[1],P=(0,c.useState)(20),y=j()(P,2),$=y[0],H=y[1],C=ie(function(g){return{kbFileDocResult:g.kbDocResult,currentKbFileDoc:g.currentKbDoc,fetchFileDocs:g.fetchDocs,setCurrentFileDoc:g.setCurrentFileDoc,updateKbFileDocPython:g.updateKbFileDocPython}}),u=C.kbFileDocResult,F=C.currentKbFileDoc,w=C.fetchFileDocs,K=C.setCurrentFileDoc,A=C.updateKbFileDocPython;ie.subscribe(function(g,U){r.setFieldValue("pageContent",g.currentKbDoc.content)});var h=function(){};(0,c.useEffect)(function(){h()},[]),(0,c.useEffect)(function(){h()},[x,$]),(0,c.useEffect)(function(){N(1),h()},[m]),(0,c.useEffect)(function(){v.current.reload()},[u]);var b=(0,c.useState)(!1),p=j()(b,2),Z=p[0],f=p[1],S=(0,c.useState)("\u4FEE\u6539\u6587\u672C"),W=j()(S,2),k=W[0],R=W[1],Y=(0,c.useState)(""),ee=j()(Y,2),E=ee[0],D=ee[1],B=function(){f(!0)},z=function(){f(!1)},te=function(){f(!1)},O=function(){console.log("handleInputText"),R("\u8F93\u5165\u6587\u672C"),B()},Ze=function(){console.log("handleInputUrl"),R("\u8F93\u5165\u7F51\u5740"),B()};function fe(g){K(g.did),B()}function I(g){console.log("handleDelete",g)}var q=[{title:t.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),width:150,dataIndex:"file_name"},{title:t.formatMessage({id:"pages.robot.file.content",defaultMessage:"Content"}),dataIndex:"page_content"},{title:t.formatMessage({id:"pages.robot.file.type",defaultMessage:"Type"}),width:80,dataIndex:"type"},{title:t.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(U,re){return[(0,e.jsx)(L.ZP,{type:"link",size:"small",onClick:function(){return fe(re)},children:"\u4FEE\u6539"},"edit"),(0,e.jsx)(he.Z,{title:t.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return I(re)},onCancel:function(){return te()},children:(0,e.jsx)(L.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],ae=function(U){console.log("Success:",U,F.uid,F.meta),A(F.uid,U.pageContent,F.meta),ue.ZP.success("\u66F4\u65B0\u6210\u529F"),f(!1)},se=function(U){console.log("Failed:",U)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z,{actionRef:v,columns:q,headerTitle:"\u89E3\u6790\u6587\u672C\u5185\u5BB9",request:function(U,re,oe){return console.log("request:",U,re,oe),N(U.current-1),H(U.pageSize),Promise.resolve({data:u.data.content,success:!0,total:u.data.totalElements})},rowKey:"did",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(L.ZP,{onClick:O,children:"\u8F93\u5165\u95EE\u7B54\u5BF9"},"text")]}}),(0,e.jsx)(je.Z,{title:k,size:"default",placement:"right",onClose:te,open:Z,extra:(0,e.jsx)(Te.Z,{children:(0,e.jsx)(L.ZP,{onClick:te,children:"\u53D6\u6D88"})}),children:(0,e.jsxs)(G.Z,{form:r,name:"basic",onFinish:ae,onFinishFailed:se,autoComplete:"off",children:[(0,e.jsx)(G.Z.Item,{label:"\u6807\u9898",name:"fileName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898!"}]}),(0,e.jsx)(G.Z.Item,{label:"\u5185\u5BB9",name:"pageContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9!"}],children:(0,e.jsx)(ke.Z.TextArea,{rows:15})}),(0,e.jsx)(G.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(L.ZP,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})})]})})]})},ct=l(66476),dt=l(27484),Be=l.n(dt),ft=function(){var t=(0,Q.useIntl)(),o=(0,de.Z)(),n=o.translateString,r=ue.ZP.useMessage(),a=j()(r,2),m=a[0],v=a[1],i=(0,ne.V)(function(k){return k.currentRobot}),d=(0,c.useRef)(),x=(0,c.useState)(1),N=j()(x,2),P=N[0],y=N[1],$=(0,c.useState)(10),H=j()($,2),C=H[0],u=H[1],F=ie(function(k){return{kbFileResult:k.kbFileResult,fetchFiles:k.fetchFiles,fetchFileDocs:k.fetchDocs,deleteFile:k.deleteFile}}),w=F.kbFileResult,K=F.fetchFiles,A=F.fetchFileDocs,h=F.deleteFile;function b(k){console.log("handleDelete",k),h(k.uid)}function p(){console.log("handleCancel")}var Z=[{title:t.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),dataIndex:"name"},{title:t.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(R,Y){return[(0,e.jsx)(he.Z,{title:t.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return b(Y)},onCancel:function(){return p()},children:(0,e.jsx)(L.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],f=function(){var R={pageNumber:P,pageSize:C};K(i.uid,R),A(i.uid,R)};(0,c.useEffect)(function(){f()},[]),(0,c.useEffect)(function(){f()},[P,C]),(0,c.useEffect)(function(){y(1),f()},[i]),(0,c.useEffect)(function(){d.current.reload()},[w]);var S={file_name:"test.png",file_kid:Be()(new Date).format("YYYYMMDDHHmmss"),rid:i.uid,client:V.bV},W={name:"file",action:"/api/v1/upload/file",headers:{Authorization:"Bearer "+localStorage.getItem(V.LA).replaceAll('"',"")},showUploadList:!1,data:S,beforeUpload:function(R){if(R.name.includes("_"))return ue.ZP.error(t.formatMessage({id:"pages.robot.file.name_invalid",defaultMessage:"File name should not contain _"})),!1;S.file_name=R.name;var Y=Be()(new Date).format("YYYYMMDDHHmmss");return S.file_kid=Y,S.rid=i.uid,console.log("file:",R," uploadData:",S),m.open({type:"loading",content:t.formatMessage({id:"pages.robot.file.uploading",defaultMessage:"Uploading..."}),duration:0}),!0},onChange:function(R){R.file.status!=="uploading"&&console.log(R.file,R.fileList),R.file.status==="done"?(console.log(R.file.response.data),m.destroy(),ue.ZP.success("".concat(R.file.name," file uploaded successfully")),f()):R.file.status==="error"&&ue.ZP.error("".concat(R.file.name," file upload failed."))}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z,{actionRef:d,columns:Z,headerTitle:n(i.nickname),request:function(R,Y,ee){return console.log("request:",R,Y,ee),y(R.current),u(R.pageSize),Promise.resolve({data:w.data.content,success:!0,total:w.data.totalElements})},rowKey:"kid",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(ct.Z,X()(X()({},W),{},{children:(0,e.jsx)(L.ZP,{icon:(0,e.jsx)($e.Z,{}),type:"primary",children:t.formatMessage({id:"pages.robot.upload",defaultMessage:"Upload"})})}),"upload")]}}),v]})},gt=function(){var t=(0,Q.useIntl)(),o=[{key:"file",label:t.formatMessage({id:"pages.robot.kb.file",defaultMessage:"File"}),children:(0,e.jsx)(ft,{})},{key:"text",label:t.formatMessage({id:"pages.robot.kb.text",defaultMessage:"Text"}),children:(0,e.jsx)(lt,{})},{key:"qa",label:t.formatMessage({id:"pages.robot.kb.qa",defaultMessage:"Q&A"}),children:(0,e.jsx)(it,{})},{key:"web",label:t.formatMessage({id:"pages.robot.kb.web",defaultMessage:"Website"}),children:(0,e.jsx)(ut,{})}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Fe.Z,{tabPosition:"left",items:o})})},mt=gt,pt=l(32010),_=l(21235),rn=l(94326),ht=[{id:"1",type:"colorChooser",data:{color:"#4FD1C5"},position:{x:250,y:25}},{id:"2",type:"colorChooser",data:{color:"#F6E05E"},position:{x:100,y:125}},{id:"3",type:"customNode",data:{label:"customNode"},position:{x:250,y:250}}],bt=ht,vt=[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"}],Ft=vt,yt=(0,Ne.Ue)(function(s,t){return{nodes:bt,edges:Ft,onNodesChange:function(n){s({nodes:(0,_.Fb)(n,t().nodes)})},onEdgesChange:function(n){s({edges:(0,_.yn)(n,t().edges)})},onConnect:function(n){s({edges:(0,_.Z_)(n,t().edges)})},setNodes:function(n){s({nodes:n})},setEdges:function(n){s({edges:n})},updateNodeColor:function(n,r){s({nodes:t().nodes.map(function(a){return a.id===n?X()(X()({},a),{},{data:X()(X()({},a.data),{},{color:r})}):a})})}}}),Ae=yt;function Rt(s){var t=s.id,o=s.data,n=Ae(function(r){return r.updateNodeColor});return(0,e.jsxs)("div",{style:{backgroundColor:o.color,borderRadius:10},children:[(0,e.jsx)(_.HH,{type:"target",position:_.Ly.Top}),(0,e.jsx)("div",{style:{padding:20},children:(0,e.jsx)("input",{type:"color",defaultValue:o.color,onChange:function(a){return n(t,a.target.value)},className:"nodrag"})}),(0,e.jsx)(_.HH,{type:"source",position:_.Ly.Bottom})]})}var Ct=Rt,St=l(52080),xt=function(t){var o=t.data;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(St.M,{isVisible:o.toolbarVisible,position:o.toolbarPosition,children:[(0,e.jsx)("button",{children:"delete"}),(0,e.jsx)("button",{children:"copy"}),(0,e.jsx)("button",{children:"expand"})]}),(0,e.jsx)("div",{style:{padding:"10px 20px"},children:o.label}),(0,e.jsx)(_.HH,{type:"target",position:_.Ly.Left}),(0,e.jsx)(_.HH,{type:"source",position:_.Ly.Right})]})},Mt=(0,c.memo)(xt),Dt={colorChooser:Ct,customNode:Mt},wt=function(t){return{nodes:t.nodes,edges:t.edges,onNodesChange:t.onNodesChange,onEdgesChange:t.onEdgesChange,onConnect:t.onConnect}},jt=function(){var t=Ae((0,pt.N)(wt)),o=t.nodes,n=t.edges,r=t.onNodesChange,a=t.onEdgesChange,m=t.onConnect;return(0,e.jsx)("div",{style:{width:"75vw",height:"80vh"},children:(0,e.jsx)(_.x$,{nodes:o,edges:n,onNodesChange:r,onEdgesChange:a,onConnect:m,fitView:!0,nodeTypes:Dt})})},Tt=function(){var t=(0,Q.useAccess)();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Q.Access,{accessible:t.canDebug(),fallback:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Q.FormattedMessage,{id:V.h5})}),children:(0,e.jsx)(_.tV,{children:(0,e.jsx)(jt,{})})})})},kt=Tt,Zt=l(52688),Pt=l(31199),Kt=function(){var s,t,o,n,r,a,m,v,i,d,x=(0,Q.useIntl)(),N=le.A.useForm(),P=j()(N,1),y=P[0],$=(0,de.Z)(),H=$.translateString,C=(0,ne.V)(function(K){return{currentRobot:K.currentRobot,setCurrentRobot:K.setCurrentRobot}}),u=C.currentRobot,F=C.setCurrentRobot;ne.V.subscribe(function(K,A){var h,b,p,Z,f,S;y.setFieldValue("topK",(h=K.currentRobot)===null||h===void 0||(h=h.llm)===null||h===void 0?void 0:h.topK),y.setFieldValue("scoreThreshold",(b=K.currentRobot)===null||b===void 0||(b=b.llm)===null||b===void 0?void 0:b.scoreThreshold),y.setFieldValue("model",(p=K.currentRobot)===null||p===void 0||(p=p.llm)===null||p===void 0?void 0:p.model),y.setFieldValue("embeddings",(Z=K.currentRobot)===null||Z===void 0||(Z=Z.llm)===null||Z===void 0?void 0:Z.embeddings),y.setFieldValue("temperature",(f=K.currentRobot)===null||f===void 0||(f=f.llm)===null||f===void 0?void 0:f.temperature),y.setFieldValue("prompt",(S=K.currentRobot)===null||S===void 0||(S=S.llm)===null||S===void 0?void 0:S.prompt)});var w=function(){var K=J()(M()().mark(function A(h){var b,p;return M()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return console.log("handleSubmit",h),T.yw.loading(x.formatMessage({id:"updating"})),b=X()(X()({},u),{},{llm:h}),console.log("robotObject:",b),f.next=6,(0,ce.$l)(b);case 6:p=f.sent,console.log("updateRobot response:",p),p.code===200?(T.yw.destroy(),T.yw.success(x.formatMessage({id:"update.success"})),F(p.data)):(T.yw.destroy(),T.yw.error(p.message));case 9:case"end":return f.stop()}},A)}));return function(h){return K.apply(this,arguments)}}();return(0,e.jsxs)(le.A,{form:y,size:"large",onFinish:w,initialValues:{enabled:u==null||(s=u.llm)===null||s===void 0?void 0:s.enabled,topK:u==null||(t=u.llm)===null||t===void 0?void 0:t.topK,scoreThreshold:u==null||(o=u.llm)===null||o===void 0?void 0:o.scoreThreshold,model:u==null||(n=u.llm)===null||n===void 0?void 0:n.model,embeddings:u==null||(r=u.llm)===null||r===void 0?void 0:r.embeddings,temperature:u==null||(a=u.llm)===null||a===void 0?void 0:a.temperature,prompt:H(u==null||(m=u.llm)===null||m===void 0?void 0:m.prompt),apiKey:u==null||(v=u.llm)===null||v===void 0?void 0:v.apiKey,apiSecret:u==null||(i=u.llm)===null||i===void 0?void 0:i.apiSecret,apiUrl:u==null||(d=u.llm)===null||d===void 0?void 0:d.apiUrl},children:[(0,e.jsx)(Zt.Z,{width:"lg",name:"enabled",label:"enabled",tooltip:"\u662F\u5426\u542F\u7528\u5927\u6A21\u578B"}),(0,e.jsx)(ye.Z,{width:"lg",name:"prompt",label:"prompt",placeholder:"\u8BF7\u8F93\u5165prompt",rules:[{required:!0,message:"\u8BF7\u8F93\u5165prompt"}]}),(0,e.jsx)(me.Z,{width:"lg",name:"model",label:"model",allowClear:!0,options:[{value:"ZHIPUAI_GLM_3_TURBO",label:"\u667A\u8C31AI-GLM-3-Turbo"},{value:"ZHIPUAI_GLM_4",label:"\u667A\u8C31AI-GLM-4"},{value:"OLLAMA",label:"Ollama",disabled:!0},{value:"OPENAI",label:"OpenAi",disabled:!0}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5927\u6A21\u578B"}]}),(0,e.jsx)(me.Z,{width:"lg",name:"embeddings",label:"embeddings",allowClear:!0,options:[{value:"M3E_BASE",label:"m3e-base"}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9embeddings"}]}),(0,e.jsx)(Pt.Z,{width:"lg",label:"\u6E29\u5EA6",name:"temperature",min:0,max:1,fieldProps:{precision:1,step:.1},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6E29\u5EA6"}]})]})},Et=l(9465),It=l(40056),$t=l(96074),Nt=function(){var t,o=(0,Q.useIntl)(),n=le.A.useForm(),r=j()(n,1),a=r[0],m=(0,de.Z)(),v=m.translateString,i=(0,ve.u)(function(b){return b.orgCurrent}),d=(0,c.useState)(),x=j()(d,2),N=x[0],P=x[1],y=(0,c.useState)([]),$=j()(y,2),H=$[0],C=$[1],u=(0,ne.V)(function(b){return{currentRobot:b.currentRobot,setCurrentRobot:b.setCurrentRobot}}),F=u.currentRobot,w=u.setCurrentRobot,K=function(){var b=J()(M()().mark(function p(){var Z,f,S,W;return M()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return T.yw.loading(o.formatMessage({id:"loading",defaultMessage:"Loading"})),f={pageNumber:0,pageSize:50,orgUid:i.uid},R.next=4,(0,Et.qL)(f);case 4:S=R.sent,console.log("getAllQuickbuttons response:",f,S),T.yw.destroy(),S.code===200?P(S):T.yw.error(S.message),W=[],(Z=F.serviceSettings)===null||Z===void 0||Z.quickButtons.forEach(function(Y){W.push(Y.uid)}),C(W);case 11:case"end":return R.stop()}},p)}));return function(){return b.apply(this,arguments)}}();(0,c.useEffect)(function(){K()},[i]),(0,c.useEffect)(function(){var b=ne.V.subscribe(function(p){var Z,f=[];(Z=p.currentRobot.serviceSettings)===null||Z===void 0||Z.quickButtons.forEach(function(S){f.push(S.uid)}),C(f)});return b},[F]);var A=function(){var b=J()(M()().mark(function p(Z){var f,S;return M()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return console.log("onFinish",Z),f=X()(X()({},F),{},{serviceSettings:X()(X()({},F.serviceSettings),{},{quickButtonUids:Z.quickbutton})}),console.log("robotObject:",f),k.next=5,(0,ce.$l)(f);case 5:S=k.sent,console.log("updateRobot response:",S),S.code===200?(T.yw.destroy(),T.yw.success(o.formatMessage({id:"update.success"})),w(S.data)):(T.yw.destroy(),T.yw.error(S.message));case 8:case"end":return k.stop()}},p)}));return function(Z){return b.apply(this,arguments)}}(),h=function(p){console.log("selected ".concat(p)),C(p)};return(0,e.jsxs)("div",{children:[(0,e.jsx)(It.Z,{message:o.formatMessage({id:"quickbutton.guide",defaultMessage:"Please goto Knowledge base -> QuickButton -> Create, then add quickbutton here"}),type:"success"}),(0,e.jsx)($t.Z,{}),(0,e.jsx)(le.A,{form:a,layout:"vertical",initialValues:{},onFinish:A,children:(0,e.jsx)(me.Z,{name:"quickbutton",width:"md",label:o.formatMessage({id:"quickbutton",defaultMessage:"QuickButton"}),options:N==null||(t=N.data)===null||t===void 0?void 0:t.content.map(function(b){return{label:v(b.title),value:b.uid}}),fieldProps:{mode:"multiple",onChange:h,allowClear:!0,value:H,placeholder:o.formatMessage({id:"choose",defaultMessage:"Please Choose"})}})})]})},Ot=Nt,Bt=function(){var t=(0,Q.useIntl)(),o=[{key:"quickbutton",label:t.formatMessage({id:"quickbutton",defaultMessage:"QuickButton"}),children:(0,e.jsx)(Ot,{})},{key:"llm",label:t.formatMessage({id:"llm",defaultMessage:"LLM"}),children:(0,e.jsx)(Kt,{})}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Fe.Z,{tabPosition:"left",items:o})})},At=Bt,Lt=l(36649),zt=l(71422),Ut=l(20283),Vt=l(45106),Ht=function(){var t=(0,Q.useIntl)(),o=(0,c.useState)([]),n=j()(o,2),r=n[0],a=n[1],m=function(d){},v=[{key:"basic",label:t.formatMessage({id:"pages.robot.tab.basic",defaultMessage:"Basic"}),children:(0,e.jsx)(tt,{})},{key:"kb",label:t.formatMessage({id:"pages.robot.tab.kb",defaultMessage:"Knowledge Base"}),children:(0,e.jsx)(mt,{})},{key:"advanced",label:t.formatMessage({id:"pages.robot.tab.advanced",defaultMessage:"Advanced"}),children:(0,e.jsx)(At,{})},{key:"flow",label:t.formatMessage({id:"pages.robot.tab.flow",defaultMessage:"Flow"}),children:(0,e.jsx)(kt,{})},{key:"channel",label:t.formatMessage({id:"pages.robot.tab.channel",defaultMessage:"Channel"}),children:(0,e.jsx)(Lt.Z,{type:V._X})},{key:"channelsocial",label:"\u793E\u4EA4\u6E20\u9053",children:(0,e.jsx)(Vt.Z,{type:V._X})},{key:"channelshop",label:"\u7535\u5546\u6E20\u9053",children:(0,e.jsx)(Ut.Z,{type:V._X})},{key:"channelforeign",label:"\u6D77\u5916\u6E20\u9053",children:(0,e.jsx)(zt.Z,{type:V._X})}];return(0,c.useEffect)(function(){a(v)},[]),(0,e.jsx)(Fe.Z,{defaultActiveKey:"1",items:r,onChange:m})},Qt=Ht,Gt=l(77154),Wt=ge.Z.Sider,Yt=ge.Z.Content,Jt=function(){var t=(0,Gt.Z)(),o=t.leftSiderStyle,n=t.leftSiderWidth,r=t.contentStyle;return(0,e.jsxs)(ge.Z,{children:[(0,e.jsx)(Wt,{width:n,style:o,children:(0,e.jsx)(Xe,{})}),(0,e.jsx)(ge.Z,{children:(0,e.jsx)(Yt,{style:r,children:(0,e.jsx)(Qt,{})})})]})},Xt=Jt}}]);
