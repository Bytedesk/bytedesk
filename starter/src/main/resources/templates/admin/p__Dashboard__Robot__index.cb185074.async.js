"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[693],{10356:function(rn,Ke,h){h.r(Ke),h.d(Ke,{default:function(){return nn}});var N=h(21612),g=h(67294),Ye=h(5574),w=h.n(Ye),Ve=h(19632),Ee=h.n(Ve),Ge=h(15009),b=h.n(Ge),We=h(99289),M=h.n(We),Qe=h(97857),U=h.n(Qe),C=h(86745);function Je(r){return pe.apply(this,arguments)}function pe(){return pe=M()(b()().mark(function r(n){return b()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/v1/robot/query",{method:"GET",params:U()(U()({},n),{},{client:"web"})}));case 1:case"end":return t.stop()}},r)})),pe.apply(this,arguments)}function Xe(r){return he.apply(this,arguments)}function he(){return he=M()(b()().mark(function r(n){return b()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/v1/robot/create",{method:"POST",data:{name:n,client:"web"}}));case 1:case"end":return t.stop()}},r)})),he.apply(this,arguments)}function qe(r){return me.apply(this,arguments)}function me(){return me=M()(b()().mark(function r(n){return b()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/v1/robot/update",{method:"POST",data:{rid:n.rid,name:n.name,description:n.description,welcome_tip:n.welcome,avatar:n.avatar,client:"web"}}));case 1:case"end":return t.stop()}},r)})),me.apply(this,arguments)}function _e(r){return be.apply(this,arguments)}function be(){return be=M()(b()().mark(function r(n){return b()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/v1/robot/delete",{method:"POST",data:{rid:n,client:"web"}}));case 1:case"end":return t.stop()}},r)})),be.apply(this,arguments)}var Ie=h(64529),ue=h(782),Ae=h(1151),E=(0,Ie.Ue)()((0,ue.mW)((0,ue.tJ)((0,Ae.n)(function(r,n){return{robots:[],currentRobot:{rid:"",name:""},fetchRobots:function(){var o=M()(b()().mark(function a(){var l,i;return b()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l={pageNumber:0,pageSize:10},d.next=3,Je(l);case 3:i=d.sent,console.log("robotPage:",i,i.code,i.message),r({robots:i.data.content}),i.data.content.length>0&&r({currentRobot:i.data.content[0]});case 7:case"end":return d.stop()}},a)}));function t(){return o.apply(this,arguments)}return t}(),createRobot:function(){var o=M()(b()().mark(function a(l){var i;return b()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Xe(l);case 2:i=d.sent,console.log("create robot",i),r(function(s){return{robots:[].concat(Ee()(s.robots),[i.data])}});case 5:case"end":return d.stop()}},a)}));function t(a){return o.apply(this,arguments)}return t}(),updateRobot:function(){var o=M()(b()().mark(function a(l,i){var u,d;return b()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return console.log("before update:",l),f.next=3,qe(l);case 3:u=f.sent,i(u),console.log("upate robot",u),d=n().robots.filter(function(c){return c.rid!==l.rid}),r(function(c){return{robots:[l].concat(Ee()(d)),currentRobot:l}});case 8:case"end":return f.stop()}},a)}));function t(a,l){return o.apply(this,arguments)}return t}(),deleteRobot:function(){var o=M()(b()().mark(function a(l){var i;return b()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,_e(l);case 2:i=d.sent,console.log("delete robot",i),r(function(s){return{robots:s.robots.filter(function(f){return f.rid!==l}),currentRobot:s.robots[0]}});case 5:case"end":return d.stop()}},a)}));function t(a){return o.apply(this,arguments)}return t}(),setCurrentRobot:function(t){var a=n().robots.find(function(l){return l.rid===t});console.log("welcomeTip:",a.welcome),r({currentRobot:a})},deleteRobotCache:function(){return r({},!0)}}}),{name:"ROBOT_STORE"}))),S=h(8232),P=h(45360),Oe=h(85576),et=h(86250),x=h(14726),ce=h(96365),tt=h(11475),nt=h(64789),e=h(85893),rt=function(){var n=S.Z.useForm(),o=w()(n,1),t=o[0],a=(0,C.useIntl)(),l=E(function(v){return{robots:v.robots,currentRobot:v.currentRobot,fetchRobots:v.fetchRobots,createRobot:v.createRobot,deleteRobot:v.deleteRobot,setCurrentRobot:v.setCurrentRobot}}),i=l.robots,u=l.currentRobot,d=l.fetchRobots,s=l.createRobot,f=l.deleteRobot,c=l.setCurrentRobot;(0,g.useEffect)(function(){console.log("fetchRobots"),d()},[]);var m=(0,g.useState)(!1),D=w()(m,2),R=D[0],O=D[1],j=function(){O(!0)},T=function(){var F=t.getFieldValue("nickname");console.log("nickname",F),F?(s(F),O(!1)):P.ZP.error("\u673A\u5668\u4EBA\u6635\u79F0\u4E0D\u80FD\u4E3A\u7A7A")},K=function(){O(!1)},re=function(F){console.log("handleClick",F),c(F)},Y=function(){j()},V=Oe.Z.useModal(),I=w()(V,2),G=I[0],A=I[1],B=function(){if(console.log("handleDeleteRobotClicked"),i.length===1){P.ZP.error("can not delete all robot");return}G.confirm({title:"\u786E\u8BA4\u5220\u9664\uFF1F",icon:(0,e.jsx)(tt.Z,{}),content:"\u786E\u5B9A\u8981\u5220\u9664 {"+u.name+"} ?",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){console.log("OK"),f(u.rid)},onCancel:function(){console.log("Cancel")}})};return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{margin:10},children:(0,e.jsxs)(et.Z,{gap:"small",align:"flex-start",children:[(0,e.jsx)(x.ZP,{size:"small",type:"primary",icon:(0,e.jsx)(nt.Z,{}),onClick:Y,children:a.formatMessage({id:"pages.robot.new",defaultMessage:"New"})}),(0,e.jsx)(x.ZP,{onClick:B,size:"small",style:{float:"right"},danger:!0,disabled:u&&u.rid==="",children:a.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})})]})}),i.map(function(v){return(0,e.jsxs)("li",{className:u&&u.rid===v.rid?"list-item active":"list-item",onClick:function(){return re(v.rid)},children:[(0,e.jsx)("div",{className:"list-left",children:(0,e.jsx)("img",{src:v.avatar,style:{width:40,height:40}})}),(0,e.jsxs)("div",{className:"list-right",children:[(0,e.jsxs)("div",{className:"top",children:[(0,e.jsx)("span",{className:"nickname",children:v.name}),(0,e.jsx)("span",{className:"timestamp"})]}),(0,e.jsx)("div",{className:"bottom",children:(0,e.jsx)("span",{className:"content",children:v.description})})]})]},v.rid)}),(0,e.jsx)(Oe.Z,{title:"\u65B0\u5EFA\u673A\u5668\u4EBA",open:R,okText:"\u4FDD\u5B58",onOk:T,onCancel:K,children:(0,e.jsx)(S.Z,{form:t,name:"basic",style:{maxWidth:400},children:(0,e.jsx)(S.Z.Item,{label:"\u673A\u5668\u4EBA\u6635\u79F0",name:"nickname",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6635\u79F0!"}],children:(0,e.jsx)(ce.Z,{})})})}),A]})},at=rt,oe=h(48096),ge=h(58128),ot=h(9220),Le=h(88484),Be=h(34994),lt=h(5966),ve=h(90672),ze=h(66476),st=h(7134),it=h(27484),xe=h.n(it),ut=function(){var r=S.Z.useForm(),n=w()(r,1),o=n[0],t=(0,C.useIntl)(),a=E(function(f){return f.updateRobot}),l=E(function(f){return f.currentRobot});E.subscribe(function(f,c){console.log("currentRobot.name: ",f.currentRobot.name),o.setFieldValue("name",f.currentRobot.name),o.setFieldValue("welcome",f.currentRobot.welcome),o.setFieldValue("description",f.currentRobot.description)});var i=function(){var f=M()(b()().mark(function c(m){return b()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return console.log("handleSubmit",m),m.rid=l.rid,m.avatar=l.avatar,R.next=5,a(m,function(O){O.code===200&&P.ZP.success("update success")});case 5:case"end":return R.stop()}},c)}));return function(m){return f.apply(this,arguments)}}(),u={file_name:"test.png",username:"",type:"",kbname:"",client:"web"},d={name:"file",action:"/visitor/api/upload/avatar",showUploadList:!1,data:u,beforeUpload:function(c){console.log("file:",c," uploadData:",u);var m=xe()(new Date).format("YYYYMMDDHHmmss");return u.file_name=m+c.name,u.kbname=l.rid,!0},onChange:function(c){if(c.file.status!=="uploading"&&console.log(c.file,c.fileList),c.file.status==="done"){var m=c.file.response.data;console.log("url: ",m),l.avatar=m,o.setFieldValue("avatar",l.avatar),P.ZP.success("".concat(c.file.name," file uploaded successfully"))}else c.file.status==="error"&&P.ZP.error("".concat(c.file.name," file upload failed."))}},s=function(c){return console.log("Upload event:",c),Array.isArray(c)?c:c==null?void 0:c.fileList};return(0,e.jsxs)(Be.A,{form:o,onFinish:function(){var f=M()(b()().mark(function c(m){return b()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return console.log("onFinish:",m),R.next=3,i(m);case 3:case"end":return R.stop()}},c)}));return function(c){return f.apply(this,arguments)}}(),initialValues:{name:l.name,welcome:l.welcome,description:l.description},children:[(0,e.jsx)(S.Z.Item,{name:"avatar",valuePropName:"fileList",getValueFromEvent:s,label:t.formatMessage({id:"pages.robot.tab.avatar",defaultMessage:"Avatar"}),children:(0,e.jsxs)(ze.Z,U()(U()({},d),{},{children:[(0,e.jsx)(st.C,{src:l.avatar}),(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(Le.Z,{}),children:t.formatMessage({id:"pages.robot.upload",defaultMessage:"Upload"})})]}),"avatar")}),(0,e.jsx)(lt.Z,{width:"md",name:"name",label:t.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"}),tooltip:t.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"}),placeholder:t.formatMessage({id:"pages.robot.tab.title",defaultMessage:"Title"})}),(0,e.jsx)(ve.Z,{width:"md",name:"welcome",label:t.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"}),tooltip:t.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"}),placeholder:t.formatMessage({id:"pages.robot.tab.welcomeTip",defaultMessage:"welcomeTip"})}),(0,e.jsx)(ve.Z,{width:"md",name:"description",label:t.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"}),tooltip:t.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"}),placeholder:t.formatMessage({id:"pages.robot.tab.description",defaultMessage:"description"})})]})},$e=function(){var n=(0,C.useIntl)(),o=(0,g.useState)(!1),t=w()(o,2),a=t[0],l=t[1],i=E(function(s){return s.currentRobot});function u(){var s=window.open("/chaty?tid=&","chaty","width=1000,height=800,top=100,left=200,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no");s.onload=function(){s.document.title="Chaty - Bytedesk AI Playground"}}function d(){var s=window.open("https://www.weiyuai.cn/ai?rid="+i.rid+"&","chaty","width=400,height=600,top=100,left=500,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no");s.onload=function(){s.document.title="Chaty Mobile - Bytedesk AI Playground"}}return(0,e.jsx)(ot.Z,{onResize:function(f){l(f.width<596)},children:(0,e.jsxs)(ge.Z,{split:a?"horizontal":"vertical",bordered:!0,headerBordered:!0,children:[(0,e.jsx)(ge.Z,{colSpan:"50%",layout:"center",children:(0,e.jsx)(ut,{})}),(0,e.jsx)(ge.Z,{title:n.formatMessage({id:"pages.robot.tab.preview",defaultMessage:"Preview"}),bordered:!0,extra:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:u,children:"Chaty"}),(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:d,children:"Mobile"})]}),tooltip:n.formatMessage({id:"pages.robot.tab.preview",defaultMessage:"Preview"}),layout:"center",children:(0,e.jsx)("div",{className:"chat-iframe-outer",children:(0,e.jsx)("iframe",{id:"chat-iframe",src:"https://www.weiyuai.cn/ai?rid="+i.rid+"&",title:"demo",width:"100%",height:"100%",style:{border:0},"data-loaded":"true"})})})]})},"resize-observer")};function an(r){return Fe.apply(this,arguments)}function Fe(){return Fe=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/v1/kb/query",{method:"GET",params:{pageNumber:n.pageNumber,pageSize:n.pageSize,client:"web"}}));case 1:case"end":return t.stop()}},r)})),Fe.apply(this,arguments)}function ct(r,n){return ye.apply(this,arguments)}function ye(){return ye=M()(b()().mark(function r(n,o){return b()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/v1/kb/file/query",{method:"GET",params:{kbName:n,pageNumber:o.pageNumber,pageSize:o.pageSize,client:"web"}}));case 1:case"end":return a.stop()}},r)})),ye.apply(this,arguments)}function dt(r,n){return je.apply(this,arguments)}function je(){return je=M()(b()().mark(function r(n,o){return b()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,C.request)("/api/v1/kb/doc/query",{method:"GET",params:{kbName:n,pageNumber:o.pageNumber,pageSize:o.pageSize,client:"web"}}));case 1:case"end":return a.stop()}},r)})),je.apply(this,arguments)}function on(r,n){return ke.apply(this,arguments)}function ke(){return ke=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,o){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/llm/kb/file/doc/update",{method:"POST",data:{did:n,pageContent:o,client:"web"}}));case 1:case"end":return a.stop()}},r)})),ke.apply(this,arguments)}function ln(r,n,o){return we.apply(this,arguments)}function we(){return we=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,o,t){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/update/doc",{method:"POST",data:{did:n,content:o,metadata:t,client:"web"}}));case 1:case"end":return l.stop()}},r)})),we.apply(this,arguments)}function ft(r){return(0,C.request)("/api/v1/kb/file/delete",{method:"POST",params:{kid:r,client:"web"}})}function pt(r){return Re.apply(this,arguments)}function Re(){return Re=M()(b()().mark(function r(n){return b()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/v1/kb/doc/delete",{method:"POST",params:{did:n,client:"web"}}));case 1:case"end":return t.stop()}},r)})),Re.apply(this,arguments)}function sn(r){return De.apply(this,arguments)}function De(){return De=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/delete/doc",{method:"POST",data:{did:n,client:"web"}}));case 1:case"end":return t.stop()}},r)})),De.apply(this,arguments)}var te=(0,Ie.Ue)()((0,ue.mW)((0,ue.tJ)((0,Ae.n)(function(r,n){return{kbFileResult:{},kbDocResult:{items:[]},currentKbFile:{},currentKbDoc:{fileName:"",pageContent:""},fetchFiles:function(){var o=M()(b()().mark(function a(l,i){var u;return b()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("kbName",l," pageParams",i),s.next=3,ct(l,i);case 3:u=s.sent,console.log("kbName kbFiles",u);case 5:case"end":return s.stop()}},a)}));function t(a,l){return o.apply(this,arguments)}return t}(),deleteFile:function(){var o=M()(b()().mark(function a(l){var i,u,d,s,f;return b()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log("delete file",l),m.next=3,ft(l);case 3:i=m.sent,u=n().kbFileResult.data.content.filter(function(D){return D.kid!==l}),r(function(D){return{kbFileResult:{items:u}}}),console.log("delete file result",i),d=n().kbDocResult.data.content,s=b()().mark(function D(){var R;return b()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:R=i.data[f],d=d.filter(function(T){return T.did!==R});case 2:case"end":return j.stop()}},D)}),f=0;case 10:if(!(f<i.data.length)){m.next=15;break}return m.delegateYield(s(),"t0",12);case 12:f++,m.next=10;break;case 15:r(function(D){return{kbFileDocResult:{items:d}}});case 16:case"end":return m.stop()}},a)}));function t(a){return o.apply(this,arguments)}return t}(),fetchDocs:function(){var o=M()(b()().mark(function a(l,i){var u;return b()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("fetchFileDocs kbName",l," pageParams",i),s.next=3,dt(l,i);case 3:u=s.sent,console.log("kbName kbFileDocs",u);case 5:case"end":return s.stop()}},a)}));function t(a,l){return o.apply(this,arguments)}return t}(),deleteFileDoc:function(){var o=M()(b()().mark(function a(l){var i,u;return b()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("delete file doc",l),s.next=3,pt(l);case 3:i=s.sent,console.log("delete file doc result",i),u=n().kbDocResult.data.content.filter(function(f){return f.did!==l}),r(function(f){return{kbFileDocResult:{items:u}}});case 7:case"end":return s.stop()}},a)}));function t(a){return o.apply(this,arguments)}return t}(),setCurrentFile:function(t){var a=n().kbFileResult.data.content.find(function(l){return l.kid===t});r({currentKbFile:a})},setCurrentFileDoc:function(t){var a=n().kbDocResult.data.content.find(function(l){return l.did===t});console.log("setCurrentFileDoc",t,a),r({currentKbDoc:a})},updateKbFileDocPython:function(){var o=M()(b()().mark(function a(l,i,u){return b()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:console.log("updateKbFileDocPython",l,i,u);case 1:case"end":return s.stop()}},a)}));function t(a,l,i){return o.apply(this,arguments)}return t}(),deleteKbCache:function(){return r({},!0)}}}),{name:"KB_STORE"}))),de=h(53775),fe=h(86738),Ce=h(85265),H=h(42075),ht=function(){var n=(0,C.useIntl)(),o=S.Z.useForm(),t=w()(o,1),a=t[0],l=E(function(k){return{currentRobot:k.currentRobot}}),i=l.currentRobot,u=(0,g.useRef)(),d=(0,g.useState)(1),s=w()(d,2),f=s[0],c=s[1],m=(0,g.useState)(20),D=w()(m,2),R=D[0],O=D[1],j=te(function(k){return{kbFileDocResult:k.kbDocResult,currentKbFileDoc:k.currentKbDoc,fetchFileDocs:k.fetchDocs,setCurrentFileDoc:k.setCurrentFileDoc,updateKbFileDocPython:k.updateKbFileDocPython}}),T=j.kbFileDocResult,K=j.currentKbFileDoc,re=j.fetchFileDocs,Y=j.setCurrentFileDoc,V=j.updateKbFileDocPython;te.subscribe(function(k,L){console.log("kb",k)});var I=function(){};(0,g.useEffect)(function(){I()},[]),(0,g.useEffect)(function(){I()},[f,R]),(0,g.useEffect)(function(){c(1),I()},[i]),(0,g.useEffect)(function(){u.current.reload()},[T]);var G=(0,g.useState)(!1),A=w()(G,2),B=A[0],v=A[1],F=(0,g.useState)("\u7F16\u8F91\u6587\u672C"),y=w()(F,2),$=y[0],z=y[1],ne=function(){v(!0)},ae=function(){v(!1)},le=function(){v(!1)},Me=function(){console.log("handleInputText"),z("\u8F93\u5165\u6587\u672C"),ne()},q=function(){console.log("handleInputUrl"),z("\u8F93\u5165\u7F51\u5740"),ne()};function Pe(k){Y(k.did),ne()}function W(k){console.log("handleDelete",k)}var se=[{title:n.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),width:150,dataIndex:"file_name"},{title:n.formatMessage({id:"pages.robot.file.content",defaultMessage:"Content"}),dataIndex:"page_content"},{title:n.formatMessage({id:"pages.robot.file.type",defaultMessage:"Type"}),width:80,dataIndex:"type"},{title:n.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(L,_){return[(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:function(){return Pe(_)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(fe.Z,{title:n.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return W(_)},onCancel:function(){return le()},children:(0,e.jsx)(x.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],Te=function(L){console.log("Success:",L,K.did,K.meta),V(K.did,L.pageContent,K.meta),P.ZP.success("\u66F4\u65B0\u6210\u529F"),v(!1)},ie=function(L){console.log("Failed:",L)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(de.Z,{actionRef:u,columns:se,headerTitle:"\u89E3\u6790\u6587\u672C\u5185\u5BB9",request:function(L,_,ee){return console.log("request:",L,_,ee),c(L.current-1),O(L.pageSize),Promise.resolve({data:T.data.content,success:!0,total:T.data.totalElements})},rowKey:"did",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(x.ZP,{onClick:Me,children:"\u8F93\u5165\u95EE\u7B54\u5BF9"},"text")]}}),(0,e.jsx)(Ce.Z,{title:$,size:"default",placement:"right",onClose:le,open:B,extra:(0,e.jsx)(H.Z,{children:(0,e.jsx)(x.ZP,{onClick:le,children:"\u53D6\u6D88"})}),children:(0,e.jsxs)(S.Z,{form:a,name:"basic",onFinish:Te,onFinishFailed:ie,autoComplete:"off",children:[(0,e.jsx)(S.Z.Item,{label:"\u6807\u9898",name:"fileName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898!"}]}),(0,e.jsx)(S.Z.Item,{label:"\u5185\u5BB9",name:"pageContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9!"}],children:(0,e.jsx)(ce.Z.TextArea,{rows:15})}),(0,e.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})})]})})]})},mt=function(){var n=(0,C.useIntl)(),o=S.Z.useForm(),t=w()(o,1),a=t[0],l=E(function(p){return{currentRobot:p.currentRobot}}),i=l.currentRobot,u=(0,g.useRef)(),d=(0,g.useState)(1),s=w()(d,2),f=s[0],c=s[1],m=(0,g.useState)(20),D=w()(m,2),R=D[0],O=D[1],j=te(function(p){return{kbFileDocResult:p.kbDocResult,currentKbFileDoc:p.currentKbDoc,fetchFileDocs:p.fetchDocs,setCurrentFileDoc:p.setCurrentFileDoc,updateKbFileDocPython:p.updateKbFileDocPython}}),T=j.kbFileDocResult,K=j.currentKbFileDoc,re=j.fetchFileDocs,Y=j.setCurrentFileDoc,V=j.updateKbFileDocPython;te.subscribe(function(p,Z){});var I=function(){};(0,g.useEffect)(function(){I()},[]),(0,g.useEffect)(function(){I()},[f,R]),(0,g.useEffect)(function(){c(1),I()},[i]),(0,g.useEffect)(function(){u.current.reload()},[T]);var G=(0,g.useState)(!1),A=w()(G,2),B=A[0],v=A[1],F=(0,g.useState)("\u7F16\u8F91\u6587\u672C"),y=w()(F,2),$=y[0],z=y[1],ne=(0,g.useState)(""),ae=w()(ne,2),le=ae[0],Me=ae[1],q=function(){v(!0)},Pe=function(){v(!1)},W=function(){v(!1)},se=function(){console.log("handleInputText"),z("\u8F93\u5165\u6587\u672C"),q()},Te=function(){console.log("handleInputUrl"),z("\u8F93\u5165\u7F51\u5740"),q()};function ie(p){Y(p.did),q()}function k(p){console.log("handleDelete",p)}var L=[{title:n.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),width:150,dataIndex:"file_name"},{title:n.formatMessage({id:"pages.robot.file.content",defaultMessage:"Content"}),dataIndex:"page_content"},{title:n.formatMessage({id:"pages.robot.file.type",defaultMessage:"Type"}),width:80,dataIndex:"type"},{title:n.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(Z,Q){return[(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:function(){return ie(Q)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(fe.Z,{title:n.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return k(Q)},onCancel:function(){return W()},children:(0,e.jsx)(x.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],_=function(Z){console.log("Success:",Z,K.did,K.meta),V(K.did,Z.pageContent,K.meta),P.ZP.success("\u66F4\u65B0\u6210\u529F"),v(!1)},ee=function(Z){console.log("Failed:",Z)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(de.Z,{actionRef:u,columns:L,headerTitle:"\u89E3\u6790\u6587\u672C\u5185\u5BB9",request:function(Z,Q,J){return console.log("request:",Z,Q,J),c(Z.current-1),O(Z.pageSize),Promise.resolve({data:T.data.content,success:!0,total:T.data.totalElements})},rowKey:"did",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(x.ZP,{onClick:se,children:"\u8F93\u5165\u95EE\u7B54\u5BF9"},"text")]}}),(0,e.jsx)(Ce.Z,{title:$,size:"default",placement:"right",onClose:W,open:B,extra:(0,e.jsx)(H.Z,{children:(0,e.jsx)(x.ZP,{onClick:W,children:"\u53D6\u6D88"})}),children:(0,e.jsxs)(S.Z,{form:a,name:"basic",onFinish:_,onFinishFailed:ee,autoComplete:"off",children:[(0,e.jsx)(S.Z.Item,{label:"\u6807\u9898",name:"fileName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898!"}]}),(0,e.jsx)(S.Z.Item,{label:"\u5185\u5BB9",name:"pageContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9!"}],children:(0,e.jsx)(ce.Z.TextArea,{rows:15})}),(0,e.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})})]})})]})},bt=function(){var n=(0,C.useIntl)(),o=S.Z.useForm(),t=w()(o,1),a=t[0],l=E(function(p){return{currentRobot:p.currentRobot}}),i=l.currentRobot,u=(0,g.useRef)(),d=(0,g.useState)(1),s=w()(d,2),f=s[0],c=s[1],m=(0,g.useState)(20),D=w()(m,2),R=D[0],O=D[1],j=te(function(p){return{kbFileDocResult:p.kbDocResult,currentKbFileDoc:p.currentKbDoc,fetchFileDocs:p.fetchDocs,setCurrentFileDoc:p.setCurrentFileDoc,updateKbFileDocPython:p.updateKbFileDocPython}}),T=j.kbFileDocResult,K=j.currentKbFileDoc,re=j.fetchFileDocs,Y=j.setCurrentFileDoc,V=j.updateKbFileDocPython;te.subscribe(function(p,Z){a.setFieldValue("pageContent",p.currentKbDoc.content)});var I=function(){};(0,g.useEffect)(function(){I()},[]),(0,g.useEffect)(function(){I()},[f,R]),(0,g.useEffect)(function(){c(1),I()},[i]),(0,g.useEffect)(function(){u.current.reload()},[T]);var G=(0,g.useState)(!1),A=w()(G,2),B=A[0],v=A[1],F=(0,g.useState)("\u7F16\u8F91\u6587\u672C"),y=w()(F,2),$=y[0],z=y[1],ne=(0,g.useState)(""),ae=w()(ne,2),le=ae[0],Me=ae[1],q=function(){v(!0)},Pe=function(){v(!1)},W=function(){v(!1)},se=function(){console.log("handleInputText"),z("\u8F93\u5165\u6587\u672C"),q()},Te=function(){console.log("handleInputUrl"),z("\u8F93\u5165\u7F51\u5740"),q()};function ie(p){Y(p.did),q()}function k(p){console.log("handleDelete",p)}var L=[{title:n.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),width:150,dataIndex:"file_name"},{title:n.formatMessage({id:"pages.robot.file.content",defaultMessage:"Content"}),dataIndex:"page_content"},{title:n.formatMessage({id:"pages.robot.file.type",defaultMessage:"Type"}),width:80,dataIndex:"type"},{title:n.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(Z,Q){return[(0,e.jsx)(x.ZP,{type:"link",size:"small",onClick:function(){return ie(Q)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(fe.Z,{title:n.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return k(Q)},onCancel:function(){return W()},children:(0,e.jsx)(x.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],_=function(Z){console.log("Success:",Z,K.did,K.meta),V(K.did,Z.pageContent,K.meta),P.ZP.success("\u66F4\u65B0\u6210\u529F"),v(!1)},ee=function(Z){console.log("Failed:",Z)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(de.Z,{actionRef:u,columns:L,headerTitle:"\u89E3\u6790\u6587\u672C\u5185\u5BB9",request:function(Z,Q,J){return console.log("request:",Z,Q,J),c(Z.current-1),O(Z.pageSize),Promise.resolve({data:T.data.content,success:!0,total:T.data.totalElements})},rowKey:"did",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(x.ZP,{onClick:se,children:"\u8F93\u5165\u95EE\u7B54\u5BF9"},"text")]}}),(0,e.jsx)(Ce.Z,{title:$,size:"default",placement:"right",onClose:W,open:B,extra:(0,e.jsx)(H.Z,{children:(0,e.jsx)(x.ZP,{onClick:W,children:"\u53D6\u6D88"})}),children:(0,e.jsxs)(S.Z,{form:a,name:"basic",onFinish:_,onFinishFailed:ee,autoComplete:"off",children:[(0,e.jsx)(S.Z.Item,{label:"\u6807\u9898",name:"fileName",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898!"}]}),(0,e.jsx)(S.Z.Item,{label:"\u5185\u5BB9",name:"pageContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9!"}],children:(0,e.jsx)(ce.Z.TextArea,{rows:15})}),(0,e.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})})]})})]})},gt=function(){var n=(0,C.useIntl)(),o=P.ZP.useMessage(),t=w()(o,2),a=t[0],l=t[1],i=E(function(F){return F.currentRobot}),u=(0,g.useRef)(),d=(0,g.useState)(1),s=w()(d,2),f=s[0],c=s[1],m=(0,g.useState)(10),D=w()(m,2),R=D[0],O=D[1],j=te(function(F){return{kbFileResult:F.kbFileResult,fetchFiles:F.fetchFiles,fetchFileDocs:F.fetchDocs,deleteFile:F.deleteFile}}),T=j.kbFileResult,K=j.fetchFiles,re=j.fetchFileDocs,Y=j.deleteFile;function V(F){console.log("handleDelete",F),Y(F.kid)}function I(){console.log("handleCancel")}var G=[{title:n.formatMessage({id:"pages.robot.file.title",defaultMessage:"Title"}),dataIndex:"name"},{title:n.formatMessage({id:"pages.robot.file.action",defaultMessage:"Action"}),width:150,key:"option",valueType:"option",render:function(y,$){return[(0,e.jsx)(fe.Z,{title:n.formatMessage({id:"pages.robot.file.delete",defaultMessage:"Delete"}),onConfirm:function(){return V($)},onCancel:function(){return I()},children:(0,e.jsx)(x.ZP,{type:"link",size:"small",danger:!0,children:"\u5220\u9664"},"delete")},"confirm_delete")]}}],A=function(){var y={pageNumber:f,pageSize:R};K(i.rid,y),re(i.rid,y)};(0,g.useEffect)(function(){A()},[]),(0,g.useEffect)(function(){A()},[f,R]),(0,g.useEffect)(function(){c(1),A()},[i]),(0,g.useEffect)(function(){u.current.reload()},[T]);var B={file_name:"test.png",file_kid:xe()(new Date).format("YYYYMMDDHHmmss"),rid:i.rid,client:"web"},v={name:"file",action:"/visitor/api/upload/file",headers:{Authorization:"Bearer "+localStorage.getItem("ACCESS_TOKEN").replaceAll('"',"")},showUploadList:!1,data:B,beforeUpload:function(y){if(y.name.includes("_"))return P.ZP.error(n.formatMessage({id:"pages.robot.file.name_invalid",defaultMessage:"File name should not contain _"})),!1;B.file_name=y.name;var $=xe()(new Date).format("YYYYMMDDHHmmss");return B.file_kid=$,B.rid=i.rid,console.log("file:",y," uploadData:",B),a.open({type:"loading",content:n.formatMessage({id:"pages.robot.file.uploading",defaultMessage:"Uploading..."}),duration:0}),!0},onChange:function(y){y.file.status!=="uploading"&&console.log(y.file,y.fileList),y.file.status==="done"?(console.log(y.file.response.data),a.destroy(),P.ZP.success("".concat(y.file.name," file uploaded successfully")),A()):y.file.status==="error"&&P.ZP.error("".concat(y.file.name," file upload failed."))}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(de.Z,{actionRef:u,columns:G,headerTitle:i.name,request:function(y,$,z){return console.log("request:",y,$,z),c(y.current),O(y.pageSize),Promise.resolve({data:T.data.content,success:!0,total:T.data.totalElements})},rowKey:"kid",pagination:{showQuickJumper:!0},search:!1,toolBarRender:function(){return[(0,e.jsx)(ze.Z,U()(U()({},v),{},{children:(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(Le.Z,{}),type:"primary",children:n.formatMessage({id:"pages.robot.upload",defaultMessage:"Upload"})})}),"upload")]}}),l]})},vt=function(){var n=(0,C.useIntl)(),o=[{key:"file",label:n.formatMessage({id:"pages.robot.kb.file",defaultMessage:"File"}),children:(0,e.jsx)(gt,{})},{key:"text",label:n.formatMessage({id:"pages.robot.kb.text",defaultMessage:"Text"}),children:(0,e.jsx)(ht,{})},{key:"qa",label:n.formatMessage({id:"pages.robot.kb.qa",defaultMessage:"Q&A"}),children:(0,e.jsx)(mt,{})},{key:"web",label:n.formatMessage({id:"pages.robot.kb.web",defaultMessage:"Website"}),children:(0,e.jsx)(bt,{})}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{tabPosition:"left",items:o})})},Ne=vt,X=h(71230),xt=function(){var r=E(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.rid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.rid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.rid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},Ft=function(){var r=E(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.rid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.rid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.rid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},yt=function(){var r=E(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.rid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.rid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.rid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},jt=function(){var r=E(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.rid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.rid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.rid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},kt=function(){var r=E(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.rid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.rid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.rid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},wt=function(){var r=E(function(t){return t.currentRobot}),n=function(){navigator.clipboard.writeText("/?rid="+r.rid+"&"),P.ZP.success("\u590D\u5236\u6210\u529F")},o=function(){window.open("/?rid="+r.rid+"&")};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("span",{children:"/?rid="+r.rid+"&"})}),(0,e.jsx)("div",{style:{marginLeft:10},children:(0,e.jsxs)(H.Z,{children:[(0,e.jsx)(x.ZP,{onClick:n,children:"\u590D\u5236\u94FE\u63A5"}),(0,e.jsx)(x.ZP,{onClick:o,children:"\u6253\u5F00\u94FE\u63A5"})]})})]})})},Rt=[{key:"web",label:"Web",children:(0,e.jsx)(xt,{})},{key:"h5",label:"H5",children:(0,e.jsx)(jt,{})},{key:"ios",label:"iOS",children:(0,e.jsx)(Ft,{})},{key:"android",label:"Android",children:(0,e.jsx)(wt,{})},{key:"uniapp",label:"Uniapp",children:(0,e.jsx)(yt,{})},{key:"flutter",label:"Flutter",children:(0,e.jsx)(kt,{})}],Dt=function(){var n=(0,C.useIntl)();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{tabPosition:"left",items:Rt})})},Ue=Dt,Se=h(60887),Ct=h(24285);function St(r){var n=(0,Se.O1)({id:"draggable"}),o=n.attributes,t=n.listeners,a=n.setNodeRef,l=n.transform,i=l?{transform:Ct.ux.Translate.toString(l)}:void 0;return(0,e.jsx)(x.ZP,U()(U()(U()({ref:a,style:i},t),o),{},{children:r.children}))}function Zt(r){var n=(0,Se.Zj)({id:"droppable"}),o=n.isOver,t=n.setNodeRef,a={color:o?"green":void 0};return(0,e.jsx)("div",{ref:t,style:a,children:r.children})}var un=N.Z.Header,cn=N.Z.Footer,Mt=N.Z.Sider,Pt=N.Z.Content,Tt={},Kt={textAlign:"center",lineHeight:"120px",color:"#fff",backgroundColor:"#EEFAE0"},Et={minHeight:120,backgroundColor:"#EEFAE0"},It=function(){var n=(0,C.useIntl)(),o=(0,g.useState)(!1),t=w()(o,2),a=t[0],l=t[1],i=(0,e.jsx)(St,{children:"Drag me"});function u(m){console.log("handleDragStart",m)}function d(m){console.log("handleDragMove",m)}function s(m){console.log("handleDragOver",m)}function f(m){m.over&&m.over.id==="droppable"&&l(!0)}function c(m){console.log("handleDragCancel",m)}return(0,e.jsx)(Se.LB,{onDragEnd:f,children:(0,e.jsxs)(N.Z,{style:Tt,children:[(0,e.jsx)(Mt,{style:Kt,children:a?null:i}),(0,e.jsx)(Pt,{style:Et,children:(0,e.jsx)(Zt,{children:a?i:"Drop here"})})]})})},At=It,Ot=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(X.Z,{children:(0,e.jsx)("div",{children:"\u4F1A\u8BDD\u8BB0\u5F55"})})})},Lt=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(X.Z,{children:(0,e.jsx)("div",{children:"\u6D88\u606F\u8BB0\u5F55"})})})},Bt=[{key:"1",label:"\u4F1A\u8BDD",children:(0,e.jsx)(Ot,{})},{key:"2",label:"\u6D88\u606F",children:(0,e.jsx)(Lt,{})}],zt=function(){var n=(0,C.useIntl)();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{tabPosition:"left",items:Bt})})},$t=zt,He=h(64317),Ze=h(31199),dn={labelCol:{span:8},wrapperCol:{span:16}},Nt=function(){var r=S.Z.useForm(),n=w()(r,1),o=n[0],t=E(function(u){return{currentRobot:u.currentRobot,updateRobot:u.updateRobot}}),a=t.currentRobot,l=t.updateRobot;E.subscribe(function(u,d){o.setFieldValue("prompt",u.currentRobot.prompt),o.setFieldValue("model_name",u.currentRobot.model_name)});var i=function(){var u=M()(b()().mark(function d(s){return b()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return console.log("handleSubmit",s),s.rid=a.rid,s.name=a.name,s.description=a.description,s.welcome=a.welcome,s.avatar=a.avatar,s.show_history=a.show_history,s.history_count=a.history_count,s.kb_name=a.kb_name,s.is_published=a.is_published,c.next=12,l(s,function(m){m.code===200&&P.ZP.success("update success")});case 12:case"end":return c.stop()}},d)}));return function(s){return u.apply(this,arguments)}}();return(0,e.jsxs)(Be.A,{form:o,size:"large",onFinish:function(){var u=M()(b()().mark(function d(s){return b()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return console.log("onFinish:",s),c.next=3,i(s);case 3:case"end":return c.stop()}},d)}));return function(d){return u.apply(this,arguments)}}(),initialValues:{prompt:a.prompt,model_name:a.model_name,model_api_key:a.model_api_key,model_api_secret:a.model_api_secret,embeddings_name:a.embeddings_name,top_k:a.top_k,score_threshold:a.score_threshold,temperature:a.temperature},children:[(0,e.jsx)(ve.Z,{width:"lg",name:"prompt",label:"prompt",placeholder:"\u8BF7\u8F93\u5165prompt"}),(0,e.jsx)(He.Z,{width:"lg",name:"model_name",label:"model_name",allowClear:!0,options:[{value:"model_name",label:"model_name"}]}),(0,e.jsx)(He.Z,{width:"lg",name:"embeddings_name",label:"embeddings_name",allowClear:!0,options:[{value:"embeddings_name",label:"embeddings_name"}]}),(0,e.jsx)(Ze.Z,{width:"lg",label:"top_k",name:"top_k",min:1,max:3}),(0,e.jsx)(Ze.Z,{width:"lg",label:"score_threshold",name:"score_threshold",min:0,max:1,fieldProps:{precision:1,step:.1}}),(0,e.jsx)(Ze.Z,{width:"lg",label:"temperature",name:"temperature",min:0,max:1,fieldProps:{precision:1,step:.1}})]})},Ut=function(){return(0,e.jsx)(e.Fragment,{children:"quick replies"})},Ht=function(){return(0,e.jsx)(e.Fragment,{children:"appearance"})},Yt=function(){return(0,e.jsx)(e.Fragment,{children:"pop tip"})},Vt=[{key:"appearance",label:"Appearance",children:(0,e.jsx)(Ht,{})},{key:"poptip",label:"Poptip",children:(0,e.jsx)(Yt,{})},{key:"quick",label:"QuickReplies",children:(0,e.jsx)(Ut,{})},{key:"llm",label:"LLm",children:(0,e.jsx)(Nt,{})}],Gt=function(){var n=(0,C.useIntl)();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{tabPosition:"left",items:Vt})})},Wt=Gt,Qt=function(){var n=(0,C.useIntl)(),o=function(i){},t=[{key:"basic",label:n.formatMessage({id:"pages.robot.tab.basic",defaultMessage:"Basic"}),children:(0,e.jsx)($e,{})},{key:"kb",label:n.formatMessage({id:"pages.robot.tab.kb",defaultMessage:"Knowledge Base"}),children:(0,e.jsx)(Ne,{})},{key:"channel",label:n.formatMessage({id:"pages.robot.tab.channel",defaultMessage:"Channel"}),children:(0,e.jsx)(Ue,{})},{key:"statistic",label:n.formatMessage({id:"pages.robot.tab.statistic",defaultMessage:"Statistic"}),children:(0,e.jsx)($t,{})},{key:"advanced",label:n.formatMessage({id:"pages.robot.tab.advanced",defaultMessage:"Advanced"}),children:(0,e.jsx)(Wt,{})},{key:"flow",label:n.formatMessage({id:"pages.robot.tab.flow",defaultMessage:"Flow"}),children:(0,e.jsx)(At,{})}],a=[{key:"basic",label:n.formatMessage({id:"pages.robot.tab.basic",defaultMessage:"Basic"}),children:(0,e.jsx)($e,{})},{key:"kb",label:n.formatMessage({id:"pages.robot.tab.kb",defaultMessage:"Knowledge Basic"}),children:(0,e.jsx)(Ne,{})},{key:"channel",label:n.formatMessage({id:"pages.robot.tab.channel",defaultMessage:"Channel"}),children:(0,e.jsx)(Ue,{})}];return(0,e.jsx)(oe.Z,{defaultActiveKey:"1",items:a,onChange:o})},Jt=Qt,Xt=N.Z.Sider,qt=N.Z.Content,_t={minHeight:120,backgroundColor:"#EEFAE0"},en={backgroundColor:"#EEFAE0",borderRight:"1px solid #ccc"},tn=function(){return(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(Xt,{style:en,children:(0,e.jsx)(at,{})}),(0,e.jsx)(N.Z,{children:(0,e.jsx)(qt,{style:_t,children:(0,e.jsx)(Jt,{})})})]})},nn=tn}}]);
