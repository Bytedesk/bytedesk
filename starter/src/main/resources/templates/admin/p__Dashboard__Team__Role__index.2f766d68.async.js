"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[4325],{42110:function(Z,i){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};i.Z=e},77154:function(Z,i,e){var C=e(39825);function d(){var p=(0,C.Z)(),r=p.isDarkMode,M={borderRight:r?"1px solid #333":"1px solid #ccc",background:r?"#141414":"#f5f5f5",width:260},c={background:r?"#141414":"#fff"},j={borderLeft:r?"1px solid #333":"1px solid #ccc",background:r?"#141414":"#f5f5f5"},y={minHeight:120,background:r?"#141414":"#f5f5f5"};return{leftSiderStyle:M,headerStyle:c,rightSiderStyle:j,contentStyle:y}}i.Z=d},31317:function(Z,i,e){e.r(i),e.d(i,{default:function(){return F}});var C=e(15009),d=e.n(C),p=e(99289),r=e.n(p),M=e(97857),c=e.n(M),j=e(77154),y=e(85615),P=e(64529),b=e(782),E=e(71381),z=(0,P.Ue)()((0,b.mW)((0,b.tJ)((0,E.n)(function(l,s){return{roles:[],currentRole:{label:"",key:""},setCurrentRole:function(n){var m=s().roles.find(function(o){return o.key===n});l(function(o){o.currentRole=m})},addRole:function(n){var m=s().roles.find(function(h){return h.key===n.uid});if(!m){var o={label:n.displayName,key:n.uid};l(function(h){h.roles.push(o)})}},deleteRoleCache:function(){return l({},!0)}}}),{name:y.u}))),R=e(21612),G=e(68508),I=e(67294),A=e(48096),a=e(85893),L=function(s){console.log(s)},O=[{key:"authority",label:"\u6743\u9650",children:"Content of Tab Pane 1"},{key:"member",label:"\u6210\u5458",children:"Content of Tab Pane 2"}],U=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(A.Z,{defaultActiveKey:"1",items:O,onChange:L})})},B=U,T=e(86745);function H(l){return x.apply(this,arguments)}function x(){return x=r()(d()().mark(function l(s){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.request)("/api/v1/role/query/org",{method:"GET",params:c()(c()({},s),{},{client:y.bV})}));case 1:case"end":return n.stop()}},l)})),x.apply(this,arguments)}var K=e(87676),N=e(80049),V=R.Z.Sider,W=R.Z.Content,$=function(){var s=(0,T.useIntl)(),v=(0,j.Z)(),n=v.leftSiderStyle,m=(0,K.u)(function(t){return t.orgCurrent}),o=z(function(t){return{roles:t.roles,setCurrentRole:t.setCurrentRole,addRole:t.addRole}}),h=o.roles,J=o.setCurrentRole,Q=o.addRole,X=h.map(function(t){var u=s.formatMessage({id:t.label,defaultMessage:t.label});return c()(c()({},t),{},{label:u})}),Y=function(){var t=r()(d()().mark(function u(){var D,f,S,k;return d()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return D={pageNumber:0,pageSize:20,orgUid:m.uid},g.next=3,H(D);case 3:if(f=g.sent,console.log("queryRoles response ",f),f.code===200)for(S=0;S<f.data.content.length;S++)k=f.data.content[S],Q(k);else N.yw.error(f.message);case 6:case"end":return g.stop()}},u)}));return function(){return t.apply(this,arguments)}}();(0,I.useEffect)(function(){Y()},[]);var w=function(u){console.log("menu click ",u.key),J(u.key)};return(0,a.jsxs)(R.Z,{children:[(0,a.jsx)(V,{style:n,children:(0,a.jsx)(G.Z,{mode:"inline",onClick:w,items:X})}),(0,a.jsx)(R.Z,{children:(0,a.jsx)(W,{children:(0,a.jsx)(B,{})})})]})},F=$}}]);
