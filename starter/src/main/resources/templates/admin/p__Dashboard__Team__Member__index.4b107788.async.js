"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7960],{52590:function(e,t,n){var r=n(17082),a=n(44194),o=n(67444),i=n(64423),u=function(e,t){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o.Z}))},s=a.forwardRef(u);t.Z=s},50484:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(17082),a=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},i=n(64423),u=function(e,t){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};var s=a.forwardRef(u)},47719:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(17082),a=n(44194),o={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},i=n(64423),u=function(e,t){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};var s=a.forwardRef(u)},50648:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(17082),a=n(44194),o={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},i=n(64423),u=function(e,t){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};var s=a.forwardRef(u)},60051:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(17082),a=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},i=n(64423),u=function(e,t){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};var s=a.forwardRef(u)},70458:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(17082),a=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},i=n(64423),u=function(e,t){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};var s=a.forwardRef(u)},8091:function(e,t,n){var r=n(17082),a=n(51190),o=n(19753),i=n(44194),u=n(84686),s=n(93288),c=n(31549),l=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=function(e,t){var n=e.fieldProps,d=e.children,f=e.params,p=e.proFieldProps,m=e.mode,h=e.valueEnum,g=e.request,v=e.showSearch,y=e.options,x=(0,a.Z)(e,l),b=(0,i.useContext)(u.Z);return(0,c.jsx)(s.Z,(0,r.Z)((0,r.Z)({valueEnum:(0,o.h)(h),request:g,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({options:y,mode:m,showSearch:v,getPopupContainer:b.getPopupContainer},n),ref:t,proFieldProps:p},x),{},{children:d}))},p=i.forwardRef((function(e,t){var n=e.fieldProps,l=e.children,f=e.params,p=e.proFieldProps,m=e.mode,h=e.valueEnum,g=e.request,v=e.options,y=(0,a.Z)(e,d),x=(0,r.Z)({options:v,mode:m||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},n),b=(0,i.useContext)(u.Z);return(0,c.jsx)(s.Z,(0,r.Z)((0,r.Z)({valueEnum:(0,o.h)(h),request:g,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({getPopupContainer:b.getPopupContainer},x),ref:t,proFieldProps:p},y),{},{children:l}))})),m=i.forwardRef(f);m.SearchSelect=p,m.displayName="ProFormComponent",t.Z=m},11607:function(e,t,n){var r=n(17082),a=n(51190),o=n(44194),i=n(93288),u=n(31549),s=["fieldProps","proFieldProps"],c=function(e,t){var n=e.fieldProps,o=e.proFieldProps,c=(0,a.Z)(e,s);return(0,u.jsx)(i.Z,(0,r.Z)({ref:t,valueType:"textarea",fieldProps:n,proFieldProps:o},c))};t.Z=o.forwardRef(c)},32863:function(e,t,n){var r=n(17082),a=n(51190),o=n(44194),i=n(93288),u=n(31549),s=["fieldProps","request","params","proFieldProps"],c=function(e,t){var n=e.fieldProps,o=e.request,c=e.params,l=e.proFieldProps,d=(0,a.Z)(e,s);return(0,u.jsx)(i.Z,(0,r.Z)({valueType:"treeSelect",fieldProps:n,ref:t,request:o,params:c,filedConfig:{customLightMode:!0},proFieldProps:l},d))},l=o.forwardRef(c);t.Z=l},87601:function(e,t,n){n.d(t,{AM:function(){return d},E9:function(){return p},Rd:function(){return x},fA:function(){return h},ul:function(){return v}});var r=n(90819),a=n.n(r),o=n(73193),i=n.n(o),u=n(89933),s=n.n(u),c=n(77667),l=n(82045);function d(e){return f.apply(this,arguments)}function f(){return(f=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/role/query/super",{method:"GET",params:i()(i()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/role/query/org",{method:"GET",params:i()(i()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/role/create",{method:"POST",data:i()(i()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/role/update",{method:"POST",data:i()(i()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return b.apply(this,arguments)}function b(){return(b=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/role/delete",{method:"POST",data:i()(i()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},77849:function(e,t,n){n.d(t,{D$:function(){return p},EP:function(){return v},hS:function(){return h},z_:function(){return d}});var r=n(90819),a=n.n(r),o=n(73193),i=n.n(o),u=n(89933),s=n.n(u),c=n(77667),l=n(82045);function d(e){return f.apply(this,arguments)}function f(){return(f=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/member/query/org",{method:"GET",params:i()(i()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/member/create",{method:"POST",data:i()(i()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/member/update",{method:"POST",data:i()(i()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/member/delete",{method:"POST",data:i()(i()({},t),{},{client:c.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},36213:function(e,t,n){var r=n(73193),a=n.n(r),o=n(45332),i=n.n(o),u=n(83730),s=n(44194),c=n(60051),l=n(17433),d=n(28977),f=n.n(d),p=n(77667),m=n(89756),h=n(57024),g=n(26305),v=n(33934),y=n(31549),x=l.Z.Dragger;t.Z=function(e){var t=e.type,n=e.acceptType,r=e.isModalOpen,o=e.handleOk,l=e.handleCancel,d=(0,h.j)((function(e){return e.currentKbase})),b=(0,s.useState)((null==d?void 0:d.uid)||""),w=i()(b,2),j=w[0],Z=w[1],M=(0,g.v)((function(e){return e.currentCategory})),R=(0,s.useState)("当前支持上传pdf/txt/markdown/docx等"),k=i()(R,2),C=k[0],S=k[1],D=(0,s.useState)({file:void 0,file_name:"test.pdf",file_type:"application/pdf",is_avatar:"false",kb_type:t,category_uid:"all"===(null==M?void 0:M.uid)?"":(null==M?void 0:M.uid)||"",kb_uid:(null==d?void 0:d.uid)||"",client:p.bVn}),P=i()(D,2),E=P[0],O=P[1],T={name:"file",accept:n,action:(0,v.M$)(),headers:{Authorization:"Bearer "+localStorage.getItem(p.LA8)},data:E,showUploadList:!1,beforeUpload:function(e){console.log("beforeUpload before",e,j,d);var n=f()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name;E.file=e,E.file_name=n,E.file_type=e.type,E.kb_type=t,E.kb_uid=j,console.log("beforeUpload after",E)},onChange:function(e){"uploading"===e.file.status&&m.yw.loading("".concat(e.file.name," 上传中")),"done"===e.file.status?(console.log("response: ",e.file.response),200===e.file.response.code?(m.yw.destroy(),m.yw.success("".concat(e.file.name," 上传成功")),o()):(m.yw.destroy(),m.yw.error("".concat(e.file.name," 上传失败")),l())):"error"===e.file.status&&(m.yw.error("".concat(e.file.name," 上传失败")),l())},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}},U=(0,s.useState)(T),F=i()(U,2),q=F[0],V=F[1];return(0,s.useEffect)((function(){h.j.subscribe((function(e,t){var n,r;console.log("useKbaseStore changed:",null==e||null===(n=e.currentKbase)||void 0===n?void 0:n.uid),Z(null==e||null===(r=e.currentKbase)||void 0===r?void 0:r.uid),V(T)}))}),[d]),(0,s.useEffect)((function(){t!=p.QPQ&&(V(T),S("当前支持上传excel文件")),O(a()(a()({},E),{},{kb_type:t,category_uid:"all"===(null==M?void 0:M.uid)?"":null==M?void 0:M.uid})),V(T)}),[t,M]),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(u.Z,{title:"上传文件",open:r,onOk:o,onCancel:l,children:(0,y.jsxs)(x,a()(a()({},q),{},{children:[(0,y.jsx)("p",{className:"ant-upload-drag-icon",children:(0,y.jsx)(c.Z,{})}),(0,y.jsx)("p",{className:"ant-upload-text",children:"点击或拖拽文件至此处实现上传"}),(0,y.jsx)("p",{className:"ant-upload-hint",children:C})]}))})})}},93139:function(e,t,n){var r=n(74145);t.Z=function(){var e=(0,r.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"}}}},1780:function(e,t,n){var r=n(77667),a=n(74828),o=n(82045);t.Z=function(){var e=(0,o.useIntl)();return{translateString:function(t){return t&&t.startsWith(r.VoP)?e.formatMessage({id:t,defaultMessage:t}):t},translateStringTranct:function(t){return null!=t&&t.startsWith(r.VoP)||null!=t&&t.startsWith("ROLE_")?(0,a.aS)(e.formatMessage({id:t,defaultMessage:t}),10):(0,a.aS)(t,10)}}}},19801:function(e,t,n){n.r(t),n.d(t,{default:function(){return he}});var r=n(64476),a=n(44194),o=n(93139),i=n(73193),u=n.n(i),s=n(84176),c=n.n(s),l=n(90819),d=n.n(l),f=n(89933),p=n.n(f),m=n(45332),h=n.n(m),g=n(77849),v=n(86222),y=n.n(v),x=n(76711),b=n.n(x),w=n(77667),j=n(39701),Z=n(83642),M=n(41617),R=(0,j.Ue)()((0,Z.mW)((0,Z.tJ)((0,M.n)((function(e,t){return{departmentResult:{data:{content:[]}},currentDepartment:{uid:"",nickname:""},insertDepartment:function(t){e((function(e){var n=e.departmentResult.data.content;if(t.parentUid){var r=n.find((function(e){return e.uid===t.parentUid}));r&&(r.children||(r.children=[]),r.children.push(t))}else n.push(t)}))},upgradeDepartment:function(t){e((function(e){var n=e.departmentResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:n.forEach((function(e){if(e.children){var n=e.children.findIndex((function(e){return e.uid===t.uid}));-1!==n&&(e.children[n]=t)}}))}))},setDepartmentResult:function(n){var r,a={uid:w.zBg,name:w.zBg};(e({departmentResult:u()(u()({},n),{},{data:{content:[a].concat(b()(n.data.content))}})}),""===t().currentDepartment.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentDepartment:n.data.content[0]}))},setCurrentDepartment:function(n){var r=t().departmentResult.data.content,a=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==a){var o=[].concat(b()(r.slice(0,a)),[n],b()(r.slice(a+1))),i=u()(u()({},t().departmentResult),{},{data:{content:o}});e({departmentResult:i,currentDepartment:n})}else console.warn("Department with the specified uid not found."),e({currentDepartment:n})},removeDepartment:function(n){e((function(e){var t=e.departmentResult.data.content;e.departmentResult.data.content=function e(t,n){return t.filter((function(t){return t.uid!==n&&(t.children&&(t.children=e(t.children,n)),!0)}))}(t,n)})),t().currentDepartment.uid===n&&e({currentDepartment:{uid:""}})},setCurrentDepUid:function(n){var r,a,o=null===(r=t().departmentResult)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.find((function(e){return e.uid===n}));if(o)e({currentDepartment:o});else{!function t(r){var a,o=y()(r);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(i.uid===n)return void e({currentDepartment:i});i.children&&i.children.length>0&&t(i.children)}}catch(e){o.e(e)}finally{o.f()}}((null===(a=t().departmentResult)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.content)||[])}},deleteDepartmentCache:function(){return e({},!0)}}})),{name:w.xY_}))),k=n(40431),C=n(50484),S=n(31816),D=n(50648),P=n(47719),E=n(52590),O=n(52519),T=n(83730),U=n(12265),F=n(5728),q=n(32863),V=n(43688),I=n(8091),z=n(82045),N=n(61411),$=n(62599),K=n(89756),_=n(87601),A=n(4269),B=n(31549),L=function(e){var t=e.isEdit,n=e.member,r=e.open,o=e.onClose,i=e.onSubmit,u=F.A.useForm(),s=h()(u,1)[0],c=(0,z.useIntl)(),l=R((function(e){return e.departmentResult})),f=(0,k.u)((function(e){return e.currentOrg})),m=(0,a.useState)([]),g=h()(m,2),v=g[0],y=g[1],x=(0,A.Z)((function(e){return{roleResult:e.roleResult,setRoleResult:e.setRoleResult}})),b=x.setRoleResult,j=x.roleResult;(0,a.useEffect)((function(){t&&n&&s?s.setFieldsValue({uid:null==n?void 0:n.uid,nickname:null==n?void 0:n.nickname,email:null==n?void 0:n.email,mobile:null==n?void 0:n.mobile,jobNo:null==n?void 0:n.jobNo,jobTitle:null==n?void 0:n.jobTitle,seatNo:null==n?void 0:n.seatNo,telephone:null==n?void 0:n.telephone,deptUid:null==n?void 0:n.deptUid}):(console.log("form resetFields"),s.resetFields())}),[n]);var Z=function e(t,n){if(t.name.startsWith(w.VoP)?n.title=c.formatMessage({id:t.name,defaultMessage:t.name}):n.title=t.name,n.value=t.uid,t.children)for(var r=0;r<t.children.length;r++){var a={title:"",value:"",children:[]};e(t.children[r],a),n.children.push(a)}},M=(0,a.useMemo)((function(){for(var e=[],t=0;t<l.data.content.length;t++)if(l.data.content[t].name!==w.zBg){var n={title:"",value:"",children:[]};Z(l.data.content[t],n),e.push(n)}return e}),[l]),C=function(){var e=p()(d()().mark((function e(){var t,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K.yw.loading("正在获取角色列表..."),t={pageNumber:0,pageSize:100,orgUid:f.uid},e.next=4,(0,_.E9)(t);case 4:n=e.sent,console.log("queryRolesByOrg response ",n),200===n.code?(K.yw.destroy(),b(n)):(K.yw.destroy(),K.yw.error(n.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){y(null==n?void 0:n.roleUids)}),[n]),(0,a.useEffect)((function(){C()}),[]),(0,B.jsx)("div",{children:(0,B.jsx)(N.Z,{title:t?"编辑成员":"新建成员",onClose:o,open:r,extra:(0,B.jsxs)($.Z,{children:[(0,B.jsx)(U.ZP,{onClick:o,children:"取消"}),(0,B.jsx)(U.ZP,{onClick:function(){console.log("handleSubmit"),s.validateFields().then((function(e){console.log("Form values:",e);var t={uid:null==n?void 0:n.uid,nickname:e.nickname,email:e.email,mobile:e.mobile,jobNo:e.jobNo,jobTitle:e.jobTitle,seatNo:e.seatNo,telephone:e.telephone,deptUid:e.deptUid,orgUid:null==f?void 0:f.uid,roleUids:v};console.log("memberObject:",t),i(t)})).catch((function(e){console.log("Form errors:",e)}))},type:"primary",children:"保存"})]}),children:(0,B.jsxs)(F.A,{form:s,name:"memForm",submitter:!1,children:[(0,B.jsx)(q.Z,{label:"部门",name:"deptUid",width:"md",placeholder:"请选择部门",allowClear:!0,rules:[{required:!0,message:"请选择部门"}],fieldProps:{treeDefaultExpandAll:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:M,variant:"outlined"}}),(0,B.jsx)(V.Z,{label:"姓名",name:"nickname",rules:[{required:!0,message:"请输入姓名"}]}),(0,B.jsx)(V.Z,{label:"手机",name:"mobile",disabled:t,rules:[{required:!0,message:"请输入手机号"},{pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号"}]}),(0,B.jsx)(V.Z,{label:"邮箱",name:"email",disabled:t,rules:[{required:!0,message:"请输入邮箱"},{type:"email",message:"请输入正确的邮箱地址"}]}),(0,B.jsx)(I.Z,{name:"roleUids",label:"角色",width:"md",options:j.data.content.map((function(e){return{value:e.uid,label:e.name}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:"请选择角色",value:v,onChange:function(e){console.log("selected ".concat(e)),y(e)}}}),(0,B.jsx)(V.Z,{label:"工号",name:"jobNo"}),(0,B.jsx)(V.Z,{label:"职务",name:"jobTitle"}),(0,B.jsx)(V.Z,{label:"座位号",name:"seatNo"}),(0,B.jsx)(V.Z,{label:"分机号",name:"telephone"}),(0,B.jsx)("p",{children:"新创建用户登录用户名为：邮箱，默认密码为：123456"})]})})})},W=n(33934),H=n(1780),G=n(36213),J=["current"],Y=function(){var e=(0,a.useRef)(),t=(0,z.useIntl)(),n=(0,a.useRef)(!1),r=(0,H.Z)().translateString,o=(0,a.useState)(!0),i=h()(o,2),s=i[0],l=i[1],f=(0,a.useState)(),m=h()(f,2),v=m[0],y=m[1],x=(0,a.useState)(!1),b=h()(x,2),j=b[0],Z=b[1],M=(0,k.u)((function(e){return e.currentOrg})),F=R((function(e){return e.currentDepartment})),q=T.Z.useModal(),V=h()(q,2),I=V[0],N=V[1],$=(0,a.useState)(!1),_=h()($,2),A=_[0],Y=_[1],Q=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,B.jsx)(z.FormattedMessage,{id:"name",defaultMessage:"Name"}),dataIndex:"nickname"},{title:(0,B.jsx)(z.FormattedMessage,{id:"email",defaultMessage:"Email"}),dataIndex:"email",render:function(e,t){return(0,B.jsx)("a",{href:"mailto:".concat(t.email),children:e})}},{title:(0,B.jsx)(z.FormattedMessage,{id:"status",defaultMessage:"Status"}),dataIndex:"inviteAccepted",render:function(e,t){return t.status}},{title:(0,B.jsx)(z.FormattedMessage,{id:"mobile",defaultMessage:"Mobile"}),dataIndex:"mobile",render:function(e,t){return(0,B.jsx)("a",{href:"tel:".concat(t.mobile),children:t.mobile})}},{title:(0,B.jsx)(z.FormattedMessage,{id:"jobNo",defaultMessage:"JobNum"}),dataIndex:"jobNo"},{title:(0,B.jsx)(z.FormattedMessage,{id:"jobTitle",defaultMessage:"jobTitle"}),dataIndex:"jobTitle",render:function(e,t){return(0,B.jsx)(B.Fragment,{children:r(null==t?void 0:t.jobTitle)})}}],X=function(){var n=p()(d()().mark((function n(r){var a;return d()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("delete mem:",r),n.next=3,(0,g.EP)(r);case 3:a=n.sent,console.log("deleteMember:",a),200===a.code?(K.yw.success(t.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),e.current.reload()):K.yw.error(a.message);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ee=function(){Z(!1)},te=[].concat(Q,[{title:t.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",render:function(e,n,r,a){return[(0,B.jsx)("a",{onClick:function(){console.log("editable:",n),function(e){y(e),l(!0),Z(!0)}(n)},children:t.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable"),(0,B.jsx)(U.ZP,{type:"link",onClick:function(){return e=n,void I.confirm({title:t.formatMessage({id:"deleteTip"}),icon:(0,B.jsx)(C.Z,{}),content:"".concat(t.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(e.nickname,"】？"),onOk:function(){X(e)},onCancel:function(){},okText:t.formatMessage({id:"ok"}),cancelText:t.formatMessage({id:"cancel"})});var e},danger:!0,children:t.formatMessage({id:"delete",defaultMessage:"Delete"})},"delete")]}}]);(0,a.useEffect)((function(){console.log("currentDepDid:",F),e.current.reload()}),[F]);var ne,re=function(){var n=p()(d()().mark((function n(r){var a,o;return d()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("handleSubmitDrawer:",r),!s){n.next=9;break}return n.next=4,(0,g.hS)(r);case 4:a=n.sent,console.log("updateMember:",a),200===a.code?(K.yw.success(t.formatMessage({id:"update.success",defaultMessage:"update success"})),e.current.reload(),ee()):K.yw.error(a.message),n.next=14;break;case 9:return n.next=11,(0,g.D$)(r);case 11:o=n.sent,console.log("createMember:",o),200===o.code?(K.yw.success(t.formatMessage({id:"create.success",defaultMessage:"create success"})),e.current.reload(),ee()):K.yw.error(o.message);case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ae=function(){var e=p()(d()().mark((function e(){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=p()(d()().mark((function e(){var t;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem(w.LA8),window.open((0,W.kG)()+"/api/v1/member/export?orgUid="+(null==M?void 0:M.uid)+"&pageNumber=0&pageSize=100&accessToken="+t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(O.Z,{columns:te,actionRef:e,cardBordered:!0,request:function(){var e=p()(d()().mark((function e(t,r,a){var o,i,s;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("request:",t,r,a),!n.current){e.next=4;break}return console.log("isLoading: 1",n.current),e.abrupt("return");case 4:return n.current=!0,K.yw.loading("正在加载"),t.current,o=c()(t,J),i=u()({pageNumber:t.current-1,orgUid:M.uid,deptUid:F.uid===w.zBg?"":F.uid},o),e.next=10,(0,g.z_)(i);case 10:return s=e.sent,console.log("queryMembersByOrg:",i,s),200===s.code||K.yw.error(s.message),n.current=!1,K.yw.destroy(),e.abrupt("return",{data:s.data.content,success:!0,total:s.data.totalElements});case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},headerTitle:null!=F&&null!==(ne=F.name)&&void 0!==ne&&ne.startsWith("i18n.")?t.formatMessage({id:null==F?void 0:F.name,defaultMessage:null==F?void 0:F.name}):null==F?void 0:F.name,toolBarRender:function(){return[(0,B.jsx)(U.ZP,{icon:(0,B.jsx)(S.Z,{}),onClick:function(){console.log("new"),y(void 0),l(!1),Z(!0)},type:"primary",children:t.formatMessage({id:"create.member",defaultMessage:"Create Member"})},"button"),(0,B.jsx)(U.ZP,{icon:(0,B.jsx)(D.Z,{}),type:"primary",onClick:ae,children:t.formatMessage({id:"import",defaultMessage:"Import"})},"button"),(0,B.jsx)(U.ZP,{icon:(0,B.jsx)(P.Z,{}),type:"primary",onClick:oe,children:t.formatMessage({id:"export",defaultMessage:"Export"})},"button"),(0,B.jsx)(U.ZP,{icon:(0,B.jsx)(E.Z,{}),type:"link",onClick:function(){window.open("https://www.weiyuai.cn/download/excel/team_member.xlsx")},children:t.formatMessage({id:"download.template",defaultMessage:"Download Template"})},"download")]}}),j&&(0,B.jsx)(L,{isEdit:s,member:v,open:j,onClose:ee,onSubmit:re}),A&&(0,B.jsx)(G.Z,{type:w.zey,acceptType:".xls,.xlsx,.csv,.*",isModalOpen:A,handleOk:function(){console.log("handleUploadDragSubmit"),Y(!1),null==e||e.current.reload()},handleCancel:function(){console.log("handleUploadDragCancel"),Y(!1),null==e||e.current.reload()}}),N]})},Q=n(80093),X=n(38227);function ee(e){return te.apply(this,arguments)}function te(){return(te=p()(d()().mark((function e(t){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,z.request)("/api/v1/department/query/org",{method:"GET",params:u()(u()({},t),{},{client:w.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=p()(d()().mark((function e(t){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,z.request)("/api/v1/department/create",{method:"POST",data:u()(u()({},t),{},{client:w.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return oe.apply(this,arguments)}function oe(){return(oe=p()(d()().mark((function e(t){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,z.request)("/api/v1/department/update",{method:"POST",data:u()(u()({},t),{},{client:w.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return ue.apply(this,arguments)}function ue(){return(ue=p()(d()().mark((function e(t){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,z.request)("/api/v1/department/delete",{method:"POST",data:u()(u()({},t),{},{client:w.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=n(70458),ce=n(11607),le=n(47807),de=function(e){var t=e.open,n=e.isEdit,r=e.department,o=e.onCancel,i=e.onSubmit,u=le.Z.useForm(),s=h()(u,1)[0],c=(0,z.useIntl)(),l=(0,a.useState)(""),f=h()(l,2),m=f[0],g=f[1],v=R((function(e){return e.departmentResult})),y=(0,k.u)((function(e){return e.currentOrg})),x=(0,H.Z)().translateString;(0,a.useEffect)((function(){t&&n?(s.setFieldsValue({uid:null==r?void 0:r.uid,parentUid:null==r?void 0:r.parentUid,name:x(null==r?void 0:r.name),description:null==r?void 0:r.description}),console.log("useEffect:",m)):s.resetFields()}),[t]);var b=function e(t,n){if(t.name.startsWith(w.VoP)?n.title=c.formatMessage({id:t.name,defaultMessage:t.name}):n.title=t.name,n.value=t.uid,t.children)for(var r=0;r<t.children.length;r++){e(t.children[r],{title:"",value:"",children:[]})}},j=(0,a.useMemo)((function(){for(var e=[],t=0;t<v.data.content.length;t++)if(v.data.content[t].name!==w.zBg){var n={title:"",value:"",children:[]};b(v.data.content[t],n),e.push(n)}return e}),[v]);return(0,B.jsx)("div",{children:(0,B.jsx)(T.Z,{title:"创建部门",open:t,forceRender:!0,onOk:function(){s.validateFields().then(function(){var e=p()(d()().mark((function e(t){var a;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={uid:n?null==r?void 0:r.uid:"",name:t.name,description:t.description,parentUid:m||void 0,orgUid:y.uid},console.log("handleSaveDep:",t,a),i(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Failed:",e),K.yw.error("创建部门失败")}))},onCancel:o,children:(0,B.jsxs)(F.A,{form:s,name:"depForm",style:{maxWidth:400},submitter:{render:function(){return null}},children:[(0,B.jsx)(q.Z,{label:"上级部门",name:"parentUid",allowClear:!0,fieldProps:{treeData:j,placeholder:"请选择上级部门(可选)",allowClear:!0,treeDefaultExpandAll:!0,onChange:function(e){console.log("onParentSelectChange:",e),g(e||"")},dropdownStyle:{maxHeight:400,overflow:"auto"}}}),(0,B.jsx)(V.Z,{label:"部门名称",name:"name",rules:[{required:!0,message:"请输入名称!"}]}),(0,B.jsx)(ce.Z,{label:"部门简介",name:"description"})]})})})},fe=function(){var e=(0,z.useIntl)(),t=(0,a.useState)(!1),n=h()(t,2),r=n[0],o=n[1],i=(0,a.useState)(!1),u=h()(i,2),s=u[0],c=u[1],l=(0,k.u)((function(e){return e.currentOrg})),f=T.Z.useModal(),m=h()(f,2),g=m[0],v=m[1],y=R((function(e){return{currentDepartment:e.currentDepartment,departmentResult:e.departmentResult,insertDepartment:e.insertDepartment,upgradeDepartment:e.upgradeDepartment,removeDepartment:e.removeDepartment,setCurrentDepartment:e.setCurrentDepartment,setDepartmentResult:e.setDepartmentResult,setCurrentDepUid:e.setCurrentDepUid}})),x=y.currentDepartment,b=y.departmentResult,j=y.insertDepartment,Z=y.upgradeDepartment,M=y.removeDepartment,S=y.setCurrentDepartment,D=y.setDepartmentResult,P=y.setCurrentDepUid,E=function t(n,r){if(n.name.startsWith(w.VoP)?r.title=e.formatMessage({id:n.name,defaultMessage:n.name}):r.title=n.name,r.key=n.uid,n.children)for(var a=0;a<n.children.length;a++){var o={title:"",key:"",children:[]};t(n.children[a],o),r.children.push(o)}},O=(0,a.useMemo)((function(){for(var e=[],t=0;t<b.data.content.length;t++){var n={title:"",key:"",children:[]};E(b.data.content[t],n),e.push(n)}return e}),[b]),F=function(){var e=p()(d()().mark((function e(){var t,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pageNumber:0,pageSize:50,orgUid:l.uid},e.next=3,ee(t);case 3:n=e.sent,console.log("queryDepartmentsByOrg:",n),200===n.code?D(n):K.yw.error(n.message);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){F()}),[]);var q=function(){var t=p()(d()().mark((function t(n){var r;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("handleCreateDept",n),K.yw.loading(e.formatMessage({id:"creating"})),t.next=4,ne(n);case 4:r=t.sent,console.log("createDepartment:",r),200===r.code?(K.yw.destroy(),K.yw.success(e.formatMessage({id:"create.success",defaultMessage:"create success"})),j(r.data),S(r.data),o(!1)):(K.yw.destroy(),K.yw.error(r.message));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=p()(d()().mark((function t(n){var r;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K.yw.loading(e.formatMessage({id:"updating"})),t.next=3,ae(n);case 3:r=t.sent,console.log("handleUpdateDept:",n,r),200===r.code?(K.yw.destroy(),K.yw.success(e.formatMessage({id:"update.success",defaultMessage:"update success"})),S(r.data),Z(r.data),o(!1)):(K.yw.destroy(),K.yw.error(r.message));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=p()(d()().mark((function t(n){var r;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("handleDeleteDept",n),K.yw.loading(e.formatMessage({id:"deleting"})),t.next=4,ie(n);case 4:r=t.sent,console.log("handleDeleteDept:",r),200===r.code?(K.yw.destroy(),K.yw.success(e.formatMessage({id:"delete.success",defaultMessage:"delete success"})),M(null==n?void 0:n.uid),o(!1)):(K.yw.destroy(),K.yw.error(r.message));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(Q.Z,{gap:"small",wrap:"wrap",children:[(0,B.jsx)(U.ZP,{type:"primary",size:"small",icon:(0,B.jsx)(se.Z,{}),onClick:function(){console.log("new dep"),c(!1),o(!0)},children:e.formatMessage({id:"createDept",defaultMessage:"createDepartment"})}),(0,B.jsx)(U.ZP,{size:"small",onClick:function(){console.log("edit role"),c(!0),o(!0)},disabled:""===(null==x?void 0:x.uid),children:e.formatMessage({id:"edit",defaultMessage:"Edit"})}),(0,B.jsx)(U.ZP,{onClick:function(){return t=x,void g.confirm({title:e.formatMessage({id:"deleteTip"}),icon:(0,B.jsx)(C.Z,{}),content:"".concat(e.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(t.name,"】？"),onOk:function(){I(t)},onCancel:function(){},okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"})});var t},size:"small",style:{float:"right"},danger:!0,disabled:""===(null==x?void 0:x.uid),children:e.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})})]}),(0,B.jsx)(X.Z,{onSelect:function(e,t){console.log("selected",e,t),0!==e.length&&P(e[0].toString())},treeData:O,blockNode:!0}),r&&(0,B.jsx)(de,{open:r,isEdit:s,department:x,onCancel:function(){o(!1)},onSubmit:function(e){s?V(e):q(e)}}),v]})},pe=r.Z.Sider,me=r.Z.Content,he=function(){var e=(0,o.Z)(),t=e.leftSiderStyle,n=e.leftSiderWidth,a=e.contentStyle;return(0,B.jsxs)(r.Z,{children:[(0,B.jsx)(pe,{width:n,style:t,children:(0,B.jsx)(fe,{})}),(0,B.jsx)(r.Z,{children:(0,B.jsx)(me,{style:a,children:(0,B.jsx)(Y,{})})})]})}},26305:function(e,t,n){n.d(t,{v:function(){return d}});var r=n(76711),a=n.n(r),o=n(73193),i=n.n(o),u=n(77667),s=n(39701),c=n(83642),l=n(41617),d=(0,s.Ue)()((0,c.mW)((0,c.tJ)((0,l.n)((function(e,t){return{categoryResult:{data:{content:[]}},categoryTreeOptions:[],categorySelectOptions:[],currentCategory:{uid:""},setCategoryResult:function(t){var n,r=function(e){var t=[];return e.data.content.forEach((function(e){var n={label:e.name,value:e.uid};t.push(n)})),t}(t),o=i()(i()({},t),{},{data:{content:[{uid:"all",name:"All"}].concat(a()(t.data.content))}}),u=function(e){var t=[];return e.data.content.forEach((function(e){var n={title:e.name,key:e.uid,children:[]};e.children&&Array.isArray(e.children)&&(n.children=e.children.map((function(e){return{title:e.name,key:e.uid,children:[]}}))),t.push(n)})),t}(o);e({categoryResult:o,categoryTreeOptions:u,categorySelectOptions:r}),(null===(n=t.data)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.length)>0?e({currentCategory:t.data.content[0]}):e({currentCategory:{uid:""}})},insertCategory:function(t){e((function(e){e.categoryResult.data.content.unshift(t)}))},upgradeCategory:function(t){e((function(e){var n=e.categoryResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Category with uid ".concat(t.uid," not found."))}))},setCurrentCategory:function(t){e({currentCategory:t})},setCurrentCategoryUid:function(n){var r=t().categoryResult.data.content.find((function(e){return e.uid===n}));e({currentCategory:r})},deleteCategoryCache:function(){return e({},!0)}}})),{name:u.OMm})))},4269:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(73193),a=n.n(r),o=n(76711),i=n.n(o),u=n(77667),s=n(39701),c=n(83642),l=n(41617),d=(0,s.Ue)()((0,c.mW)((0,c.tJ)((0,l.n)((function(e,t){return{currentRole:{uid:"",orgUid:""},roleResult:{data:{content:[]}},insertRole:function(t){e((function(e){e.roleResult.data.content.unshift(t)}))},upgradeRole:function(t){e((function(e){var n=e.roleResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Role with uid ".concat(t.uid," not found."))}))},setRoleResult:function(n){var r;(e({roleResult:n}),""===t().currentRole.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentRole:n.data.content[0]}))},setCurrentRole:function(n){var r=t().roleResult.data.content,o=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==o){var u=[].concat(i()(r.slice(0,o)),[n],i()(r.slice(o+1))),s=a()(a()({},t().roleResult),{},{data:{content:u}});e({roleResult:s,currentRole:n})}else console.warn("Role with the specified uid not found."),e({currentRole:n})},removeRole:function(n){var r=t().roleResult.data.content,o=r.findIndex((function(e){return e.uid===n}));-1!==o?e({roleResult:a()(a()({},t().roleResult),{},{data:{content:[].concat(i()(r.slice(0,o)),i()(r.slice(o+1)))}})}):console.warn("Role not found in cache:",n),t().currentRole.uid===n&&e({currentRole:{uid:"",orgUid:""}})},deleteRoleCache:function(){return e({},!0)}}})),{name:u.uaR})))},57024:function(e,t,n){n.d(t,{j:function(){return d}});var r=n(73193),a=n.n(r),o=n(76711),i=n.n(o),u=n(77667),s=n(39701),c=n(83642),l=n(41617),d=(0,s.Ue)()((0,c.mW)((0,c.tJ)((0,l.n)((function(e,t){return{currentKbase:{uid:"",orgUid:""},kbaseResult:{data:{content:[]}},insertKbase:function(t){e((function(e){e.kbaseResult.data.content.unshift(t)}))},updateKbase:function(t){e((function(e){var n=e.kbaseResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Kbase with uid ".concat(t.uid," not found."))}))},setKbaseResult:function(t){var n;e({kbaseResult:t}),(null===(n=t.data)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.length)>0&&e({currentKbase:t.data.content[0]})},setCurrentKbase:function(n){var r=t().kbaseResult.data.content,o=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==o){var u=[].concat(i()(r.slice(0,o)),[n],i()(r.slice(o+1))),s=a()(a()({},t().kbaseResult),{},{data:{content:u}});e({kbaseResult:s,currentKbase:n})}else console.warn("Kbase with the specified uid not found."),e({currentKbase:n})},removeKbase:function(n){var r=t().kbaseResult.data.content,o=r.findIndex((function(e){return e.uid===n}));-1!==o?e({kbaseResult:a()(a()({},t().kbaseResult),{},{data:{content:[].concat(i()(r.slice(0,o)),i()(r.slice(o+1)))}})}):console.warn("Kbase not found in cache:",n),t().currentKbase.uid===n&&e({currentKbase:{uid:"",orgUid:""}})},deleteKbaseCache:function(){return e({},!0)}}})),{name:u.wKE})))},80093:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(44194),a=n(51865),o=n.n(a),i=n(82252),u=n(74511),s=n(19735),c=n(2645),l=n(53681);const d=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],p=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];var m=function(e,t){return o()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${n}`]:n&&d.includes(n)}})(e,t)),((e,t)=>{const n={};return p.forEach((r=>{n[`${e}-align-${r}`]=t.align===r})),n[`${e}-align-stretch`]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return f.forEach((r=>{n[`${e}-justify-${r}`]=t.justify===r})),n})(e,t)))};const h=e=>{const{componentCls:t}=e;return{[t]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},g=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},v=e=>{const{componentCls:t}=e,n={};return d.forEach((e=>{n[`${t}-wrap-${e}`]={flexWrap:e}})),n},y=e=>{const{componentCls:t}=e,n={};return p.forEach((e=>{n[`${t}-align-${e}`]={alignItems:e}})),n},x=e=>{const{componentCls:t}=e,n={};return f.forEach((e=>{n[`${t}-justify-${e}`]={justifyContent:e}})),n};var b=(0,c.I$)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:r}=e,a=(0,l.IX)(e,{flexGapSM:t,flexGap:n,flexGapLG:r});return[h(a),g(a),v(a),y(a),x(a)]}),(()=>({})),{resetStyle:!1}),w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const j=r.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:a,className:c,style:l,flex:d,gap:f,children:p,vertical:h=!1,component:g="div"}=e,v=w(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:y,direction:x,getPrefixCls:j}=r.useContext(s.E_),Z=j("flex",n),[M,R,k]=b(Z),C=null!=h?h:null==y?void 0:y.vertical,S=o()(c,a,null==y?void 0:y.className,Z,R,k,m(Z,e),{[`${Z}-rtl`]:"rtl"===x,[`${Z}-gap-${f}`]:(0,u.n)(f),[`${Z}-vertical`]:C}),D=Object.assign(Object.assign({},null==y?void 0:y.style),l);return d&&(D.flex=d),f&&!(0,u.n)(f)&&(D.gap=f),M(r.createElement(g,Object.assign({ref:t,className:S,style:D},(0,i.Z)(v,["justify","wrap","align"])),p))}));var Z=j}}]);