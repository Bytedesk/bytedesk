<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <!-- 删除现有的唯一约束 -->
    <changeSet id="drop_existing_unique_constraints_from_member_table" author="jackning" failOnError="false">
        <!-- 尝试删除可能存在的email约束 -->
        <preConditions onFail="MARK_RAN">
            <indexExists indexName="UKt3exr9d3lk5moteer3i5tv6k7"/>
        </preConditions>
        <dropUniqueConstraint 
            tableName="bytedesk_team_member"
            constraintName="UKt3exr9d3lk5moteer3i5tv6k7"/>
    </changeSet>
    
    <changeSet id="drop_mobile_unique_constraint_from_member_table" author="jackning" failOnError="false">
        <!-- 尝试删除可能存在的mobile约束 -->
        <preConditions onFail="MARK_RAN">
            <indexExists indexName="UKi9u5132orjj6pgyrf6wyswp7e"/>
        </preConditions>
        <dropUniqueConstraint 
            tableName="bytedesk_team_member"
            constraintName="UKi9u5132orjj6pgyrf6wyswp7e"/>
    </changeSet>

</databaseChangeLog>
