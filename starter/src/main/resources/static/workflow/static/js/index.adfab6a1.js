(()=>{"use strict";var e={330:function(e,t,o){var i,n,r,l,s,a,d,c=o(1549),u=o(8082),p=o(1199);o(6617);let h=o.p+"static/image/icon-start.8353312d.jpg";var g=o(4683),x=o(4194),m=o(1777),f=o(6865),y=o(2758),v=o(7941),j=o(7341),C=o(5450),b=o(4608);let w=async(e,t)=>{let o=e.get(v.sS),i=e.document,n=e.get(p.iwM),r=e.get(p.dmf),{fromPort:l,toPort:s,mousePos:a,line:d,originLine:c}=t;if(c||!d||s)return;let u=v.QV.getContainerNode({fromPort:l}),h=await o.singleSelectNodePanel({position:a,containerNode:u,panelProps:{enableNodePlaceholder:!0,enableScrollClose:!0}});if(!h)return;let{nodeType:g,nodeJSON:x}=h,m=v.QV.adjustNodePosition({nodeType:g,position:a,fromPort:l,toPort:s,containerNode:u,document:i,dragService:n}),f=i.createWorkflowNodeByType(g,m,x??{},null==u?void 0:u.id);await (0,p.gw0)(20),v.QV.buildLine({fromPort:l,node:f,toPort:s,linesManager:r})},L="flowgram-workflow-clipboard-data";var N=((i={}).COPY="COPY",i.PASTE="PASTE",i.CUT="CUT",i.GROUP="GROUP",i.UNGROUP="UNGROUP",i.COLLAPSE="COLLAPSE",i.EXPAND="EXPAND",i.DELETE="DELETE",i.ZOOM_IN="ZOOM_IN",i.ZOOM_OUT="ZOOM_OUT",i.RESET_ZOOM="RESET_ZOOM",i.SELECT_ALL="SELECT_ALL",i.CANCEL_SELECT="CANCEL_SELECT",i);class M{async execute(){this.playgroundConfig.zoom>1.9||this.playgroundConfig.zoomout()}constructor(e){this.commandId=N.ZOOM_OUT,this.shortcuts=["meta -","ctrl -"],this.playgroundConfig=e.get(p.ERL),this.execute=this.execute.bind(this)}}class k{async execute(){this.playgroundConfig.zoom>1.9||this.playgroundConfig.zoomin()}constructor(e){this.commandId=N.ZOOM_IN,this.shortcuts=["meta =","ctrl ="],this.playgroundConfig=e.get(p.ERL),this.execute=this.execute.bind(this)}}class S{async execute(){let e=this.document.getAllNodes();this.playground.selectionService.selection=e}constructor(e){this.commandId=N.SELECT_ALL,this.shortcuts=["meta a","ctrl a"],this.document=e.get(p.L4w),this.playground=e.playground,this.execute=this.execute.bind(this)}}var D=o(413),z=o(6261);let I=(e,t)=>{let o=Array.isArray(t)?e=>{t.forEach(t=>t(e))}:t;return a.traverseNodes({value:e},o),e};!function(e){e.traverseNodes=(o,i)=>{let{value:n}=o;if(n){if("[object Object]"===Object.prototype.toString.call(n))Object.entries(n).forEach(t=>{let[r,l]=t;return e.traverseNodes({value:l,container:n,key:r,parent:o},i)});else if(Array.isArray(n))for(let t=n.length-1;t>=0;t--){let r=n[t];e.traverseNodes({value:r,container:n,index:t,parent:o},i)}i(t({node:o}))}};let t=e=>{let{node:t}=e;return{node:t,setValue:e=>o(t,e),getParents:()=>i(t),getPath:()=>n(t),getStringifyPath:()=>r(t),deleteSelf:()=>l(t)}},o=(e,t)=>{if(!t||!e)return;e.value=t;let{container:o,key:i,index:n}=e;i&&o?o[i]=t:"number"==typeof n&&(o[n]=t)},i=e=>{let t=[],o=e;for(;o;)t.unshift(o),o=o.parent;return t},n=e=>{let t=[];return i(e).forEach(e=>{e.key?t.unshift(e.key):e.index&&t.unshift(e.index)}),t},r=e=>n(e).reduce((e,t)=>"string"!=typeof t?`${e}[${t}]`:/\W/g.test(t)?`${e}["${t}"]`:`${e}.${t}`,""),l=e=>{let{container:t,key:o,index:i}=e;o&&t?delete t[o]:"number"==typeof i&&t.splice(i,1)}}(a||(a={})),function(e){let t=(0,z.kP)("1234567890",6);e.getAllNodeIds=e=>{let t=new Set,o=e=>{var i;t.add(e.id),(null==(i=e.blocks)?void 0:i.length)&&e.blocks.forEach(e=>o(e))};return e.nodes.forEach(e=>o(e)),Array.from(t)},e.generateNodeReplaceMap=(e,o)=>{let i=new Map;return e.forEach(e=>{if(o(e))i.set(e,e);else{let n;do n=t();while(!o(n));i.set(e,n)}}),i};let o=e=>null!=e,i=e=>{var t,i,n,r,l,s,a;let{node:d}=e;return!!((null==d?void 0:d.key)&&["sourceNodeID","targetNodeID"].includes(d.key)&&(null==(i=d.parent)||null==(t=i.parent)?void 0:t.key)==="edges"||(null==d?void 0:d.key)==="id"&&o(null==(n=d.container)?void 0:n.type)&&o(null==(r=d.container)?void 0:r.meta)&&o(null==(l=d.container)?void 0:l.data)||(null==d?void 0:d.key)==="blockID"&&o(null==(s=d.container)?void 0:s.name)&&(null==(a=d.container)?void 0:a.source)==="block-output")};e.replaceNodeId=(e,t)=>(I(e,e=>{if(!i(e))return;let{node:o}=e;t.has(o.value)&&e.setValue(t.get(o.value))}),e)}(d||(d={}));let E=e=>{let{json:t,isUniqueId:o}=e,i=d.getAllNodeIds(t),n=d.generateNodeReplaceMap(i,o);return d.replaceNodeId(t,n)};class T{async execute(){let e=await this.tryReadClipboard();if(!e||!this.isValidData(e))return;let t=this.apply(e);return t.length>0&&(D.FN.success({content:"Copy successfully",showClose:!1}),await this.nextTick(),this.scrollNodesToView(t)),t}apply(e){let{json:t}=e,o=E({json:t,isUniqueId:e=>!this.entityManager.getEntityById(e)}),i=this.calcPasteOffset(e.bounds),n=this.getSelectedContainer();this.applyOffset({json:o,offset:i,parent:n});let{nodes:r}=this.document.renderJSON(o,{parent:n});return this.selectNodes(r),r}isValidData(e){return(null==e?void 0:e.type)!==L?(D.FN.error({content:"Invalid clipboard data"}),!1):e.source.host===window.location.host||(D.FN.error({content:"Cannot paste nodes from different host"}),!1)}async tryReadClipboard(){try{let e=await navigator.clipboard.readText()||"";return JSON.parse(e)}catch(e){return}}calcPasteOffset(e){let{x:t,y:o,width:i,height:n}=e,{center:r}=new p.AeJ(t,o,i,n),l=this.hoverService.hoveredPos;return{x:l.x-r.x,y:l.y-r.y}}applyOffset(e){let{json:t,offset:o,parent:i}=e;t.nodes.forEach(e=>{var t;if(!(null==(t=e.meta)?void 0:t.position))return;let n={x:e.meta.position.x+o.x,y:e.meta.position.y+o.y};i&&(n=this.dragService.adjustSubNodePosition(e.type,i,n)),e.meta.position=n})}getSelectedContainer(){let{activatedNode:e}=this.selectService;return(null==e?void 0:e.getNodeMeta().isContainer)?e:void 0}selectNodes(e){this.selectService.selection=e}async scrollNodesToView(e){let t=e.map(e=>e.getData(p.eGM).bounds);await this.document.playgroundConfig.scrollToView({bounds:p.AeJ.enlarge(t)})}async nextTick(){await (0,p.gw0)(16),await new Promise(e=>requestAnimationFrame(e))}constructor(e){this.commandId=N.PASTE,this.shortcuts=["meta v","ctrl v"],this.document=e.get(p.L4w),this.selectService=e.get(p.oJU),this.entityManager=e.get(p.v2K),this.hoverService=e.get(p.XHk),this.dragService=e.get(p.iwM),this.execute=this.execute.bind(this)}}class V{async execute(){this.selectService.selectedNodes.forEach(e=>{e.renderData.expanded=!0})}constructor(e){this.commandId=N.EXPAND,this.commandDetail={label:"Expand"},this.shortcuts=["meta alt closebracket","ctrl alt openbracket"],this.selectService=e.get(p.oJU),this.execute=this.execute.bind(this)}}class Z{async execute(){this.isValid(this.selectService.selectedNodes)&&(this.selectService.selection.forEach(e=>{e instanceof p.CTO?this.removeNode(e):e instanceof p.e2M?this.removeLine(e):e.dispose()}),this.selectService.selection=this.selectService.selection.filter(e=>!e.disposed))}isValid(e){return!e.some(e=>[tM.Start,tM.End].includes(e.flowNodeType))||(D.FN.error({content:"Start or End node cannot be deleted",showClose:!1}),!1)}removeNode(e){var t;if(!this.document.canRemove(e))return;let o=e.getNodeMeta(),i=null==(t=o.subCanvas)?void 0:t.call(o,e);if(null==i?void 0:i.isCanvas)return void i.parentNode.dispose();e.dispose()}removeLine(e){this.document.linesManager.canRemove(e)&&e.dispose()}constructor(e){this.commandId=N.DELETE,this.shortcuts=["backspace","delete"],this.document=e.get(p.L4w),this.selectService=e.get(p.oJU),this.execute=this.execute.bind(this)}}class O{async execute(){if(await this.hasSelectedText()||!this.isValid(this.selectedNodes))return;let e=this.toClipboardData();await this.write(e)}async hasSelectedText(){var e,t;return!!(null==(e=window.getSelection())?void 0:e.toString())&&(await navigator.clipboard.writeText((null==(t=window.getSelection())?void 0:t.toString())??""),D.FN.success({content:"Text copied"}),!0)}get selectedNodes(){return this.selectService.selection.filter(e=>e instanceof p.CTO)}isValid(e){return 0!==e.length||(D.FN.warning({content:"No nodes selected"}),!1)}toClipboardData(e){let t=this.getValidNodes(e||this.selectedNodes),o=this.toSource();return{type:L,source:o,json:this.toJSON(t),bounds:this.getEntireBounds(t)}}getValidNodes(e){return e.filter(e=>![tM.Start,tM.End].includes(e.flowNodeType)&&!e.getNodeMeta().copyDisable)}toSource(){return{host:window.location.host}}toJSON(e){return{nodes:this.getNodeJSONs(e),edges:this.getEdgeJSONs(e)}}getNodeJSONs(e){return e.map(e=>{var t;let o=this.document.toNodeJSON(e);if(!(null==(t=o.meta)?void 0:t.position))return o;let{bounds:i}=e.getData(p.VOn);return o.meta.position={x:i.x,y:i.y},o}).filter(Boolean)}getEdgeJSONs(e){let t=new Set,o=new Set(e.map(e=>e.id));return e.forEach(e=>{let i=e.getData(p.Z14);[...i.inputLines,...i.outputLines].forEach(e=>{var i;o.has(e.from.id)&&(null==(i=e.to)?void 0:i.id)&&o.has(e.to.id)&&t.add(e)})}),Array.from(t).map(e=>e.toJSON())}getEntireBounds(e){let t=e.map(e=>e.getData(p.VOn).bounds),o=p.AeJ.enlarge(t);return{x:o.x,y:o.y,width:o.width,height:o.height}}async write(e){try{await navigator.clipboard.writeText(JSON.stringify(e)),this.notifySuccess()}catch(e){console.error("Failed to write text: ",e)}}notifySuccess(){let e=this.selectedNodes.map(e=>e.flowNodeType);if(e.includes("start")||e.includes("end"))return void D.FN.warning({content:"The Start/End node cannot be duplicated, other nodes have been copied to the clipboard",showClose:!1});D.FN.success({content:"Nodes have been copied to the clipboard",showClose:!1})}constructor(e){this.commandId=N.COPY,this.shortcuts=["meta c","ctrl c"],this.document=e.get(p.L4w),this.selectService=e.get(p.oJU),this.execute=this.execute.bind(this)}}class P{async execute(){this.selectService.selectedNodes.forEach(e=>{e.renderData.expanded=!1})}constructor(e){this.commandId=N.COLLAPSE,this.commandDetail={label:"Collapse"},this.shortcuts=["meta alt openbracket","ctrl alt openbracket"],this.selectService=e.get(p.oJU),this.execute=this.execute.bind(this)}}function A(e,t){e.addHandlers(new O(t),new T(t),new S(t),new P(t),new V(t),new Z(t),new k(t),new M(t))}var R=o(377);class F{save(){console.log(this.document.toJSON())}}(0,R.gn)([(0,p.f3M)(p.bQo),(0,R.w6)("design:type",void 0===p.bQo?Object:p.bQo)],F.prototype,"ctx",void 0),(0,R.gn)([(0,p.f3M)(p.z2R),(0,R.w6)("design:type",void 0===p.z2R?Object:p.z2R)],F.prototype,"selectionService",void 0),(0,R.gn)([(0,p.f3M)(p.XQj),(0,R.w6)("design:type",void 0===p.XQj?Object:p.XQj)],F.prototype,"playground",void 0),(0,R.gn)([(0,p.f3M)(p.L4w),(0,R.w6)("design:type",void 0===p.L4w?Object:p.L4w)],F.prototype,"document",void 0),F=(0,R.gn)([(0,p.b2C)()],F);var _=o(1376);let B=(0,p.M1y)({onInit(e,t){e.document.onNodeCreate(e=>{let{node:t}=e,o=(0,p.CMu)(t),i=t.getData(p._J4),n=e=>{if(!e)return void i.clearVar();let n=function e(t){let{type:o}=t||{};if(o)switch(o){case"object":return p.qRT.createObject({properties:Object.entries(t.properties||{}).sort((e,t)=>((0,_.Z)(null==e?void 0:e[1],"extra.index")||0)-((0,_.Z)(null==t?void 0:t[1],"extra.index")||0)).map(t=>{let[o,i]=t;return{key:o,type:e(i),meta:{description:i.description}}})});case"array":return p.qRT.createArray({items:e(t.items)});case"string":return p.qRT.createString();case"number":return p.qRT.createNumber();case"boolean":return p.qRT.createBoolean();case"integer":return p.qRT.createInteger();default:return p.qRT.createCustomType({typeName:o})}}(e);if(n){var r,l;let e=(null==o?void 0:o.getValueIn("title"))||t.id;i.setVar(p.qRT.createVariableDeclaration({meta:{title:`${e}`,icon:null==(l=t.getNodeRegistry())||null==(r=l.info)?void 0:r.icon},key:`${t.id}.outputs`,type:n}))}else i.clearVar()};o&&(n(o.getValueIn("outputs")),o.onFormValuesChange(e=>{(e.name.match(/^outputs/)||e.name.match(/^title/))&&n(o.getValueIn("outputs"))}))})}});var H=o(3254);let U=H.ZP.span`
  font-size: 12px;
  color: red;
`,G=H.ZP.span`
  font-size: 12px;
  color: orange;
`,W=e=>{let{errors:t,warnings:o,invalid:i}=e,n=e=>e?e.map(e=>(0,c.jsx)("span",{children:e.message},e.name)):null;return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)(U,{children:n(t)})}),(0,c.jsx)("div",{children:(0,c.jsx)(G,{children:n(o)})})]})},Y=H.ZP.div`
  box-sizing: border-box;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 6px;
  background-color: rgba(0, 0, 0, 0.02);
  padding: 0 12px 12px;
`,X=H.ZP.div`
  color: var(--semi-color-text-2);
  font-size: 12px;
  line-height: 20px;
  padding: 0px 4px;
  word-break: break-all;
  white-space: break-spaces;
`;function J(e){var t;let{node:o,expanded:i}=tw(),n=tL(),r=o.getNodeRegistry();return(0,c.jsx)(Y,{children:i?(0,c.jsxs)(c.Fragment,{children:[n&&(0,c.jsx)(X,{children:null==(t=r.info)?void 0:t.description}),e.children]}):void 0})}let $=H.ZP.div`
  display: flex;
  justify-content: center;
  align-items: center;
  column-gap: 6px;
`;function q(e){let{name:t,type:o,isArray:i,className:n}=e,r=i?g.Cn[o]:g.Fy[o];return(0,c.jsx)(D.u,{content:(0,c.jsxs)($,{children:[r," ",o]}),children:(0,c.jsxs)(D.Vp,{color:"white",className:n,style:{padding:4,maxWidth:450},children:[r,t&&(0,c.jsxs)("span",{style:{display:"inline-block",marginLeft:4,marginTop:-1,overflow:"hidden",textOverflow:"ellipsis"},children:[" ",t]})]})})}let Q=H.ZP.div`
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  border-top: 1px solid var(--semi-color-border);
  padding: 8px 0 0;
  width: 100%;

  :global(.semi-tag .semi-tag-content) {
    font-size: 10px;
  }
`;function K(){return tL()?null:(0,c.jsx)(p.gNt,{name:"outputs",children:e=>{var t;let{field:o}=e,i=null==(t=o.value)?void 0:t.properties;if(i){let e=Object.keys(i).map(e=>{let t=i[e];return(0,c.jsx)(q,{name:e,type:t.type},e)});return(0,c.jsx)(Q,{children:e})}return(0,c.jsx)(c.Fragment,{})}})}let ee=H.ZP.div`
  background-color: var(--semi-color-fill-0);
  border-radius: var(--semi-border-radius-small);
  padding-left: 12px;
  width: 100%;
  min-height: 24px;
  line-height: 24px;
  display: flex;
  align-items: center;
  &.has-error {
    outline: red solid 1px;
  }
`,et=e=>(0,c.jsxs)(ee,{className:e.hasError?"has-error":"",children:[e.value,void 0===e.value||""===e.value?(0,c.jsx)("span",{style:{color:"var(--semi-color-text-2)"},children:e.placeholder||"--"}):null]});function eo(e){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",...e,children:(0,c.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.581 4.49A2.75 2.75 0 0 1 8.319 2h.931a.75.75 0 0 1 0 1.5h-.931a1.25 1.25 0 0 0-1.245 1.131l-.083.869H9.25a.75.75 0 0 1 0 1.5H6.849l-.43 4.51A2.75 2.75 0 0 1 3.681 14H2.75a.75.75 0 0 1 0-1.5h.931a1.25 1.25 0 0 0 1.245-1.132L5.342 7H3.75a.75.75 0 0 1 0-1.5h1.735zM9.22 9.22a.75.75 0 0 1 1.06 0l1.22 1.22l1.22-1.22a.75.75 0 1 1 1.06 1.06l-1.22 1.22l1.22 1.22a.75.75 0 1 1-1.06 1.06l-1.22-1.22l-1.22 1.22a.75.75 0 1 1-1.06-1.06l1.22-1.22l-1.22-1.22a.75.75 0 0 1 0-1.06",clipRule:"evenodd"})})}function ei(e){let{value:t,onChange:o,readonly:i,hasError:n,style:r}=e;return i?(0,c.jsx)(et,{value:t,hasError:n}):(0,c.jsx)(D.II,{value:t,onChange:o,validateStatus:n?"error":void 0,style:r})}function en(e){let{value:t,onChange:o,readonly:i,literal:n,icon:r}=e;if(n)return(0,c.jsx)(ei,{value:t,onChange:o,readonly:i});let l="object"==typeof t&&"expression"===t.type;return(0,c.jsxs)("div",{style:{display:"flex",maxWidth:300},children:[l?(0,c.jsx)(g.W3,{value:t.content,hasError:e.hasError,style:{flexGrow:1},onChange:e=>o({type:"expression",content:e}),readonly:i}):(0,c.jsx)(ei,{value:t,onChange:o,hasError:e.hasError,readonly:i,style:{flexGrow:1,outline:e.hasError?"1px solid red":void 0}}),!i&&(r||(0,c.jsx)(D.zx,{theme:"borderless",icon:(0,c.jsx)(eo,{}),onClick:()=>{l?o(t.content):o({content:t,type:"expression"})}}))]})}let{Text:er}=D.Sx;function el(e){let{children:t,name:o,required:i,description:n,type:r,labelWidth:l}=e,s=(0,x.useCallback)(e=>(0,c.jsxs)("div",{style:{width:"0",display:"flex",flex:"1"},children:[(0,c.jsx)(er,{style:{width:"100%"},ellipsis:{showTooltip:!!e},children:o}),i&&(0,c.jsx)("span",{style:{color:"#f93920",paddingLeft:"2px"},children:"*"})]}),[]);return(0,c.jsxs)("div",{style:{fontSize:12,marginBottom:6,width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",gap:8},children:[(0,c.jsxs)("div",{style:{justifyContent:"center",alignItems:"center",color:"var(--semi-color-text-0)",width:l||118,position:"relative",display:"flex",columnGap:4,flexShrink:0},children:[(0,c.jsx)(q,{className:"form-item-type-tag",type:r}),n?(0,c.jsx)(D.u,{content:n,children:s()}):s(!0)]}),(0,c.jsx)("div",{style:{flexGrow:1,minWidth:0},children:t})]})}function es(){let e=!tL();return(0,c.jsx)(p.gNt,{name:"inputs",children:t=>{var o,i;let{field:n}=t,r=(null==(o=n.value)?void 0:o.required)||[],l=null==(i=n.value)?void 0:i.properties;if(!l)return(0,c.jsx)(c.Fragment,{});let s=Object.keys(l).map(t=>{let o=l[t];return(0,c.jsx)(p.gNt,{name:`inputsValues.${t}`,defaultValue:o.default,children:i=>{let{field:n,fieldState:l}=i;return(0,c.jsxs)(el,{name:t,type:o.type,required:r.includes(t),children:[(0,c.jsx)(en,{value:n.value,onChange:n.onChange,readonly:e,hasError:Object.keys((null==l?void 0:l.errors)||{}).length>0}),(0,c.jsx)(W,{errors:null==l?void 0:l.errors})]})}},t)});return(0,c.jsx)(c.Fragment,{children:s})}})}var ea=o(3589),ed=o(8349),ec=o(9682);let eu=e=>{var t;let{node:o,deleteNode:i}=e,[n,r]=(0,x.useState)(!0),l=(0,p.sX$)(),s=o.getNodeRegistry(),a=(0,p.G2Z)(b.uf),d=(0,p.G2Z)(p.oJU),u=(0,p.G2Z)(p.iwM),h=a.canMoveOutContainer(o),g=(0,x.useCallback)(()=>{r(!1),requestAnimationFrame(()=>{r(!0)})},[]),m=(0,x.useCallback)(async e=>{e.stopPropagation();let t=o.parent;a.moveOutContainer({node:o}),await a.clearInvalidLines({dragNode:o,sourceParent:t}),g(),await (0,p.gw0)(16),d.selectNode(o),u.startDragSelectedNodes(e)},[a,o,g]),f=(0,x.useCallback)(e=>{let t=new O(l),i=new T(l),n=t.toClipboardData([o]);i.apply(n),e.stopPropagation()},[l,o]),y=(0,x.useCallback)(e=>{i(),e.stopPropagation()},[l,o]);if(n)return(0,c.jsx)(D.Lt,{trigger:"hover",position:"bottomRight",render:(0,c.jsxs)(D.Lt.Menu,{children:[h&&(0,c.jsx)(D.Lt.Item,{onClick:m,children:"Move out"}),(0,c.jsx)(D.Lt.Item,{onClick:f,disabled:!0===s.meta.copyDisable,children:"Create Copy"}),(0,c.jsx)(D.Lt.Item,{onClick:y,disabled:!!((null==(t=s.canDelete)?void 0:t.call(s,l,o))||s.meta.deleteDisable),children:"Delete"})]}),children:(0,c.jsx)(D.hU,{color:"secondary",size:"small",theme:"borderless",icon:(0,c.jsx)(ec.Z,{}),onClick:e=>e.stopPropagation()})})},ep=H.ZP.div`
  box-sizing: border-box;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  column-gap: 8px;
  border-radius: 8px 8px 0 0;
  cursor: move;

  background: linear-gradient(#f2f2ff 0%, rgba(0, 0, 0, 0.02) 100%);
  overflow: hidden;

  padding: 8px;
`,eh=H.ZP.div`
  font-size: 20px;
  flex: 1;
  width: 0;
`,eg=H.ZP.img`
  width: 24px;
  height: 24px;
  scale: 0.8;
  border-radius: 4px;
`,ex=H.ZP.div`
  display: flex;
  align-items: center;
  column-gap: 4px;
`,em=e=>{var t;let o=null==(t=e.getNodeRegistry().info)?void 0:t.icon;return o?(0,c.jsx)(eg,{src:o}):null},{Text:ef}=D.Sx;function ey(){let{node:e,expanded:t,toggleExpand:o,readonly:i,deleteNode:n}=tw(),r=tL();return(0,c.jsxs)(ep,{children:[em(e),(0,c.jsx)(eh,{children:(0,c.jsx)(p.gNt,{name:"title",children:e=>{let{field:{value:t,onChange:o},fieldState:i}=e;return(0,c.jsxs)("div",{style:{height:24},children:[(0,c.jsx)(ef,{ellipsis:{showTooltip:!0},children:t}),(0,c.jsx)(W,{errors:null==i?void 0:i.errors})]})}})}),e.renderData.expandable&&!r&&(0,c.jsx)(D.zx,{type:"primary",icon:t?(0,c.jsx)(ea.Z,{}):(0,c.jsx)(ed.Z,{}),size:"small",theme:"borderless",onClick:e=>{o(),e.stopPropagation()}}),i?void 0:(0,c.jsx)(ex,{children:(0,c.jsx)(eu,{node:e,deleteNode:n})})]})}var ev=o(3845),ej=o(9603);let eC=["object","boolean","array","string","integer","number"],eb=e=>{let{value:t,disabled:o}=e,i=g.Fy[t];return(0,c.jsx)(D.Lt,{trigger:"hover",position:"bottomRight",disabled:o,render:(0,c.jsx)(D.Lt.Menu,{children:eC.map(t=>(0,c.jsxs)(D.Lt.Item,{onClick:()=>{var o;null==(o=e.onChange)||o.call(e,t)},children:[g.Fy[t],(0,c.jsx)("span",{style:{paddingLeft:"4px"},children:t})]},t))}),children:(0,c.jsx)(D.Vp,{color:"white",style:e.style,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:i})})},ew=H.ZP.div`
  display: flex;
  justify-content: flex-start;
  align-items: center;
  font-size: 12px;
  margin-bottom: 6px;
`,eL=H.ZP.div`
  width: 300px;
  margin-right: 10px;
  position: relative;
`,eN=e=>{let{value:t,disabled:o}=e,[i,n]=(0,x.useState)(e.propertyKey),r=(o,i)=>{t[o]=i,e.onChange(t,e.propertyKey)};return(0,x.useLayoutEffect)(()=>{n(e.propertyKey)},[e.propertyKey]),(0,c.jsxs)(ew,{children:[(0,c.jsxs)(eL,{children:[(0,c.jsx)(eb,{value:t.type,disabled:o,style:{position:"absolute",top:6,left:4,zIndex:1},onChange:e=>r("type",e)}),(0,c.jsx)(D.II,{value:i,disabled:o,onChange:e=>n(e.trim()),onBlur:()=>{""!==i?e.onChange(t,e.propertyKey,i):n(e.propertyKey)},style:{paddingLeft:26}})]}),e.useFx?(0,c.jsx)(g.W3,{value:t.default,readonly:o,onChange:e=>r("default",e),style:{flexGrow:1,height:32}}):(0,c.jsx)(D.II,{disabled:o,value:t.default,onChange:e=>r("default",e)}),e.onDelete&&!o&&(0,c.jsx)(D.zx,{theme:"borderless",icon:(0,c.jsx)(ej.Z,{}),onClick:e.onDelete})]})},eM=e=>{let t=e.value||{},{readonly:o}=tw(),[i,n]=(0,x.useState)({key:"",value:{type:"string"}}),[r,l]=(0,x.useState)(),s=()=>{n({key:"",value:{type:"string"}}),l(!1)},a=(o,i,n)=>{let r={...t};n?(delete r[i],r[n]=o):r[i]=o,e.onChange(r)};return(0,c.jsxs)(c.Fragment,{children:[Object.keys(e.value||{}).map(i=>{let n=t[i]||{};return(0,c.jsx)(eN,{propertyKey:i,useFx:e.useFx,value:n,disabled:o,onChange:a,onDelete:()=>{let o={...t};delete o[i],e.onChange(o)}},i)}),r&&(0,c.jsx)(eN,{propertyKey:i.key,value:i.value,useFx:e.useFx,onChange:(e,o,i)=>{i?(i in t||a(e,o,i),s()):n({key:i||o,value:e})},onDelete:()=>{let o=i.key;setTimeout(()=>{let i={...t};delete i[o],e.onChange(i),s()},10)}}),!o&&(0,c.jsx)("div",{children:(0,c.jsx)(D.zx,{theme:"borderless",icon:(0,c.jsx)(ev.Z,{}),onClick:()=>l(!0),children:"Add"})})]})},ek={render:e=>{let{form:t}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ey,{}),(0,c.jsxs)(J,{children:[(0,c.jsx)(es,{}),(0,c.jsx)(K,{})]})]})},validateTrigger:p.C$T.onChange,validate:{title:e=>{let{value:t}=e;return t?void 0:"Title is required"},"inputsValues.*":e=>{var t;let{value:o,context:i,formValues:n,name:r}=e,l=r.replace(/^inputsValues\./,"");if(((null==(t=n.inputs)?void 0:t.required)||[]).includes(l)&&(""===o||void 0===o))return`${l} is required`}}};var eS=o(4376),eD=o(8786),ez=o(2439),eI=o(1883),eE=((n={}).Title="title",n.Color="color",n);let eT=e=>{let{size:t}=e;return(0,c.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:t},children:(0,c.jsx)("path",{id:"group",fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M 0.009766 10 L 0.009766 9.990234 L 0 9.990234 L 0 7.5 L 1 7.5 L 1 9 L 2.5 9 L 2.5 10 L 0.009766 10 Z M 3.710938 10 L 3.710938 9 L 6.199219 9 L 6.199219 10 L 3.710938 10 Z M 7.5 10 L 7.5 9 L 9 9 L 9 7.5 L 10 7.5 L 10 9.990234 L 9.990234 9.990234 L 9.990234 10 L 7.5 10 Z M 0 6.289063 L 0 3.800781 L 1 3.800781 L 1 6.289063 L 0 6.289063 Z M 9 6.289063 L 9 3.800781 L 10 3.800781 L 10 6.289063 L 9 6.289063 Z M 0 2.5 L 0 0.009766 L 0.009766 0.009766 L 0.009766 0 L 2.5 0 L 2.5 1 L 1 1 L 1 2.5 L 0 2.5 Z M 9 2.5 L 9 1 L 7.5 1 L 7.5 0 L 9.990234 0 L 9.990234 0.009766 L 10 0.009766 L 10 2.5 L 9 2.5 Z M 3.710938 1 L 3.710938 0 L 6.199219 0 L 6.199219 1 L 3.710938 1 Z"})})},eV=e=>{let{size:t}=e;return(0,c.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:t},children:(0,c.jsx)("path",{id:"ungroup",fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M 9.654297 10.345703 L 8.808594 9.5 L 7.175781 9.5 L 7.175781 8.609375 L 7.917969 8.609375 L 1.390625 2.082031 L 1.390625 2.824219 L 0.5 2.824219 L 0.5 1.191406 L -0.345703 0.345703 L 0.283203 -0.283203 L 1.166016 0.599609 L 2.724609 0.599609 L 2.724609 1.490234 L 2.056641 1.490234 L 8.509766 7.943359 L 8.509766 7.275391 L 9.400391 7.275391 L 9.400391 8.833984 L 10.283203 9.716797 L 9.654297 10.345703 Z M 0.509766 9.5 L 0.509766 9.490234 L 0.5 9.490234 L 0.5 7.275391 L 1.390625 7.275391 L 1.390625 8.609375 L 2.724609 8.609375 L 2.724609 9.5 L 0.509766 9.5 Z M 3.802734 9.5 L 3.802734 8.609375 L 6.017578 8.609375 L 6.017578 9.5 L 3.802734 9.5 Z M 0.5 6.197266 L 0.5 3.982422 L 1.390625 3.982422 L 1.390625 6.197266 L 0.5 6.197266 Z M 8.509766 6.197266 L 8.509766 3.982422 L 9.400391 3.982422 L 9.400391 6.197266 L 8.509766 6.197266 Z M 8.509766 2.824219 L 8.509766 1.490234 L 7.175781 1.490234 L 7.175781 0.599609 L 9.390625 0.599609 L 9.390625 0.609375 L 9.400391 0.609375 L 9.400391 2.824219 L 8.509766 2.824219 Z M 3.802734 1.490234 L 3.802734 0.599609 L 6.017578 0.599609 L 6.017578 1.490234 L 3.802734 1.490234 Z"})})},eZ=e=>{let{node:t,style:o}=e,i=(0,p.G2Z)(p.HoL);return(0,c.jsx)(D.u,{content:"Ungroup",children:(0,c.jsx)("div",{className:"workflow-group-ungroup",style:o,children:(0,c.jsx)(D.zx,{icon:(0,c.jsx)(eV,{size:14}),style:{height:30,width:30},theme:"borderless",type:"tertiary",onClick:()=>{i.executeCommand(C.I5.Ungroup,t)}})})})};var eO=o(7059);let eP=()=>{let[e,t]=(0,x.useState)(!1);return(0,c.jsx)(p.gNt,{name:eE.Title,children:o=>{let{field:i}=o;return e?(0,c.jsx)(D.II,{autoFocus:!0,className:"workflow-group-title-input",size:"small",value:i.value,onChange:i.onChange,onMouseDown:e=>e.stopPropagation(),onBlur:()=>t(!1),draggable:!1,onEnterPress:()=>t(!1)}):(0,c.jsx)("p",{className:"workflow-group-title",onDoubleClick:()=>t(!0),children:i.value??"Group"})}})},eA="Blue",eR={Red:{50:"#fef2f2",300:"#fca5a5",400:"#f87171"},Orange:{50:"#fff7ed",300:"#fdba74",400:"#fb923c"},Amber:{50:"#fffbeb",300:"#fcd34d",400:"#fbbf24"},Yellow:{50:"#fef9c3",300:"#fde047",400:"#facc15"},Lime:{50:"#f7fee7",300:"#bef264",400:"#a3e635"},Green:{50:"#f0fdf4",300:"#86efac",400:"#4ade80"},Emerald:{50:"#ecfdf5",300:"#6ee7b7",400:"#34d399"},Teal:{50:"#f0fdfa",300:"#5eead4",400:"#2dd4bf"},Cyan:{50:"#ecfeff",300:"#67e8f9",400:"#22d3ee"},Sky:{50:"#ecfeff",300:"#7dd3fc",400:"#38bdf8"},Blue:{50:"#eff6ff",300:"#93c5fd",400:"#60a5fa"},Indigo:{50:"#eef2ff",300:"#a5b4fc",400:"#818cf8"},Violet:{50:"#f5f3ff",300:"#c4b5fd",400:"#a78bfa"},Purple:{50:"#faf5ff",300:"#d8b4fe",400:"#c084fc"},Fuchsia:{50:"#fdf4ff",300:"#f0abfc",400:"#e879f9"},Pink:{50:"#fdf2f8",300:"#f9a8d4",400:"#f472b6"},Rose:{50:"#fff1f2",300:"#fda4af",400:"#fb7185"},Gray:{50:"#f9fafb",300:"#d1d5db",400:"#9ca3af"}},eF=()=>(0,c.jsx)(p.gNt,{name:eE.Color,children:e=>{let{field:t}=e,o=t.value??eA;return(0,c.jsx)(D.J2,{position:"top",mouseLeaveDelay:300,content:(0,c.jsx)("div",{className:"workflow-group-color-palette",children:Object.entries(eR).map(e=>{let[i,n]=e;return(0,c.jsx)(D.u,{content:i,mouseEnterDelay:300,children:(0,c.jsx)("span",{className:"workflow-group-color-item",style:{backgroundColor:n["300"],borderColor:i===o?n["400"]:"#fff"},onClick:()=>t.onChange(i)},i)},i)})}),children:(0,c.jsx)("span",{className:"workflow-group-color",style:{backgroundColor:eR[o]["300"]}})})}}),e_=()=>(0,c.jsxs)("div",{className:"workflow-group-tools",children:[(0,c.jsx)(eO.Z,{className:"workflow-group-tools-drag"}),(0,c.jsx)(eP,{}),(0,c.jsx)(eF,{})]}),eB="workflow-move-into-group-tip-visible",eH="false";class eU{static get instance(){return this._instance||(this._instance=new eU),this._instance}isClosed(){return this.isCloseForever()||this.closed}close(){this.closed=!0}isCloseForever(){return localStorage.getItem(eB)===eH}closeForever(){localStorage.setItem(eB,eH)}constructor(){this.closed=!1}}let eG=()=>{let e=(0,p.PFB)(),[t,o]=(0,x.useState)(!1),i=eU.instance,n=(0,p.G2Z)(b.uf),r=(0,x.useCallback)(()=>{i.isClosed()||o(!0)},[i]),l=(0,x.useCallback)(()=>{i.close(),o(!1)},[i]),s=(0,x.useCallback)(()=>{i.closeForever(),l()},[l,i]);return(0,x.useEffect)(()=>{let t=n.on(t=>{t.type===b.DL.In&&t.targetContainer===e&&r()}),i=n.on(t=>{t.type===b.DL.Out&&(t.sourceContainer!==e||e.blocks.length||o(!1))});return()=>{t.dispose(),i.dispose()}},[n,e,r,l,t]),{visible:t,close:l,closeForever:s}},eW=H.ZP.div`
  position: absolute;
  top: 35px;

  width: 100%;
  height: 28px;
  white-space: nowrap;
  pointer-events: auto;

  .container {
    display: inline-flex;
    justify-content: center;
    height: 100%;
    width: 100%;
    background-color: rgb(255 255 255);
    border-radius: 8px 8px 0 0;

    .content {
      overflow: hidden;
      display: inline-flex;
      align-items: center;
      justify-content: flex-start;

      width: fit-content;
      height: 100%;
      padding: 0 12px;

      .text {
        font-size: 14px;
        font-weight: 400;
        font-style: normal;
        line-height: 20px;
        color: rgba(15, 21, 40, 82%);
        text-overflow: ellipsis;
        margin: 0;
      }

      .space {
        width: 128px;
      }
    }

    .actions {
      display: flex;
      gap: 8px;
      align-items: center;

      height: 28px;
      padding: 0 12px;

      .close-forever {
        cursor: pointer;

        padding: 0 3px;

        font-size: 12px;
        font-weight: 400;
        font-style: normal;
        line-height: 12px;
        color: rgba(32, 41, 69, 62%);
        margin: 0;
      }

      .close {
        display: flex;
        cursor: pointer;
        height: 100%;
        align-items: center;
      }
    }
  }
`,eY=/(Macintosh|MacIntel|MacPPC|Mac68K|iPad)/.test(navigator.userAgent),eX=()=>(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:(0,c.jsx)("path",{fill:"#060709",fillOpacity:"0.5",d:"M12.13 12.128a.5.5 0 0 0 .001-.706L8.71 8l3.422-3.423a.5.5 0 0 0-.001-.705.5.5 0 0 0-.706-.002L8.002 7.293 4.579 3.87a.5.5 0 0 0-.705.002.5.5 0 0 0-.002.705L7.295 8l-3.423 3.422a.5.5 0 0 0 .002.706c.195.195.51.197.705.001l3.423-3.422 3.422 3.422c.196.196.51.194.706-.001"})}),eJ=()=>{let{visible:e,close:t,closeForever:o}=eG();return e?(0,c.jsx)(eW,{className:"workflow-group-tips",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("div",{className:"content",children:[(0,c.jsx)("p",{className:"text",children:`Hold ${eY?"Cmd âŒ˜":"Ctrl"} to drag node out`}),(0,c.jsx)("div",{className:"space",style:{width:0}})]}),(0,c.jsxs)("div",{className:"actions",children:[(0,c.jsx)("p",{className:"close-forever",onClick:o,children:"Never Remind"}),(0,c.jsx)("div",{className:"close",onClick:t,children:(0,c.jsx)(eX,{})})]})]})}):null},e$=e=>{let{onMouseDown:t,onFocus:o,onBlur:i,children:n,style:r}=e,l=eR[(0,p.qoQ)(eE.Color)??eA];return(0,c.jsx)("div",{className:"workflow-group-header",onMouseDown:t,onFocus:o,onBlur:i,style:{...r,backgroundColor:l["50"],borderColor:l["300"]},children:n})},eq=e=>{let{node:t,style:o}=e,i=eR[(0,p.qoQ)(eE.Color)??eA];return(0,x.useEffect)(()=>{let e=document.createElement("style");return e.textContent=`
      .workflow-group-render[data-group-id="${t.id}"] .workflow-group-background {
        border: 1px solid ${i["300"]};
      }

      .workflow-group-render.selected[data-group-id="${t.id}"] .workflow-group-background {
        border: 1px solid ${i["400"]};
      }
    `,document.head.appendChild(e),()=>{e.remove()}},[i]),(0,c.jsx)("div",{className:"workflow-group-background","data-flow-editor-selectable":"true",style:{...o,backgroundColor:`${i["300"]}29`}})},eQ=()=>{let{node:e,selected:t,selectNode:o,nodeRef:i,startDrag:n,onFocus:r,onBlur:l}=(0,p.PVB)(),s=(0,b.se)(),a=e.getData(p.Psq).getFormModel(),d=null==a?void 0:a.formControl,{height:u,width:h}=s??{},g=u??0;return(0,c.jsx)("div",{className:`workflow-group-render ${t?"selected":""}`,ref:i,"data-group-id":e.id,"data-node-selected":String(t),onMouseDown:o,onClick:e=>{o(e)},style:{width:h,height:u},children:(0,c.jsx)(p.l09,{control:d,children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e$,{onMouseDown:e=>{n(e)},onFocus:r,onBlur:l,style:{height:30},children:(0,c.jsx)(e_,{})}),(0,c.jsx)(eJ,{}),(0,c.jsx)(eZ,{node:e}),(0,c.jsx)(eq,{node:e,style:{top:35,height:g-30-5}})]})})})},eK=e=>{let{bounds:t,children:o,flowSelectConfig:i,commandRegistry:n}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{position:"absolute",left:t.right,top:t.top,transform:"translate(-100%, -100%)"},onMouseDown:e=>{e.stopPropagation()},children:(0,c.jsxs)(D.hE,{size:"small",style:{display:"flex",flexWrap:"nowrap",height:24},children:[(0,c.jsx)(D.u,{content:"Collapse",children:(0,c.jsx)(D.zx,{icon:(0,c.jsx)(eS.Z,{}),style:{height:24},type:"primary",theme:"solid",onMouseDown:e=>{n.executeCommand(N.COLLAPSE)}})}),(0,c.jsx)(D.u,{content:"Expand",children:(0,c.jsx)(D.zx,{icon:(0,c.jsx)(eD.Z,{}),style:{height:24},type:"primary",theme:"solid",onMouseDown:e=>{n.executeCommand(N.EXPAND)}})}),(0,c.jsx)(D.u,{content:"Create Group",children:(0,c.jsx)(D.zx,{icon:(0,c.jsx)(eT,{size:14}),style:{height:24},type:"primary",theme:"solid",onClick:()=>{n.executeCommand(C.I5.Group)}})}),(0,c.jsx)(D.u,{content:"Copy",children:(0,c.jsx)(D.zx,{icon:(0,c.jsx)(ez.Z,{}),style:{height:24},type:"primary",theme:"solid",onClick:()=>{n.executeCommand(N.COPY)}})}),(0,c.jsx)(D.u,{content:"Delete",children:(0,c.jsx)(D.zx,{type:"primary",theme:"solid",icon:(0,c.jsx)(eI.Z,{}),style:{height:24},onClick:()=>{n.executeCommand(N.DELETE)}})})]})}),(0,c.jsx)("div",{children:o})]})},e0=x.createContext({}),e1=x.createContext({visible:!1,setNodeRender:()=>{}}),e2=x.createContext(!1);var e3=o(2753);let e5=H.ZP.div`
  align-items: flex-start;
  background-color: #fff;
  border: 1px solid rgba(6, 7, 9, 0.15);
  border-radius: 8px;
  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.04), 0 4px 12px 0 rgba(0, 0, 0, 0.02);
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
  min-width: 360px;
  width: 100%;
  height: auto;

  &.selected {
    border: 1px solid #4e40e5;
  }
`,e9=()=>(0,c.jsx)(e3.Z,{style:{position:"absolute",color:"red",left:-6,top:-6,zIndex:1,background:"white",borderRadius:8}}),e4=e=>{let{children:t,isScrollToView:o=!1}=e,i=tw(),{selected:n,startDrag:r,ports:l,selectNode:s,nodeRef:a,onFocus:d,onBlur:u}=i,[h,g]=(0,x.useState)(!1),m=(0,x.useContext)(e1),f=i.form,y=(0,p.sX$)(),v=l.map(e=>(0,c.jsx)(p.Jbc,{entity:e},e.id));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e5,{className:n?"selected":"",ref:a,draggable:!0,onDragStart:e=>{r(e),g(!0)},onClick:e=>{s(e),!h&&(m.setNodeRender(i),o&&function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:448,i=t.transform.bounds;e.playground.scrollToView({bounds:i,scrollDelta:{x:o/2,y:0},zoom:1,scrollToCenter:!0})}(y,i.node))},onMouseUp:()=>g(!1),onFocus:d,onBlur:u,"data-node-selected":String(n),style:{outline:(null==f?void 0:f.state.invalid)?"1px solid red":"none"},children:t}),v]})},e6=e=>{let{node:t}=e,o=(0,p.PVB)(),i=o.form,n=(0,x.useCallback)(()=>t.renderData.node||document.body,[]);return(0,c.jsx)(D.iV,{getPopupContainer:n,children:(0,c.jsx)(e0.Provider,{value:o,children:(0,c.jsxs)(e4,{children:[(null==i?void 0:i.state.invalid)&&(0,c.jsx)(e9,{}),null==i?void 0:i.render()]})})})},e7=e=>{let t=(0,p.Dcz)(),{line:o,selected:i=!1,hovered:n}=e;return!o.disposed&&!t.config.readonly&&(!!i||!!n)},e8=()=>(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{id:"add",children:[(0,c.jsx)("path",{id:"background",fill:"#ffffff",fillRule:"evenodd",stroke:"none",d:"M 24 12 C 24 5.372583 18.627417 0 12 0 C 5.372583 0 -0 5.372583 -0 12 C -0 18.627417 5.372583 24 12 24 C 18.627417 24 24 18.627417 24 12 Z"}),(0,c.jsx)("path",{id:"content",fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M 22 12.005 C 22 6.482153 17.522848 2.004999 12 2.004999 C 6.477152 2.004999 2 6.482153 2 12.005 C 2 17.527847 6.477152 22.004999 12 22.004999 C 17.522848 22.004999 22 17.527847 22 12.005 Z"}),(0,c.jsx)("path",{id:"cross",fill:"#ffffff",stroke:"none",d:"M 11.411996 16.411797 C 11.411996 16.736704 11.675362 17 12.00023 17 C 12.325109 17 12.588474 16.736704 12.588474 16.411797 L 12.588474 12.58826 L 16.41201 12.58826 C 16.736919 12.58826 17.000216 12.324894 17.000216 12.000015 C 17.000216 11.675147 16.736919 11.411781 16.41201 11.411781 L 12.588474 11.411781 L 12.588474 7.588234 C 12.588474 7.263367 12.325109 7 12.00023 7 C 11.675362 7 11.411996 7.263367 11.411996 7.588234 L 11.411996 11.411781 L 7.588449 11.411781 C 7.263581 11.411781 7.000215 11.675147 7.000215 12.000015 C 7.000215 12.324894 7.263581 12.58826 7.588449 12.58826 L 11.411996 12.58826 L 11.411996 16.411797 Z"})]})}),te=e=>{let{line:t,selected:o,hovered:i,color:n}=e,r=e7({line:t,selected:o,hovered:i}),l=(0,p.G2Z)(v.sS),s=(0,p.G2Z)(p.L4w),a=(0,p.G2Z)(p.iwM),d=(0,p.G2Z)(p.dmf),u=(0,p.G2Z)(p.qpv),{fromPort:h,toPort:g}=t,m=(0,x.useCallback)(async()=>{let e={x:(t.position.from.x+t.position.to.x)/2,y:(t.position.from.y+t.position.to.y)/2},o=v.QV.getContainerNode({fromPort:h}),i=await l.singleSelectNodePanel({position:e,containerNode:o,panelProps:{enableScrollClose:!0}});if(!i)return;let{nodeType:n,nodeJSON:r}=i,c=v.QV.adjustNodePosition({nodeType:n,position:e,fromPort:h,toPort:g,containerNode:o,document:s,dragService:a}),x=s.createWorkflowNodeByType(n,c,r??{},null==o?void 0:o.id);h&&g&&v.QV.subNodesAutoOffset({node:x,fromPort:h,toPort:g,containerNode:o,historyService:u,dragService:a,linesManager:d}),await (0,p.gw0)(20),v.QV.buildLine({fromPort:h,node:x,toPort:g,linesManager:d}),t.dispose()},[]);return r?(0,c.jsx)("div",{className:"line-add-button",style:{left:"50%",top:"50%",color:n},"data-testid":"sdk.workflow.canvas.line.add","data-line-id":t.id,onClick:m,children:(0,c.jsx)(e8,{})}):(0,c.jsx)(c.Fragment,{})},tt=()=>(0,c.jsx)("div",{className:"node-placeholder","data-testid":"workflow.detail.node-panel.placeholder",children:(0,c.jsx)(D.Od,{className:"node-placeholder-skeleton",loading:!0,active:!0,placeholder:(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("div",{className:"node-placeholder-hd",children:[(0,c.jsx)(D.Od.Avatar,{shape:"square",className:"node-placeholder-avatar"}),(0,c.jsx)(D.Od.Title,{style:{width:141}})]}),(0,c.jsxs)("div",{className:"node-placeholder-content",children:[(0,c.jsxs)("div",{className:"node-placeholder-footer",children:[(0,c.jsx)(D.Od.Title,{style:{width:85}}),(0,c.jsx)(D.Od.Title,{style:{width:241}})]}),(0,c.jsx)(D.Od.Title,{style:{width:220}})]})]})})}),to=H.ZP.div`
  width: 100%;
  height: 32px;
  border-radius: 5px;
  display: flex;
  align-items: center;
  cursor: pointer;
  font-size: 19px;
  padding: 0 15px;
  &:hover {
    background-color: hsl(252deg 62% 55% / 9%);
    color: hsl(252 62% 54.9%);
  }
`,ti=H.ZP.div`
  font-size: 12px;
  margin-left: 10px;
`;function tn(e){return(0,c.jsxs)(to,{onClick:e.disabled?void 0:e.onClick,style:e.disabled?{opacity:.3}:{},children:[(0,c.jsx)("div",{style:{fontSize:14},children:e.icon}),(0,c.jsx)(ti,{children:e.label})]})}let tr=H.ZP.div`
  max-height: 500px;
  overflow: auto;
  &::-webkit-scrollbar {
    display: none;
  }
`,tl=e=>{let{onSelect:t}=e,o=(0,p.sX$)(),i=(e,i)=>{var n;let r=null==(n=i.onAdd)?void 0:n.call(i,o);t({nodeType:i.type,selectEvent:e,nodeJSON:r})};return(0,c.jsx)(tr,{style:{width:180},children:t_.map(e=>{var t,n;return(0,c.jsx)(tn,{disabled:!((null==(t=e.canAdd)?void 0:t.call(e,o))??!0),icon:(0,c.jsx)("img",{style:{width:10,height:10,borderRadius:4},src:null==(n=e.info)?void 0:n.icon}),label:e.type,onClick:t=>i(t,e)},e.type)})})},ts=e=>{let{onSelect:t,position:o,onClose:i,panelProps:n}=e,{enableNodePlaceholder:r}=n;return(0,c.jsx)(D.J2,{trigger:"click",visible:!0,onVisibleChange:e=>e?null:i(),content:(0,c.jsx)(tl,{onSelect:t}),placement:"right",popupAlign:{offset:[30,0]},overlayStyle:{padding:0},children:(0,c.jsx)("div",{style:r?{position:"absolute",top:o.y-61.5,left:o.x,width:360,height:100}:{position:"absolute",top:o.y,left:o.x,width:0,height:0},children:r&&(0,c.jsx)(tt,{})})})};var ta=((r={}).Size="size",r.Note="note",r),td=((l={}).Change="change",l.MultiSelect="multiSelect",l.Select="select",l.Blur="blur",l);let tc=e=>{let{model:t,height:o}=e,i=(0,p.Dcz)(),[n,r]=(0,x.useState)(!1),l=(0,x.useCallback)(()=>!!t.element&&t.element.scrollHeight>t.element.clientHeight,[t,o,i]),s=(0,x.useCallback)(()=>{r(l())},[l]);return(0,x.useEffect)(()=>{s()},[o,s]),(0,x.useEffect)(()=>{let e=t.on(e=>{e.type===td.Change&&s()});return()=>{e.dispose()}},[t,s]),{overflow:n,updateOverflow:s}};class tu{get value(){return this.innerValue}setValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.initialized&&e!==this.innerValue&&(this.innerValue=e,this.syncEditorValue(),this.emitter.fire({type:td.Change,value:this.innerValue}))}set element(e){this.initialized||(this.editor=e)}get element(){return this.editor}setFocus(e){this.initialized&&(e&&!this.focused?this.editor.focus():!e&&this.focused&&(this.editor.blur(),this.deselect(),this.emitter.fire({type:td.Blur})))}selectEnd(){if(!this.initialized)return;let e=this.editor.value.length;this.editor.setSelectionRange(e,e)}get focused(){return document.activeElement===this.editor}deselect(){let e=window.getSelection();e&&e.removeAllRanges()}get initialized(){return!!this.editor}syncEditorValue(){this.initialized&&(this.editor.value=this.innerValue)}constructor(){this.innerValue="",this.emitter=new p.Q5$,this.on=this.emitter.event}}let tp=()=>{let e=(0,p.kmj)(),{selected:t}=(0,p.PVB)(),o=e.getData(p.Psq).getFormModel(),i=(0,x.useMemo)(()=>new tu,[]);return(0,x.useEffect)(()=>{t||i.setFocus(t)},[t,i]),(0,x.useEffect)(()=>{let e=o.getValueIn(ta.Note);i.setValue(e),i.selectEnd()},[o,i]),(0,x.useEffect)(()=>{let e=o.onFormValuesChange(e=>{let{name:t}=e;if(t!==ta.Note)return;let n=o.getValueIn(ta.Note);i.setValue(n)});return()=>e.dispose()},[o,i]),i},th=()=>{let e=(0,p.PFB)(),t=e.getNodeMeta(),o=(0,p.Dcz)(),i=(0,p.G2Z)(p.qpv),{size:n={width:240,height:150}}=t,r=e.getData(p.VOn),l=e.getData(p.Psq).getFormModel(),s=l.getValueIn(ta.Size),[a,d]=(0,x.useState)((null==s?void 0:s.width)??n.width),[c,u]=(0,x.useState)((null==s?void 0:s.height)??n.height);(0,x.useEffect)(()=>{l.getValueIn(ta.Size)||l.setValueIn(ta.Size,{width:a,height:c})},[l,a,c]),(0,x.useEffect)(()=>{let e=l.onFormValuesChange(e=>{let{name:t}=e;if(t!==ta.Size)return;let o=l.getValueIn(ta.Size);o&&(d(o.width),u(o.height))});return()=>e.dispose()},[l]);let h=(0,x.useCallback)(()=>{let t={width:a,height:c,originalWidth:a,originalHeight:c,positionX:r.position.x,positionY:r.position.y,offsetX:0,offsetY:0};return{resizing:e=>{if(!t)return;let{zoom:i}=o.config,n=e.top/i,l=e.right/i,s=e.bottom/i,a=e.left/i,c=Math.max(120,t.originalWidth+l-a),p=Math.max(80,t.originalHeight+s-n),h=(a>0||l<0)&&c<=120?t.offsetX:a/2+l/2,g=(n>0||s<0)&&p<=80?t.offsetY:n,x=t.positionX+h,m=t.positionY+g;t.width=c,t.height=p,t.offsetX=h,t.offsetY=g,d(c),u(p),r.update({position:{x:x,y:m}})},resizeEnd:()=>{i.transact(()=>{i.pushOperation({type:p.Nj8.dragNodes,value:{ids:[e.id],value:[{x:t.positionX+t.offsetX,y:t.positionY+t.offsetY}],oldValue:[{x:t.positionX,y:t.positionY}]}},{noApply:!0}),l.setValueIn(ta.Size,{width:t.width,height:t.height})})}}},[e,a,c,r,o,l,i]);return{width:a,height:c,onResize:h}},tg=e=>{let{node:t,focused:o,deleteNode:i}=e;return(0,c.jsx)("div",{className:`workflow-comment-more-button ${o?"workflow-comment-more-button-focused":""}`,children:(0,c.jsx)(eu,{node:t,deleteNode:i})})},tx=e=>{let{model:t,style:o,onChange:i}=e,n=(0,p.Dcz)(),r=(0,x.useRef)(null),l=t.value||t.focused?void 0:"Enter a comment...";return(0,x.useEffect)(()=>{let e=t.on(e=>{e.type===td.Change&&(null==i||i(t.value))});return()=>e.dispose()},[t,i]),(0,x.useEffect)(()=>{r.current&&(t.element=r.current)},[r]),(0,c.jsxs)("div",{className:"workflow-comment-editor",children:[(0,c.jsx)("p",{className:"workflow-comment-editor-placeholder",children:l}),(0,c.jsx)("textarea",{className:"workflow-comment-editor-textarea",ref:r,style:o,readOnly:n.config.readonly,onChange:e=>{let{value:o}=e.target;t.setValue(o)},onFocus:()=>{t.setFocus(!0)},onBlur:()=>{t.setFocus(!1)}})]})},tm=e=>{let{model:t,stopEvent:o=!0,style:i}=e,n=(0,p.Dcz)(),{startDrag:r,onFocus:l,onBlur:s,selectNode:a}=(0,p.PVB)();return(0,c.jsx)("div",{className:"workflow-comment-drag-area","data-flow-editor-selectable":"false",draggable:!0,style:i,onMouseDown:e=>{o&&(e.preventDefault(),e.stopPropagation()),t.setFocus(!1),r(e),a(e),n.node.focus()},onFocus:l,onBlur:s})},tf=e=>{let{model:t,focused:o,overflow:i}=e,n=(0,p.Dcz)(),{selectNode:r}=(0,p.PVB)(),[l,s]=(0,x.useState)(!1);return(0,x.useEffect)(()=>{o||s(!1)},[o]),(0,c.jsx)("div",{className:"workflow-comment-content-drag-area",onMouseDown:e=>{if(l)return;e.preventDefault(),e.stopPropagation(),t.setFocus(!1),r(e),n.node.focus();let o=e.clientX,i=e.clientY,a=e=>{let t=e.clientX-o,n=e.clientY-i;5>Math.abs(t)&&5>Math.abs(n)&&s(!0),document.removeEventListener("mouseup",a),document.removeEventListener("click",a)};document.addEventListener("mouseup",a),document.addEventListener("click",a)},onWheel:e=>{let o=t.element;if(l||!i||!o)return;e.stopPropagation();let n=o.scrollHeight-o.clientHeight,r=Math.min(Math.max(o.scrollTop+e.deltaY,0),n);o.scroll(0,r)},style:{display:l?"none":void 0},children:(0,c.jsx)(tm,{style:{position:"relative",width:"100%",height:"100%"},model:t,stopEvent:!1})})},ty=e=>{let{focused:t,children:o,style:i}=e;return(0,c.jsx)("div",{className:"workflow-comment-container","data-flow-editor-selectable":"false",style:{outline:t?"1px solid #FF811A":"1px solid #F2B600",backgroundColor:t?"#FFF3EA":"#FFFBED",scrollbarWidth:"thin",scrollbarColor:"rgb(159 159 158 / 65%) transparent","&:WebkitScrollbar":{width:"4px"},"&::WebkitScrollbarTrack":{background:"transparent"},"&::WebkitScrollbarThumb":{backgroundColor:"rgb(159 159 158 / 65%)",borderRadius:"20px",border:"2px solid transparent"},...i},children:o})},tv=e=>{let{model:t,onResize:o,getDelta:i,style:n}=e,r=(0,p.Dcz)(),{selectNode:l}=(0,p.PVB)();return(0,c.jsx)("div",{className:"workflow-comment-resize-area",style:n,"data-flow-editor-selectable":"false",onMouseDown:e=>{if(e.preventDefault(),e.stopPropagation(),!o)return;let{resizing:n,resizeEnd:s}=o();t.setFocus(!1),l(e),r.node.focus();let a=e.clientX,d=e.clientY,c=e=>{let t=e.clientX-a,o=e.clientY-d,r=null==i?void 0:i({x:t,y:o});r&&n&&n(r)},u=()=>{s(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),document.removeEventListener("click",u)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u),document.addEventListener("click",u)}})},tj=e=>{let{model:t,overflow:o,onResize:i}=e;return(0,c.jsxs)("div",{style:{zIndex:999},children:[(0,c.jsx)(tm,{style:{position:"absolute",left:-10,top:10,width:20,height:"calc(100% - 20px)"},model:t}),(0,c.jsx)(tm,{style:{position:"absolute",right:-10,top:10,height:"calc(100% - 20px)",width:o?10:20},model:t}),(0,c.jsx)(tm,{style:{position:"absolute",top:-10,left:10,width:"calc(100% - 20px)",height:20},model:t}),(0,c.jsx)(tm,{style:{position:"absolute",bottom:-10,left:10,width:"calc(100% - 20px)",height:20},model:t}),(0,c.jsx)(tv,{style:{position:"absolute",left:0,top:0,cursor:"nwse-resize"},model:t,getDelta:e=>{let{x:t,y:o}=e;return{top:o,right:0,bottom:0,left:t}},onResize:i}),(0,c.jsx)(tv,{style:{position:"absolute",right:0,top:0,cursor:"nesw-resize"},model:t,getDelta:e=>{let{x:t,y:o}=e;return{top:o,right:t,bottom:0,left:0}},onResize:i}),(0,c.jsx)(tv,{style:{position:"absolute",right:0,bottom:0,cursor:"nwse-resize"},model:t,getDelta:e=>{let{x:t,y:o}=e;return{top:0,right:t,bottom:o,left:0}},onResize:i}),(0,c.jsx)(tv,{style:{position:"absolute",left:0,bottom:0,cursor:"nesw-resize"},model:t,getDelta:e=>{let{x:t,y:o}=e;return{top:0,right:0,bottom:o,left:t}},onResize:i})]})},tC=e=>{let{model:t}=e,o=(0,p.Dcz)(),{selectNode:i}=(0,p.PVB)();return(0,c.jsx)("div",{className:"workflow-comment-blank-area h-full w-full",onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),t.setFocus(!1),i(e),o.node.focus()},onClick:e=>{t.setFocus(!0),t.selectEnd()},children:(0,c.jsx)(tm,{style:{position:"relative",width:"100%",height:"100%"},model:t,stopEvent:!1})})},tb=e=>{let{node:t}=e,o=tp(),{selected:i,selectNode:n,nodeRef:r,deleteNode:l}=(0,p.PVB)(),s=t.getData(p.Psq).getFormModel(),a=null==s?void 0:s.formControl,{width:d,height:u,onResize:h}=th(),{overflow:g,updateOverflow:x}=tc({model:o,height:u});return(0,c.jsx)("div",{className:"workflow-comment",style:{width:d,height:u},ref:r,"data-node-selected":String(i),onMouseEnter:x,onMouseDown:e=>{setTimeout(()=>{n(e)},20)},children:(0,c.jsx)(p.l09,{control:a,children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ty,{focused:i,style:{height:u},children:(0,c.jsx)(p.gNt,{name:ta.Note,children:e=>{let{field:n}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(tx,{model:o,value:n.value,onChange:n.onChange}),(0,c.jsx)(tC,{model:o}),(0,c.jsx)(tf,{model:o,focused:i,overflow:g}),(0,c.jsx)(tg,{node:t,focused:i,deleteNode:l})]})}})}),(0,c.jsx)(tj,{model:o,overflow:g,onResize:h})]})})})};function tw(){return(0,x.useContext)(e0)}function tL(){return(0,x.useContext)(e2)}let tN={render:e=>{let{form:t}=e;return tL()?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ey,{}),(0,c.jsx)(J,{children:(0,c.jsx)(p.gNt,{name:"outputs",render:e=>{let{field:{value:t,onChange:o}}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(g._R,{value:t,onChange:e=>o(e)})})}})})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ey,{}),(0,c.jsx)(J,{children:(0,c.jsx)(K,{})})]})},validateTrigger:p.C$T.onChange,validate:{title:e=>{let{value:t}=e;return t?void 0:"Title is required"}}};var tM=((s={}).Start="start",s.End="end",s.LLM="llm",s.Condition="condition",s.Loop="loop",s.Comment="comment",s);let tk={type:tM.Start,meta:{isStart:!0,deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"output"}],size:{width:360,height:211}},info:{icon:h,description:"The starting node of the workflow, used to set the information needed to initiate the workflow."},formMeta:tN,canAdd:()=>!1},tS=o.p+"static/image/icon-loop.89b07eed.jpg",tD=0,tz={type:tM.Loop,info:{icon:tS,description:"Used to repeatedly execute a series of tasks by setting the number of iterations and logic."},meta:{isContainer:!0,size:{width:560,height:400},padding:()=>({top:125,bottom:100,left:100,right:100}),selectable:(e,t)=>!t||!e.getData(p.eGM).bounds.contains(t.x,t.y),expandable:!1},onAdd:()=>({id:`loop_${(0,z.x0)(5)}`,type:"loop",data:{title:`Loop_${++tD}`,inputsValues:{loopTimes:2},inputs:{type:"object",required:["loopTimes"],properties:{loopTimes:{type:"number"}}},outputs:{type:"object",properties:{result:{type:"string"}}}}}),formMeta:{...ek,render:e=>{let{form:t}=e;return tL()?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ey,{}),(0,c.jsxs)(J,{children:[(0,c.jsx)(es,{}),(0,c.jsx)(K,{})]})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ey,{}),(0,c.jsxs)(J,{children:[(0,c.jsx)(es,{}),(0,c.jsx)(b.NT,{}),(0,c.jsx)(K,{})]})]})}},onCreate(){}},tI=o.p+"static/image/icon-llm.de446995.jpg",tE=0,tT={type:tM.LLM,info:{icon:tI,description:"Call the large language model and use variables and prompt words to generate responses."},meta:{size:{width:360,height:305}},onAdd:()=>({id:`llm_${(0,z.x0)(5)}`,type:"llm",data:{title:`LLM_${++tE}`,inputsValues:{},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string"},prompt:{type:"string"}}},outputs:{type:"object",properties:{result:{type:"string"}}}}})},tV=o.p+"static/image/icon-end.ac3dc81e.jpg",tZ={render:e=>{let{form:t}=e;return tL()?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ey,{}),(0,c.jsxs)(J,{children:[(0,c.jsx)(p.gNt,{name:"outputs.properties",render:e=>{let{field:{value:t,onChange:o},fieldState:i}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(eM,{value:t,onChange:o,useFx:!0})})}}),(0,c.jsx)(K,{})]})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ey,{}),(0,c.jsx)(J,{children:(0,c.jsx)(K,{})})]})},validateTrigger:p.C$T.onChange,validate:{title:e=>{let{value:t}=e;return t?void 0:"Title is required"}}},tO={type:tM.End,meta:{deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"input"}],size:{width:360,height:211}},info:{icon:tV,description:"The final node of the workflow, used to return the result information after the workflow is run."},formMeta:tZ,canAdd:()=>!1},tP=H.ZP.div`
  position: absolute;
  right: -12px;
  top: 50%;
`;function tA(){let e=!tL();return(0,c.jsx)(p.F26,{name:"inputsValues.conditions",children:t=>{let{field:o}=t;return(0,c.jsxs)(c.Fragment,{children:[o.map((t,i)=>(0,c.jsx)(p.gNt,{name:t.name,children:t=>{let{field:n,fieldState:r}=t;return(0,c.jsxs)(el,{name:"if",type:"boolean",required:!0,labelWidth:40,children:[(0,c.jsx)(en,{value:n.value.value,onChange:e=>n.onChange({key:n.value.key,value:e}),icon:(0,c.jsx)(D.zx,{theme:"borderless",icon:(0,c.jsx)(ej.Z,{}),onClick:()=>o.delete(i)}),hasError:Object.keys((null==r?void 0:r.errors)||{}).length>0,readonly:e}),(0,c.jsx)(W,{errors:null==r?void 0:r.errors,invalid:null==r?void 0:r.invalid}),(0,c.jsx)(tP,{"data-port-id":n.value.key,"data-port-type":"output"})]})}},t.name)),!e&&(0,c.jsx)("div",{children:(0,c.jsx)(D.zx,{theme:"borderless",icon:(0,c.jsx)(ev.Z,{}),onClick:()=>o.append({key:`if_${(0,z.x0)(6)}`,value:{type:"expression",content:""}}),children:"Add"})})]})}})}let tR={render:e=>{let{form:t}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ey,{}),(0,c.jsx)(J,{children:(0,c.jsx)(tA,{})})]})},validateTrigger:p.C$T.onChange,validate:{title:e=>{let{value:t}=e;return t?void 0:"Title is required"},"inputsValues.conditions.*":e=>{var t;let{value:o}=e;if(!(null==o||null==(t=o.value)?void 0:t.content))return"Condition is required"}}},tF=[{type:tM.Condition,info:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDQiIGhlaWdodD0iNDUiIHZpZXdCb3g9IjAgMCA0NCA0NSIgZmlsbD0ibm9uZSIgY2xhc3M9ImluamVjdGVkLXN2ZyIgZGF0YS1zcmM9Imh0dHBzOi8vbGYzLXN0YXRpYy5ieXRlZG5zZG9jLmNvbS9vYmovZWRlbi1jbi91dnBhaHR2YWJoX2xtX3poaHdoL2xqaHdadGhsYXVramxrdWx6bHAvYWN0aXZpdHlfaWNvbnMvZXhjbHVzaXZlLXNwbGl0LTA1MTguc3ZnIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE2LjQ3MDUgMTQuMDE1MkMxNS4yOTkgMTIuODQzNiAxNS4yOTkgMTAuOTQ0IDE2LjQ3MDUgOS43NzI0NEwyMC43MTMxIDUuNTI5N0MyMS44ODQ2IDQuMzU4MSAyMy43ODQgNC4zNTgxIDI0Ljk1NTYgNS41Mjk3TDI5LjE5ODEgOS43NzI0NEMzMC4zNjk3IDEwLjk0NCAzMC4zNjk3IDEyLjg0MzYgMjkuMTk4MSAxNC4wMTUyTDI1LjEyMDYgMTguMDkyOUgzMi42Njc0QzM2LjUzMzQgMTguMDkyOSAzOS42Njc0IDIxLjIyNjkgMzkuNjY3NCAyNS4wOTI5VjMzLjE1NFYzMy4zMjcxVjM3LjE1NEMzOS42Njc0IDM4LjI1ODUgMzguNzcxOSAzOS4xNTQgMzcuNjY3NCAzOS4xNTRIMzMuNjY3NEMzMi41NjI4IDM5LjE1NCAzMS42Njc0IDM4LjI1ODUgMzEuNjY3NCAzNy4xNTRWMzMuMzI3MVYzMy4xNTRWMjYuMDkyOUgyMy41OTQ4SDE1LjY2NzRWMzMuMTMyN0wxNy4yNjg1IDMzLjEyNDRDMTguODM5NyAzMy4xMTYzIDE5LjYzMjIgMzUuMDE1NiAxOC41MjEyIDM2LjEyNjZMMTIuNzM3NCA0MS45MTAzQzEyLjA1MDYgNDIuNTk3MSAxMC45MzcxIDQyLjU5NzEgMTAuMjUwMyA0MS45MTAzTDQuNTI1ODggMzYuMTg1OUMzLjQyMTA3IDM1LjA4MTEgNC4xOTc5NyAzMy4xOTE3IDUuNzYwMzggMzMuMTgzN0w3LjY2NzM3IDMzLjE3MzlWMjUuMDkyOUM3LjY2NzM3IDIxLjIyNyAxMC44MDE0IDE4LjA5MjkgMTQuNjY3NCAxOC4wOTI5SDIwLjU0ODFMMTYuNDcwNSAxNC4wMTUyWiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzI3NTJfMTgzNzAyLTcpIi8+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjc1Ml8xODM3MDItNyIgeDE9IjM4LjUyIiB5MT0iNDMuMzkxNSIgeDI9IjguMDk2ODYiIHkyPSI0LjY5ODIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzMzNzBGRiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuOTk3OTA4IiBzdG9wLWNvbG9yPSIjMzNBOUZGIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KPC9zdmc+Cg==",description:"Connect multiple downstream branches. Only the corresponding branch will be executed if the set conditions are met."},meta:{defaultPorts:[{type:"input"}],useDynamicPort:!0,expandable:!1},formMeta:tR,onAdd:()=>({id:`condition_${(0,z.x0)(5)}`,type:"condition",data:{title:"Condition",inputsValues:{conditions:[{key:`if_${(0,z.x0)(5)}`,value:""},{key:`if_${(0,z.x0)(5)}`,value:""}]},inputs:{type:"object",properties:{conditions:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}}}}}})},tk,tO,tT,tz,{type:tM.Comment,meta:{disableSideBar:!0,defaultPorts:[],renderKey:tM.Comment,size:{width:240,height:150}},formMeta:{render:()=>(0,c.jsx)(c.Fragment,{})},getInputPoints:()=>[],getOutputPoints:()=>[]}],t_=tF.filter(e=>e.type!==tM.Comment),tB={nodes:[{id:"start_0",type:"start",meta:{position:{x:180,y:298}},data:{title:"Start",outputs:{type:"object",properties:{query:{type:"string",default:"Hello Flow."}}}}},{id:"condition_0",type:"condition",meta:{position:{x:640,y:279.5}},data:{title:"Condition",inputsValues:{conditions:[{key:"if_0",value:{type:"expression",content:""}},{key:"if_f0rOAt",value:{type:"expression",content:""}}]},inputs:{type:"object",properties:{conditions:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}}}}}},{id:"end_0",type:"end",meta:{position:{x:2220,y:298}},data:{title:"End",outputs:{type:"object",properties:{result:{type:"string"}}}}},{id:"loop_H8M3U",type:"loop",meta:{position:{x:1020,y:452}},data:{title:"Loop_2",inputsValues:{loopTimes:2},inputs:{type:"object",required:["loopTimes"],properties:{loopTimes:{type:"number"}}},outputs:{type:"object",properties:{result:{type:"string"}}}},blocks:[{id:"llm_CBdCg",type:"llm",meta:{position:{x:180,y:0}},data:{title:"LLM_4",inputsValues:{},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string"},prompt:{type:"string"}}},outputs:{type:"object",properties:{result:{type:"string"}}}}},{id:"llm_gZafu",type:"llm",meta:{position:{x:640,y:0}},data:{title:"LLM_5",inputsValues:{},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string"},prompt:{type:"string"}}},outputs:{type:"object",properties:{result:{type:"string"}}}}}],edges:[{sourceNodeID:"llm_CBdCg",targetNodeID:"llm_gZafu"}]},{id:"159623",type:"comment",meta:{position:{x:640,y:478}},data:{size:{width:240,height:150},note:"hi ~\n\nthis is a comment node\n\n- flowgram.ai"}},{id:"group_V-_st",type:"group",meta:{position:{x:-1.5112031149433278,y:0}},data:{title:"LLM_Group",color:"Violet"},blocks:[{id:"llm_0",type:"llm",meta:{position:{x:1660.1942854301792,y:1.8635936030104148}},data:{title:"LLM_0",inputsValues:{modelType:"gpt-3.5-turbo",temperature:.5,systemPrompt:"You are an AI assistant.",prompt:""},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string"},prompt:{type:"string"}}},outputs:{type:"object",properties:{result:{type:"string"}}}}},{id:"llm_l_TcE",type:"llm",meta:{position:{x:1202.8281207997074,y:1.8635936030104148}},data:{title:"LLM_1",inputsValues:{},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string"},prompt:{type:"string"}}},outputs:{type:"object",properties:{result:{type:"string"}}}}}],edges:[{sourceNodeID:"llm_l_TcE",targetNodeID:"llm_0"},{sourceNodeID:"llm_0",targetNodeID:"end_0"},{sourceNodeID:"condition_0",targetNodeID:"llm_l_TcE",sourcePortID:"if_0"}]}],edges:[{sourceNodeID:"start_0",targetNodeID:"condition_0"},{sourceNodeID:"condition_0",targetNodeID:"llm_l_TcE",sourcePortID:"if_0"},{sourceNodeID:"condition_0",targetNodeID:"loop_H8M3U",sourcePortID:"if_f0rOAt"},{sourceNodeID:"llm_0",targetNodeID:"end_0"},{sourceNodeID:"loop_H8M3U",targetNodeID:"end_0"}]};var tH=o(6578),tU=o(6088);let tG=()=>{let e=(0,p.Dcz)();return(0,x.useCallback)(t=>e.config.getPosFromMouseEvent({clientX:t.left+64,clientY:t.top-7}),[e])},tW=()=>{let e=(0,p.G2Z)(p.oJU);return(0,x.useCallback)(t=>{t&&e.selectNode(t)},[e])},tY=()=>{let e=(0,p.G2Z)(p.L4w),t=(0,p.G2Z)(v.sS),o=(0,p.Dcz)(),i=tG(),n=tW();return(0,x.useCallback)(async o=>{let r=i(o);await new Promise(o=>{t.callNodePanel({position:r,enableMultiAdd:!0,panelProps:{},onSelect:async t=>{if(!t)return;let{nodeType:o,nodeJSON:i}=t;n(e.createWorkflowNodeByType(o,void 0,i??{}))},onClose:()=>{o()}})})},[i,t,o.config.zoom,e,n])},tX=e=>{let t=tY();return(0,c.jsx)(D.zx,{icon:(0,c.jsx)(ev.Z,{}),color:"highlight",style:{backgroundColor:"rgba(171,181,255,0.3)",borderRadius:"8px"},disabled:e.disabled,onClick:e=>{t(e.currentTarget.getBoundingClientRect())},children:"Add Node"})},tJ=H.ZP.div`
  position: absolute;
  bottom: 16px;
  display: flex;
  justify-content: left;
  min-width: 360px;
  pointer-events: none;
  gap: 8px;

  z-index: 99;
`,t$=H.ZP.div`
  display: flex;
  align-items: center;
  background-color: #fff;
  border: 1px solid rgba(68, 83, 130, 0.25);
  border-radius: 10px;
  box-shadow: rgba(0, 0, 0, 0.04) 0px 2px 6px 0px, rgba(0, 0, 0, 0.02) 0px 4px 12px 0px;
  column-gap: 2px;
  height: 40px;
  padding: 0 4px;
  pointer-events: auto;
`,tq=H.ZP.span`
  padding: 4px;
  border-radius: 8px;
  border: 1px solid rgba(68, 83, 130, 0.25);
  font-size: 12px;
  width: 50px;
  cursor: pointer;
`,tQ=H.ZP.div`
  position: absolute;
  bottom: 60px;
  width: 198px;
`,tK=(0,H.ZP)(()=>(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsxs)("g",{id:"g1",children:[(0,c.jsx)("path",{id:"path1",fill:"#000000",stroke:"none",d:"M 18.09091 6.883101 L 5.409091 6.883101 L 5.409091 16.746737 L 10.664648 16.746737 C 10.927091 17.116341 11.30353 17.422749 11.792977 17.611004 L 12.664289 17.946156 L 12.744959 18.155828 L 5.409091 18.155828 C 4.630871 18.155828 4 17.524979 4 16.746737 L 4 6.883101 C 4 6.104881 4.630871 5.47401 5.409091 5.47401 L 18.09091 5.47401 C 18.86915 5.47401 19.5 6.104881 19.5 6.883101 L 19.5 12.52348 C 19.247208 11.883823 18.730145 11.365912 18.09091 11.111994 L 18.09091 6.883101 Z M 18.09091 18.155828 L 17.881165 18.155828 L 19.469212 14.368896 C 19.479921 14.343321 19.490206 14.317817 19.5 14.292241 L 19.5 16.746737 C 19.5 17.524979 18.86915 18.155828 18.09091 18.155828 Z"}),(0,c.jsx)("path",{id:"path2",fill:"#000000",fillRule:"evenodd",stroke:"none",d:"M 18.494614 13.960189 C 18.982441 12.796985 17.813459 11.628003 16.650255 12.11576 L 12.133272 14.01 C 10.962248 14.501069 10.987188 16.168798 12.172375 16.62464 L 13.482055 17.128389 L 13.985805 18.438068 C 14.441646 19.623184 16.109375 19.648125 16.600443 18.477171 L 18.494614 13.960189 Z M 17.19515 13.415224 L 15.30098 17.932205 L 14.79723 16.622526 C 14.654066 16.250385 14.359989 15.956307 13.987918 15.813213 L 12.678168 15.309464 L 17.19515 13.415224 Z"})]})}))`
  color: ${e=>e.visible?void 0:"#060709cc"};
`,t0=()=>{let e=(0,p.erw)(),t=(0,p.Dcz)(),[o,i]=(0,x.useState)(!1);return(0,c.jsx)(D.Lt,{position:"top",trigger:"custom",visible:o,onClickOutSide:()=>i(!1),render:(0,c.jsxs)(D.Lt.Menu,{children:[(0,c.jsx)(D.Lt.Item,{onClick:()=>e.zoomin(),children:"Zoom in"}),(0,c.jsx)(D.Lt.Item,{onClick:()=>e.zoomout(),children:"Zoom out"}),(0,c.jsx)(D.iz,{layout:"horizontal"}),(0,c.jsx)(D.Lt.Item,{onClick:()=>t.config.updateZoom(.5),children:"Zoom to 50%"}),(0,c.jsx)(D.Lt.Item,{onClick:()=>t.config.updateZoom(1),children:"Zoom to 100%"}),(0,c.jsx)(D.Lt.Item,{onClick:()=>t.config.updateZoom(1.5),children:"Zoom to 150%"}),(0,c.jsx)(D.Lt.Item,{onClick:()=>t.config.updateZoom(2),children:"Zoom to 200%"})]}),children:(0,c.jsxs)(tq,{onClick:()=>i(!0),children:[Math.floor(100*e.zoom),"%"]})})},t1=(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{id:"switch-line",fill:"currentColor",stroke:"none",d:"M 12.728118 10.060962 C 13.064282 8.716098 14.272528 7.772551 15.65877 7.772343 L 17.689898 7.772343 C 18.0798 7.772343 18.39588 7.456264 18.39588 7.066362 C 18.39588 6.676458 18.0798 6.36038 17.689898 6.36038 L 15.659616 6.36038 C 13.62515 6.360315 11.851767 7.745007 11.358504 9.718771 C 11.02234 11.063635 9.814095 12.007183 8.427853 12.007389 L 7.101437 12.007389 C 6.711768 12.007389 6.395878 12.323277 6.395878 12.712947 C 6.395878 13.102616 6.711768 13.418506 7.101437 13.418506 L 8.426159 13.418506 C 9.812716 13.418323 11.021417 14.361954 11.357657 15.707124 C 11.850921 17.680887 13.624304 19.065578 15.65877 19.065516 L 17.689049 19.065516 C 18.078953 19.065516 18.395033 18.749435 18.395033 18.359533 C 18.395033 17.969631 18.078953 17.653551 17.689049 17.653551 L 15.65877 17.653551 C 14.272528 17.653345 13.064282 16.709797 12.728118 15.364932 C 12.454905 14.27114 11.774856 13.322707 10.826583 12.712947 C 11.774536 12.10303 12.454268 11.154617 12.727271 10.060962 Z"})}),t2=()=>{let e=(0,p.G2Z)(p.dmf),t=(0,x.useCallback)(()=>{e.switchLineType()},[e]);return(0,c.jsx)(D.u,{content:"Switch Line",children:(0,c.jsx)(D.hU,{type:"tertiary",theme:"borderless",onClick:t,icon:t1})})};function t3(e){let[t,o]=(0,x.useState)(0),i=(0,p.sX$)(),n=(0,x.useCallback)(()=>{o(i.document.getAllNodes().map(e=>(0,p.CMu)(e)).filter(e=>null==e?void 0:e.state.invalid).length)},[i]),r=(0,x.useCallback)(async()=>{let e=i.document.getAllNodes().map(e=>(0,p.CMu)(e));await Promise.all(e.map(async e=>null==e?void 0:e.validate())),console.log(">>>>> save data: ",i.document.toJSON())},[i]);return((0,x.useEffect)(()=>{let e=e=>{let t=(0,p.CMu)(e);if(t){let o=t.onValidate(()=>n());e.onDispose(()=>o.dispose())}};i.document.getAllNodes().map(t=>e(t));let t=i.document.onNodeCreate(t=>{let{node:o}=t;return e(o)});return()=>t.dispose()},[i]),0===t)?(0,c.jsx)(D.zx,{disabled:e.disabled,onClick:r,style:{backgroundColor:"rgba(171,181,255,0.3)",borderRadius:"8px"},children:"Save"}):(0,c.jsx)(D.Ct,{count:t,position:"rightTop",type:"danger",children:(0,c.jsx)(D.zx,{type:"danger",disabled:e.disabled,onClick:r,style:{backgroundColor:"rgba(255, 179, 171, 0.3)",borderRadius:"8px"},children:"\xa0 Save"})})}var t5=o(1175),t9=o(708);let t4=()=>{let e=(0,p.Dcz)(),t=(0,x.useCallback)(()=>{e.config.readonly=!e.config.readonly},[e]);return e.config.readonly?(0,c.jsx)(D.u,{content:"Editable",children:(0,c.jsx)(D.hU,{theme:"borderless",type:"tertiary",icon:(0,c.jsx)(t5.Z,{size:"default"}),onClick:t})}):(0,c.jsx)(D.u,{content:"Readonly",children:(0,c.jsx)(D.hU,{theme:"borderless",type:"tertiary",icon:(0,c.jsx)(t9.Z,{size:"default"}),onClick:t})})},t6=e=>{let{minimapVisible:t,setMinimapVisible:o}=e;return(0,c.jsx)(D.u,{content:"Minimap",children:(0,c.jsx)(D.hU,{type:"tertiary",theme:"borderless",icon:(0,c.jsx)(tK,{visible:t}),onClick:()=>o(!t)})})},t7=e=>{let{visible:t}=e,o=(0,p.G2Z)(f.I5);return t?(0,c.jsx)(tQ,{children:(0,c.jsx)(f.Zd,{service:o,panelStyles:{},containerStyles:{pointerEvents:"auto",position:"relative",top:"unset",right:"unset",bottom:"unset",left:"unset"},inactiveStyle:{opacity:1,scale:1,translateX:0,translateY:0}})}):(0,c.jsx)(c.Fragment,{})};function t8(e){let{width:t,height:o}=e;return(0,c.jsxs)("svg",{width:t||48,height:o||38,viewBox:"0 0 48 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("rect",{x:"1.83317",y:"1.49998",width:"44.3333",height:"35",rx:"3.5",stroke:"currentColor",strokeOpacity:"0.8",strokeWidth:"2.33333"}),(0,c.jsx)("path",{d:"M14.6665 30.6667H33.3332",stroke:"currentColor",strokeOpacity:"0.8",strokeWidth:"2.33333",strokeLinecap:"round"})]})}let oe=()=>(0,c.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.8549 5H3.1451C3.06496 5 3 5.06496 3 5.1451V18.8549C3 18.935 3.06496 19 3.1451 19H20.8549C20.935 19 21 18.935 21 18.8549V5.1451C21 5.06496 20.935 5 20.8549 5ZM3.1451 3C1.96039 3 1 3.96039 1 5.1451V18.8549C1 20.0396 1.96039 21 3.1451 21H20.8549C22.0396 21 23 20.0396 23 18.8549V5.1451C23 3.96039 22.0396 3 20.8549 3H3.1451Z"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99991 16C6.99991 15.4477 7.44762 15 7.99991 15H15.9999C16.5522 15 16.9999 15.4477 16.9999 16C16.9999 16.5523 16.5522 17 15.9999 17H7.99991C7.44762 17 6.99991 16.5523 6.99991 16Z"})]});function ot(e){let{width:t,height:o}=e;return(0,c.jsx)("svg",{width:t||34,height:o||52,viewBox:"0 0 34 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.9998 16.6666V35.3333C30.9998 37.5748 30.9948 38.4695 30.9 39.1895C30.2108 44.4247 26.0912 48.5443 20.856 49.2335C20.1361 49.3283 19.2413 49.3333 16.9998 49.3333C14.7584 49.3333 13.8636 49.3283 13.1437 49.2335C7.90847 48.5443 3.78888 44.4247 3.09965 39.1895C3.00487 38.4695 2.99984 37.5748 2.99984 35.3333V16.6666C2.99984 14.4252 3.00487 13.5304 3.09965 12.8105C3.78888 7.57528 7.90847 3.45569 13.1437 2.76646C13.7232 2.69017 14.4159 2.67202 15.8332 2.66785V9.86573C14.4738 10.3462 13.4998 11.6426 13.4998 13.1666V17.8332C13.4998 19.3571 14.4738 20.6536 15.8332 21.1341V23.6666C15.8332 24.3109 16.3555 24.8333 16.9998 24.8333C17.6442 24.8333 18.1665 24.3109 18.1665 23.6666V21.1341C19.5259 20.6536 20.4998 19.3572 20.4998 17.8332V13.1666C20.4998 11.6426 19.5259 10.3462 18.1665 9.86571V2.66785C19.5837 2.67202 20.2765 2.69017 20.856 2.76646C26.0912 3.45569 30.2108 7.57528 30.9 12.8105C30.9948 13.5304 30.9998 14.4252 30.9998 16.6666ZM0.666504 16.6666C0.666504 14.4993 0.666504 13.4157 0.786276 12.5059C1.61335 6.22368 6.55687 1.28016 12.8391 0.453085C13.7489 0.333313 14.8325 0.333313 16.9998 0.333313C19.1671 0.333313 20.2508 0.333313 21.1605 0.453085C27.4428 1.28016 32.3863 6.22368 33.2134 12.5059C33.3332 13.4157 33.3332 14.4994 33.3332 16.6666V35.3333C33.3332 37.5006 33.3332 38.5843 33.2134 39.494C32.3863 45.7763 27.4428 50.7198 21.1605 51.5469C20.2508 51.6666 19.1671 51.6666 16.9998 51.6666C14.8325 51.6666 13.7489 51.6666 12.8391 51.5469C6.55687 50.7198 1.61335 45.7763 0.786276 39.494C0.666504 38.5843 0.666504 37.5006 0.666504 35.3333V16.6666ZM15.8332 13.1666C15.8332 13.0011 15.8676 12.8437 15.9297 12.7011C15.9886 12.566 16.0722 12.4443 16.1749 12.3416C16.386 12.1305 16.6777 11.9999 16.9998 11.9999C17.6435 11.9999 18.1654 12.5212 18.1665 13.1646L18.1665 13.1666V17.8332L18.1665 17.8353C18.1665 17.8364 18.1665 17.8376 18.1665 17.8387C18.1661 17.9132 18.1588 17.986 18.1452 18.0565C18.0853 18.3656 17.9033 18.6312 17.6515 18.8011C17.4655 18.9266 17.2412 18.9999 16.9998 18.9999C16.3555 18.9999 15.8332 18.4776 15.8332 17.8332V13.1666Z",fill:"currentColor",fillOpacity:"0.8"})})}let oo=()=>(0,c.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8C4.5 4.13401 7.63401 1 11.5 1H12.5C16.366 1 19.5 4.13401 19.5 8V17C19.5 20.3137 16.8137 23 13.5 23H10.5C7.18629 23 4.5 20.3137 4.5 17V8ZM11.2517 3.00606C8.60561 3.13547 6.5 5.32184 6.5 8V17C6.5 19.2091 8.29086 21 10.5 21H13.5C15.7091 21 17.5 19.2091 17.5 17V8C17.5 5.32297 15.3962 3.13732 12.7517 3.00622V5.28013C13.2606 5.54331 13.6074 6.06549 13.6074 6.66669V8.75759C13.6074 9.35879 13.2606 9.88097 12.7517 10.1441V11.4091C12.7517 11.8233 12.4159 12.1591 12.0017 12.1591C11.5875 12.1591 11.2517 11.8233 11.2517 11.4091V10.1457C10.7411 9.88298 10.3931 9.35994 10.3931 8.75759V6.66669C10.3931 6.06433 10.7411 5.5413 11.2517 5.27862V3.00606ZM12.0017 6.14397C11.7059 6.14397 11.466 6.38381 11.466 6.67968V8.74462C11.466 9.03907 11.7036 9.27804 11.9975 9.28031L12.0002 9.28032C12.0456 9.28032 12.0896 9.27482 12.1316 9.26447C12.3401 9.21256 12.5002 9.0386 12.5318 8.82287C12.5345 8.80149 12.5359 8.7797 12.5359 8.75759V6.66669C12.5359 6.64463 12.5345 6.62288 12.5318 6.60154C12.4999 6.38354 12.3368 6.20817 12.1252 6.15826C12.0856 6.14891 12.0442 6.14397 12.0017 6.14397Z"})}),{Title:oi,Paragraph:on}=D.Sx,or=e=>{let{title:t,subTitle:o,icon:i,onChange:n,value:r,selected:l}=e;return(0,c.jsxs)("div",{className:`mouse-pad-option ${l?"mouse-pad-option-selected":""}`,onClick:()=>n(r),children:[(0,c.jsx)("div",{className:`mouse-pad-option-icon ${l?"mouse-pad-option-icon-selected":""}`,children:i}),(0,c.jsx)(oi,{heading:6,className:`mouse-pad-option-title ${l?"mouse-pad-option-title-selected":""}`,children:t}),(0,c.jsx)(on,{type:"tertiary",className:`mouse-pad-option-subTitle ${l?"mouse-pad-option-subTitle-selected":""}`,children:o})]})},ol=e=>{let{value:t,onChange:o,onPopupVisibleChange:i,containerStyle:n,iconStyle:r,arrowStyle:l}=e,[s,a]=(0,x.useState)(!1);return(0,c.jsx)(D.J2,{trigger:"custom",position:"topLeft",closeOnEsc:!0,visible:s,onVisibleChange:e=>{null==i||i(e)},onClickOutSide:()=>{a(!1)},spacing:20,content:(0,c.jsxs)("div",{className:"ui-mouse-pad-selector-popover",children:[(0,c.jsx)(D.Sx.Title,{heading:4,children:"Interaction mode"}),(0,c.jsxs)("div",{className:"ui-mouse-pad-selector-popover-options",children:[(0,c.jsx)(or,{title:"Mouse-Friendly",subTitle:"Drag the canvas with the left mouse button, zoom with the scroll wheel.",value:"MOUSE",selected:"MOUSE"===t,icon:(0,c.jsx)(ot,{}),onChange:o}),(0,c.jsx)(or,{title:"Touchpad-Friendly",subTitle:"Drag with two fingers moving in the same direction, zoom by pinching or spreading two fingers.",value:"PAD",selected:"PAD"===t,icon:(0,c.jsx)(t8,{}),onChange:o})]})]}),children:(0,c.jsx)("div",{className:`ui-mouse-pad-selector ${s?"ui-mouse-pad-selector-active":""}`,onClick:()=>{a(!s)},style:n,children:(0,c.jsx)("div",{className:"ui-mouse-pad-selector-icon",style:r,children:"MOUSE"===t?(0,c.jsx)(oo,{}):(0,c.jsx)(oe,{})})})})},os="workflow_prefer_interactive_type",oa=/(Macintosh|MacIntel|MacPPC|Mac68K|iPad)/.test(navigator.userAgent),od=()=>{let e=localStorage.getItem(os);return e&&["MOUSE","PAD"].includes(e)?e:oa?"PAD":"MOUSE"},oc=e=>{localStorage.setItem(os,e)},ou=()=>{let e=(0,p.erw)(),[t,o]=(0,x.useState)(!1),[i,n]=(0,x.useState)(()=>od()),[r,l]=(0,x.useState)(!1);return(0,x.useEffect)(()=>{e.setMouseScrollDelta(e=>e/20);let t=od();e.setInteractiveType(t)},[]),(0,c.jsx)(D.J2,{trigger:"custom",position:"top",visible:t,onClickOutSide:()=>{o(!1)},children:(0,c.jsx)(D.u,{content:"MOUSE"===i?"Mouse-Friendly":"Touchpad-Friendly",style:{display:r?"none":"block"},children:(0,c.jsx)("div",{className:"workflow-toolbar-interactive",children:(0,c.jsx)(ol,{value:i,onChange:t=>{n(t),oc(t),e.setInteractiveType(t)},onPopupVisibleChange:l,containerStyle:{border:"none",height:"32px",width:"32px",justifyContent:"center",alignItems:"center",gap:"2px",padding:"4px",borderRadius:"var(--small, 6px)"},iconStyle:{margin:"0",width:"16px",height:"16px"},arrowStyle:{width:"12px",height:"12px"}})})})})},op=()=>{let e=(0,p.erw)();return(0,c.jsx)(D.u,{content:"FitView",children:(0,c.jsx)(D.hU,{icon:(0,c.jsx)(eD.Z,{}),type:"tertiary",theme:"borderless",onClick:()=>e.fitView()})})},oh=e=>{let{style:t}=e;return(0,c.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:t,children:[(0,c.jsx)("path",{d:"M6.5 9C5.94772 9 5.5 9.44772 5.5 10V11C5.5 11.5523 5.94772 12 6.5 12H7.5C8.05228 12 8.5 11.5523 8.5 11V10C8.5 9.44772 8.05228 9 7.5 9H6.5zM11.5 9C10.9477 9 10.5 9.44772 10.5 10V11C10.5 11.5523 10.9477 12 11.5 12H12.5C13.0523 12 13.5 11.5523 13.5 11V10C13.5 9.44772 13.0523 9 12.5 9H11.5zM15.5 10C15.5 9.44772 15.9477 9 16.5 9H17.5C18.0523 9 18.5 9.44772 18.5 10V11C18.5 11.5523 18.0523 12 17.5 12H16.5C15.9477 12 15.5 11.5523 15.5 11V10z"}),(0,c.jsx)("path",{d:"M23 4C23 2.9 22.1 2 21 2H3C1.9 2 1 2.9 1 4V17.0111C1 18.0211 1.9 19.0111 3 19.0111H7.7586L10.4774 22C10.9822 22.5017 11.3166 22.6311 12 22.7009C12.414 22.707 13.0502 22.5093 13.5 22L16.2414 19.0111H21C22.1 19.0111 23 18.1111 23 17.0111V4ZM3 4H21V17.0111H15.5L12 20.6714L8.5 17.0111H3V4Z"})]})},og=()=>{let e=(0,p.Dcz)(),t=(0,p.G2Z)(p.L4w),o=(0,p.G2Z)(p.oJU),i=(0,p.G2Z)(p.iwM),[n,r]=(0,x.useState)(!1),l=(0,x.useCallback)(t=>{let o=e.config.getPosFromMouseEvent(t);return{x:o.x,y:o.y-75}},[e]),s=(0,x.useCallback)(async e=>{r(!1);let n=l(e),s=t.createWorkflowNodeByType(tM.Comment,n);await (0,p.gw0)(16),o.selectNode(s),i.startDragSelectedNodes(e)},[o,l,t,i]);return(0,c.jsx)(D.u,{trigger:"custom",visible:n,onVisibleChange:r,content:"Comment",children:(0,c.jsx)(D.hU,{disabled:e.config.readonly,icon:(0,c.jsx)(oh,{style:{width:16,height:16}}),type:"tertiary",theme:"borderless",onClick:s,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)})})},ox=(0,c.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{fill:"currentColor",d:"M3 2C2.44772 2 2 2.44771 2 3V12C2 12.5523 2.44772 13 3 13H10C10.5523 13 11 12.5523 11 12V3C11 2.44772 10.5523 2 10 2H3zM4 11V4H9V11H4zM21 22C21.5523 22 22 21.5523 22 21V12C22 11.4477 21.5523 11 21 11H14C13.4477 11 13 11.4477 13 12V21C13 21.5523 13.4477 22 14 22H21zM20 13V20H15V13H20zM2 16C2 15.4477 2.44772 15 3 15H10C10.5523 15 11 15.4477 11 16V21C11 21.5523 10.5523 22 10 22H3C2.44772 22 2 21.5523 2 21V16zM4 20V17H9V20H4zM21 9C21.5523 9 22 8.55228 22 8V3C22 2.44772 21.5523 2 21 2H14C13.4477 2 13 2.44772 13 3V8C13 8.55228 13.4477 9 14 9H21zM20 4V7H15V4H20z"})}),om=()=>{let e=(0,p.erw)(),t=(0,p.Dcz)(),o=(0,x.useCallback)(async()=>{await e.autoLayout()},[e]);return(0,c.jsx)(D.u,{content:"Auto Layout",children:(0,c.jsx)(D.hU,{disabled:t.config.readonly,type:"tertiary",theme:"borderless",onClick:o,icon:ox})})},of=()=>{let{history:e,playground:t}=(0,p.sX$)(),[o,i]=(0,x.useState)(!1),[n,r]=(0,x.useState)(!1),[l,s]=(0,x.useState)(!0);(0,x.useEffect)(()=>{let t=e.undoRedoService.onChange(()=>{i(e.canUndo()),r(e.canRedo())});return()=>t.dispose()},[e]);let a=(0,p.JAk)();return(0,x.useEffect)(()=>{let e=t.config.onReadonlyOrDisabledChange(()=>a());return()=>e.dispose()},[t]),(0,c.jsx)(tJ,{className:"demo-free-layout-tools",children:(0,c.jsxs)(t$,{children:[(0,c.jsx)(ou,{}),(0,c.jsx)(om,{}),(0,c.jsx)(t2,{}),(0,c.jsx)(t0,{}),(0,c.jsx)(op,{}),(0,c.jsx)(t6,{minimapVisible:l,setMinimapVisible:s}),(0,c.jsx)(t7,{visible:l}),(0,c.jsx)(t4,{}),(0,c.jsx)(og,{}),(0,c.jsx)(D.u,{content:"Undo",children:(0,c.jsx)(D.hU,{type:"tertiary",theme:"borderless",icon:(0,c.jsx)(tH.Z,{}),disabled:!o||t.config.readonly,onClick:()=>e.undo()})}),(0,c.jsx)(D.u,{content:"Redo",children:(0,c.jsx)(D.hU,{type:"tertiary",theme:"borderless",icon:(0,c.jsx)(tU.Z,{}),disabled:!n||t.config.readonly,onClick:()=>e.redo()})}),(0,c.jsx)(D.iz,{layout:"vertical",style:{height:"16px"},margin:3}),(0,c.jsx)(tX,{disabled:t.config.readonly}),(0,c.jsx)(D.iz,{layout:"vertical",style:{height:"16px"},margin:3}),(0,c.jsx)(t3,{disabled:t.config.readonly})]})})};function oy(e){let{children:t}=e,[o,i]=(0,x.useState)();return(0,c.jsx)(e1.Provider,{value:{visible:!!o,nodeRender:o,setNodeRender:i},children:t})}let ov=()=>{var e;let{nodeRender:t,setNodeRender:o}=(0,x.useContext)(e1),{selection:i,playground:n}=(0,p.sX$)(),r=(0,p.JAk)(),l=(0,x.useCallback)(()=>{o(void 0)},[]);(0,x.useEffect)(()=>{let e=n.config.onReadonlyOrDisabledChange(()=>r());return()=>e.dispose()},[n]),(0,x.useEffect)(()=>{let e=i.onSelectionChanged(()=>{0===i.selection.length?l():1===i.selection.length&&i.selection[0]!==(null==t?void 0:t.node)&&l()});return()=>e.dispose()},[i,l]),(0,x.useEffect)(()=>{if(t){let e=t.node.onDispose(()=>{o(void 0)});return()=>e.dispose()}return()=>{}},[t]);let s=(0,x.useMemo)(()=>{if(!t)return!1;let{disableSideBar:e=!1}=t.node.getNodeMeta();return!e},[t]);if(n.config.readonly)return null;let a=t?(0,c.jsx)(p.rQR.Provider,{value:t.node,children:(0,c.jsx)(e0.Provider,{value:t,children:null==(e=t.form)?void 0:e.render()})},t.node.id):null;return(0,c.jsx)(D.Uu,{mask:!1,visible:s,onCancel:l,children:(0,c.jsx)(e2.Provider,{value:!0,children:a})})};(0,u.createRoot)(document.getElementById("root")).render((0,c.jsx)(()=>{let e=(0,x.useMemo)(()=>({background:!0,readonly:!1,initialData:tB,nodeRegistries:tF,getNodeDefaultRegistry:e=>({type:e,meta:{defaultExpanded:!0},formMeta:ek}),lineColor:{hidden:"transparent",default:"#4d53e8",drawing:"#5DD6E3",hovered:"#37d0ff",selected:"#37d0ff",error:"red"},canAddLine:(e,t,o)=>t.node!==o.node,canDeleteLine:(e,t,o,i)=>!0,canDeleteNode:(e,t)=>!0,onDragLineEnd:w,selectBox:{SelectorBoxPopover:eK},materials:{renderDefaultNode:e6,renderNodes:{[tM.Comment]:tb}},nodeEngine:{enable:!0},variableEngine:{enable:!0},history:{enable:!0,enableChangeNode:!0},onContentChange:(0,m.Z)((e,t)=>{console.log("Auto Save: ",t,e.document.toJSON())},1e3),shortcuts:A,onBind:e=>{let{bind:t}=e;t(F).toSelf().inSingletonScope()},onInit(){console.log("--- Playground init ---")},onAllLayersRendered(e){e.document.fitView(!1),console.log("--- Playground rendered ---")},onDispose(){console.log("---- Playground Dispose ----")},plugins:()=>[(0,j.J2)({renderInsideLine:te}),(0,f.qP)({disableLayer:!0,canvasStyle:{canvasWidth:182,canvasHeight:102,canvasPadding:50,canvasBackground:"rgba(242, 243, 245, 1)",canvasBorderRadius:10,viewportBackground:"rgba(255, 255, 255, 1)",viewportBorderRadius:4,viewportBorderColor:"rgba(6, 7, 9, 0.10)",viewportBorderWidth:1,viewportBorderDashLength:void 0,nodeColor:"rgba(0, 0, 0, 0.10)",nodeBorderRadius:2,nodeBorderWidth:.145,nodeBorderColor:"rgba(6, 7, 9, 0.10)",overlayColor:"rgba(255, 255, 255, 0.55)"},inactiveDebounceTime:1}),B({}),(0,y.Z)({edgeColor:"#00B2B2",alignColor:"#00B2B2",edgeLineWidth:1,alignLineWidth:1,alignCrossWidth:8}),(0,v.dn)({renderer:ts}),(0,b.AU)({}),(0,C.IP)({groupNodeRender:eQ})]}),[]);return(0,c.jsx)("div",{className:"doc-free-feature-overview",children:(0,c.jsx)(p.EhS,{...e,children:(0,c.jsxs)(oy,{children:[(0,c.jsx)("div",{className:"demo-container",children:(0,c.jsx)(p.R6T,{className:"demo-editor"})}),(0,c.jsx)(of,{}),(0,c.jsx)(ov,{})]})})})},{}))}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.nc=void 0,(()=>{var e=[];o.O=(t,i,n,r)=>{if(i){r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[i,n,r];return}for(var s=1/0,l=0;l<e.length;l++){for(var[i,n,r]=e[l],a=!0,d=0;d<i.length;d++)(!1&r||s>=r)&&Object.keys(o.O).every(e=>o.O[e](i[d]))?i.splice(d--,1):(a=!1,r<s&&(s=r));if(a){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}})(),o.p="/",o.rv=()=>"1.3.9",(()=>{var e={980:0};o.O.j=t=>0===e[t];var t=(t,i)=>{var n,r,[l,s,a]=i,d=0;if(l.some(t=>0!==e[t])){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(a)var c=a(o)}for(t&&t(i);d<l.length;d++)r=l[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},i=self.webpackChunk_flowgram_ai_demo_free_layout=self.webpackChunk_flowgram_ai_demo_free_layout||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),o.ruid="bundler=rspack@1.3.9";var i=o.O(void 0,["361","788"],function(){return o(330)});i=o.O(i)})();