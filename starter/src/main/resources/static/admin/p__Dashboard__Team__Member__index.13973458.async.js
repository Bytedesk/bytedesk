"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7960],{47944:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(11757),a=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},i=n(54183),s=function(e,t){return a.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:o}))};var u=a.forwardRef(s)},15722:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(11757),a=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},i=n(54183),s=function(e,t){return a.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:o}))};var u=a.forwardRef(s)},42085:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(11757),a=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},i=n(54183),s=function(e,t){return a.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:o}))};var u=a.forwardRef(s)},82669:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(11757),a=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},i=n(54183),s=function(e,t){return a.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:o}))};var u=a.forwardRef(s)},4499:function(e,t,n){var r=n(42601),a=n(17082),o=n(73457),i=n(46015),s=n(57178),u=n(98036),l=n(36490),c=n(44194),d=n(35175),f=n(31549),p=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],g="text",h=function(e){var t=(0,i.Z)(e.open||!1,{value:e.open,onChange:e.onOpenChange}),n=(0,r.Z)(t,2),o=n[0],l=n[1];return(0,f.jsx)(s.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(t){var n,r=t.getFieldValue(e.name||[]);return(0,f.jsx)(u.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return l(e)},content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[null===(n=e.statusRender)||void 0===n?void 0:n.call(e,r),e.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:e.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},e.popoverProps),{},{open:o,children:e.children}))}})},v=function(e){var t=e.fieldProps,n=e.proFieldProps,r=(0,o.Z)(e,p);return(0,f.jsx)(d.Z,(0,a.Z)({valueType:g,fieldProps:t,filedConfig:{valueType:g},proFieldProps:n},r))};v.Password=function(e){var t=e.fieldProps,n=e.proFieldProps,i=(0,o.Z)(e,m),s=(0,c.useState)(!1),u=(0,r.Z)(s,2),p=u[0],v=u[1];return null!=t&&t.statusRender&&i.name?(0,f.jsx)(h,{name:i.name,statusRender:null==t?void 0:t.statusRender,popoverProps:null==t?void 0:t.popoverProps,strengthText:null==t?void 0:t.strengthText,open:p,onOpenChange:v,children:(0,f.jsx)("div",{children:(0,f.jsx)(d.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,l.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(e){var n;null==t||null===(n=t.onBlur)||void 0===n||n.call(t,e),v(!1)},onClick:function(e){var n;null==t||null===(n=t.onClick)||void 0===n||n.call(t,e),v(!0)}}),proFieldProps:n,filedConfig:{valueType:g}},i))})}):(0,f.jsx)(d.Z,(0,a.Z)({valueType:"password",fieldProps:t,proFieldProps:n,filedConfig:{valueType:g}},i))},v.displayName="ProFormComponent",t.Z=v},32350:function(e,t,n){var r=n(17082),a=n(73457),o=n(44194),i=n(35175),s=n(31549),u=["fieldProps","proFieldProps"],l=function(e,t){var n=e.fieldProps,o=e.proFieldProps,l=(0,a.Z)(e,u);return(0,s.jsx)(i.Z,(0,r.Z)({ref:t,valueType:"textarea",fieldProps:n,proFieldProps:o},l))};t.Z=o.forwardRef(l)},2516:function(e,t,n){var r=n(17082),a=n(73457),o=n(44194),i=n(35175),s=n(31549),u=["fieldProps","request","params","proFieldProps"],l=function(e,t){var n=e.fieldProps,o=e.request,l=e.params,c=e.proFieldProps,d=(0,a.Z)(e,u);return(0,s.jsx)(i.Z,(0,r.Z)({valueType:"treeSelect",fieldProps:n,ref:t,request:o,params:l,filedConfig:{customLightMode:!0},proFieldProps:c},d))},c=o.forwardRef(l);t.Z=c},81924:function(e,t,n){n.d(t,{E9:function(){return d},Rd:function(){return v},fA:function(){return p},ul:function(){return g}});var r=n(90819),a=n.n(r),o=n(73193),i=n.n(o),s=n(89933),u=n.n(s),l=n(55735),c=n(30921);function d(e){return f.apply(this,arguments)}function f(){return(f=u()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/query/org",{method:"GET",params:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=u()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/create",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=u()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/update",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return(x=u()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/delete",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73669:function(e,t,n){n.d(t,{D$:function(){return p},EP:function(){return v},hS:function(){return g},z_:function(){return d}});var r=n(90819),a=n.n(r),o=n(73193),i=n.n(o),s=n(89933),u=n.n(s),l=n(55735),c=n(30921);function d(e){return f.apply(this,arguments)}function f(){return(f=u()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/member/query/org",{method:"GET",params:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=u()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/member/create",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=u()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/member/update",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return(x=u()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/member/delete",{method:"POST",data:i()(i()({},t),{},{client:l.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},96865:function(e,t,n){var r=n(23864);t.Z=function(){var e=(0,r.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"}}}},76750:function(e,t,n){var r=n(55735),a=n(65461),o=n(30921);t.Z=function(){var e=(0,o.useIntl)();return{translateString:function(t){return null==t?t:t&&(null!=t&&t.startsWith(r.VoP)||null!=t&&t.startsWith("ROLE_"))?e.formatMessage({id:t,defaultMessage:t}):t},translateStringTranct:function(t){return null==t?t:null!=t&&t.startsWith(r.VoP)||null!=t&&t.startsWith("ROLE_")?(0,a.aS)(e.formatMessage({id:t,defaultMessage:t}),10):(0,a.aS)(t,10)}}}},53627:function(e,t,n){n.r(t),n.d(t,{default:function(){return ge}});var r=n(75574),a=n(44194),o=n(96865),i=n(84176),s=n.n(i),u=n(73193),l=n.n(u),c=n(76711),d=n.n(c),f=n(90819),p=n.n(f),m=n(89933),g=n.n(m),h=n(86222),v=n.n(h),x=n(45332),b=n.n(x),y=n(73669),w=n(55735),j=n(44435),M=n(83642),Z=n(83890),k=(0,j.Ue)()((0,M.mW)((0,M.tJ)((0,Z.n)((function(e,t){return{departmentResult:{data:{content:[]}},currentDepartment:{uid:w.zBg,nickname:w.zBg},insertDepartment:function(t){e((function(e){var n=e.departmentResult.data.content;if(t.parentUid){var r=n.find((function(e){return e.uid===t.parentUid}));r&&(r.children||(r.children=[]),r.children.push(t))}else n.push(t)}))},upgradeDepartment:function(t){e((function(e){var n=e.departmentResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:n.forEach((function(e){if(e.children){var n=e.children.findIndex((function(e){return e.uid===t.uid}));-1!==n&&(e.children[n]=t)}}))}))},setDepartmentResult:function(n){var r,a={uid:w.zBg,name:w.zBg};(e({departmentResult:l()(l()({},n),{},{data:{content:[a].concat(d()(n.data.content))}})}),""===t().currentDepartment.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentDepartment:n.data.content[0]}))},setCurrentDepartment:function(n){var r=t().departmentResult.data.content,a=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==a){var o=[].concat(d()(r.slice(0,a)),[n],d()(r.slice(a+1))),i=l()(l()({},t().departmentResult),{},{data:{content:o}});e({departmentResult:i,currentDepartment:n})}else console.warn("Department with the specified uid not found."),e({currentDepartment:n})},removeDepartment:function(n){e((function(e){var t=e.departmentResult.data.content;e.departmentResult.data.content=function e(t,n){return t.filter((function(t){return t.uid!==n&&(t.children&&(t.children=e(t.children,n)),!0)}))}(t,n)})),t().currentDepartment.uid===n&&e({currentDepartment:{uid:""}})},setCurrentDepUid:function(n){var r,a,o=null===(r=t().departmentResult)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.find((function(e){return e.uid===n}));if(o)e({currentDepartment:o});else{!function t(r){var a,o=v()(r);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(i.uid===n)return void e({currentDepartment:i});i.children&&i.children.length>0&&t(i.children)}}catch(e){o.e(e)}finally{o.f()}}((null===(a=t().departmentResult)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.content)||[])}},deleteDepartmentCache:function(){return e({},!0)}}})),{name:w.xY_}))),S=n(40612),C=n(15722),P=n(10162),D=n(30617),R=n(11090),F=n(61107),E=n(81947),T=n(53530),U=n(29266),O=n(75365),z=n(69169),q=n(2516),V=n(4499),N=n(84881),I=n(30921),B=n(73442),G=n(3849),$=n(86803),K=n(81924),W=n(76750),L=n(31549),A=function(e){var t,n,r=e.isEdit,o=e.member,i=e.open,s=e.onClose,u=e.onSubmit,l=z.A.useForm(),c=b()(l,1)[0],f=(0,I.useIntl)(),m=(0,W.Z)().translateString,h=k((function(e){return e.departmentResult})),v=(0,S.u)((function(e){return e.currentOrg})),x=(0,a.useState)([]),y=b()(x,2),j=y[0],M=y[1],Z=(0,a.useState)([]),C=b()(Z,2),P=C[0],D=C[1];(0,a.useEffect)((function(){r&&o&&c?c.setFieldsValue({uid:null==o?void 0:o.uid,nickname:null==o?void 0:o.nickname,email:null==o?void 0:o.email,mobile:null==o?void 0:o.mobile,jobNo:null==o?void 0:o.jobNo,jobTitle:m(null==o?void 0:o.jobTitle),seatNo:null==o?void 0:o.seatNo,telephone:null==o?void 0:o.telephone,deptUid:null==o?void 0:o.deptUid}):(console.log("form resetFields"),c.resetFields(),M([w.nGQ]),c.setFieldsValue({roleUids:[w.nGQ]}))}),[o,r]);var R=function e(t,n){if(t.name.startsWith(w.VoP)?n.title=f.formatMessage({id:t.name,defaultMessage:t.name}):n.title=t.name,n.value=t.uid,t.children)for(var r=0;r<t.children.length;r++){var a={title:"",value:"",children:[]};e(t.children[r],a),n.children.push(a)}},F=(0,a.useMemo)((function(){for(var e=[],t=0;t<h.data.content.length;t++)if(h.data.content[t].name!==w.zBg){var n={title:"",value:"",children:[]};R(h.data.content[t],n),e.push(n)}return e}),[h]),E=function(){var e=g()(p()().mark((function e(){var t,n,r,a;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.yw.loading("正在获取角色列表..."),t={pageNumber:0,pageSize:100,orgUid:null==v?void 0:v.uid,orgAndPlatform:!0},e.next=4,(0,K.E9)(t);case 4:n=e.sent,console.log("queryRolesByOrg response ",n),200===n.code?($.yw.destroy(),r=n.data.content.find((function(e){return e.uid===w.nGQ})),r||n.data.content.push({uid:w.nGQ,name:"member",description:"成员角色",system:!0}),a=n.data.content,D(a)):($.yw.destroy(),$.yw.error(n.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e,t=(null==o||null===(e=o.roleUids)||void 0===e?void 0:e.filter((function(e){return""!==e})))||[];M(t)}),[o]),(0,a.useEffect)((function(){i&&(E(),r||(M([w.nGQ]),c.setFieldsValue({roleUids:[w.nGQ]})))}),[i,r]),(0,L.jsx)("div",{children:(0,L.jsx)(B.Z,{title:r?(0,L.jsx)(I.FormattedMessage,{id:"team.member.drawer.edit.title"}):(0,L.jsx)(I.FormattedMessage,{id:"team.member.drawer.create.title"}),onClose:s,open:i,width:600,extra:(0,L.jsxs)(G.Z,{children:[(0,L.jsx)(O.ZP,{onClick:s,children:(0,L.jsx)(I.FormattedMessage,{id:"team.member.drawer.button.cancel"})}),(0,L.jsx)(O.ZP,{onClick:function(){console.log("handleSubmit"),c.validateFields().then((function(e){console.log("Form values:",e);var t={uid:null==o?void 0:o.uid,nickname:e.nickname,email:e.email,mobile:e.mobile,jobNo:e.jobNo,jobTitle:e.jobTitle,seatNo:e.seatNo,telephone:e.telephone,deptUid:e.deptUid,orgUid:null==v?void 0:v.uid,roleUids:j};console.log("memberObject:",t),u(t)})).catch((function(e){console.log("Form errors:",e)}))},type:"primary",children:(0,L.jsx)(I.FormattedMessage,{id:"team.member.drawer.button.save"})})]}),children:(0,L.jsxs)(z.A,{form:c,name:"memForm",submitter:!1,children:[(0,L.jsx)(q.Z,{label:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.department"}),name:"deptUid",width:"md",placeholder:f.formatMessage({id:"team.member.form.department.placeholder"}),allowClear:!0,rules:[{required:!0,message:f.formatMessage({id:"team.member.form.department.required"})}],fieldProps:{treeDefaultExpandAll:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:F,variant:"outlined"}}),(0,L.jsx)(V.Z,{label:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.name"}),name:"nickname",rules:[{required:!0,message:f.formatMessage({id:"team.member.form.name.required"})}]}),(0,L.jsx)(V.Z,{label:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.mobile"}),name:"mobile",disabled:r,rules:[{required:!0,message:f.formatMessage({id:"team.member.form.mobile.required"})},{pattern:/^1[3456789]\d{9}$/,message:f.formatMessage({id:"team.member.form.mobile.invalid"})}]}),(0,L.jsx)(V.Z,{label:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.email"}),name:"email",disabled:r,rules:[{required:!0,message:f.formatMessage({id:"team.member.form.email.required"})},{type:"email",message:f.formatMessage({id:"team.member.form.email.invalid"})}]}),(null==o||null===(t=o.user)||void 0===t?void 0:t.superUser)&&(0,L.jsx)("p",{children:"超级管理员拥有所有权限，禁止编辑角色"}),(0,L.jsx)(N.Z,{name:"roleUids",label:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.role"}),width:"md",disabled:null==o||null===(n=o.user)||void 0===n?void 0:n.superUser,options:(P||[]).filter((function(e){return e.uid===w.nGQ||!e.system||j.includes(e.uid)})).map((function(e){return{value:e.uid,label:m(e.name),disabled:(!0===e.system||e.uid===w.nGQ)&&!j.includes(e.uid)}})),fieldProps:{mode:"multiple",allowClear:!0,placeholder:f.formatMessage({id:"team.member.form.role.placeholder"}),value:j,onChange:function(e){console.log("selected ".concat(e));var t=P.filter((function(e){return!0===e.system})).map((function(e){return e.uid})),n=j.filter((function(n){return t.includes(n)&&!e.includes(n)}));if(n.length>0){var r=[].concat(d()(e),d()(n));$.yw.warning("系统角色不允许取消选择");var a=r.filter((function(e){return""!==e}));M(a)}else if(e.includes(w.nGQ)){var o=e.filter((function(e){return""!==e}));M(o)}else{var i=[].concat(d()(e),[w.nGQ]);$.yw.warning("成员角色不允许取消选择");var s=i.filter((function(e){return""!==e}));M(s)}},optionItemRender:function(e){var t=P.find((function(t){return t.uid===e.value}));return null!=t&&t.system?(0,L.jsxs)("span",{children:[e.label," ",j.includes(e.value)&&"(系统角色，不可取消)"]}):e.value===w.nGQ?(0,L.jsxs)("span",{children:[e.label," ",j.includes(e.value)&&"(成员角色，不可取消)"]}):e.label}}}),(0,L.jsx)(V.Z,{label:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.jobNo"}),name:"jobNo"}),(0,L.jsx)(V.Z,{label:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.jobTitle"}),name:"jobTitle"}),(0,L.jsx)(V.Z,{label:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.seatNo"}),name:"seatNo"}),(0,L.jsx)(V.Z,{label:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.telephone"}),name:"telephone"}),(0,L.jsx)("p",{children:(0,L.jsx)(I.FormattedMessage,{id:"team.member.form.login.tip"})})]})})})},H=n(44521),Q=n(27650),_=["current","pageSize"],J=function(){var e,t=(0,a.useRef)(),n=(0,I.useIntl)(),r=(0,a.useRef)(!1),o=(0,W.Z)().translateString,i=(0,a.useState)(!0),u=b()(i,2),c=u[0],f=u[1],m=(0,a.useState)(1),h=b()(m,2),x=h[0],j=h[1],M=(0,a.useState)(10),Z=b()(M,2),z=Z[0],q=Z[1],V=(0,a.useState)({}),N=b()(V,2),B=N[0],G=N[1],J=(0,a.useState)(),X=b()(J,2),Y=X[0],ee=X[1],te=(0,a.useState)(!1),ne=b()(te,2),re=ne[0],ae=ne[1],oe=(0,S.u)((function(e){return e.currentOrg})),ie=k((function(e){return e.currentDepartment})),se=T.Z.useModal(),ue=b()(se,2),le=ue[0],ce=ue[1],de=(0,a.useState)(!1),fe=b()(de,2),pe=fe[0],me=fe[1],ge=k((function(e){return e.departmentResult})),he=(0,a.useState)([]),ve=b()(he,2),xe=ve[0],be=ve[1],ye=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:(0,L.jsx)(I.FormattedMessage,{id:"pages.user.username",defaultMessage:"Username"}),dataIndex:"username",render:function(e,t){var n;return null==t||null===(n=t.user)||void 0===n?void 0:n.username}},{title:(0,L.jsx)(I.FormattedMessage,{id:"pages.user.nickname",defaultMessage:"Nickname"}),dataIndex:"nickname"},{title:(0,L.jsx)(I.FormattedMessage,{id:"mobile",defaultMessage:"Mobile"}),dataIndex:"mobile",render:function(e,t){return(0,L.jsx)("a",{href:"tel:".concat(t.mobile),children:t.mobile})}},{title:(0,L.jsx)(I.FormattedMessage,{id:"email",defaultMessage:"Email"}),dataIndex:"email",render:function(e,t){return(0,L.jsx)("a",{href:"mailto:".concat(t.email),children:e})}},{title:(0,L.jsx)(I.FormattedMessage,{id:"department",defaultMessage:"Department"}),dataIndex:"deptUid",valueType:"select",fieldProps:{options:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=[],i=v()(t||[]);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.uid!==w.zBg){var u=o(s.name),l=r?"".concat(r," / ").concat(u):u;a.push({label:l,value:s.uid}),s.children&&s.children.length>0&&(a=a.concat(e(s.children,l)))}}}catch(e){i.e(e)}finally{i.f()}return a}((null==ge||null===(e=ge.data)||void 0===e?void 0:e.content)||[])},render:function(e,t){var n=function e(t,n){var r,a=v()(t||[]);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.uid===n)return o;if(o.children&&o.children.length>0){var i=e(o.children,n);if(i)return i}}}catch(e){a.e(e)}finally{a.f()}return null}(ge.data.content,t.deptUid);return n?(0,L.jsx)(U.Z,{color:"green",children:o(n.name)}):""}},{title:(0,L.jsx)(I.FormattedMessage,{id:"roles",defaultMessage:"Roles"}),dataIndex:"roleUids",hideInSearch:!0,render:function(e,t){var n=t.roleUids.filter((function(e){return""!==e})).map((function(e){var t=xe.find((function(t){return t.uid===e}));return t?o(t.name):""}));return(0,L.jsx)(L.Fragment,{children:n.map((function(e,t){return e&&(0,L.jsx)(U.Z,{color:"blue",style:{margin:"2px"},children:e},t)}))})}}],we=function(){var e=g()(p()().mark((function e(r){var a;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete mem:",r),e.next=3,(0,y.EP)(r);case 3:a=e.sent,console.log("deleteMember:",a),200===a.code?($.yw.success(n.formatMessage({id:"delete.success",defaultMessage:"Delete success"})),t.current.reload()):$.yw.error(a.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){ae(!1)},Me=[].concat(ye,[{title:n.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",render:function(e,t,r,a){var o;return[(0,L.jsx)("a",{onClick:function(){console.log("editable:",t),function(e){ee(e),f(!0),ae(!0)}(t)},children:n.formatMessage({id:"edit",defaultMessage:"Edit"})},"editable"),!(null!=t&&null!==(o=t.user)&&void 0!==o&&o.superUser)&&(0,L.jsx)(O.ZP,{type:"link",onClick:function(){return e=t,void le.confirm({title:n.formatMessage({id:"deleteTip"}),icon:(0,L.jsx)(C.Z,{}),content:"".concat(n.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(e.nickname,"】？"),onOk:function(){we(e)},onCancel:function(){},okText:n.formatMessage({id:"ok"}),cancelText:n.formatMessage({id:"cancel"})});var e},danger:!0,children:n.formatMessage({id:"delete",defaultMessage:"Delete"})},"delete")]}}]),Ze=function(){var e=g()(p()().mark((function e(){var t,n;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.yw.loading("正在获取角色列表..."),t={pageNumber:0,pageSize:100,orgUid:null==oe?void 0:oe.uid,orgAndPlatform:!0},e.next=4,(0,K.E9)(t);case 4:n=e.sent,console.log("queryRolesByOrg response ",n),200===n.code?($.yw.destroy(),n.data.content.forEach((function(e){xe.find((function(t){return t.uid===e.uid}))||be((function(t){return[].concat(d()(t),[e])}))}))):($.yw.destroy(),$.yw.error(n.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){Ze()}),[]),(0,a.useEffect)((function(){t.current.reload()}),[ie]);var ke,Se=function(){var e=g()(p()().mark((function e(r){var a,o;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleSubmitDrawer:",r),!c){e.next=9;break}return e.next=4,(0,y.hS)(r);case 4:a=e.sent,console.log("updateMember:",a),200===a.code?($.yw.success(n.formatMessage({id:"update.success",defaultMessage:"update success"})),t.current.reload(),je()):$.yw.error(a.message),e.next=14;break;case 9:return e.next=11,(0,y.D$)(r);case 11:o=e.sent,console.log("createMember:",o),200===o.code?($.yw.success(n.formatMessage({id:"create.success",defaultMessage:"create success"})),t.current.reload(),je()):$.yw.error(o.message);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=g()(p()().mark((function e(){return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=g()(p()().mark((function e(){var t,n;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",x,z,B),t=localStorage.getItem(w.LA8),n=l()(l()({orgUid:(null==oe?void 0:oe.uid)||"",pageNumber:String(x-1),pageSize:String(z),accessToken:t||""},B),{},{deptUid:(null==ie?void 0:ie.uid)===w.zBg?"":null==ie?void 0:ie.uid}),window.open((0,H.kG)()+"/api/v1/member/export?"+new URLSearchParams(n).toString());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(E.Z,{columns:Me,actionRef:t,cardBordered:!0,request:function(){var e=g()(p()().mark((function e(t,n,a){var o,i,u,c,d;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.current){e.next=3;break}return console.log("isLoading: 1",r.current),e.abrupt("return");case 3:return r.current=!0,$.yw.loading("正在加载"),o=t.current,i=t.pageSize,u=s()(t,_),G(u),j(o),q(i),c=l()({pageNumber:o-1,pageSize:i,orgUid:null==oe?void 0:oe.uid,deptUid:(null==ie?void 0:ie.uid)===w.zBg?"":null==ie?void 0:ie.uid},u),e.next=12,(0,y.z_)(c);case 12:return d=e.sent,console.log("queryMembersByOrg:",c,d),200===d.code||$.yw.error(d.message),r.current=!1,$.yw.destroy(),e.abrupt("return",{data:d.data.content,success:!0,total:d.data.totalElements});case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{pageSize:z,showQuickJumper:!0,showSizeChanger:!0,onChange:function(e,t){console.log("pagination onChange:",e,t),j(e),q(t)}},headerTitle:null!=ie&&null!==(ke=ie.name)&&void 0!==ke&&ke.startsWith("i18n.")?n.formatMessage({id:null==ie?void 0:ie.name,defaultMessage:null==ie?void 0:ie.name}):null==ie?void 0:ie.name,toolBarRender:function(){return[(0,L.jsx)(O.ZP,{icon:(0,L.jsx)(P.Z,{}),onClick:function(){console.log("new"),ee(void 0),f(!1),ae(!0)},type:"primary",children:n.formatMessage({id:"create.member",defaultMessage:"Create Member"})},"button"),(0,L.jsx)(O.ZP,{icon:(0,L.jsx)(D.Z,{}),type:"primary",onClick:Ce,children:n.formatMessage({id:"import",defaultMessage:"Import"})},"button"),(0,L.jsx)(O.ZP,{icon:(0,L.jsx)(R.Z,{}),type:"primary",onClick:Pe,children:n.formatMessage({id:"export",defaultMessage:"Export"})},"button"),(0,L.jsx)(O.ZP,{icon:(0,L.jsx)(F.Z,{}),type:"link",onClick:function(){(0,H.$E)()},children:n.formatMessage({id:"download.template",defaultMessage:"Download Template"})},"download")]}}),re&&(0,L.jsx)(A,{isEdit:c,member:Y,open:re,onClose:je,onSubmit:Se}),pe&&(0,L.jsx)(Q.Z,{type:w.zey,acceptType:".xls,.xlsx,.csv",isModalOpen:pe,handleSubmit:function(e){console.log("handleUploadDragSubmit",e),me(!1),null==t||t.current.reload()},handleCancel:function(){console.log("handleUploadDragCancel"),me(!1),null==t||t.current.reload()}}),ce]})},X=n(27487),Y=n(79777);function ee(e){return te.apply(this,arguments)}function te(){return(te=g()(p()().mark((function e(t){return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,I.request)("/api/v1/department/query/org",{method:"GET",params:l()(l()({},t),{},{client:w.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=g()(p()().mark((function e(t){return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,I.request)("/api/v1/department/create",{method:"POST",data:l()(l()({},t),{},{client:w.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return oe.apply(this,arguments)}function oe(){return(oe=g()(p()().mark((function e(t){return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,I.request)("/api/v1/department/update",{method:"POST",data:l()(l()({},t),{},{client:w.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return se.apply(this,arguments)}function se(){return(se=g()(p()().mark((function e(t){return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,I.request)("/api/v1/department/delete",{method:"POST",data:l()(l()({},t),{},{client:w.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=n(82669),le=n(32350),ce=n(57178),de=function(e){var t=e.open,n=e.isEdit,r=e.department,o=e.onCancel,i=e.onSubmit,s=ce.Z.useForm(),u=b()(s,1)[0],l=(0,I.useIntl)(),c=(0,a.useState)(""),d=b()(c,2),f=d[0],m=d[1],h=k((function(e){return e.departmentResult})),v=(0,S.u)((function(e){return e.currentOrg})),x=(0,W.Z)().translateString;(0,a.useEffect)((function(){t&&n?(u.setFieldsValue({uid:null==r?void 0:r.uid,parentUid:null==r?void 0:r.parentUid,name:x(null==r?void 0:r.name),description:null==r?void 0:r.description}),console.log("useEffect:",f)):u.resetFields()}),[t]);var y=function e(t,n){if(t.name.startsWith(w.VoP)?n.title=l.formatMessage({id:t.name,defaultMessage:t.name}):n.title=t.name,n.value=t.uid,t.children)for(var r=0;r<t.children.length;r++){e(t.children[r],{title:"",value:"",children:[]})}},j=(0,a.useMemo)((function(){for(var e=[],t=0;t<h.data.content.length;t++)if(h.data.content[t].name!==w.zBg){var n={title:"",value:"",children:[]};y(h.data.content[t],n),e.push(n)}return e}),[h]);return(0,L.jsx)("div",{children:(0,L.jsx)(T.Z,{title:"创建部门",open:t,forceRender:!0,onOk:function(){u.validateFields().then(function(){var e=g()(p()().mark((function e(t){var a;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={uid:n?null==r?void 0:r.uid:"",name:t.name,description:t.description,parentUid:f||void 0,orgUid:null==v?void 0:v.uid},console.log("handleSaveDep:",t,a),i(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Failed:",e),$.yw.error("创建部门失败")}))},onCancel:o,children:(0,L.jsxs)(z.A,{form:u,name:"depForm",style:{maxWidth:400},submitter:{render:function(){return null}},children:[(0,L.jsx)(q.Z,{label:"上级部门",name:"parentUid",allowClear:!0,fieldProps:{treeData:j,placeholder:"请选择上级部门(可选)",allowClear:!0,treeDefaultExpandAll:!0,onChange:function(e){console.log("onParentSelectChange:",e),m(e||"")},dropdownStyle:{maxHeight:400,overflow:"auto"}}}),(0,L.jsx)(V.Z,{label:"部门名称",name:"name",rules:[{required:!0,message:"请输入名称!"}]}),(0,L.jsx)(le.Z,{label:"部门简介",name:"description"})]})})})},fe=function(){var e=(0,I.useIntl)(),t=(0,a.useState)(!1),n=b()(t,2),r=n[0],o=n[1],i=(0,a.useState)(!1),s=b()(i,2),u=s[0],l=s[1],c=(0,S.u)((function(e){return e.currentOrg})),d=T.Z.useModal(),f=b()(d,2),m=f[0],h=f[1],v=k((function(e){return{currentDepartment:e.currentDepartment,departmentResult:e.departmentResult,insertDepartment:e.insertDepartment,upgradeDepartment:e.upgradeDepartment,removeDepartment:e.removeDepartment,setCurrentDepartment:e.setCurrentDepartment,setDepartmentResult:e.setDepartmentResult,setCurrentDepUid:e.setCurrentDepUid}})),x=v.currentDepartment,y=v.departmentResult,j=v.insertDepartment,M=v.upgradeDepartment,Z=v.removeDepartment,P=v.setCurrentDepartment,D=v.setDepartmentResult,R=v.setCurrentDepUid,F=function t(n,r){if(n.name.startsWith(w.VoP)?r.title=e.formatMessage({id:n.name,defaultMessage:n.name}):r.title=n.name,r.key=n.uid,n.children)for(var a=0;a<n.children.length;a++){var o={title:"",key:"",children:[]};t(n.children[a],o),r.children.push(o)}},E=(0,a.useMemo)((function(){for(var e=[],t=0;t<y.data.content.length;t++){var n={title:"",key:"",children:[]};F(y.data.content[t],n),e.push(n)}return e}),[y]),U=function(){var e=g()(p()().mark((function e(){var t,n;return p()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pageNumber:0,pageSize:100,orgUid:null==c?void 0:c.uid},e.next=3,ee(t);case 3:n=e.sent,console.log("queryDepartmentsByOrg:",n,t),200===n.code?D(n):$.yw.error(n.message);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){U()}),[]);var z=function(){var t=g()(p()().mark((function t(n){var r;return p()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("handleCreateDept",n),$.yw.loading(e.formatMessage({id:"creating"})),t.next=4,ne(n);case 4:r=t.sent,console.log("createDepartment:",r),200===r.code?($.yw.destroy(),$.yw.success(e.formatMessage({id:"create.success",defaultMessage:"create success"})),j(r.data),P(r.data),o(!1)):($.yw.destroy(),$.yw.error(r.message));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=g()(p()().mark((function t(n){var r;return p()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $.yw.loading(e.formatMessage({id:"updating"})),t.next=3,ae(n);case 3:r=t.sent,console.log("handleUpdateDept:",n,r),200===r.code?($.yw.destroy(),$.yw.success(e.formatMessage({id:"update.success",defaultMessage:"update success"})),P(r.data),M(r.data),o(!1)):($.yw.destroy(),$.yw.error(r.message));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=g()(p()().mark((function t(n){var r;return p()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("handleDeleteDept",n),$.yw.loading(e.formatMessage({id:"deleting"})),t.next=4,ie(n);case 4:r=t.sent,console.log("handleDeleteDept:",r),200===r.code?($.yw.destroy(),$.yw.success(e.formatMessage({id:"delete.success",defaultMessage:"delete success"})),Z(null==n?void 0:n.uid),o(!1)):($.yw.destroy(),$.yw.error(r.message));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(X.Z,{gap:"small",wrap:"wrap",style:{padding:"10px"},children:[(0,L.jsx)(O.ZP,{type:"primary",size:"small",icon:(0,L.jsx)(ue.Z,{}),onClick:function(){console.log("new dep"),l(!1),o(!0)},children:e.formatMessage({id:"createDept",defaultMessage:"createDepartment"})}),(0,L.jsx)(O.ZP,{size:"small",onClick:U,children:e.formatMessage({id:"refresh",defaultMessage:"Refresh"})}),(null==x?void 0:x.uid)!=w.zBg&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(O.ZP,{size:"small",onClick:function(){console.log("edit role"),l(!0),o(!0)},disabled:""===(null==x?void 0:x.uid),children:e.formatMessage({id:"edit",defaultMessage:"Edit"})}),(0,L.jsx)(O.ZP,{onClick:function(){return t=x,void m.confirm({title:e.formatMessage({id:"deleteTip"}),icon:(0,L.jsx)(C.Z,{}),content:"".concat(e.formatMessage({id:"deleteAffirm",defaultMessage:"Delete"}),"【").concat(t.name,"】？"),onOk:function(){V(t)},onCancel:function(){},okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"})});var t},size:"small",style:{float:"right"},danger:!0,disabled:""===(null==x?void 0:x.uid),children:e.formatMessage({id:"pages.robot.delete",defaultMessage:"Delete"})})]})]}),(0,L.jsx)(Y.Z,{defaultSelectedKeys:[(null==x?void 0:x.uid)||w.zBg],onSelect:function(e,t){console.log("selected",e,t),0!==e.length&&R(e[0].toString())},treeData:E,blockNode:!0}),r&&(0,L.jsx)(de,{open:r,isEdit:u,department:x,onCancel:function(){o(!1)},onSubmit:function(e){u?q(e):z(e)}}),h]})},pe=r.Z.Sider,me=r.Z.Content,ge=function(){var e=(0,o.Z)(),t=e.leftSiderStyle,n=e.leftSiderWidth,a=e.contentStyle;return(0,L.jsxs)(r.Z,{children:[(0,L.jsx)(pe,{width:n,style:t,children:(0,L.jsx)(fe,{})}),(0,L.jsx)(r.Z,{children:(0,L.jsx)(me,{style:a,children:(0,L.jsx)(J,{})})})]})}},6397:function(e,t,n){n.d(t,{j:function(){return d}});var r=n(73193),a=n.n(r),o=n(76711),i=n.n(o),s=n(55735),u=n(44435),l=n(83642),c=n(83890),d=(0,u.Ue)()((0,l.mW)((0,l.tJ)((0,c.n)((function(e,t){return{currentKbase:{uid:"",orgUid:""},kbaseResult:{data:{content:[]}},insertKbase:function(t){e((function(e){e.kbaseResult.data.content.unshift(t)}))},updateKbase:function(t){e((function(e){var n=e.kbaseResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Kbase with uid ".concat(t.uid," not found."))}))},setKbaseResult:function(t){var n;e({kbaseResult:t}),(null===(n=t.data)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.length)>0&&e({currentKbase:t.data.content[0]})},setCurrentKbase:function(n){var r=t().kbaseResult.data.content,o=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==o){var s=[].concat(i()(r.slice(0,o)),[n],i()(r.slice(o+1))),u=a()(a()({},t().kbaseResult),{},{data:{content:s}});e({kbaseResult:u,currentKbase:n})}else console.warn("Kbase with the specified uid not found."),e({currentKbase:n})},removeKbase:function(n){var r=t().kbaseResult.data.content,o=r.findIndex((function(e){return e.uid===n}));-1!==o?e({kbaseResult:a()(a()({},t().kbaseResult),{},{data:{content:[].concat(i()(r.slice(0,o)),i()(r.slice(o+1)))}})}):console.warn("Kbase not found in cache:",n),t().currentKbase.uid===n&&e({currentKbase:{uid:"",orgUid:""}})},deleteKbaseCache:function(){return e({},!0)}}})),{name:s.wKE})))},27487:function(e,t,n){n.d(t,{Z:function(){return M}});var r=n(44194),a=n(51865),o=n.n(a),i=n(97859),s=n(90899),u=n(37167),l=n(65759),c=n(77167);const d=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],p=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];var m=function(e,t){return o()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${n}`]:n&&d.includes(n)}})(e,t)),((e,t)=>{const n={};return p.forEach((r=>{n[`${e}-align-${r}`]=t.align===r})),n[`${e}-align-stretch`]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return f.forEach((r=>{n[`${e}-justify-${r}`]=t.justify===r})),n})(e,t)))};const g=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},h=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},v=e=>{const{componentCls:t}=e,n={};return d.forEach((e=>{n[`${t}-wrap-${e}`]={flexWrap:e}})),n},x=e=>{const{componentCls:t}=e,n={};return p.forEach((e=>{n[`${t}-align-${e}`]={alignItems:e}})),n},b=e=>{const{componentCls:t}=e,n={};return f.forEach((e=>{n[`${t}-justify-${e}`]={justifyContent:e}})),n};var y=(0,l.I$)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:r}=e,a=(0,c.IX)(e,{flexGapSM:t,flexGap:n,flexGapLG:r});return[g(a),h(a),v(a),x(a),b(a)]}),(()=>({})),{resetStyle:!1}),w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const j=r.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:a,className:l,style:c,flex:d,gap:f,children:p,vertical:g=!1,component:h="div"}=e,v=w(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:x,direction:b,getPrefixCls:j}=r.useContext(u.E_),M=j("flex",n),[Z,k,S]=y(M),C=null!=g?g:null==x?void 0:x.vertical,P=o()(l,a,null==x?void 0:x.className,M,k,S,m(M,e),{[`${M}-rtl`]:"rtl"===b,[`${M}-gap-${f}`]:(0,s.n)(f),[`${M}-vertical`]:C}),D=Object.assign(Object.assign({},null==x?void 0:x.style),c);return d&&(D.flex=d),f&&!(0,s.n)(f)&&(D.gap=f),Z(r.createElement(h,Object.assign({ref:t,className:P,style:D},(0,i.Z)(v,["justify","wrap","align"])),p))}));var M=j}}]);