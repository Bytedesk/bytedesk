"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[209],{24030:function(G,p,e){e.r(p),e.d(p,{default:function(){return x}});var c=e(34886),g=e(34347),W=e(87002),z=e(52983),y=e(76711),C=e.n(y),E=e(90819),l=e.n(E),T=e(89933),f=e.n(T),Z=e(14618),w=e(58472),S=e(53083),k=e(77108);function b(t){return m.apply(this,arguments)}function m(){return m=f()(l()().mark(function t(u){return l()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,k.request)("/api/workgroup/query",{method:"GET",params:{page:u.page,size:u.size,client:"web"}}));case 1:case"end":return o.stop()}},t)})),m.apply(this,arguments)}function j(t){var u=[{startTime:"00:00:00",endTime:"23:59:59"}];return(0,k.request)("/api/v3/create",{method:"POST",data:{nickname:t,workTimes:JSON.stringify(u),client:"web"}})}function O(t){return(0,k.request)("/api/v3/update",{method:"POST",data:{wid:t.wid,nickname:t.nickname,avatar:t.avatar,description:t.description,client:"web"}})}function P(t){return(0,k.request)("/api/v3/delete",{method:"POST",data:{wid:t,client:"web"}})}var R=(0,Z.Ue)()((0,w.mW)((0,w.tJ)((0,S.n)(function(t,u){return{defaultWorkGroup:{wid:"",nickname:"",avatar:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/avatars/workgroup_default_avatar.png",description:"\u6280\u80FD\u7EC4\u7B80\u4ECB"},workGroups:[],currentWorkGroup:{wid:"",nickname:"",avatar:"https://chainsnow.oss-cn-shenzhen.aliyuncs.com/avatars/workgroup_default_avatar.png",description:"\u6280\u80FD\u7EC4\u7B80\u4ECB"},items:[],fetchWorkGroups:function(){var s=f()(l()().mark(function i(){var a,n;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(u().workGroups.length>0)){r.next=2;break}return r.abrupt("return");case 2:return a={page:0,size:10},r.next=5,b(a);case 5:n=r.sent,console.log("workGroups",n),t({workGroups:n.data.content,items:n.data.content.map(function(h){return{key:h.wid,label:h.nickname}})}),n.data.content.length>0&&t({currentWorkGroup:n.data.content[0]});case 9:case"end":return r.stop()}},i)}));function o(){return s.apply(this,arguments)}return o}(),createWorkGroup:function(){var s=f()(l()().mark(function i(a){var n;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(a.trim().length>0)){r.next=6;break}return r.next=3,j(a);case 3:n=r.sent,console.log("createWorkGroup: ",n),n.statusCode===200?t({workGroups:[n.data].concat(C()(u().workGroups))}):console.log("createWorkGroup error");case 6:case"end":return r.stop()}},i)}));function o(i){return s.apply(this,arguments)}return o}(),updateWorkGroup:function(){var s=f()(l()().mark(function i(a){var n;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O(a);case 2:n=r.sent,console.log("updateWorkGroup",n),n.statusCode===200?t({currentWorkGroup:n.data}):console.log("updateWorkGroup error");case 5:case"end":return r.stop()}},i)}));function o(i){return s.apply(this,arguments)}return o}(),deleteWorkGroup:function(){var s=f()(l()().mark(function i(a){var n;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P(a);case 2:n=r.sent,console.log("deleteWorkGroup",a,n),n.statusCode===200?t({workGroups:u().workGroups.filter(function(h){return h.wid!==a}),currentWorkGroup:u().workGroups[0]}):console.log("deleteWorkGroup error");case 5:case"end":return r.stop()}},i)}));function o(i){return s.apply(this,arguments)}return o}(),setCurrentWorkGroup:function(o){var i=u().workGroups.find(function(a){return a.wid===o});t({currentWorkGroup:i})},deleteWorkgroupCache:function(){return t({},!0)}}}),{name:"WORKGROUP_STORE"}))),d=e(97458),$=c.Z.Header,D=c.Z.Footer,M=c.Z.Sider,F=c.Z.Content,A={minHeight:120,backgroundColor:"#EEFAE0"},U={backgroundColor:"#EEFAE0",borderRight:"1px solid #ccc"},H={backgroundColor:"#EEFAE0"},K=function(){var u=R(function(o){return{currentWorkGroup:o.currentWorkGroup}}),s=u.currentWorkGroup;return(0,d.jsx)(c.Z,{children:(0,d.jsx)(c.Z,{children:(0,d.jsx)(F,{style:A,children:(0,d.jsxs)(g.Z,{children:[(0,d.jsx)(W.Z,{span:12,children:(0,d.jsx)("div",{className:"chatkbfile-iframe-file",children:(0,d.jsx)("iframe",{id:"chatfile-iframe",src:"https://www.weikefu.net/ruankao.pdf",title:"demo",width:"100%",height:"100%",style:{border:0},"data-loaded":"true"})})}),(0,d.jsx)(W.Z,{span:12,children:(0,d.jsx)("div",{className:"chatkbfile-iframe",children:(0,d.jsx)("iframe",{id:"chat-iframe",src:"http://localhost:3034/?wid="+s.wid+"&",title:"demo",width:"100%",height:"100%",style:{border:0},"data-loaded":"true"})})})]})})})})},x=K},87002:function(G,p,e){var c=e(296);p.Z=c.Z},34347:function(G,p,e){var c=e(86806);p.Z=c.Z}}]);
