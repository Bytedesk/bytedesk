"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8766],{66916:function(e,t,n){n.d(t,{$l:function(){return w},JT:function(){return k},Xd:function(){return q},gf:function(){return P},lg:function(){return d},lz:function(){return v},p0:function(){return f},s9:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),i=n.n(c),p=n(55735),s=n(30921);function f(e){return l.apply(this,arguments)}function l(){return(l=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/query/org",{method:"GET",params:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/create",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/create/prompt",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return b.apply(this,arguments)}function b(){return(b=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/update",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/update/avatar",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/update/prompt",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return x.apply(this,arguments)}function x(){return(x=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/update/kbUid",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return V.apply(this,arguments)}function V(){return(V=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/delete",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},99885:function(e,t,n){n.d(t,{QB:function(){return k},RF:function(){return q},YO:function(){return P},YQ:function(){return S},Yg:function(){return w},kh:function(){return d},kv:function(){return v},pf:function(){return f},y:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),i=n.n(c),p=n(55735),s=n(30921);function f(e){return l.apply(this,arguments)}function l(){return(l=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/query/org",{method:"GET",params:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/create",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/update",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return b.apply(this,arguments)}function b(){return(b=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/delete",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/enable",{method:"POST",data:{uid:t.uid,enabled:t.enabled,client:p.bVn}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/deleteAll",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return x.apply(this,arguments)}function x(){return(x=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateIndex",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return V.apply(this,arguments)}function V(){return(V=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateVectorIndex",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return O.apply(this,arguments)}function O(){return(O=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/agent/text/faq-similar-questions",{method:"POST",data:o()(o()({},t),{},{client:p.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},51990:function(e,t,n){var r=n(73193),a=n.n(r),u=n(84176),o=n.n(u),c=n(86803),i=n(23864),p=n(36310),s=n(55735),f=n(30921),l=n(82421),d=(n(27015),n(28977)),h=n.n(d),m=n(44194),y=n(31549),w=["placeholder","defaultValue","value","style","toolbarKeys","maxLength","onChange","options"];t.Z=function(e){var t=e.placeholder,n=e.defaultValue,r=e.value,u=e.style,d=e.toolbarKeys,b=e.maxLength,v=e.onChange,g=(e.options,o()(e,w)),k=(0,f.useIntl)(),T=(0,i.Z)().isDarkMode,q=(0,m.useRef)(null),x=(0,m.useRef)(null);return(0,m.useEffect)((function(){if(q.current){if(!x.current){var e=new l.cW({element:q.current,theme:T?"dark":"light",placeholder:t,content:n,toolbarKeys:d,image:{uploadUrl:(0,p.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},uploader:function(e,t,n,r){console.log("uploader:",e,t,n,r);var u=h()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,o=new FormData;return o.append("file",e),o.append("fileName",u),o.append("fileType",e.type),o.append("isAvatar","false"),o.append("kbType",s.QPQ),o.append("categoryUid",""),o.append("kbUid",""),o.append("orgUid",""),o.append("client",s.bVn),new Promise((function(e,r){fetch(t,{method:"POST",headers:a()({Accept:"application/json"},n),body:o}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){c.yw.destroy(),c.yw.success("".concat(u," 上传成功"));var n={errorCode:0,data:{src:t.data.fileUrl,alt:u}};e(n)}else c.yw.destroy(),c.yw.error("".concat(u," 上传失败"))})).catch((function(e){r(e)}))}))}},video:{uploadUrl:(0,p.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},uploader:function(e,t,n,r){console.log("uploader:",e,t,n,r);var u=h()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,o=new FormData;return o.append("file",e),o.append("fileName",u),o.append("fileType",e.type),o.append("isAvatar","false"),o.append("kbType",s.QPQ),o.append("categoryUid",""),o.append("kbUid",""),o.append("client",s.bVn),new Promise((function(e,r){fetch(t,{method:"POST",headers:a()({Accept:"application/json"},n),body:o}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){c.yw.destroy(),c.yw.success("".concat(u," 上传成功"));var n={errorCode:0,data:{src:t.data.fileUrl,poster:"https://www.weiyuai.cn/avatars/video_poster.png"}};e(n)}else c.yw.destroy(),c.yw.error("".concat(u," 上传失败"))})).catch((function(e){r(e)}))}))}},attachment:{uploadUrl:(0,p.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},uploader:function(e,t,n,r){console.log("uploader:",e,t,n,r);var u=h()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,o=new FormData;return o.append("file",e),o.append("fileName",u),o.append("fileType",e.type),o.append("isAvatar","false"),o.append("kbType",s.QPQ),o.append("categoryUid",""),o.append("kbUid",""),o.append("client",s.bVn),new Promise((function(e,r){fetch(t,{method:"POST",headers:a()({Accept:"application/json"},n),body:o}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){c.yw.destroy(),c.yw.success("".concat(u," 上传成功"));var n={errorCode:0,data:{href:t.data.fileUrl,fileName:u}};e(n)}else c.yw.destroy(),c.yw.error("".concat(u," 上传失败"))})).catch((function(e){r(e)}))}))}},onChange:function(e){var t=e.getText(),n=t.length;if(console.log("currentLength:",n,b),n>b){c.yw.warning(k.formatMessage({id:"character.limit.reached"},{limit:b})||"已达到 ".concat(b," 字符限制"));var r,a,u=t.substring(0,b);if(setTimeout((function(){x.current&&x.current.setContent(u)}),0),"function"==typeof v)v((null===(r=x.current)||void 0===r?void 0:r.getHtml())||"",(null===(a=x.current)||void 0===a?void 0:a.getMarkdown())||"",u)}else"function"==typeof v&&v(e.getHtml(),e.getMarkdown(),e.getText())}});x.current=e}return function(){x.current&&(x.current.destroy(),x.current=null)}}}),[]),(0,m.useEffect)((function(){x.current&&r!==x.current.getHtml()&&x.current.setContent(r||"")}),[r]),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",a()(a()({ref:q},g),{},{style:a()({height:"100%"},u)}))})}}}]);