"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1066],{56862:function(e,t,n){n.d(t,{$l:function(){return m},M8:function(){return y},Xd:function(){return x},gf:function(){return M},lg:function(){return f},lz:function(){return b},p0:function(){return l}});var r=n(90819),a=n.n(r),u=n(73193),s=n.n(u),o=n(89933),i=n.n(o),c=n(94976),p=n(4628);function l(e){return d.apply(this,arguments)}function d(){return(d=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/query/org",{method:"GET",params:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/create",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/update",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/update/avatar",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return w.apply(this,arguments)}function w(){return(w=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/update/kbUid",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/update/prompt/text",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return q.apply(this,arguments)}function q(){return(q=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/delete",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},47926:function(e,t,n){n.d(t,{KF:function(){return x},VW:function(){return l},ZJ:function(){return f},r$:function(){return b},sK:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),s=n.n(u),o=n(89933),i=n.n(o),c=n(94976),p=n(4628);function l(e){return d.apply(this,arguments)}function d(){return(d=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/settings/query/org",{method:"GET",params:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/settings/create",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/settings/update",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/settings/delete",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return w.apply(this,arguments)}function w(){return(w=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/api/v1/robot/settings/publish",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},97799:function(e,t,n){var r=n(90819),a=n.n(r),u=n(73193),s=n.n(u),o=n(89933),i=n.n(o),c=n(45332),p=n.n(c),l=n(44194),d=n(69705),f=n(27729),h=n(1282),m=n(12461),v=n(4628),b=n(43388),g=n(47926),x=n(31549);t.Z=function(e){var t=e.open,n=e.onOpenChange,r=e.orgUid,u=e.record,o=e.onSuccess,c=(0,v.useIntl)(),w=d.Z.useForm(),y=p()(w,1)[0];(0,l.useEffect)((function(){var e,n;t&&(u?y.setFieldsValue({name:u.name||"",description:u.description||"",enabled:null===(e=u.enabled)||void 0===e||e,isDefault:null!==(n=u.isDefault)&&void 0!==n&&n}):(y.resetFields(),y.setFieldsValue({enabled:!0,isDefault:!1})))}),[t,u,y]);var k=function(){var e=i()(a()().mark((function e(){var t,i,p;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.validateFields();case 3:if(t=e.sent,i=s()(s()({},t),{},{orgUid:r,uid:null==u?void 0:u.uid}),null==u||!u.uid){e.next=11;break}return e.next=8,(0,g.sK)(i);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,(0,g.ZJ)(i);case 13:e.t0=e.sent;case 14:(p=e.t0)&&200===p.code?(b.yw.success(c.formatMessage({id:null!=u&&u.uid?"common.updated":"common.created",defaultMessage:null!=u&&u.uid?"更新成功":"创建成功"})),null==o||o(),n(!1)):b.yw.error((null==p?void 0:p.message)||"操作失败"),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),console.error("Error saving robot settings:",e.t1);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)(f.Z,{title:(0,x.jsx)(v.FormattedMessage,{id:null!=u&&u.uid?"robot.settings.template.edit":"robot.settings.template.create",defaultMessage:null!=u&&u.uid?"编辑模板":"新建模板"}),open:t,onOk:k,onCancel:function(){return n(!1)},okText:(0,x.jsx)(v.FormattedMessage,{id:"common.save",defaultMessage:"保存"}),cancelText:(0,x.jsx)(v.FormattedMessage,{id:"common.cancel",defaultMessage:"取消"}),destroyOnHidden:!0,width:600,children:(0,x.jsxs)(d.Z,{form:y,layout:"vertical",preserve:!1,children:[(0,x.jsx)(d.Z.Item,{name:"name",label:(0,x.jsx)(v.FormattedMessage,{id:"robot.settings.template.name",defaultMessage:"模板名称"}),rules:[{required:!0,message:c.formatMessage({id:"required",defaultMessage:"此项为必填项"})}],children:(0,x.jsx)(h.Z,{placeholder:c.formatMessage({id:"robot.settings.template.name.placeholder",defaultMessage:"请输入模板名称"})})}),(0,x.jsx)(d.Z.Item,{name:"description",label:(0,x.jsx)(v.FormattedMessage,{id:"description",defaultMessage:"描述"}),children:(0,x.jsx)(h.Z.TextArea,{rows:3,placeholder:c.formatMessage({id:"robot.settings.template.description.placeholder",defaultMessage:"请输入模板描述"})})}),(0,x.jsx)(d.Z.Item,{name:"enabled",label:(0,x.jsx)(v.FormattedMessage,{id:"enabled",defaultMessage:"启用"}),valuePropName:"checked",children:(0,x.jsx)(m.Z,{})})]})})}}}]);