"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7646],{93689:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(83910),r=a(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},o=a(54183),u=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var i=r.forwardRef(u)},40439:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(83910),r=a(44194),s={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},o=a(54183),u=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var i=r.forwardRef(u)},2484:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(83910),r=a(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},o=a(54183),u=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var i=r.forwardRef(u)},59005:function(e,t,a){var n=a(94433),r=a(38956),s=a(57343),o=a(44194),u=a(45441),i=a(9953),l=a(31549),d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],c=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(e,t){var a=e.fieldProps,c=e.children,p=e.params,f=e.proFieldProps,m=e.mode,g=e.valueEnum,h=e.request,v=e.showSearch,b=e.options,y=(0,r.Z)(e,d),k=(0,o.useContext)(u.Z);return(0,l.jsx)(i.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(g),request:h,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:b,mode:m,showSearch:v,getPopupContainer:k.getPopupContainer},a),ref:t,proFieldProps:f},y),{},{children:c}))},f=o.forwardRef((function(e,t){var a=e.fieldProps,d=e.children,p=e.params,f=e.proFieldProps,m=e.mode,g=e.valueEnum,h=e.request,v=e.options,b=(0,r.Z)(e,c),y=(0,n.Z)({options:v,mode:m||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},a),k=(0,o.useContext)(u.Z);return(0,l.jsx)(i.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(g),request:h,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:k.getPopupContainer},y),ref:t,proFieldProps:f},b),{},{children:d}))})),m=o.forwardRef(p);m.SearchSelect=f,m.displayName="ProFormComponent",t.Z=m},50628:function(e,t,a){var n=a(94433),r=a(38956),s=a(44194),o=a(9953),u=a(31549),i=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],l=s.forwardRef((function(e,t){var a=e.fieldProps,s=e.unCheckedChildren,l=e.checkedChildren,d=e.proFieldProps,c=(0,r.Z)(e,i);return(0,u.jsx)(o.Z,(0,n.Z)({valueType:"switch",fieldProps:(0,n.Z)({unCheckedChildren:s,checkedChildren:l},a),ref:t,valuePropName:"checked",proFieldProps:d,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},c))}));t.Z=l},86702:function(e,t,a){var n=a(32906),r=a(94433),s=a(38956),o=a(81424),u=a(69705),i=a(65641),l=a(34573),d=a(44194),c=a(9953),p=a(31549),f=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],g="text",h=function(e){var t=(0,o.Z)(e.open||!1,{value:e.open,onChange:e.onOpenChange}),a=(0,n.Z)(t,2),s=a[0],l=a[1];return(0,p.jsx)(u.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(t){var a,n=t.getFieldValue(e.name||[]);return(0,p.jsx)(i.Z,(0,r.Z)((0,r.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return l(e)},content:(0,p.jsxs)("div",{style:{padding:"4px 0"},children:[null===(a=e.statusRender)||void 0===a?void 0:a.call(e,n),e.strengthText?(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)("span",{children:e.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},e.popoverProps),{},{open:s,children:e.children}))}})},v=function(e){var t=e.fieldProps,a=e.proFieldProps,n=(0,s.Z)(e,f);return(0,p.jsx)(c.Z,(0,r.Z)({valueType:g,fieldProps:t,filedConfig:{valueType:g},proFieldProps:a},n))};v.Password=function(e){var t=e.fieldProps,a=e.proFieldProps,o=(0,s.Z)(e,m),u=(0,d.useState)(!1),i=(0,n.Z)(u,2),f=i[0],v=i[1];return null!=t&&t.statusRender&&o.name?(0,p.jsx)(h,{name:o.name,statusRender:null==t?void 0:t.statusRender,popoverProps:null==t?void 0:t.popoverProps,strengthText:null==t?void 0:t.strengthText,open:f,onOpenChange:v,children:(0,p.jsx)("div",{children:(0,p.jsx)(c.Z,(0,r.Z)({valueType:"password",fieldProps:(0,r.Z)((0,r.Z)({},(0,l.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(e){var a;null==t||null===(a=t.onBlur)||void 0===a||a.call(t,e),v(!1)},onClick:function(e){var a;null==t||null===(a=t.onClick)||void 0===a||a.call(t,e),v(!0)}}),proFieldProps:a,filedConfig:{valueType:g}},o))})}):(0,p.jsx)(c.Z,(0,r.Z)({valueType:"password",fieldProps:t,proFieldProps:a,filedConfig:{valueType:g}},o))},v.displayName="ProFormComponent",t.Z=v},60241:function(e,t,a){var n=a(94433),r=a(38956),s=a(44194),o=a(9953),u=a(31549),i=["fieldProps","proFieldProps"],l=function(e,t){var a=e.fieldProps,s=e.proFieldProps,l=(0,r.Z)(e,i);return(0,u.jsx)(o.Z,(0,n.Z)({ref:t,valueType:"textarea",fieldProps:a,proFieldProps:s},l))};t.Z=s.forwardRef(l)},84553:function(e,t,a){a.d(t,{Bv:function(){return S},L0:function(){return j},QB:function(){return x},RF:function(){return M},YO:function(){return F},YQ:function(){return E},Yg:function(){return v},kh:function(){return f},kv:function(){return y},pf:function(){return c},y:function(){return g}});var n=a(90819),r=a.n(n),s=a(73193),o=a.n(s),u=a(89933),i=a.n(u),l=a(94976),d=a(4628);function c(e){return p.apply(this,arguments)}function p(){return(p=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/query/org",{method:"GET",params:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/create",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/update",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/delete",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/enable",{method:"POST",data:{uid:t.uid,enabled:t.enabled,channel:l.XtJ}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return q.apply(this,arguments)}function q(){return(q=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/deleteAll",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return w.apply(this,arguments)}function w(){return(w=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/updateIndex",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return P.apply(this,arguments)}function P(){return(P=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/updateVectorIndex",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return Z.apply(this,arguments)}function Z(){return(Z=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/updateAllIndex",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/faq/updateAllVectorIndex",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return T.apply(this,arguments)}function T(){return(T=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/robot/agent/text/faq-similar-questions",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},13845:function(e,t,a){a.d(t,{AP:function(){return c},_J:function(){return v},t5:function(){return g},v_:function(){return f}});var n=a(90819),r=a.n(n),s=a(73193),o=a.n(s),u=a(89933),i=a.n(u),l=a(94976),d=a(4628);function c(e){return p.apply(this,arguments)}function p(){return(p=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/kbase/query/org",{method:"GET",params:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/kbase/create",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/kbase/update",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=i()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/kbase/delete",{method:"POST",data:o()(o()({},t),{},{channel:l.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},18299:function(e,t,a){a.d(t,{Ck:function(){return v},dv:function(){return x},pw:function(){return y},qL:function(){return f},z4:function(){return g}});var n=a(90819),r=a.n(n),s=a(89933),o=a.n(s),u=a(73193),i=a.n(u),l=a(94976),d=a(4628),c="/api/v1/quickbutton";function p(e){var t;return i()(i()({},e),{},{channel:null!==(t=null==e?void 0:e.channel)&&void 0!==t?t:l.XtJ})}function f(e){return m.apply(this,arguments)}function m(){return(m=o()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("".concat(c,"/query/org"),{method:"GET",params:p(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=o()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("".concat(c,"/create"),{method:"POST",data:p(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=o()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("".concat(c,"/update"),{method:"POST",data:p(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=o()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("".concat(c,"/delete"),{method:"POST",data:p(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return q.apply(this,arguments)}function q(){return(q=o()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("".concat(c,"/enable"),{method:"POST",data:p(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},21850:function(e,t,a){var n=a(25553);t.Z=function(){var e=(0,n.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto",padding:10}}}},88156:function(e,t,a){a.r(t),a.d(t,{default:function(){return ae}});var n=a(21850),r=a(44194),s=a(6853),o=a(84176),u=a.n(o),i=a(73193),l=a.n(i),d=a(86222),c=a.n(d),p=a(90819),f=a.n(p),m=a(89933),g=a.n(m),h=a(45332),v=a.n(h),b=a(43388),y=a(18299),k=a(88722),x=a(74171),q=a(44565),M=a(4628),w=a(27729),F=a(30310),P=a(92351),j=a(12461),Z=a(69533),S=a(28508),C=a(93689),E=a(40439),T=a(54881),A=a(10162),U=a(2484),O=a(76711),R=a.n(O),Q=a(84553),I=a(13845),L=a(94976),B=a(99036),z=a(59005),N=a(86702),D=a(60241),J=a(50628),X=a(30857),V=a(31549),G=["URL","FAQ","FORM","IMAGE","PHONE","EMAIL"],H=["URL","FAQ"],_=H[0]||"URL",K=function(e){var t,a,n=e.open,s=e.isEdit,o=e.quickbutton,u=e.onClose,i=e.onSubmit,l=B.A.useForm(),d=v()(l,1)[0],c=(0,M.useIntl)(),p=(0,r.useState)(_),m=v()(p,2),h=m[0],y=m[1],q=(0,x.u)((function(e){return e.currentOrg})),w=(0,k.Z)().translateString,P=(0,r.useState)([]),j=v()(P,2),S=j[0],C=j[1],E=(0,r.useState)([]),T=v()(E,2),A=T[0],U=T[1],O=(0,r.useState)(!1),K=v()(O,2),W=K[0],Y=K[1],$=(0,r.useState)(!1),ee=v()($,2),te=ee[0],ae=ee[1],ne=(0,r.useState)(),re=v()(ne,2),se=re[0],oe=re[1],ue=(0,r.useMemo)((function(){return G.map((function(e){return{value:e,label:c.formatMessage({id:"quickbutton.type.".concat(e),defaultMessage:e}),disabled:!H.includes(e)&&(null==o?void 0:o.type)!==e}}))}),[c,null==o?void 0:o.type]),ie=(0,r.useCallback)((function(){var e,t,a,r,s,u,i,l,c,p,f,m,g,h,v,b;if(!n)return d.resetFields(),y(_),oe(void 0),C([]),void U([]);var k=(null==o?void 0:o.type)||_;y(k);var x="FAQ"===k?null==o?void 0:o.kbUid:void 0;if(oe(x),"FAQ"!==k)U([]);else{var q,M,w,F=null==o||null===(q=o.payload)||void 0===q?void 0:q.faqUid;if(F)U([{uid:F,question:null==o||null===(M=o.payload)||void 0===M?void 0:M.faqQuestion,answer:null==o||null===(w=o.payload)||void 0===w?void 0:w.faqAnswer}]);else U([])}d.setFieldsValue({title:null==o?void 0:o.title,subtitle:null==o?void 0:o.subtitle,description:null==o?void 0:o.description,icon:null==o?void 0:o.icon,color:null==o?void 0:o.color,badge:null==o?void 0:o.badge,code:null==o?void 0:o.code,imageUrl:null==o?void 0:o.imageUrl,content:null==o?void 0:o.content,type:k,orderIndex:null!==(e=null==o?void 0:o.orderIndex)&&void 0!==e?e:0,highlight:null!==(t=null==o?void 0:o.highlight)&&void 0!==t&&t,enabled:null===(a=null==o?void 0:o.enabled)||void 0===a||a,kbUid:x,payloadFaqUid:null==o||null===(r=o.payload)||void 0===r?void 0:r.faqUid,payloadFaqQuestion:null==o||null===(s=o.payload)||void 0===s?void 0:s.faqQuestion,payloadFaqAnswer:null==o||null===(u=o.payload)||void 0===u?void 0:u.faqAnswer,payloadUrl:null==o||null===(i=o.payload)||void 0===i?void 0:i.url,payloadUrlTarget:null!==(l=null==o||null===(c=o.payload)||void 0===c?void 0:c.urlTarget)&&void 0!==l?l:"_blank",payloadFormSchema:null==o||null===(p=o.payload)||void 0===p?void 0:p.formSchema,payloadImageUrl:null==o||null===(f=o.payload)||void 0===f?void 0:f.imageUrl,payloadPhoneNumber:null==o||null===(m=o.payload)||void 0===m?void 0:m.phoneNumber,payloadEmailAddress:null==o||null===(g=o.payload)||void 0===g?void 0:g.emailAddress,payloadEmailSubject:null==o||null===(h=o.payload)||void 0===h?void 0:h.emailSubject,payloadEmailBody:null==o||null===(v=o.payload)||void 0===v?void 0:v.emailBody,payloadCustomCode:null==o||null===(b=o.payload)||void 0===b?void 0:b.customCode})}),[d,n,o]);(0,r.useEffect)((function(){ie()}),[ie]);var le=(0,r.useCallback)(g()(f()().mark((function e(){var t,a,n,r;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=q&&q.uid){e.next=3;break}return C([]),e.abrupt("return");case 3:return Y(!0),e.prev=4,e.next=7,(0,I.AP)({pageNumber:0,pageSize:100,orgUid:q.uid,type:L.QPQ});case 7:200===(t=e.sent).code?(n=R()((null==t||null===(a=t.data)||void 0===a?void 0:a.content)||[]),(r=d.getFieldValue("kbUid"))&&!n.some((function(e){return(null==e?void 0:e.uid)===r}))&&n.push({uid:r,name:c.formatMessage({id:"quickbutton.kbase.missingOption",defaultMessage:"已删除知识库 ({uid})"},{uid:r})}),C(n)):b.yw.error(t.message||c.formatMessage({id:"request.failed",defaultMessage:"Request failed"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("QuickButtonDrawer.loadKbases",e.t0),b.yw.error(c.formatMessage({id:"quickbutton.kbase.loadError",defaultMessage:"知识库加载失败"}));case 15:return e.prev=15,Y(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])}))),[null==q?void 0:q.uid,d,c]),de=(0,r.useCallback)(function(){var e=g()(f()().mark((function e(t){var a,n,r,s,u,i;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&null!=q&&q.uid){e.next=3;break}return U([]),e.abrupt("return");case 3:return ae(!0),e.prev=4,e.next=7,(0,Q.pf)({pageNumber:0,pageSize:200,orgUid:q.uid,kbUid:t});case 7:200===(a=e.sent).code?(r=((null==a||null===(n=a.data)||void 0===n?void 0:n.content)||[]).filter((function(e){return Boolean(null==e?void 0:e.uid)})).map((function(e){return{uid:e.uid,question:e.question,answer:e.answer}})),(s=d.getFieldValue("payloadFaqUid"))&&!r.some((function(e){return e.uid===s}))&&r.push({uid:s,question:(null==o||null===(u=o.payload)||void 0===u?void 0:u.faqQuestion)||c.formatMessage({id:"quickbutton.faq.missingOption",defaultMessage:"已删除常见问题 ({uid})"},{uid:s}),answer:null==o||null===(i=o.payload)||void 0===i?void 0:i.faqAnswer}),U(r)):b.yw.error(a.message||c.formatMessage({id:"request.failed",defaultMessage:"Request failed"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("QuickButtonDrawer.loadFaqs",e.t0),b.yw.error(c.formatMessage({id:"quickbutton.faq.loadError",defaultMessage:"常见问题加载失败"}));case 15:return e.prev=15,ae(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[null==q?void 0:q.uid,d,c,null==o||null===(t=o.payload)||void 0===t?void 0:t.faqAnswer,null==o||null===(a=o.payload)||void 0===a?void 0:a.faqQuestion]);(0,r.useEffect)((function(){n&&"FAQ"===h&&le()}),[le,n,h]),(0,r.useEffect)((function(){n&&"FAQ"===h&&(se?de(se):U([]))}),[de,n,se,h]);return(0,V.jsx)(X.Z,{title:s?c.formatMessage({id:"quickbutton.drawer.title.edit",defaultMessage:"Edit Quick Button"}):c.formatMessage({id:"quickbutton.drawer.title.create",defaultMessage:"Create Quick Button"}),width:720,open:n,onClose:u,destroyOnClose:!0,extra:(0,V.jsxs)(F.Z,{children:[(0,V.jsx)(Z.ZP,{onClick:u,children:(0,V.jsx)(V.Fragment,{children:c.formatMessage({id:"pages.common.cancel",defaultMessage:"Cancel"})})}),(0,V.jsx)(Z.ZP,{type:"primary",onClick:function(){d.validateFields().then((function(e){var t,a,n,r,s,u,l=(e.title||"").trim();if(l){var d,p=e.payloadFaqUid&&"FAQ"===h?A.find((function(t){return t.uid===e.payloadFaqUid}))||((null==o||null===(t=o.payload)||void 0===t?void 0:t.faqUid)===e.payloadFaqUid?{question:null==o||null===(a=o.payload)||void 0===a?void 0:a.faqQuestion,answer:null==o||null===(n=o.payload)||void 0===n?void 0:n.faqAnswer}:void 0):void 0;switch(h){case"FAQ":d={faqUid:e.payloadFaqUid,faqQuestion:null==p?void 0:p.question,faqAnswer:null==p?void 0:p.answer};break;case"URL":d={url:e.payloadUrl,urlTarget:e.payloadUrlTarget||"_blank"};break;case"FORM":d={formSchema:e.payloadFormSchema};break;case"IMAGE":d={imageUrl:e.payloadImageUrl};break;case"PHONE":d={phoneNumber:e.payloadPhoneNumber};break;case"EMAIL":d={emailAddress:e.payloadEmailAddress,emailSubject:e.payloadEmailSubject,emailBody:e.payloadEmailBody};break;default:d=void 0}var f=d?Object.entries(d).filter((function(e){var t=v()(e,2)[1];return null!=t&&""!==t})):[],m=f.length>0?Object.fromEntries(f):void 0;i({uid:null==o?void 0:o.uid,title:l,subtitle:e.subtitle,description:e.description,icon:e.icon,color:e.color,badge:e.badge,code:e.code,imageUrl:e.imageUrl,content:e.content,type:h,orderIndex:null!==(r=e.orderIndex)&&void 0!==r?r:0,highlight:null!==(s=e.highlight)&&void 0!==s&&s,enabled:null===(u=e.enabled)||void 0===u||u,kbUid:"FAQ"===h?e.kbUid:void 0,payload:m})}else b.yw.error(c.formatMessage({id:"quickbutton.title.required",defaultMessage:"Please enter a title"}))})).catch((function(){b.yw.error(c.formatMessage({id:"form.validation.error",defaultMessage:"Please check the form inputs."}))}))},children:(0,V.jsx)(V.Fragment,{children:c.formatMessage({id:"pages.common.save",defaultMessage:"Save"})})})]}),children:(0,V.jsxs)(B.A,{form:d,layout:"vertical",submitter:!1,children:[(0,V.jsx)(z.Z,{name:"type",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.type",defaultMessage:"Type"}),options:ue,rules:[{required:!0,message:c.formatMessage({id:"quickbutton.type.required",defaultMessage:"Please choose a type"})}],fieldProps:{onChange:function(e){y(e),"FAQ"!==e&&(oe(void 0),U([]),d.setFieldsValue({kbUid:void 0,payloadFaqUid:void 0,payloadFaqQuestion:void 0,payloadFaqAnswer:void 0})),"URL"===e&&d.setFieldsValue({payloadUrl:void 0,payloadUrlTarget:"_blank"})}}}),(0,V.jsx)(N.Z,{name:"title",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.title",defaultMessage:"Title"}),rules:[{required:!0,message:c.formatMessage({id:"quickbutton.title.required",defaultMessage:"Please enter a title"})}]}),"FAQ"===h&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(z.Z,{name:"kbUid",label:(0,V.jsx)(M.FormattedMessage,{id:"faq.kbase.select",defaultMessage:"选择常见问题知识库"}),options:S.filter((function(e){return Boolean(null==e?void 0:e.uid)})).map((function(e){return{label:w(e.name)||e.name||e.uid,value:e.uid}})),rules:[{required:!0,message:c.formatMessage({id:"quickbutton.payload.faq.kb.required",defaultMessage:"请选择知识库"})}],fieldProps:{showSearch:!0,allowClear:!0,loading:W,optionFilterProp:"label",placeholder:c.formatMessage({id:"quickbutton.payload.faq.kb.placeholder",defaultMessage:"Select a knowledge base"}),onChange:function(e){oe(e),d.setFieldsValue({kbUid:e,payloadFaqUid:void 0,payloadFaqQuestion:void 0,payloadFaqAnswer:void 0})},disabled:!(null!=q&&q.uid)}}),(0,V.jsx)(z.Z,{name:"payloadFaqUid",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload.faq.uid",defaultMessage:"FAQ Identifier"}),options:A.map((function(e){return{label:w(e.question)||e.question||e.uid,value:e.uid}})),rules:[{required:!0,message:c.formatMessage({id:"quickbutton.payload.faq.uid.required",defaultMessage:"请选择常见问题"})}],fieldProps:{showSearch:!0,allowClear:!0,loading:te,optionFilterProp:"label",placeholder:c.formatMessage({id:"quickbutton.payload.faq.uid.placeholder",defaultMessage:"Select FAQ"}),onChange:function(e){return function(e){if(e){var t=A.find((function(t){return t.uid===e}));d.setFieldsValue({payloadFaqUid:e,payloadFaqQuestion:null==t?void 0:t.question,payloadFaqAnswer:null==t?void 0:t.answer})}else d.setFieldsValue({payloadFaqUid:void 0,payloadFaqQuestion:void 0,payloadFaqAnswer:void 0})}(e)},disabled:!se}})]}),"URL"===h&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(N.Z,{name:"payloadUrl",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload.url",defaultMessage:"URL"}),rules:[{required:!0,message:c.formatMessage({id:"quickbutton.payload.url.required",defaultMessage:"Please input URL"})}]}),(0,V.jsx)(z.Z,{name:"payloadUrlTarget",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload.urlTarget",defaultMessage:"Open link in"}),options:[{label:c.formatMessage({id:"quickbutton.payload.urlTarget.blank",defaultMessage:"New window"}),value:"_blank"}],fieldProps:{disabled:!0}})]}),"FORM"===h&&(0,V.jsx)(D.Z,{name:"payloadFormSchema",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload.form",defaultMessage:"Form Schema"}),rules:[{required:!0,message:c.formatMessage({id:"quickbutton.payload.form.required",defaultMessage:"Please input schema"})}],fieldProps:{rows:3}}),"IMAGE"===h&&(0,V.jsx)(N.Z,{name:"payloadImageUrl",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload.image",defaultMessage:"Image URL"}),rules:[{required:!0,message:c.formatMessage({id:"quickbutton.payload.image.required",defaultMessage:"Please input image url"})}]}),"PHONE"===h&&(0,V.jsx)(N.Z,{name:"payloadPhoneNumber",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload.phone",defaultMessage:"Phone"}),rules:[{required:!0,message:c.formatMessage({id:"quickbutton.payload.phone.required",defaultMessage:"Please input phone"})}]}),"EMAIL"===h&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(N.Z,{name:"payloadEmailAddress",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload.email",defaultMessage:"Email"}),rules:[{required:!0,message:c.formatMessage({id:"quickbutton.payload.email.required",defaultMessage:"Please input email"})}]}),(0,V.jsx)(N.Z,{name:"payloadEmailSubject",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload.email.subject",defaultMessage:"Email Subject"})}),(0,V.jsx)(D.Z,{name:"payloadEmailBody",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload.email.body",defaultMessage:"Email Body"}),fieldProps:{rows:3}})]}),(0,V.jsx)(J.Z,{name:"enabled",label:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.enabled",defaultMessage:"Enabled"})})]})})},W=a(67242),Y=["current","pageSize"],$=["FAQ","URL","FORM","IMAGE","PHONE","EMAIL"],ee=function(){var e=(0,M.useIntl)(),t=(0,r.useRef)(),a=(0,k.Z)().translateString,n=(0,x.u)((function(e){return e.currentOrg})),s=(0,r.useState)(!1),o=v()(s,2),i=o[0],d=o[1],p=(0,r.useState)(!1),m=v()(p,2),h=m[0],O=m[1],R=(0,r.useState)(),Q=v()(R,2),I=Q[0],L=Q[1],B=(0,r.useState)([]),z=v()(B,2),N=z[0],D=z[1],J=(0,r.useState)([]),X=v()(J,2),G=X[0],H=X[1],_=(0,r.useMemo)((function(){return $.reduce((function(t,a){return t[a]={text:e.formatMessage({id:"quickbutton.type.".concat(a),defaultMessage:a})},t}),{})}),[e]),ee=(0,r.useCallback)((function(){D([]),H([])}),[]),te=(0,r.useCallback)((function(){L(void 0),O(!1),d(!0)}),[]),ae=(0,r.useCallback)((function(e){L(e),O(!0),d(!0)}),[]),ne=(0,r.useCallback)((function(n){var r;w.Z.confirm({title:e.formatMessage({id:"pages.common.deleteTip",defaultMessage:"Delete Confirmation"}),content:e.formatMessage({id:"pages.common.deleteConfirm"},{name:a(n.title)||n.uid}),okText:e.formatMessage({id:"pages.common.ok",defaultMessage:"OK"}),cancelText:e.formatMessage({id:"pages.common.cancel",defaultMessage:"Cancel"}),onOk:(r=g()(f()().mark((function a(){var r,s,o;return f()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=b.yw.loading(e.formatMessage({id:"deleting",defaultMessage:"Deleting"})),a.next=3,(0,y.pw)({uid:n.uid});case 3:s=a.sent,null==r||r(),200===s.code?(b.yw.success(e.formatMessage({id:"delete.success",defaultMessage:"Delete Success"})),ee(),null===(o=t.current)||void 0===o||o.reloadAndRest()):b.yw.error(s.message||e.formatMessage({id:"delete.error",defaultMessage:"Delete Error"}));case 6:case"end":return a.stop()}}),a)}))),function(){return r.apply(this,arguments)})})}),[e,ee,a]),re=(0,r.useCallback)(function(){var a=g()(f()().mark((function a(n,r){var s,o;return f()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,y.dv)({uid:n.uid,enabled:r});case 2:200===(s=a.sent).code?(b.yw.success(r?e.formatMessage({id:"enable.success",defaultMessage:"Enabled"}):e.formatMessage({id:"disable.success",defaultMessage:"Disabled"})),null===(o=t.current)||void 0===o||o.reload()):b.yw.error(s.message||e.formatMessage({id:"request.failed",defaultMessage:"Request failed"}));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),[e]),se=(0,r.useCallback)(function(){var a=g()(f()().mark((function a(n){var r,s,o,u,i,l;return f()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==G.length){a.next=2;break}return a.abrupt("return");case 2:s=b.yw.loading(n?e.formatMessage({id:"enabling",defaultMessage:"Enabling"}):e.formatMessage({id:"disabling",defaultMessage:"Disabling"})),o=0,u=c()(G),a.prev=5,u.s();case 7:if((i=u.n()).done){a.next=15;break}return l=i.value,a.next=11,(0,y.dv)({uid:l.uid,enabled:n});case 11:200===a.sent.code&&(o+=1);case 13:a.next=7;break;case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(5),u.e(a.t0);case 20:return a.prev=20,u.f(),a.finish(20);case 23:null==s||s(),b.yw.success(e.formatMessage({id:n?"quickbutton.batch.enable.result":"quickbutton.batch.disable.result",defaultMessage:n?"Enabled {success}/{total}":"Disabled {success}/{total}"},{success:o,total:G.length})),ee(),null===(r=t.current)||void 0===r||r.reloadAndRest();case 27:case"end":return a.stop()}}),a,null,[[5,17,20,23]])})));return function(e){return a.apply(this,arguments)}}(),[e,ee,G]),oe=(0,r.useCallback)((function(){var a;0!==G.length&&w.Z.confirm({title:e.formatMessage({id:"batch.deleteTip",defaultMessage:"Delete Selected"}),content:e.formatMessage({id:"batch.deleteAffirm"},{count:G.length}),okText:e.formatMessage({id:"pages.common.ok",defaultMessage:"OK"}),cancelText:e.formatMessage({id:"pages.common.cancel",defaultMessage:"Cancel"}),onOk:(a=g()(f()().mark((function a(){var n,r,s,o,u;return f()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=b.yw.loading(e.formatMessage({id:"deleting",defaultMessage:"Deleting"})),s=c()(G),a.prev=2,s.s();case 4:if((o=s.n()).done){a.next=10;break}return u=o.value,a.next=8,(0,y.pw)({uid:u.uid});case 8:a.next=4;break;case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(2),s.e(a.t0);case 15:return a.prev=15,s.f(),a.finish(15);case 18:null==r||r(),ee(),null===(n=t.current)||void 0===n||n.reloadAndRest();case 21:case"end":return a.stop()}}),a,null,[[2,12,15,18]])}))),function(){return a.apply(this,arguments)})})}),[e,G,ee]),ue=(0,r.useCallback)(function(){var a=g()(f()().mark((function a(r){var s,o,u,i;return f()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null!=n&&n.uid){a.next=3;break}return b.yw.error(e.formatMessage({id:"quickbutton.notice.needOrg",defaultMessage:"Please select an organization first."})),a.abrupt("return");case 3:if(s=l()(l()({},r),{},{orgUid:n.uid}),o=b.yw.loading(e.formatMessage({id:h?"updating":"creating"})),!h){a.next=11;break}return a.next=8,(0,y.Ck)(s);case 8:a.t0=a.sent,a.next=14;break;case 11:return a.next=13,(0,y.z4)(s);case 13:a.t0=a.sent;case 14:u=a.t0,null==o||o(),200===u.code?(b.yw.success(e.formatMessage({id:h?"update.success":"create.success"})),d(!1),null===(i=t.current)||void 0===i||i.reloadAndRest()):b.yw.error(u.message||e.formatMessage({id:"request.failed",defaultMessage:"Request failed"}));case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[null==n?void 0:n.uid,e,h]),ie=(0,r.useCallback)((function(t){var n=(t.type||"FAQ").toUpperCase(),r=t.payload||{};if("FAQ"===n){var s=a(r.faqQuestion)||r.faqQuestion||r.faqUid||"-",o=a(r.faqAnswer)||r.faqAnswer,u=(0,V.jsxs)(F.Z,{direction:"vertical",size:4,children:[(0,V.jsx)("span",{children:s}),o&&(0,V.jsx)("span",{style:{color:"#999"},children:o})]});return(0,V.jsx)(P.Z,{title:u,styles:{body:{maxWidth:360}},placement:"topLeft",children:(0,V.jsx)("span",{children:s})})}return"URL"===n?(0,V.jsx)(F.Z,{direction:"vertical",size:4,children:r.url?(0,V.jsx)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:r.url}):(0,V.jsx)("span",{children:"-"})}):"FORM"===n?(0,V.jsx)("span",{children:r.formSchema?e.formatMessage({id:"quickbutton.payload.form",defaultMessage:"Form schema"}):"-"}):"IMAGE"===n?(0,V.jsx)("span",{children:r.imageUrl||"-"}):"PHONE"===n?(0,V.jsx)("span",{children:r.phoneNumber||"-"}):"EMAIL"===n?(0,V.jsxs)(F.Z,{direction:"vertical",size:4,children:[(0,V.jsx)("span",{children:r.emailAddress||"-"}),r.emailSubject&&(0,V.jsx)("span",{style:{color:"#666"},children:r.emailSubject})]}):(0,V.jsx)("span",{children:"-"})}),[e,a]),le=[{dataIndex:"index",valueType:"indexBorder"},{title:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.title",defaultMessage:"Title"}),dataIndex:"title",render:function(e,t){return a(t.title)||t.title||"-"},copyable:!0},{title:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.type",defaultMessage:"Type"}),dataIndex:"type",valueType:"select",valueEnum:_},{title:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.enabled",defaultMessage:"Enabled"}),dataIndex:"enabled",valueType:"select",search:!1,valueEnum:{true:{text:e.formatMessage({id:"quickreply.enabled.true",defaultMessage:"Enabled"}),status:"Success"},false:{text:e.formatMessage({id:"quickreply.enabled.false",defaultMessage:"Disabled"}),status:"Error"}},render:function(e,t){return(0,V.jsx)(j.Z,{size:"small",checked:t.enabled,onChange:function(e){return re(t,e)}})}},{title:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.payload",defaultMessage:"Payload"}),dataIndex:"payload",search:!1,render:function(e,t){return ie(t)},width:240},{title:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.updatedAt",defaultMessage:"Updated"}),dataIndex:"updatedAt",valueType:"dateTime",sorter:!0,width:180,search:!1},{title:(0,V.jsx)(M.FormattedMessage,{id:"pages.common.actions",defaultMessage:"Actions"}),valueType:"option",fixed:"right",width:160,render:function(e,t){return(0,V.jsxs)(F.Z,{children:[(0,V.jsx)(Z.ZP,{type:"link",size:"small",onClick:function(){return ae(t)},children:(0,V.jsx)(M.FormattedMessage,{id:"pages.common.edit",defaultMessage:"Edit"})}),(0,V.jsx)(Z.ZP,{type:"link",danger:!0,size:"small",onClick:function(){return ne(t)},children:(0,V.jsx)(M.FormattedMessage,{id:"pages.common.delete",defaultMessage:"Delete"})})]})}}],de={selectedRowKeys:N,onChange:function(e,t){D(e),H(t)}},ce=[{key:"batchEnable",icon:(0,V.jsx)(C.Z,{}),label:e.formatMessage({id:"quickbutton.action.batch.enable",defaultMessage:"Enable Selected"})+" (".concat(N.length,")"),onClick:function(){return se(!0)}},{key:"batchDisable",icon:(0,V.jsx)(E.Z,{}),label:e.formatMessage({id:"quickbutton.action.batch.disable",defaultMessage:"Disable Selected"})+" (".concat(N.length,")"),onClick:function(){return se(!1)}},{key:"batchDelete",icon:(0,V.jsx)(T.Z,{}),danger:!0,label:e.formatMessage({id:"quickbutton.action.batch.delete",defaultMessage:"Delete Selected"})+" (".concat(N.length,")"),onClick:oe}];return(0,r.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.reloadAndRest()}),[null==n?void 0:n.uid]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(q.Z,{columns:le,actionRef:t,rowKey:"uid",cardBordered:!0,rowSelection:de,request:function(){var t=g()(f()().mark((function t(a,r){var s,o,i,d,c,p,m,g,h,v,k;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=n&&n.uid){t.next=2;break}return t.abrupt("return",{data:[],success:!0,total:0});case 2:return i=a.current,d=void 0===i?1:i,c=a.pageSize,p=void 0===c?10:c,m=u()(a,Y),g=r?Object.keys(r)[0]:void 0,h=l()({pageNumber:d-1,pageSize:p,orgUid:n.uid},m),g&&(h.sortBy=g,h.sortDirection="ascend"===r[g]?"ascend":"descend"),t.next=8,(0,y.qL)(h);case 8:if(v=t.sent,W.Z.debug("QuickButtonTable queryQuickbuttonsByOrg response:",null==v?void 0:v.data,h),200===v.code){t.next=13;break}return b.yw.error(v.message||e.formatMessage({id:"request.failed",defaultMessage:"Request failed"})),t.abrupt("return",{data:[],success:!1,total:0});case 13:return k=(null==v||null===(s=v.data)||void 0===s?void 0:s.content)||[],t.abrupt("return",{data:k,success:!0,total:(null==v||null===(o=v.data)||void 0===o?void 0:o.totalElements)||0});case 15:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),toolBarRender:function(){var e=[(0,V.jsx)(Z.ZP,{type:"primary",icon:(0,V.jsx)(A.Z,{}),onClick:te,children:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.action.create",defaultMessage:"Create Quick Button"})},"create")];return N.length>0&&e.push((0,V.jsx)(S.Z,{menu:{items:ce},placement:"bottomRight",children:(0,V.jsx)(Z.ZP,{icon:(0,V.jsx)(U.Z,{}),children:(0,V.jsx)(M.FormattedMessage,{id:"quickbutton.action.batch",defaultMessage:"Batch Actions"})})},"batch")),e},headerTitle:e.formatMessage({id:"quickbutton.list",defaultMessage:"快捷按钮列表"}),tooltip:{title:e.formatMessage({id:"quickbutton.tooltip",defaultMessage:"Create buttons shown above the chat input toolbar."}),placement:"top"},dateFormatter:"string"}),(0,V.jsx)(K,{open:i,isEdit:h,quickbutton:I,onClose:function(){return d(!1)},onSubmit:ue})]})},te=s.Z.Content,ae=function(){var e=(0,n.Z)().contentStyle;return(0,V.jsx)(s.Z,{children:(0,V.jsx)(te,{style:e,children:(0,V.jsx)(ee,{})})})}}}]);