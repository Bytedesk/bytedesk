"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8600],{21850:function(e,t,n){var r=n(25553);t.Z=function(){var e=(0,r.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto",padding:10}}}},85722:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(81581),i=n(21850),a=n(94976),u=n(61436),c=n(45332),l=n.n(c),o=n(44194),d=n(34123),f=n(66965),s=n(4628),g=n(31549),y={ALL:{title:"全部表单",key:"ALL",children:[]},BASE:{title:"基础表单",key:"BASE",children:[{title:"内部工单表单",key:"TICKET_INTERNAL"},{title:"外部工单表单",key:"TICKET_EXTERNAL"}]},CUSTOMER_SERVICE:{title:"客户服务",key:"CUSTOMER_SERVICE",children:[{title:"询前问卷",key:"PRE_SALES_QUESTIONNAIRE"},{title:"客户留言",key:"MESSAGE_LEAVE"},{title:"客户投诉",key:"COMPLAINT"},{title:"意见反馈",key:"FEEDBACK"},{title:"产品建议",key:"PRODUCT_SUGGESTION"},{title:"Bug报告",key:"BUG_REPORT"}]}},h=function(){(0,s.useIntl)();var e=(0,f.w)(),t=e.selectedType,n=e.setSelectedType,r=o.useState(["ALL","BASE"]),i=l()(r,2),a=i[0],u=i[1],c=o.useState(""),h=l()(c,2),v=h[0],S=(h[1],o.useState(!0)),C=l()(S,2),k=C[0],E=C[1];o.useEffect((function(){t||n("ALL")}),[]);var p=Object.values(y).map((function(e){return{title:e.title,key:e.key,children:e.children.map((function(e){return{title:e.title,key:e.key}}))}}));return(0,g.jsx)("div",{children:(0,g.jsx)(d.Z,{showLine:!0,onExpand:function(e){u(e),E(!1)},expandedKeys:a,autoExpandParent:k,treeData:function e(t){return t.map((function(t){var n=t.title,r=n.toLowerCase().indexOf(v.toLowerCase()),i=n.substring(0,r),a=n.substring(r+v.length),u=r>-1?(0,g.jsxs)("span",{children:[i,(0,g.jsx)("span",{className:"site-tree-search-value",children:n.substring(r,r+v.length)}),a]}):(0,g.jsx)("span",{children:n});return t.children?{title:u,key:t.key,children:e(t.children)}:{title:u,key:t.key}}))}(p),onSelect:function(e){e.length>0&&n(e[0])},selectedKeys:t?[t]:[]})})},v=function(){var e=(0,i.Z)(),t=e.leftSiderStyle,n=e.contentStyle;return(0,g.jsxs)(r.Z,{style:{height:"100%"},children:[(0,g.jsx)(r.Z.Panel,{defaultSize:"20%",min:"10%",max:"40%",style:t,children:(0,g.jsx)(h,{})}),(0,g.jsx)(r.Z.Panel,{style:n,children:(0,g.jsx)(u.Z,{level:a.whQ})})]})}},1715:function(e,t,n){n.d(t,{v:function(){return y}});var r=n(86222),i=n.n(r),a=n(73193),u=n.n(a),c=n(76711),l=n.n(c),o=n(94976),d=n(26557),f=n(26407),s=n(20744),g=n(67242);var y=(0,d.Ue)()((0,f.mW)((0,f.tJ)((0,s.n)((function(e,t){return{categoryResult:{data:{content:[]}},categoryTreeOptions:[],categorySelectOptions:[],currentCategory:{uid:o.zBg,name:o.zBg},setCategoryResult:function(t){var n=function(e){var t,n=[];return function e(t,r){t&&0!==t.length&&t.forEach((function(t){if(t&&t.uid&&t.uid!==o.zBg){var i=r?"".concat(r," / ").concat(t.name):t.name||"";n.push({label:i,value:t.uid}),t.children&&t.children.length>0&&e(t.children,i)}}))}((null==e||null===(t=e.data)||void 0===t?void 0:t.content)||[]),n}(t),r=function(e){var t,n=(null==e||null===(t=e.data)||void 0===t?void 0:t.content)||[],r=function e(t){var n={title:t.name||"",key:t.uid||""};return t.children&&t.children.length>0&&(n.children=t.children.map((function(t){return e(t)}))),n};return n.filter((function(e){return e&&e.uid&&e.uid!==o.zBg})).map((function(e){return r(e)}))}(t),i=[{title:o.zBg,key:o.zBg}].concat(l()(r)),a={uid:o.zBg,name:o.zBg},c=u()(u()({},t),{},{data:u()(u()({},t.data),{},{content:[a].concat(l()(t.data.content))})});e({categoryResult:c,categoryTreeOptions:i,categorySelectOptions:n}),0===t.data.content.length&&e({currentCategory:{uid:o.zBg,name:o.zBg}})},insertCategory:function(t){e((function(e){e.categoryResult.data.content.unshift(t)}))},upgradeCategory:function(t){e((function(e){var n=e.categoryResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Category with uid ".concat(t.uid," not found."))}))},setCurrentCategory:function(t){e({currentCategory:t})},resetDefaultCategory:function(){g.Z.log("resetDefaultCategory"),e({currentCategory:{uid:o.zBg,name:o.zBg}})},setCurrentCategoryUid:function(n){if(n!==o.zBg){var r=function e(t,n){if(t&&0!==t.length){var r,a=i()(t);try{for(a.s();!(r=a.n()).done;){var u=r.value;if((null==u?void 0:u.uid)===n)return u;var c=e(null==u?void 0:u.children,n);if(c)return c}}catch(e){a.e(e)}finally{a.f()}}}(t().categoryResult.data.content,n);e({currentCategory:null!=r?r:{uid:o.zBg,name:o.zBg}})}else e({currentCategory:{uid:o.zBg,name:o.zBg}})},deleteCategoryCache:function(){return e({},!0)}}})),{name:o.OMm})))}}]);