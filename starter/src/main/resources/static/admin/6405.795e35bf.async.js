"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[6405],{88894:function(e,t,n){n.d(t,{KF:function(){return b},VW:function(){return f},ZJ:function(){return l},r$:function(){return w},sK:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),i=n.n(c),p=n(39497),s=n(14906);function f(e){return d.apply(this,arguments)}function d(){return(d=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/query/org",{method:"GET",params:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/create",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/update",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return v.apply(this,arguments)}function v(){return(v=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/delete",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/publish",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},12864:function(e,t,n){n.d(t,{Bv:function(){return X},L0:function(){return J},QB:function(){return k},RF:function(){return T},YO:function(){return P},YQ:function(){return Y},Yg:function(){return w},kh:function(){return l},kv:function(){return b},pf:function(){return f},y:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),i=n.n(c),p=n(39497),s=n(14906);function f(e){return d.apply(this,arguments)}function d(){return(d=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/query/org",{method:"GET",params:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/create",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/update",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return v.apply(this,arguments)}function v(){return(v=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/delete",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/enable",{method:"POST",data:{uid:t.uid,enabled:t.enabled,channel:p.XtJ}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return q.apply(this,arguments)}function q(){return(q=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/deleteAll",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return x.apply(this,arguments)}function x(){return(x=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateIndex",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return S.apply(this,arguments)}function S(){return(S=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateVectorIndex",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return O.apply(this,arguments)}function O(){return(O=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateAllIndex",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return A.apply(this,arguments)}function A(){return(A=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateAllVectorIndex",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return D.apply(this,arguments)}function D(){return(D=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/agent/text/faq-similar-questions",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},11329:function(e,t,n){var r=n(73193),a=n.n(r),u=n(19433),o=n(14597),c=n(5932),i=n(39497),p=n(14906),s=n(53411),f=(n(85992),n(96596)),d=n.n(f),l=n(44194),h=n(31549);t.Z=function(e){var t=e.placeholder,n=e.defaultValue,r=e.value,f=e.style,m=e.toolbarKeys,y=e.maxLength,w=e.onChange,v=e.options,b=(0,p.useIntl)(),g=(0,o.Z)().isDarkMode,k=(0,l.useRef)(null),q=(0,l.useRef)(null),T=(0,l.useRef)(!1),x=(0,l.useCallback)((function(e,t,n){"function"!=typeof w||T.current||w(e,t,n)}),[w]);return(0,l.useEffect)((function(){if(k.current){if(!q.current){var e=new s.cW(a()(a()({element:k.current,theme:g?"dark":"light",placeholder:t,content:n,toolbarKeys:m},v||{}),{},{image:{uploadUrl:(0,c.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(i.LA8)},uploader:function(e,t,n,r){console.log("uploader:",e,t,n,r);var o=d()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,c=new FormData;return c.append("file",e),c.append("fileName",o),c.append("fileType",e.type),c.append("isAvatar","false"),c.append("kbType",i.QPQ),c.append("categoryUid",""),c.append("kbUid",""),c.append("orgUid",""),c.append("client",i.XtJ),new Promise((function(e,r){fetch(t,{method:"POST",headers:a()({Accept:"application/json"},n),body:c}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){u.yw.destroy(),u.yw.success("".concat(o," 上传成功"));var n={errorCode:0,data:{src:t.data.fileUrl,alt:o}};e(n)}else u.yw.destroy(),u.yw.error("".concat(o," 上传失败"))})).catch((function(e){r(e)}))}))}},video:{uploadUrl:(0,c.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(i.LA8)},uploader:function(e,t,n,r){console.log("uploader:",e,t,n,r);var o=d()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,c=new FormData;return c.append("file",e),c.append("fileName",o),c.append("fileType",e.type),c.append("isAvatar","false"),c.append("kbType",i.QPQ),c.append("categoryUid",""),c.append("kbUid",""),c.append("client",i.XtJ),new Promise((function(e,r){fetch(t,{method:"POST",headers:a()({Accept:"application/json"},n),body:c}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){u.yw.destroy(),u.yw.success("".concat(o," 上传成功"));var n={errorCode:0,data:{src:t.data.fileUrl,poster:"https://www.weiyuai.cn/avatars/video_poster.png"}};e(n)}else u.yw.destroy(),u.yw.error("".concat(o," 上传失败"))})).catch((function(e){r(e)}))}))}},attachment:{uploadUrl:(0,c.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(i.LA8)},uploader:function(e,t,n,r){console.log("uploader:",e,t,n,r);var o=d()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,c=new FormData;return c.append("file",e),c.append("fileName",o),c.append("fileType",e.type),c.append("isAvatar","false"),c.append("kbType",i.QPQ),c.append("categoryUid",""),c.append("kbUid",""),c.append("client",i.XtJ),new Promise((function(e,r){fetch(t,{method:"POST",headers:a()({Accept:"application/json"},n),body:c}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){u.yw.destroy(),u.yw.success("".concat(o," 上传成功"));var n={errorCode:0,data:{href:t.data.fileUrl,fileName:o}};e(n)}else u.yw.destroy(),u.yw.error("".concat(o," 上传失败"))})).catch((function(e){r(e)}))}))}},onChange:function(e){var t=e.getText(),n=t.length,r="number"==typeof y?y:Number.POSITIVE_INFINITY;if(n>r){var a,o;u.yw.warning(b.formatMessage({id:"character.limit.reached"},{limit:r})||"已达到 ".concat(r," 字符限制"));var c=t.substring(0,r);T.current=!0,setTimeout((function(){q.current&&q.current.setContent(c),T.current=!1}),0),x((null===(a=q.current)||void 0===a?void 0:a.getHtml())||"",(null===(o=q.current)||void 0===o?void 0:o.getMarkdown())||"",c)}else x(e.getHtml(),e.getMarkdown(),e.getText())}}));q.current=e}return function(){q.current&&(q.current.destroy(),q.current=null)}}}),[]),(0,l.useEffect)((function(){q.current&&void 0!==r&&r!==q.current.getHtml()&&(T.current=!0,q.current.setContent(r||""),requestAnimationFrame((function(){T.current=!1})))}),[r]),(0,h.jsx)("div",{ref:k,style:a()({height:"100%"},f)})}}}]);