"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8804],{21850:function(e,t,r){var n=r(25553);t.Z=function(){var e=(0,n.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto",padding:10}}}},64699:function(e,t,r){r.r(t),r.d(t,{default:function(){return N}});var n=r(73193),a=r.n(n),i=r(21850),u=r(21600),d=r(44194),s=r(90819),o=r.n(s),c=r(89933),l=r.n(c),p=r(43388),h=r(94976),f=r(4628);function x(e){return w.apply(this,arguments)}function w(){return(w=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/api/v1/task_list/query/org",{method:"GET",params:a()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=r(74171),y=r(44565),m=r(31549),b=function(){var e=(0,v.u)((function(e){return e.currentOrg}));return(0,m.jsx)(y.Z,{columns:[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:"名称",dataIndex:"name",copyable:!0,width:180},{title:"描述",dataIndex:"description",ellipsis:!0,width:240},{title:"类型",dataIndex:"type",width:160,ellipsis:!0},{title:"UID",dataIndex:"uid",copyable:!0,hideInSearch:!0,width:200,ellipsis:!0},{title:"创建时间",dataIndex:"createdAt",sorter:!0,hideInSearch:!0,width:180},{title:"更新时间",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0,width:180,fixed:"right"}],cardBordered:!0,rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0},scroll:{x:"max-content"},tableLayout:"fixed",request:function(){var t=l()(o()().mark((function t(r,n){var i,u,d,s,c,l;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=Object.keys(n||{})[0],s=d?n[d]:void 0,delete(c=a()(a()({pageNumber:r.current?r.current-1:0,pageSize:r.pageSize,orgUid:null==e?void 0:e.uid},r),{},{sortBy:d,sortDirection:s})).current,t.next=6,x(c);case 6:return 200!==(l=t.sent).code&&p.yw.error(l.message),t.abrupt("return",{data:(null==l||null===(i=l.data)||void 0===i?void 0:i.content)||[],success:!0,total:(null==l||null===(u=l.data)||void 0===u?void 0:u.totalElements)||0});case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()})};function g(e){return k.apply(this,arguments)}function k(){return(k=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/api/v1/task/query/org",{method:"GET",params:a()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(){var e=(0,v.u)((function(e){return e.currentOrg}));return(0,m.jsx)(y.Z,{columns:[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:"名称",dataIndex:"name",copyable:!0,width:180},{title:"描述",dataIndex:"description",ellipsis:!0,width:240},{title:"类型",dataIndex:"type",width:160,ellipsis:!0},{title:"UID",dataIndex:"uid",copyable:!0,hideInSearch:!0,width:200,ellipsis:!0},{title:"创建时间",dataIndex:"createdAt",sorter:!0,hideInSearch:!0,width:180},{title:"更新时间",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0,width:180,fixed:"right"}],cardBordered:!0,rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0},scroll:{x:"max-content"},tableLayout:"fixed",request:function(){var t=l()(o()().mark((function t(r,n){var i,u,d,s,c,l;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=Object.keys(n||{})[0],s=d?n[d]:void 0,delete(c=a()(a()({pageNumber:r.current?r.current-1:0,pageSize:r.pageSize,orgUid:null==e?void 0:e.uid},r),{},{sortBy:d,sortDirection:s})).current,t.next=6,g(c);case 6:return 200!==(l=t.sent).code&&p.yw.error(l.message),t.abrupt("return",{data:(null==l||null===(i=l.data)||void 0===i?void 0:i.content)||[],success:!0,total:(null==l||null===(u=l.data)||void 0===u?void 0:u.totalElements)||0});case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()})};function S(e){return q.apply(this,arguments)}function q(){return(q=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/api/v1/calendar/query/org",{method:"GET",params:a()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(){var e=(0,v.u)((function(e){return e.currentOrg}));return(0,m.jsx)(y.Z,{columns:[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:"名称",dataIndex:"name",copyable:!0,width:180},{title:"状态",dataIndex:"status",width:120,ellipsis:!0},{title:"开始时间",dataIndex:"startAt",hideInSearch:!0,width:180},{title:"结束时间",dataIndex:"endAt",hideInSearch:!0,width:180},{title:"地点",dataIndex:"location",ellipsis:!0,width:200},{title:"描述",dataIndex:"description",ellipsis:!0,width:240},{title:"类型",dataIndex:"type",width:160,ellipsis:!0},{title:"UID",dataIndex:"uid",copyable:!0,hideInSearch:!0,width:200,ellipsis:!0},{title:"创建时间",dataIndex:"createdAt",sorter:!0,hideInSearch:!0,width:180},{title:"更新时间",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0,width:180,fixed:"right"}],cardBordered:!0,rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0},scroll:{x:"max-content"},tableLayout:"fixed",request:function(){var t=l()(o()().mark((function t(r,n){var i,u,d,s,c,l;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=Object.keys(n||{})[0],s=d?n[d]:void 0,delete(c=a()(a()({pageNumber:r.current?r.current-1:0,pageSize:r.pageSize,orgUid:null==e?void 0:e.uid},r),{},{sortBy:d,sortDirection:s})).current,t.next=6,S(c);case 6:return 200!==(l=t.sent).code&&p.yw.error(l.message),t.abrupt("return",{data:(null==l||null===(i=l.data)||void 0===i?void 0:i.content)||[],success:!0,total:(null==l||null===(u=l.data)||void 0===u?void 0:u.totalElements)||0});case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()})};function z(e){return T.apply(this,arguments)}function T(){return(T=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/api/v1/quartz_task/query/org",{method:"GET",params:a()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return J.apply(this,arguments)}function J(){return(J=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/api/v1/quartz_task/startJob",{method:"POST",data:a()(a()({},t),{},{channel:h.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return Z.apply(this,arguments)}function Z(){return(Z=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/api/v1/quartz_task/pauseJob",{method:"POST",data:a()(a()({},t),{},{channel:h.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return E.apply(this,arguments)}function E(){return(E=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/api/v1/quartz_task/resumeJob",{method:"POST",data:a()(a()({},t),{},{channel:h.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return P.apply(this,arguments)}function P(){return(P=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/api/v1/quartz_task/deleteJob",{method:"POST",data:a()(a()({},t),{},{channel:h.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=r(69533),U=function(){var e=(0,v.u)((function(e){return e.currentOrg})),t=(0,d.useRef)(),r=[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:"任务名称",dataIndex:"jobName",copyable:!0,width:180},{title:"任务组",dataIndex:"jobGroup",copyable:!0,width:160},{title:"方法",dataIndex:"jobMethodName",ellipsis:!0,width:160},{title:"Cron",dataIndex:"cronExpression",copyable:!0,ellipsis:!0,width:200},{title:"状态",dataIndex:"triggerState",width:140},{title:"更新时间",dataIndex:"updatedAt",sorter:!0,hideInSearch:!0,width:180},{title:"操作",valueType:"option",key:"option",width:240,fixed:"right",render:function(e,r){return[(0,m.jsx)(C.ZP,{size:"small",onClick:l()(o()().mark((function e(){var n,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(r);case 2:200===(n=e.sent).code?(p.yw.success("启动成功"),null===(a=t.current)||void 0===a||a.reload()):p.yw.error(n.message||"启动失败");case 4:case"end":return e.stop()}}),e)}))),children:"启动"},"start"),(0,m.jsx)(C.ZP,{size:"small",onClick:l()(o()().mark((function e(){var n,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(r);case 2:200===(n=e.sent).code?(p.yw.success("暂停成功"),null===(a=t.current)||void 0===a||a.reload()):p.yw.error(n.message||"暂停失败");case 4:case"end":return e.stop()}}),e)}))),children:"停止"},"pause"),(0,m.jsx)(C.ZP,{size:"small",onClick:l()(o()().mark((function e(){var n,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(r);case 2:200===(n=e.sent).code?(p.yw.success("重启成功"),null===(a=t.current)||void 0===a||a.reload()):p.yw.error(n.message||"重启失败");case 4:case"end":return e.stop()}}),e)}))),children:"重启"},"resume"),(0,m.jsx)(C.ZP,{size:"small",danger:!0,onClick:l()(o()().mark((function e(){var n,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r);case 2:200===(n=e.sent).code?(p.yw.success("删除成功"),null===(a=t.current)||void 0===a||a.reload()):p.yw.error(n.message||"删除失败");case 4:case"end":return e.stop()}}),e)}))),children:"删除"},"delete")]}}];return(0,m.jsx)(y.Z,{columns:r,actionRef:t,cardBordered:!0,rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0},scroll:{x:"max-content"},tableLayout:"fixed",request:function(){var t=l()(o()().mark((function t(r,n){var i,u,d,s,c,l;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=Object.keys(n||{})[0],s=d?n[d]:void 0,delete(c=a()(a()({pageNumber:r.current?r.current-1:0,pageSize:r.pageSize,orgUid:null==e?void 0:e.uid},r),{},{sortBy:d,sortDirection:s})).current,t.next=6,z(c);case 6:return 200!==(l=t.sent).code&&p.yw.error(l.message),t.abrupt("return",{data:(null==l||null===(i=l.data)||void 0===i?void 0:i.content)||[],success:!0,total:(null==l||null===(u=l.data)||void 0===u?void 0:u.totalElements)||0});case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()})},N=function(){var e=(0,i.Z)().contentStyle,t=[{key:"calendar",label:"日程安排",children:(0,m.jsx)(j,{})},{key:"list",label:"待办清单",children:(0,m.jsx)(b,{})},{key:"todo",label:"待办任务",children:(0,m.jsx)(I,{})},{key:"quartz",label:"定时任务",children:(0,m.jsx)(U,{})}];return(0,m.jsx)("div",{style:a()(a()({},e),{},{height:"100%"}),children:(0,m.jsx)(u.Z,{items:t})})}}}]);