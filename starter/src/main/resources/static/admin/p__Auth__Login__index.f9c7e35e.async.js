"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[9368],{80556:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(83910),r=a(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},o=a(54183),i=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var c=r.forwardRef(i)},83337:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(83910),r=a(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690.1 377.4c5.9 0 11.8.2 17.6.5-24.4-128.7-158.3-227.1-319.9-227.1C209 150.8 64 271.4 64 420.2c0 81.1 43.6 154.2 111.9 203.6a21.5 21.5 0 019.1 17.6c0 2.4-.5 4.6-1.1 6.9-5.5 20.3-14.2 52.8-14.6 54.3-.7 2.6-1.7 5.2-1.7 7.9 0 5.9 4.8 10.8 10.8 10.8 2.3 0 4.2-.9 6.2-2l70.9-40.9c5.3-3.1 11-5 17.2-5 3.2 0 6.4.5 9.5 1.4 33.1 9.5 68.8 14.8 105.7 14.8 6 0 11.9-.1 17.8-.4-7.1-21-10.9-43.1-10.9-66 0-135.8 132.2-245.8 295.3-245.8zm-194.3-86.5c23.8 0 43.2 19.3 43.2 43.1s-19.3 43.1-43.2 43.1c-23.8 0-43.2-19.3-43.2-43.1s19.4-43.1 43.2-43.1zm-215.9 86.2c-23.8 0-43.2-19.3-43.2-43.1s19.3-43.1 43.2-43.1 43.2 19.3 43.2 43.1-19.4 43.1-43.2 43.1zm586.8 415.6c56.9-41.2 93.2-102 93.2-169.7 0-124-120.8-224.5-269.9-224.5-149 0-269.9 100.5-269.9 224.5S540.9 847.5 690 847.5c30.8 0 60.6-4.4 88.1-12.3 2.6-.8 5.2-1.2 7.9-1.2 5.2 0 9.9 1.6 14.3 4.1l59.1 34c1.7 1 3.3 1.7 5.2 1.7a9 9 0 006.4-2.6 9 9 0 002.6-6.4c0-2.2-.9-4.4-1.4-6.6-.3-1.2-7.6-28.3-12.2-45.3-.5-1.9-.9-3.8-.9-5.7.1-5.9 3.1-11.2 7.6-14.5zM600.2 587.2c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9c0 19.8-16.2 35.9-36 35.9zm179.9 0c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9a36.08 36.08 0 01-36 35.9z"}}]},name:"wechat",theme:"outlined"},o=a(54183),i=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var c=r.forwardRef(i)},98907:function(e,t,a){var n=a(94433),r=a(38956),s=a(57343),o=a(93646),i=a(44194),c=a(55870),l=a(9953),u=a(31549),d=["options","fieldProps","proFieldProps","valueEnum"],g=i.forwardRef((function(e,t){var a=e.options,o=e.fieldProps,i=e.proFieldProps,c=e.valueEnum,g=(0,r.Z)(e,d);return(0,u.jsx)(l.Z,(0,n.Z)({ref:t,valueType:"checkbox",valueEnum:(0,s.h)(c,void 0),fieldProps:(0,n.Z)({options:a},o),lightProps:(0,n.Z)({labelFormatter:function(){return(0,u.jsx)(l.Z,(0,n.Z)({ref:t,valueType:"checkbox",mode:"read",valueEnum:(0,s.h)(c,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:a},o),proFieldProps:i},g))}},g.lightProps),proFieldProps:i},g))})),f=i.forwardRef((function(e,t){var a=e.fieldProps,r=e.children;return(0,u.jsx)(o.Z,(0,n.Z)((0,n.Z)({ref:t},a),{},{children:r}))})),p=(0,c.G)(f,{valuePropName:"checked"});p.Group=g,t.Z=p},59005:function(e,t,a){var n=a(94433),r=a(38956),s=a(57343),o=a(44194),i=a(45441),c=a(9953),l=a(31549),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],g=function(e,t){var a=e.fieldProps,d=e.children,g=e.params,f=e.proFieldProps,p=e.mode,h=e.valueEnum,m=e.request,v=e.showSearch,w=e.options,x=(0,r.Z)(e,u),y=(0,o.useContext)(i.Z);return(0,l.jsx)(c.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(h),request:m,params:g,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:w,mode:p,showSearch:v,getPopupContainer:y.getPopupContainer},a),ref:t,proFieldProps:f},x),{},{children:d}))},f=o.forwardRef((function(e,t){var a=e.fieldProps,u=e.children,g=e.params,f=e.proFieldProps,p=e.mode,h=e.valueEnum,m=e.request,v=e.options,w=(0,r.Z)(e,d),x=(0,n.Z)({options:v,mode:p||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},a),y=(0,o.useContext)(i.Z);return(0,l.jsx)(c.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,s.h)(h),request:m,params:g,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:y.getPopupContainer},x),ref:t,proFieldProps:f},w),{},{children:u}))})),p=o.forwardRef(g);p.SearchSelect=f,p.displayName="ProFormComponent",t.Z=p},85366:function(e,t,a){a.d(t,{Z:function(){return y}});var n=a(90819),r=a.n(n),s=a(89933),o=a.n(s),i=a(45332),c=a.n(i),l=a(43388),u=a(94976),d=a(4628);function g(){return f.apply(this,arguments)}function f(){return(f=o()(r()().mark((function e(){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/kaptcha/api/v1/get",{method:"GET",params:{channel:u.XtJ}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return h.apply(this,arguments)}function h(){return(h=o()(r()().mark((function e(t,a){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/kaptcha/api/v1/check",{method:"POST",data:{captchaUid:t,captchaCode:a,channel:u.XtJ}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=a(58087),v=a(1282),w=a(44194),x=a(31549),y=function(e){var t=e.onKaptchaChange,a=e.onKaptchaCheck,n=(0,d.useIntl)(),s=(0,w.useState)(),i=c()(s,2),u=i[0],f=i[1],h=(0,w.useState)(),y=c()(h,2),M=y[0],b=y[1],k=(0,w.useState)(!1),S=c()(k,2),Z=S[0],C=S[1],j=function(){var e=o()(r()().mark((function e(){var t;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=2;break}return e.abrupt("return");case 2:return C(!0),e.prev=3,e.next=6,g();case 6:200===(t=e.sent).code?(f(null==t?void 0:t.data.captchaUid),b(null==t?void 0:t.data.captchaImage)):l.yw.error(n.formatMessage({id:"kaptcha.get.error",defaultMessage:"è·å–éªŒè¯ç å¤±è´¥"})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),l.yw.error(n.formatMessage({id:"kaptcha.get.error",defaultMessage:"è·å–éªŒè¯ç å¤±è´¥"}));case 13:return e.prev=13,C(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=o()(r()().mark((function e(t,n){var s;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,n);case 2:s=e.sent,console.log("checkCaptcha response",s),200===s.code?a&&a(!0):a&&a(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){j()}),[]);return(0,x.jsx)(x.Fragment,{children:M&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v.Z,{onChange:function(e){t&&(t(u,e.target.value),e.target.value&&""!==e.target.value&&4===e.target.value.trim().length?I(u,e.target.value):a&&a(!1))},prefix:(0,x.jsx)(m.Z,{}),placeholder:n.formatMessage({id:"captcha",defaultMessage:"captcha"}),style:{width:"65%",float:"left",height:40},allowClear:!0}),(0,x.jsx)("img",{src:M,alt:"captcha",onClick:j})]})})}},45215:function(e,t,a){a.r(t),a.d(t,{default:function(){return je}});var n=a(10154),r=a.n(n),s=a(73193),o=a.n(s),i=a(90819),c=a.n(i),l=a(89933),u=a.n(l),d=a(45332),g=a.n(d),f=a(52847),p=a(99036),h=a(57393),m=a(18698),v=a(40274),w=a(92346),x=a(4628),y=a(13921),M=a(36183),b=a(69533),k=a(30310),S=a(21600),Z=a(64180),C=a(44194),j=a(56321),I=a(44429),U=a(43388),P=a(67132),R=a(25553),F=a(94976),L=a(85366),T=a(88722),E=a(78112),A=[{value:"86",icon:"ğŸ‡¨ğŸ‡³",code:"CN",messageId:"pages.login.country.china",defaultMessage:"ä¸­å›½"},{value:"1",icon:"ğŸ‡ºğŸ‡¸",code:"US",messageId:"pages.login.country.usa",defaultMessage:"ç¾å›½"},{value:"81",icon:"ğŸ‡¯ğŸ‡µ",code:"JP",messageId:"pages.login.country.japan",defaultMessage:"æ—¥æœ¬"},{value:"852",icon:"ğŸ‡­ğŸ‡°",code:"HK",messageId:"pages.login.country.hongkong",defaultMessage:"é¦™æ¸¯"},{value:"886",icon:"ğŸ‡¹ğŸ‡¼",code:"TW",messageId:"pages.login.country.taiwan",defaultMessage:"å°æ¹¾"},{value:"853",icon:"ğŸ‡²ğŸ‡´",code:"MO",messageId:"pages.login.country.macao",defaultMessage:"æ¾³é—¨"},{value:"82",icon:"ğŸ‡°ğŸ‡·",code:"KR",messageId:"pages.login.country.korea",defaultMessage:"éŸ©å›½"},{value:"1-ca",icon:"ğŸ‡¨ğŸ‡¦",code:"CA",messageId:"pages.login.country.canada",defaultMessage:"åŠ æ‹¿å¤§"},{value:"65",icon:"ğŸ‡¸ğŸ‡¬",code:"SG",messageId:"pages.login.country.singapore",defaultMessage:"æ–°åŠ å¡"},{value:"60",icon:"ğŸ‡²ğŸ‡¾",code:"MY",messageId:"pages.login.country.malaysia",defaultMessage:"é©¬æ¥è¥¿äºš"},{value:"66",icon:"ğŸ‡¹ğŸ‡­",code:"TH",messageId:"pages.login.country.thailand",defaultMessage:"æ³°å›½"},{value:"84",icon:"ğŸ‡»ğŸ‡³",code:"VN",messageId:"pages.login.country.vietnam",defaultMessage:"è¶Šå—"},{value:"63",icon:"ğŸ‡µğŸ‡­",code:"PH",messageId:"pages.login.country.philippines",defaultMessage:"è²å¾‹å®¾"},{value:"62",icon:"ğŸ‡®ğŸ‡©",code:"ID",messageId:"pages.login.country.indonesia",defaultMessage:"å°åº¦å°¼è¥¿äºš"},{value:"44",icon:"ğŸ‡¬ğŸ‡§",code:"GB",messageId:"pages.login.country.uk",defaultMessage:"è‹±å›½"},{value:"49",icon:"ğŸ‡©ğŸ‡ª",code:"DE",messageId:"pages.login.country.germany",defaultMessage:"å¾·å›½"},{value:"33",icon:"ğŸ‡«ğŸ‡·",code:"FR",messageId:"pages.login.country.france",defaultMessage:"æ³•å›½"},{value:"39",icon:"ğŸ‡®ğŸ‡¹",code:"IT",messageId:"pages.login.country.italy",defaultMessage:"æ„å¤§åˆ©"},{value:"34",icon:"ğŸ‡ªğŸ‡¸",code:"ES",messageId:"pages.login.country.spain",defaultMessage:"è¥¿ç­ç‰™"},{value:"7",icon:"ğŸ‡·ğŸ‡º",code:"RU",messageId:"pages.login.country.russia",defaultMessage:"ä¿„ç½—æ–¯"},{value:"61",icon:"ğŸ‡¦ğŸ‡º",code:"AU",messageId:"pages.login.country.australia",defaultMessage:"æ¾³å¤§åˆ©äºš"},{value:"64",icon:"ğŸ‡³ğŸ‡¿",code:"NZ",messageId:"pages.login.country.newzealand",defaultMessage:"æ–°è¥¿å…°"}],z=function(e){return A.map((function(t){return{value:t.value,icon:t.icon,code:t.code,label:e.formatMessage({id:t.messageId,defaultMessage:t.defaultMessage})}}))},N=a(10022),B=a(26978),_=a(40795),H=a(86702),q=a(59005),D=a(33415),G=a(7117),V=a(82878),K=a(2287),O=a(26874),J=a(95018),Q=a(31549),W=function(e){var t=e.loginType,a=e.twoFactorEnabled,n=void 0!==a&&a,r=e.onKaptchaChange,s=e.onKaptchaCheck,i=(0,x.useIntl)(),l=(0,T.Z)().translateString,d=(0,C.useRef)(),h=(0,C.useState)(""),m=g()(h,2),v=m[0],w=m[1],y=(0,C.useState)(""),M=g()(y,2),b=M[0],S=M[1],Z=(0,C.useState)(!1),j=g()(Z,2),P=j[0],R=j[1],A=(0,C.useState)("86"),W=g()(A,2),Y=W[0],X=W[1],$=(0,C.useMemo)((function(){return z(i)}),[i]),ee=(0,C.useMemo)((function(){return $.map((function(e){return o()(o()({},e),{},{label:"".concat(e.icon," ").concat(e.label," (+").concat(e.value.includes("-")?e.value.split("-")[0]:e.value,")")})}))}),[$]),te=(0,I.L)((function(e){return{deviceUid:e.deviceUid,setDeviceUid:e.setDeviceUid}})),ae=te.deviceUid,ne=te.setDeviceUid,re=(0,C.useState)(0),se=g()(re,2),oe=se[0],ie=se[1],ce=(0,C.useState)(""),le=g()(ce,2),ue=le[0],de=le[1];(0,C.useEffect)((function(){ae||ne((0,E.Zx)())}),[ae,ne]);var ge=function(){var e=u()(c()().mark((function e(t,a){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t),S(a),r&&r(t,a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=u()(c()().mark((function e(t){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(!!t),s&&s(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){setTimeout((function(){var e;null===(e=d.current)||void 0===e||e.endTiming()}),2)},he=function(e){return e>=80?"#52c41a":e>=60?"#faad14":e>=40?"#fa8c16":"#ff4d4f"};return(0,Q.jsx)(Q.Fragment,{children:"account"===t&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(H.Z,{name:"username",fieldProps:{size:"large",prefix:(0,Q.jsx)(N.Z,{})},placeholder:i.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"ç”¨æˆ·å/é‚®ç®±"}),rules:[{required:!0,message:(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"è¯·è¾“å…¥ç”¨æˆ·å/é‚®ç®±!"})}]}),(0,Q.jsx)(H.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,Q.jsx)(B.Z,{}),onChange:function(e){var t=e.target.value,a=(0,G.Qc)(t),n=(0,G.$g)(a);ie(a),de(n)}},placeholder:i.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"å¯†ç "}),rules:[{required:!0,message:(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"è¯·è¾“å…¥å¯†ç ï¼"})}]}),oe>0&&(0,Q.jsx)("div",{style:{marginBottom:16},children:(0,Q.jsxs)(k.Z,{direction:"vertical",style:{width:"100%"},children:[(0,Q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Q.jsx)(V.Z.Text,{type:"secondary",children:i.formatMessage({id:"pages.login.password.strength",defaultMessage:"å¯†ç å¼ºåº¦ï¼š"})}),(0,Q.jsx)(V.Z.Text,{strong:!0,style:{color:he(oe)},children:ue})]}),(0,Q.jsx)(K.Z,{percent:oe,strokeColor:he(oe),showInfo:!1,size:"small"}),(0,Q.jsx)(V.Z.Text,{type:"secondary",style:{fontSize:"12px"},children:i.formatMessage({id:"pages.login.password.suggestion",defaultMessage:"å»ºè®®ï¼šåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦è‡³å°‘8ä½"})})]})}),(0,Q.jsx)(p.A.Item,{name:"captchaCode",rules:[{required:!0,message:i.formatMessage({id:"pages.login.captcha.required",defaultMessage:"è¯·è¾“å…¥éªŒè¯ç ï¼"})}],children:(0,Q.jsx)(L.Z,{onKaptchaChange:ge,onKaptchaCheck:fe})}),n&&(0,Q.jsxs)(k.Z,{direction:"vertical",style:{width:"100%",marginBottom:16},children:[(0,Q.jsxs)(O.Z,{gutter:16,children:[(0,Q.jsx)(J.Z,{span:10,children:(0,Q.jsx)(q.Z,{name:"twoFactorCountry",initialValue:"86",options:ee,fieldProps:{size:"large",placeholder:i.formatMessage({id:"pages.login.country.placeholder",defaultMessage:"é€‰æ‹©å›½å®¶/åœ°åŒº"}),onChange:function(e){return X(e)}},rules:[{required:!0,message:i.formatMessage({id:"pages.login.country.required",defaultMessage:"è¯·é€‰æ‹©å›½å®¶/åœ°åŒºï¼"})}]})}),(0,Q.jsx)(J.Z,{span:14,children:(0,Q.jsx)(H.Z,{name:"twoFactorMobile",fieldProps:{size:"large",prefix:(0,Q.jsx)(_.Z,{})},placeholder:i.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"æ‰‹æœºå·"}),rules:[{required:!0,message:(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.phoneNumber.required",defaultMessage:"è¯·è¾“å…¥æ‰‹æœºå·ï¼"})}]})})]}),(0,Q.jsx)(D.Z,{name:"twoFactorCode",phoneName:"twoFactorMobile",fieldProps:{size:"large",prefix:(0,Q.jsx)(B.Z,{}),allowClear:!0},captchaProps:{size:"large",disabled:!P},placeholder:i.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"è¯·è¾“å…¥éªŒè¯ç "}),captchaTextRender:function(e,t){return e?"".concat(t," ").concat(i.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"è·å–éªŒè¯ç "})):i.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"è·å–éªŒè¯ç "})},rules:[{required:!0,message:(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.captcha.required",defaultMessage:"è¯·è¾“å…¥éªŒè¯ç ï¼"})}],fieldRef:d,onGetCaptcha:function(){var e=u()(c()().mark((function e(t){var a,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return a={mobile:t,country:Y,type:F.UUF,captchaUid:v,captchaCode:b,deviceUid:ae,platform:F.iw8},e.next=4,(0,f.Y7)(a);case 4:if(200===(n=e.sent).code){e.next=9;break}return U.yw.error(l(n.message)),pe(),e.abrupt("return");case 9:U.yw.success(l(n.message)),e.next=14;break;case 12:U.yw.error(i.formatMessage({id:"pages.login.phoneNumber.invalid",defaultMessage:"æ‰‹æœºå·ä¸èƒ½ä¸ºç©º"})),pe();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})]})})},Y=a(5957),X=function(e){var t=e.loginType,a=e.form,n=e.onKaptchaChange,r=e.onKaptchaCheck,s=(0,x.useIntl)(),i=(0,T.Z)().translateString,l=(0,C.useRef)(),d=(0,C.useState)(""),h=g()(d,2),m=h[0],v=h[1],w=(0,C.useState)(""),y=g()(w,2),M=y[0],b=y[1],k=(0,C.useState)(!1),S=g()(k,2),Z=S[0],j=S[1],P=(0,C.useState)("86"),R=g()(P,2),A=R[0],N=R[1],G=(0,C.useMemo)((function(){return z(s)}),[s]),V=(0,I.L)((function(e){return{deviceUid:e.deviceUid,setDeviceUid:e.setDeviceUid}})),K=V.deviceUid,W=V.setDeviceUid,X=function(){var e=u()(c()().mark((function e(t,a){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t),b(a),n&&n(t,a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(){var e=u()(c()().mark((function e(t){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t),r&&r(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,C.useEffect)((function(){void 0!==K&&""!==K||W((0,E.Zx)())}),[]),(0,C.useEffect)((function(){if("mobile"===t&&a){var e=localStorage.getItem(F.Uf8);if(e)try{var n=JSON.parse(e).mobile;n&&a.setFieldsValue({mobile:n})}catch(e){console.error("Failed to parse saved credentials:",e)}}}),[t,a]);var ee=G.map((function(e){return o()(o()({},e),{},{label:"".concat(e.icon," ").concat(e.label," (+").concat(e.value.includes("-")?e.value.split("-")[0]:e.value,")")})}));return(0,Q.jsx)(Q.Fragment,{children:"mobile"===t&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(O.Z,{gutter:16,children:[(0,Q.jsx)(J.Z,{span:10,children:(0,Q.jsx)(q.Z,{name:"country",options:ee,fieldProps:{size:"large",placeholder:s.formatMessage({id:"pages.login.country.placeholder",defaultMessage:"é€‰æ‹©å›½å®¶/åœ°åŒº"}),onChange:function(e){return N(e)}},initialValue:"86"})}),(0,Q.jsx)(J.Z,{span:14,children:(0,Q.jsx)(H.Z,{fieldProps:{size:"large",prefix:(0,Q.jsx)(_.Z,{})},name:"mobile",placeholder:s.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"æ‰‹æœºå·"}),rules:[{required:!0,message:(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.phoneNumber.required",defaultMessage:"è¯·è¾“å…¥æ‰‹æœºå·ï¼"})},{pattern:/^\d+$/,message:(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.phoneNumber.numeric",defaultMessage:"æ‰‹æœºå·å¿…é¡»ä¸ºæ•°å­—ï¼"})}]})})]}),(0,Q.jsx)(p.A.Item,{name:"captchaCode",rules:[{required:!0,message:s.formatMessage({id:"pages.login.captcha.required",defaultMessage:"è¯·è¾“å…¥éªŒè¯ç ï¼"})}],children:(0,Q.jsx)(L.Z,{onKaptchaChange:X,onKaptchaCheck:$})}),(0,Q.jsx)(D.Z,{fieldProps:{size:"large",prefix:(0,Q.jsx)(B.Z,{})},captchaProps:{size:"large",disabled:!Z},placeholder:s.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"è¯·è¾“å…¥éªŒè¯ç "}),captchaTextRender:function(e,t){return e?"".concat(t," ").concat(s.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"è·å–éªŒè¯ç "})):s.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"è·å–éªŒè¯ç "})},phoneName:"mobile",name:"code",rules:[{required:!0,message:(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.captcha.required",defaultMessage:"è¯·è¾“å…¥éªŒè¯ç ï¼"})}],fieldRef:l,onGetCaptcha:function(){var e=u()(c()().mark((function e(t){var a,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return a={mobile:t,country:A,type:F.UUF,captchaUid:m,captchaCode:M,deviceUid:K,platform:F.iw8},e.next=4,(0,f.Y7)(a);case 4:if(n=e.sent,console.debug("sendMobileCode:",n,a),200===n.code){e.next=10;break}return U.yw.error(i(n.message)),setTimeout((function(){var e;console.log("endCaptchaTiming"),null===(e=l.current)||void 0===e||e.endTiming()}),2),e.abrupt("return");case 10:U.yw.success(i(n.message)),e.next=14;break;case 13:U.yw.error(s.formatMessage({id:"pages.login.phoneNumber.invalid",defaultMessage:"æ‰‹æœºå·ä¸èƒ½ä¸ºç©º"}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,Q.jsx)(Y.Z,{message:(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.auto.register",defaultMessage:"Mobile will auto register"}),type:"info"})]})})},$=a(19755),ee=a(67242),te=function(e){var t=e.loginType,a=(0,x.useIntl)(),n=(0,P.t)((function(e){return e.setAccessToken})),r=(0,I.L)((function(e){return e.setUserInfo})),s=(0,x.useModel)("@@initialState").setInitialState,i=(0,I.L)((function(e){return{deviceUid:e.deviceUid,setDeviceUid:e.setDeviceUid}})),l=i.deviceUid,d=i.setDeviceUid,p=(0,C.useState)("login"),h=g()(p,2),m=h[0],v=h[1],w=(0,C.useState)("loading"),y=g()(w,2),M=y[0],b=y[1],k=function(){var e=u()(c()().mark((function e(t){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(0,j.flushSync)((function(){s((function(e){return o()(o()({},e),{},{userInfo:t})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=u()(c()().mark((function e(t){var s,i,l;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.Z.debug("handleScanLogin values: ",t),U.yw.loading(a.formatMessage({id:"logging",defaultMessage:"logging..."})),e.next=4,(0,f.kZ)(o()({},t));case 4:s=e.sent,ee.Z.debug("LoginMobileResult scanLogin:",s.data),200===s.code?(U.yw.destroy(),U.yw.success(a.formatMessage({id:"login.success",defaultMessage:"login success"})),n(null==s?void 0:s.data.accessToken),k(null==s||null===(i=s.data)||void 0===i?void 0:i.user),r(null==s||null===(l=s.data)||void 0===l?void 0:l.user),x.history.push("/")):(U.yw.destroy(),U.yw.error(s.message));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=u()(c()().mark((function e(a){var n,r,s;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("scan"===t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,f.Tm)(l,a);case 4:if(200!==(n=e.sent).code){e.next=30;break}if(r=null==n?void 0:n.data,ee.Z.debug("handleScanQuery status: ",r.status),r.status!==F.C20){e.next=13;break}b("active"),v("deviceUid="+r.deviceUid+"&code="+r.content),e.next=28;break;case 13:if(r.status!==F.FM$){e.next=17;break}b("scanned"),e.next=28;break;case 17:if(r.status!==F.PhI){e.next=21;break}b("expired"),e.next=28;break;case 21:if(r.status!==F.Cml){e.next=28;break}if(void 0!==r.receiver&&""!==r.receiver){e.next=24;break}return e.abrupt("return");case 24:return s={mobile:r.receiver,code:r.content,platform:F.iw8},ee.Z.debug("login scan info:",s),e.next=28,S(s);case 28:e.next=31;break;case 30:U.yw.error(n.message);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,C.useEffect)((function(){ee.Z.debug("scan deviceUid:",l),void 0!==l&&""!==l||d((0,E.Zx)()),Z(!1);var e=setInterval((function(){Z(!1)}),3e3);return function(){clearInterval(e)}}),[t,l]),(0,Q.jsx)(Q.Fragment,{children:"scan"===t&&(0,Q.jsx)(Q.Fragment,{children:(0,Q.jsx)($.Z,{style:{margin:"auto"},value:m,status:M,onRefresh:function(){ee.Z.debug("onRefresh"),Z(!0)}})})})},ae=a(34574),ne=a(69079),re=a(83910),se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"}}]},name:"google",theme:"outlined"},oe=a(54183),ie=function(e,t){return C.createElement(oe.Z,(0,re.Z)({},e,{ref:t,icon:se}))};var ce=C.forwardRef(ie),le=a(83337),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-92.4 233.5h-63.9c-50.1 0-59.8 23.8-59.8 58.8v77.1h119.6l-15.6 120.7h-104V912H539.2V602.2H434.9V481.4h104.3v-89c0-103.3 63.1-159.6 155.3-159.6 44.2 0 82.1 3.3 93.2 4.8v107.9z"}}]},name:"facebook",theme:"filled"},de=function(e,t){return C.createElement(oe.Z,(0,re.Z)({},e,{ref:t,icon:ue}))};var ge=C.forwardRef(de),fe=a(58620),pe=a(93646),he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},me=function(e,t){return C.createElement(oe.Z,(0,re.Z)({},e,{ref:t,icon:he}))};var ve=C.forwardRef(me),we=a(98907),xe=function(){var e=y.Z.useToken().token,t=(0,C.useContext)(ae.I),a=t.isCustomServer,n=t.setIsCustomServer,r=p.A.useForm(),s=g()(r,1)[0],o=(0,C.useState)(!1),i=g()(o,2),c=i[0],l=i[1],u=(0,C.useState)(""),d=g()(u,2),f=d[0],h=d[1],m=(0,C.useState)(""),v=g()(m,2),w=(v[0],v[1]);(0,C.useEffect)((function(){f&&f.length>0&&(s.setFieldsValue({apiUrl:f}),ee.Z.debug("apiUrl:",f))}),[f]),(0,C.useEffect)((function(){if(a){var e=localStorage.getItem(F.Ss2);"true"===e&&(l(!0),s.setFieldsValue({isCustomServerEnabled:!0})),ee.Z.debug("isCustomServer customEnabled:",e);var t=localStorage.getItem(F.DuM);t&&s.setFieldsValue({apiUrl:(0,E.Qj)(t)});var n=localStorage.getItem(F.sZT);n&&s.setFieldsValue({websocketUrl:(0,E.Qj)(n)})}}),[a]);return(0,Q.jsx)("div",{className:"ant-pro-form-server-container",style:{backgroundColor:e.colorBgContainer,display:"flex",justifyContent:"center",flexDirection:"column",height:"100%",width:"80%",marginLeft:"10%"},children:(0,Q.jsxs)(p.A,{className:"ant-pro-form-server-main",form:s,submitter:{render:function(e,t){return ee.Z.debug("props:",e,t),(0,Q.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"8px"},children:[(0,Q.jsx)(b.ZP,{icon:(0,Q.jsx)(ve,{}),onClick:function(){ee.Z.debug("switch server"),n((function(e){return!e}))},children:"è¿”å›"},"back"),(0,Q.jsx)(b.ZP,{type:"primary",onClick:function(){var t=e.form.getFieldValue("apiUrl");t=(0,E.Qj)(t.trim());var a=e.form.getFieldValue("websocketUrl");a=(0,E.Qj)(a.trim()),t&&t.trim().length>0&&a&&a.trim().length>0?(localStorage.setItem(F.DuM,t),localStorage.setItem(F.sZT,a),localStorage.setItem(F.Ss2,"true"),U.yw.success("ä¿å­˜æˆåŠŸ")):U.yw.error("è¯·è¾“å…¥æ­£ç¡®çš„æœåŠ¡å™¨åœ°å€")},children:"ä¿å­˜"},"submit"),(0,Q.jsx)(b.ZP,{onClick:function(){var t;null===(t=e.form)||void 0===t||t.resetFields(),h(""),localStorage.setItem(F.Ss2,"false"),localStorage.setItem(F.DuM,""),localStorage.setItem(F.sZT,""),U.yw.success("é‡ç½®æˆåŠŸï¼Œå·²æ¢å¤é»˜è®¤äº‘æœåŠ¡å™¨")},children:"é‡ç½®"},"reset"),(0,Q.jsx)(b.ZP,{onClick:function(){window.open("https://www.weiyuai.cn/docs/zh-CN/docs/manual/agent/auth/login")},children:"å¸®åŠ©"},"help")]})}},children:[(0,Q.jsx)(we.Z,{name:"isCustomServerEnabled",fieldProps:{onChange:function(e){ee.Z.debug("e:",e),function(e){if(ee.Z.debug("handleCustomServerChange e:",e),l(e.target.checked),e.target.checked){var t=localStorage.getItem(F.DuM);t&&s.setFieldsValue({apiUrl:(0,E.Qj)(t)});var a=localStorage.getItem(F.sZT);a&&s.setFieldsValue({websocketUrl:(0,E.Qj)(a)}),ee.Z.debug("initData apiUrl:",t,"websocketUrl:",a)}else localStorage.setItem(F.Ss2,"false")}(e)}},children:"æ˜¯å¦å¯ç”¨è‡ªå®šä¹‰æœåŠ¡å™¨"}),c&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(H.Z,{name:"apiUrl",label:"API æœåŠ¡å™¨åœ°å€ï¼ˆä¾‹å¦‚ï¼šhttp://127.0.0.1:9003 æˆ– https://api.bytedesk.comï¼‰",fieldProps:{disabled:!c,placeholder:"http://127.0.0.1:9003",onChange:function(e){return h(e.target.value)}}}),(0,Q.jsx)(H.Z,{name:"websocketUrl",label:"WebSocket æœåŠ¡å™¨åœ°å€ï¼ˆä¾‹å¦‚ï¼šws://127.0.0.1:9885/websocket æˆ– wss://api.bytedesk.com/websocketï¼‰",fieldProps:{disabled:!c,placeholder:"ws://127.0.0.1:9885/websocket",onChange:function(e){return w(e.target.value)}}})]})]})})},ye=a(57181),Me=a(34046),be=y.Z.defaultAlgorithm,ke=y.Z.darkAlgorithm,Se="/auth/login",Ze=function(){var e=(0,w.l)((function(e){var t=e.token;return{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:t.borderRadius,":hover":{backgroundColor:t.colorBgTextHover}}}));return(0,Q.jsx)("div",{className:e,"data-lang":!0,children:x.SelectLang&&(0,Q.jsx)(x.SelectLang,{})})},Ce=function(){var e,t,a=M.Z.useApp(),n=a.modal,s=a.message,i=(0,x.useIntl)(),l=(0,T.Z)().translateString,d=p.A.useForm(),w=g()(d,1)[0],Z=y.Z.useToken().token,U=(0,R.Z)().isDarkMode,L=(0,ye.M)(),A=L.config,z=L.updateConfig,N=(0,C.useState)("https://www.weiyuai.cn/logo.png"),B=g()(N,2),_=B[0],H=B[1],q=(0,C.useState)(""),D=g()(q,2),V=D[0],K=D[1],O=(0,C.useState)(""),J=g()(O,2),Y=J[0],$=J[1],re=(0,P.t)((function(e){return e.setAccessToken})),se=(0,C.useContext)(ae.I),oe=se.isCustomServer,ie=(se.setIsCustomServer,(0,C.useState)("mobile")),ue=g()(ie,2),de=ue[0],he=ue[1],me=(0,x.useModel)("@@initialState").setInitialState,ve=(0,I.L)((function(e){return{deviceUid:e.deviceUid,setDeviceUid:e.setDeviceUid,setUserInfo:e.setUserInfo}})),we=ve.deviceUid,be=ve.setDeviceUid,ke=ve.setUserInfo,Ce=(0,C.useState)(!1),je=g()(Ce,2),Ie=je[0],Ue=je[1],Pe=(0,C.useState)(),Re=g()(Pe,2),Fe=Re[0],Le=Re[1],Te=(0,C.useState)("https://www.weiyuai.cn/privacy.html"),Ee=g()(Te,2),Ae=Ee[0],ze=Ee[1],Ne=(0,C.useState)("https://www.weiyuai.cn/terms.html"),Be=g()(Ne,2),_e=Be[0],He=Be[1],qe=!0===(null==Fe||null===(e=Fe.custom)||void 0===e?void 0:e.login2faEnable),De=function(e){if(!e||"undefined"==typeof window)return null;var t=e.trim();if(!t)return null;try{t=decodeURIComponent(t)}catch(t){console.warn("Failed to decode redirect path",e,t)}if(t.startsWith("//"))return null;if(/^https?:\/\//i.test(t))try{var a=new URL(t);if(a.origin!==window.location.origin)return null;t="".concat(a.pathname).concat(a.search).concat(a.hash)}catch(e){return console.warn("Invalid absolute redirect path",t,e),null}if(!t.startsWith("/"))return null;var n=window.location.pathname,r=t.replace(/[?#].*$/,""),s=n.replace(/[?#].*$/,""),o=function(e){return e===Se||e.endsWith(Se)};return r===s||o(r)&&o(s)?null:t},Ge=function(){window.open(Ae)},Ve=function(){window.open(_e)},Ke=(0,C.useState)(""),Oe=g()(Ke,2),Je=Oe[0],Qe=Oe[1],We=function(){var e=u()(c()().mark((function e(t,a){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qe(t),w.setFieldValue("captchaCode",a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ye=function(){var e=u()(c()().mark((function e(t){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.Z.debug("handleKaptchaCheck:",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(e){n.confirm({title:i.formatMessage({id:"pages.login.privacyModal.title",defaultMessage:"éšç§åè®®ç¡®è®¤"}),content:(0,Q.jsxs)("div",{children:[(0,Q.jsx)("p",{children:i.formatMessage({id:"pages.login.privacyModal.description",defaultMessage:"ä¸ºäº†ä¿æŠ¤æ‚¨çš„ä¸ªäººä¿¡æ¯å®‰å…¨ï¼Œè¯·æ‚¨é˜…è¯»å¹¶åŒæ„ä»¥ä¸‹åè®®ï¼š"})}),(0,Q.jsxs)("p",{children:[(0,Q.jsx)(b.ZP,{size:"small",type:"link",onClick:Ge,style:{padding:0,height:"auto"},children:i.formatMessage({id:"pages.login.privacyModal.privacyPolicy",defaultMessage:"ã€Šç”¨æˆ·éšç§åè®®ã€‹"})}),i.formatMessage({id:"pages.login.privacyModal.and",defaultMessage:"å’Œ"}),(0,Q.jsx)(b.ZP,{size:"small",type:"link",onClick:Ve,style:{padding:0,height:"auto"},children:i.formatMessage({id:"pages.login.privacyModal.termsOfService",defaultMessage:"ã€ŠæœåŠ¡æ¡æ¬¾ã€‹"})})]}),(0,Q.jsx)("p",{children:i.formatMessage({id:"pages.login.privacyModal.confirmText",defaultMessage:"æ˜¯å¦åŒæ„ä»¥ä¸Šåè®®å¹¶ç»§ç»­ç™»å½•ï¼Ÿ"})})]}),okText:i.formatMessage({id:"pages.login.privacyModal.agreeAndLogin",defaultMessage:"åŒæ„å¹¶ç™»å½•"}),cancelText:i.formatMessage({id:"pages.login.privacyModal.cancel",defaultMessage:"å–æ¶ˆ"}),onOk:function(){Ue(!0),e()}})},$e=function(){var e,t,a,n=[];return!1!==(null==Fe||null===(e=Fe.custom)||void 0===e?void 0:e.loginUsernameEnable)&&n.push({key:"account",label:i.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"è´¦æˆ·å¯†ç ç™»å½•"}),children:(0,Q.jsx)(W,{loginType:de,twoFactorEnabled:qe,onKaptchaChange:We,onKaptchaCheck:Ye})}),!1!==(null==Fe||null===(t=Fe.custom)||void 0===t?void 0:t.loginMobileEnable)&&n.push({key:"mobile",label:i.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"æ‰‹æœºå·ç™»å½•"}),children:(0,Q.jsx)(X,{loginType:de,form:w,onKaptchaChange:We,onKaptchaCheck:Ye})}),!1!==(null==Fe||null===(a=Fe.custom)||void 0===a?void 0:a.loginScanEnable)&&n.push({key:"scan",label:i.formatMessage({id:"pages.login.scanLogin.tab",defaultMessage:"æ‰«ç ç™»å½•"}),children:(0,Q.jsx)(te,{loginType:de})}),0===n.length&&n.push({key:"account",label:i.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"è´¦æˆ·å¯†ç ç™»å½•"}),children:(0,Q.jsx)(W,{loginType:de,onKaptchaChange:We,onKaptchaCheck:Ye})}),n},et={marginInlineStart:"16px",color:(0,h.uK)(Z.colorTextBase,.2),fontSize:"24px",verticalAlign:"middle",cursor:"pointer"},tt=function(e){var t=document.querySelector("link[rel*='icon']");t||((t=document.createElement("link")).type="image/x-icon",t.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(t)),t.href=e},at=function(e){document.title=e||i.formatMessage({id:"app.title"})},nt=function(e){var t;if(!e)return H("https://www.weiyuai.cn/logo.png"),tt("https://www.weiyuai.cn/logo.png"),K(i.formatMessage({id:"app.title"})),$(i.formatMessage({id:"pages.layouts.userLayout.title"})),void at(i.formatMessage({id:"app.title"}));if(Le(e),null!=e&&null!==(t=e.custom)&&void 0!==t&&t.enabled&&!(0,fe._p)()){var a,n,r,s,o,c,l,u,d;if(null!=e&&null!==(a=e.custom)&&void 0!==a&&a.logo){var g,f=null==e||null===(g=e.custom)||void 0===g?void 0:g.logo;H(f),tt(f)}else H("https://www.weiyuai.cn/logo.png"),tt("https://www.weiyuai.cn/logo.png");if(null!=e&&null!==(n=e.custom)&&void 0!==n&&n.name)K(null==e||null===(l=e.custom)||void 0===l?void 0:l.name),at(null==e||null===(u=e.custom)||void 0===u?void 0:u.name);else K(i.formatMessage({id:"app.title"})),at(i.formatMessage({id:"app.title"}));if(null!=e&&null!==(r=e.custom)&&void 0!==r&&r.description)$(null==e||null===(d=e.custom)||void 0===d?void 0:d.description);else $(i.formatMessage({id:"pages.layouts.userLayout.title"}));null!=e&&null!==(s=e.custom)&&void 0!==s&&s.showRightCornerChat||z({bubbleConfig:{show:!1},buttonConfig:{show:!1}}),null!=e&&null!==(o=e.custom)&&void 0!==o&&o.privacyPolicyUrl&&ze(e.custom.privacyPolicyUrl),null!=e&&null!==(c=e.custom)&&void 0!==c&&c.termsOfServiceUrl&&He(e.custom.termsOfServiceUrl)}else H("https://www.weiyuai.cn/logo.png"),tt("https://www.weiyuai.cn/logo.png"),K(i.formatMessage({id:"app.title"})),$(i.formatMessage({id:"pages.layouts.userLayout.title"})),at(i.formatMessage({id:"app.title"}))},rt=function(e){var t=e.detail.config;ee.Z.debug("Config updated from server, updating login UI:",t),nt(t)},st=function(){var e=u()(c()().mark((function e(){var t;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==we&&""!==we||be((0,E.Zx)()),e.prev=1,ee.Z.debug("æ‰§è¡Œ loadConfig..."),e.next=5,(0,fe.ME)();case 5:return ee.Z.debug("loadConfig æ‰§è¡Œå®Œæ¯•"),ee.Z.debug("æ‰§è¡Œ getConfigProperties..."),e.next=9,(0,fe.Xs)();case 9:t=e.sent,ee.Z.debug("getConfig login config (after loadConfig): ",t),nt(t),window.addEventListener("config-updated",rt),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error loading config:",e.t0),nt(null);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();(0,C.useEffect)((function(){var e=function(){var e=u()(c()().mark((function e(){var t,a;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,E.pr)(),e.next=3,st();case 3:return e.next=5,pt();case 5:if(!e.sent){e.next=8;break}return e.abrupt("return");case 8:if(t=new URLSearchParams(window.location.search),a=sessionStorage.getItem(F.AvB),!t.get(F.Hox)||!a){e.next=23;break}if(a!==F.zlV){e.next=14;break}return e.next=14,lt();case 14:if(a!==F.gXG){e.next=17;break}return e.next=17,ut();case 17:if(a!==F.d9o){e.next=20;break}return e.next=20,dt();case 20:if(a!==F.T7R){e.next=23;break}return e.next=23,gt();case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){window.removeEventListener("config-updated",rt)}}),[]),(0,C.useEffect)((function(){if(Fe){var e=$e();if(e.length>0){var t=e[0].key;t&&t!==de&&he(t)}}}),[Fe]);var ot=function(){var e=u()(c()().mark((function e(t){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(0,j.flushSync)((function(){me((function(e){return o()(o()({},e),{},{userInfo:t})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=u()(c()().mark((function e(t){var a,n,r,u,d,g,p=arguments;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.length>1&&void 0!==p[1]&&p[1],n=p.length>2&&void 0!==p[2]&&p[2],e.prev=2,a||Ie){e.next=6;break}return Xe((function(){it(t,!0,n)})),e.abrupt("return");case 6:return r="loginLoading",s.loading({content:i.formatMessage({id:"logging",defaultMessage:"logging..."}),key:r}),u=new URLSearchParams(window.location.search),d=De(u.get(F.S__)),e.next=12,(0,f.x4)(o()({},t));case 12:g=e.sent,ee.Z.debug("LoginResult:",g),200===g.code?(s.success({content:i.formatMessage({id:"login.success",defaultMessage:"login success"}),key:r}),re(g.data.accessToken),ot(g.data.user),ke(g.data.user),n?x.history.push("/setting/profile?showChangePassword=true"):d?(ee.Z.debug("Account login - Redirecting to:",d),x.history.push(d)):x.history.push("/")):s.error({content:l(g.message),key:r}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),ee.Z.debug(e.t0),s.error(i.formatMessage({id:"login.error",defaultMessage:"login failed"}));case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=u()(c()().mark((function e(t){var a,n,r,l,u,d,g,p,h,m=arguments;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>1&&void 0!==m[1]&&m[1],e.prev=1,a||Ie){e.next=5;break}return Xe((function(){ct(t,!0)})),e.abrupt("return");case 5:return n="mobileLoginLoading",s.loading({content:i.formatMessage({id:"logging",defaultMessage:"logging..."}),key:n}),r=new URLSearchParams(window.location.search),l=De(r.get(F.S__)),e.next=11,(0,f.N9)(o()({},t));case 11:if(u=e.sent,ee.Z.debug("LoginMobileResult:",u),200===u.code){if(s.success({content:i.formatMessage({id:"login.success",defaultMessage:"login success"}),key:n}),re(null==u?void 0:u.data.accessToken),ot(null==u||null===(d=u.data)||void 0===d?void 0:d.user),ke(null==u||null===(g=u.data)||void 0===g?void 0:g.user),t.mobile)try{p=localStorage.getItem(F.Uf8),(h=p?JSON.parse(p):{}).mobile=t.mobile,localStorage.setItem(F.Uf8,JSON.stringify(h))}catch(e){console.error("Failed to save mobile to localStorage:",e)}l?(ee.Z.debug("Mobile login - Redirecting to:",l),x.history.push(l)):x.history.push("/")}else s.error({content:i.formatMessage({id:u.message,defaultMessage:u.message}),key:n});e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),ee.Z.debug(e.t0),s.error(i.formatMessage({id:"login.error",defaultMessage:"login failed"}));case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=u()(c()().mark((function e(){var t,a,n,o,l,u,d,g,p,h,m,v,w,y,M;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=new URL(window.location.href),a=t.searchParams.get(F.Hox),n=t.searchParams.get(F.EIi),o=sessionStorage.getItem(F.AvB),!a||o!==F.zlV){e.next=16;break}if(l=null,n)try{(u=JSON.parse(decodeURIComponent(n)))&&"string"==typeof u.redirect&&(l=u.redirect)}catch(e){}return d="githubLoginLoading",s.loading({content:i.formatMessage({id:"logging",defaultMessage:"logging..."}),key:d}),e.next=12,(0,f.eC)({code:a,platform:F.iw8,device:we});case 12:return g=e.sent,ee.Z.debug("GitHubLoginResult:",g),200===g.code?(s.success({content:i.formatMessage({id:"login.success",defaultMessage:"login success"}),key:d}),re(g.data.accessToken),ot(g.data.user),ke(g.data.user),t.searchParams.delete(F.Hox),t.searchParams.delete(F.EIi),p=t.pathname+(t.searchParams.toString()?"?".concat(t.searchParams.toString()):""),window.history.replaceState({},"",p),sessionStorage.removeItem(F.AvB),l?x.history.push(decodeURIComponent(l)):(h=new URLSearchParams(window.location.search).get(F.S__))?x.history.push(decodeURIComponent(h)):x.history.push("/")):s.error(g.message||"GitHub ç™»å½•å¤±è´¥"),e.abrupt("return");case 16:return m=new URLSearchParams(window.location.search),v=m.get(F.S__)||"",w=encodeURIComponent(JSON.stringify(r()(r()(r()({},F.kHe,F.zlV),F.Y1e,Date.now()),F.Gx_,v))),e.next=21,(0,f.Tr)({state:w});case 21:y=e.sent,ee.Z.debug("GitHub authorize resp:",y,w),200===y.code&&y.data?(sessionStorage.setItem(F.AvB,F.zlV),M=y.data,window.location.href=M):s.error(y.message||"è·å– GitHub æˆæƒåœ°å€å¤±è´¥"),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(0),console.error("GitHub login error",e.t0),s.error(i.formatMessage({id:"pages.login.oauth.github.error",defaultMessage:"GitHub ç™»å½•å‡ºé”™"}));case 30:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=u()(c()().mark((function e(){var t,a,n,o,l,u,d,g,p,h,m,v,w,y,M;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=new URL(window.location.href),a=t.searchParams.get(F.Hox),n=t.searchParams.get(F.EIi),o=sessionStorage.getItem(F.AvB),!a||o!==F.gXG){e.next=15;break}if(l=null,n)try{(u=JSON.parse(decodeURIComponent(n)))&&"string"==typeof u.redirect&&(l=u.redirect)}catch(e){}return d="googleLoginLoading",s.loading({content:i.formatMessage({id:"logging",defaultMessage:"logging..."}),key:d}),e.next=12,(0,f.BJ)({code:a,platform:F.iw8,device:we});case 12:return 200===(g=e.sent).code?(s.success({content:i.formatMessage({id:"login.success",defaultMessage:"login success"}),key:d}),re(g.data.accessToken),ot(g.data.user),ke(g.data.user),t.searchParams.delete(F.Hox),t.searchParams.delete(F.EIi),p=t.pathname+(t.searchParams.toString()?"?".concat(t.searchParams.toString()):""),window.history.replaceState({},"",p),sessionStorage.removeItem(F.AvB),l?x.history.push(decodeURIComponent(l)):(h=new URLSearchParams(window.location.search).get(F.S__),x.history.push(h?decodeURIComponent(h):"/"))):s.error(g.message||"Google ç™»å½•å¤±è´¥"),e.abrupt("return");case 15:return m=new URLSearchParams(window.location.search),v=m.get(F.S__)||"",w=encodeURIComponent(JSON.stringify(r()(r()(r()({},F.kHe,F.gXG),F.Y1e,Date.now()),F.Gx_,v))),e.next=20,(0,f.mC)({state:w});case 20:200===(y=e.sent).code&&y.data?(sessionStorage.setItem(F.AvB,F.gXG),M=y.data,window.location.href=M):s.error(y.message||"è·å– Google æˆæƒåœ°å€å¤±è´¥"),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("Google login error",e.t0),s.error(i.formatMessage({id:"pages.login.oauth.google.error",defaultMessage:"Google ç™»å½•å‡ºé”™"}));case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=u()(c()().mark((function e(){var t,a,n,o,l,u,d,g,p,h,m,v,w,y,M;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=new URL(window.location.href),a=t.searchParams.get("code"),n=t.searchParams.get("state"),o=sessionStorage.getItem(F.AvB),!a||o!==F.d9o){e.next=15;break}if(l=null,n)try{(u=JSON.parse(decodeURIComponent(n)))&&"string"==typeof u.redirect&&(l=u.redirect)}catch(e){}return d="wechatLoginLoading",s.loading({content:i.formatMessage({id:"logging",defaultMessage:"logging..."}),key:d}),e.next=12,(0,f.Ek)({code:a,platform:F.iw8,device:we});case 12:return 200===(g=e.sent).code?(s.success({content:i.formatMessage({id:"login.success",defaultMessage:"login success"}),key:d}),re(g.data.accessToken),ot(g.data.user),ke(g.data.user),t.searchParams.delete("code"),t.searchParams.delete("state"),p=t.pathname+(t.searchParams.toString()?"?".concat(t.searchParams.toString()):""),window.history.replaceState({},"",p),sessionStorage.removeItem(F.AvB),l?x.history.push(decodeURIComponent(l)):(h=new URLSearchParams(window.location.search).get(F.S__),x.history.push(h?decodeURIComponent(h):"/"))):s.error(g.message||"å¾®ä¿¡ç™»å½•å¤±è´¥"),e.abrupt("return");case 15:return m=new URLSearchParams(window.location.search),v=m.get(F.S__)||"",w=encodeURIComponent(JSON.stringify(r()(r()(r()({},F.kHe,F.d9o),F.Y1e,Date.now()),F.Gx_,v))),e.next=20,(0,f.aW)({state:w});case 20:200===(y=e.sent).code&&y.data?(sessionStorage.setItem(F.AvB,F.d9o),M=y.data,window.location.href=M):s.error(y.message||"è·å–å¾®ä¿¡æˆæƒåœ°å€å¤±è´¥"),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("WeChat login error",e.t0),s.error(i.formatMessage({id:"pages.login.oauth.wechat.error",defaultMessage:"å¾®ä¿¡ç™»å½•å‡ºé”™"}));case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}(),gt=function(){var e=u()(c()().mark((function e(){var t,a,n,o,l,u,d,g,p,h,m,v,w,y,M;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=new URL(window.location.href),a=t.searchParams.get("code"),n=t.searchParams.get("state"),o=sessionStorage.getItem(F.AvB),!a||o!==F.T7R){e.next=15;break}if(l=null,n)try{(u=JSON.parse(decodeURIComponent(n)))&&"string"==typeof u.redirect&&(l=u.redirect)}catch(e){}return d="facebookLoginLoading",s.loading({content:i.formatMessage({id:"logging",defaultMessage:"logging..."}),key:d}),e.next=12,(0,f.bW)({code:a,platform:F.iw8,device:we,state:n||void 0});case 12:return 200===(g=e.sent).code?(s.success({content:i.formatMessage({id:"login.success",defaultMessage:"login success"}),key:d}),re(g.data.accessToken),ot(g.data.user),ke(g.data.user),t.searchParams.delete("code"),t.searchParams.delete("state"),p=t.pathname+(t.searchParams.toString()?"?".concat(t.searchParams.toString()):""),window.history.replaceState({},"",p),sessionStorage.removeItem(F.AvB),l?x.history.push(decodeURIComponent(l)):(h=new URLSearchParams(window.location.search).get(F.S__),x.history.push(h?decodeURIComponent(h):"/"))):s.error(g.message||"Facebook ç™»å½•å¤±è´¥"),e.abrupt("return");case 15:return m=new URLSearchParams(window.location.search),v=m.get(F.S__)||"",w=encodeURIComponent(JSON.stringify(r()(r()(r()({},F.kHe,F.T7R),F.Y1e,Date.now()),F.Gx_,v))),e.next=20,(0,f.Q9)({state:w});case 20:200===(y=e.sent).code&&y.data?(sessionStorage.setItem(F.AvB,F.T7R),M=y.data,window.location.href=M):s.error(y.message||"è·å– Facebook æˆæƒåœ°å€å¤±è´¥"),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("Facebook login error",e.t0),s.error(i.formatMessage({id:"pages.login.oauth.facebook.error",defaultMessage:"Facebook ç™»å½•å‡ºé”™"}));case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=u()(c()().mark((function e(t,a,n){var r,l,u,d,g=arguments;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>3&&void 0!==g[3]&&g[3],l=(0,G.N9)(),u=(0,G.vC)(t.password,l),!qe||t.twoFactorMobile&&t.twoFactorCode){e.next=6;break}return s.warning(i.formatMessage({id:"pages.login.twoFactor.missing",defaultMessage:"è¯·å…ˆå®ŒæˆçŸ­ä¿¡éªŒè¯å†ç™»å½•ã€‚"})),e.abrupt("return");case 6:return d={username:t.username,passwordHash:u,passwordSalt:l,captchaUid:a,captchaCode:t.captchaCode,deviceUid:n,platform:F.iw8},qe&&(d.twoFactorEnabled=!0,d.mobile=t.twoFactorMobile,d.country=t.twoFactorCountry,d.code=t.twoFactorCode),ee.Z.debug("login info:",o()({},d)),e.next=11,it(d,!1,r);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),pt=function(){var e=u()(c()().mark((function e(){var t,a,n,r,o,u,d;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=new URLSearchParams(window.location.search),a=t.get(F.Cc_),n=t.get(F.S__),ee.Z.debug("Login page - accessToken:",a),ee.Z.debug("Login page - redirectPath:",n),!a){e.next=27;break}return ee.Z.debug("Login page - Found accessToken in URL, validating..."),r="accessTokenValidation",s.loading({content:i.formatMessage({id:"validating",defaultMessage:"éªŒè¯ä¸­..."}),key:r}),e.next=12,(0,f.bf)(a);case 12:if(o=e.sent,ee.Z.debug("Login page - LoginAccessTokenResult:",o),200!==o.code){e.next=26;break}return s.success({content:i.formatMessage({id:"login.success",defaultMessage:"login success"}),key:r}),re(o.data.accessToken),ot(o.data.user),ke(o.data.user),t.delete(F.Cc_),u=window.location.pathname+(t.toString()?"?".concat(t.toString()):""),window.history.replaceState({},"",u),n?(d=decodeURIComponent(n),ee.Z.debug("Login page - Redirecting to:",d),x.history.push(d)):x.history.push("/"),e.abrupt("return",!0);case 26:s.error({content:l(o.message),key:r});case 27:return e.abrupt("return",!1);case 30:return e.prev=30,e.t0=e.catch(0),console.error("Login page - Error validating accessToken:",e.t0),s.error(i.formatMessage({id:"pages.login.validationError",defaultMessage:"éªŒè¯è®¿é—®ä»¤ç‰Œæ—¶å‡ºé”™"})),e.abrupt("return",!1);case 35:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(){return e.apply(this,arguments)}}();return(0,Q.jsxs)(m._Y,{hashed:!1,dark:U,children:[(0,Q.jsx)(Ze,{}),(0,Q.jsxs)("div",{style:{backgroundColor:Z.colorBgContainer,textAlign:"center",height:"100%",backgroundImage:"url('/admin/assets/images/bg-wide.png')"},children:[!oe&&(0,Q.jsxs)(v.U,{form:w,contentStyle:{minWidth:400,maxWidth:"75vw"},logo:(0,Q.jsx)("img",{alt:"logo",src:_}),title:V,subTitle:Y,actions:function(e,t,a,n){var r=!0===(null==Fe||null===(e=Fe.custom)||void 0===e?void 0:e.loginGithubEnable),s=!0===(null==Fe||null===(t=Fe.custom)||void 0===t?void 0:t.loginGoogleEnable),o=!0===(null==Fe||null===(a=Fe.custom)||void 0===a?void 0:a.loginWechatEnable),i=!0===(null==Fe||null===(n=Fe.custom)||void 0===n?void 0:n.loginFacebookEnable);if(r||s||o||i)return(0,Q.jsxs)(k.Z,{children:[(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.loginWith",defaultMessage:"other loginType"}),r&&(0,Q.jsx)(ne.Z,{style:et,onClick:lt}),s&&(0,Q.jsx)(ce,{style:et,onClick:ut}),o&&(0,Q.jsx)(le.Z,{style:et,onClick:dt}),i&&(0,Q.jsx)(ge,{style:et,onClick:gt})]})}(),onFinish:function(){var e=u()(c()().mark((function e(t){var a;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee.Z.debug("login values:",t),"account"!==de){e.next=9;break}if(!((0,G.Qc)(t.password)<40)){e.next=6;break}return n.confirm({title:i.formatMessage({id:"pages.login.password.weak.title",defaultMessage:"å¯†ç å¼ºåº¦æé†’"}),content:(0,Q.jsxs)("div",{children:[(0,Q.jsx)("p",{children:i.formatMessage({id:"pages.login.password.weak.description",defaultMessage:"æ‚¨å½“å‰ä½¿ç”¨çš„å¯†ç å¼ºåº¦è¾ƒä½ï¼Œå­˜åœ¨å®‰å…¨é£é™©ã€‚"})}),(0,Q.jsx)("p",{children:i.formatMessage({id:"pages.login.password.weak.suggestion",defaultMessage:"å»ºè®®ï¼šåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦è‡³å°‘8ä½"})}),(0,Q.jsx)("p",{children:i.formatMessage({id:"pages.login.password.weak.confirm",defaultMessage:"æ˜¯å¦ä»è¦ä½¿ç”¨å½“å‰å¯†ç ç»§ç»­ç™»å½•ï¼Ÿ"})})]}),okText:i.formatMessage({id:"pages.login.password.weak.continue",defaultMessage:"ç»§ç»­ç™»å½•"}),cancelText:i.formatMessage({id:"pages.login.password.weak.modify",defaultMessage:"ä¿®æ”¹å¯†ç "}),onOk:function(){ft(t,Je,we)},onCancel:function(){ft(t,Je,we,!0)}}),e.abrupt("return");case 6:ft(t,Je,we),e.next=13;break;case 9:return a={mobile:t.mobile,country:t.country,code:t.code,captchaUid:Je,captchaCode:t.captchaCode,deviceUid:we,platform:F.iw8},console.debug("login mobile info:",a),e.next=13,ct(a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,Q.jsx)(S.Z,{activeKey:de,onChange:he,centered:!0,items:$e()}),(0,Q.jsx)("div",{style:{marginTop:14,marginBottom:14},children:(0,Q.jsxs)("div",{style:{float:"right",marginBottom:24},children:[(0,Q.jsx)(pe.Z,{checked:Ie,onChange:function(e){ee.Z.debug("checked = ".concat(e.target.checked)),Ue(e.target.checked)},children:(0,Q.jsxs)("span",{children:[i.formatMessage({id:"pages.login.privacy.agree",defaultMessage:"åŒæ„"}),(0,Q.jsx)(b.ZP,{size:"small",type:"link",onClick:Ge,style:{padding:0,height:"auto"},children:i.formatMessage({id:"pages.login.privacy.privacyPolicy",defaultMessage:"ã€Šç”¨æˆ·éšç§åè®®ã€‹"})}),i.formatMessage({id:"pages.login.privacy.and",defaultMessage:"å’Œ"}),(0,Q.jsx)(b.ZP,{size:"small",type:"link",onClick:Ve,style:{padding:0,height:"auto"},children:i.formatMessage({id:"pages.login.privacy.termsOfService",defaultMessage:"ã€ŠæœåŠ¡æ¡æ¬¾ã€‹"})})]})}),!0===(null==Fe||null===(t=Fe.custom)||void 0===t?void 0:t.allowRegister)&&(0,Q.jsx)(x.Link,{to:"/auth/register",children:(0,Q.jsx)(x.FormattedMessage,{id:"pages.login.registerAccount",defaultMessage:"æ³¨å†Œ "})})]})})]}),oe&&(0,Q.jsx)(xe,{}),(0,Q.jsx)(Me.Q,o()(o()({},A),{},{onInit:function(){ee.Z.info("ByteDesk initialized admin login")}}))]})]})},je=function(){var e=(0,R.Z)().isDarkMode;return(0,Q.jsx)(ae.w,{children:(0,Q.jsx)(Z.ZP,{theme:{algorithm:e?ke:be},children:(0,Q.jsxs)(M.Z,{style:{height:"100%"},children:[(0,Q.jsx)(U.ZP,{}),(0,Q.jsx)(Ce,{})]})})})}},7117:function(e,t,a){a.d(t,{$g:function(){return u},N9:function(){return c},Qc:function(){return l},vC:function(){return i}});var n=a(46803),r=a.n(n),s=a(67242);function o(e){return"bytedesk_salt"!==e&&e?r().SHA256(e).toString().substring(0,16):"bytedesk_license"}function i(e,t){if(!e)throw new Error("å¯†ç ä¸èƒ½ä¸ºç©º");if(!t)throw new Error("ç›å€¼ä¸èƒ½ä¸ºç©º");try{var a=o(t),n=r().enc.Utf8.parse(a);return r().AES.encrypt(e,n,{mode:r().mode.ECB,padding:r().pad.Pkcs7}).toString()}catch(e){throw s.Z.error("å¯†ç åŠ å¯†å¤±è´¥:",e),new Error("å¯†ç åŠ å¯†å¤±è´¥: "+e.message)}}function c(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a="",n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}function l(e){var t=0;return e?(e.length>=8&&(t+=20),e.length>=12&&(t+=10),/\d/.test(e)&&(t+=20),/[a-z]/.test(e)&&(t+=20),/[A-Z]/.test(e)&&(t+=20),/[!@#$%^&*(),.?":{}|<>]/.test(e)&&(t+=10),Math.min(t,100)):0}function u(e){return e>=80?"å¼º":e>=60?"ä¸­":e>=40?"å¼±":"å¾ˆå¼±"}}}]);