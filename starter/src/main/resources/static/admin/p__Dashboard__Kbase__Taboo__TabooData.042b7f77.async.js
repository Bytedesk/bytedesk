"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[666],{93689:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(11757),r=a(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},o=a(54183),i=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var c=r.forwardRef(i)},40439:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(11757),r=a(44194),s={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},o=a(54183),i=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var c=r.forwardRef(i)},47944:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(11757),r=a(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},o=a(54183),i=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var c=r.forwardRef(i)},15722:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(11757),r=a(44194),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},o=a(54183),i=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var c=r.forwardRef(i)},42085:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(11757),r=a(44194),s={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},o=a(54183),i=function(e,t){return r.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:s}))};var c=r.forwardRef(i)},32350:function(e,t,a){var n=a(17082),r=a(73457),s=a(44194),o=a(7010),i=a(31549),c=["fieldProps","proFieldProps"],l=function(e,t){var a=e.fieldProps,s=e.proFieldProps,l=(0,r.Z)(e,c);return(0,i.jsx)(o.Z,(0,n.Z)({ref:t,valueType:"textarea",fieldProps:a,proFieldProps:s},l))};t.Z=s.forwardRef(l)},785:function(e,t,a){a.r(t),a.d(t,{default:function(){return ue}});var n=a(96865),r=a(75574),s=a(73193),o=a.n(s),i=a(84176),c=a.n(i),l=a(86222),u=a.n(l),d=a(90819),f=a.n(d),p=a(89933),g=a.n(p),m=a(45332),h=a.n(m),x=a(86803),b=a(55735),v=a(30921);function y(e){return M.apply(this,arguments)}function M(){return(M=g()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/taboo/query/org",{method:"GET",params:o()(o()({},t),{},{client:b.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return j.apply(this,arguments)}function j(){return(j=g()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/taboo/create",{method:"POST",data:o()(o()({},t),{},{client:b.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return Z.apply(this,arguments)}function Z(){return(Z=g()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/taboo/update",{method:"POST",data:o()(o()({},t),{},{client:b.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=g()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/taboo/delete",{method:"POST",data:o()(o()({},t),{},{client:b.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return T.apply(this,arguments)}function T(){return(T=g()(f()().mark((function e(t){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/api/v1/taboo/enable",{method:"POST",data:{uid:t.uid,enabled:t.enabled,client:b.bVn}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=a(40612),F=a(10162),P=a(54881),O=a(93689),z=a(40439),I=a(30617),R=a(11090),U=a(61107),$=a(81947),L=a(29266),V=a(3849),A=a(75365),H=a(61355),G=a(44194),B=a(90838),q=a(76750),N=a(6397),Y=a(69169),K=a(84881),W=a(32350),X=a(73442),_=a(31549),J=function(e){var t=e.isEdit,a=e.taboo,n=e.open,r=e.onClose,s=e.onSubmit,i=Y.A.useForm(),c=h()(i,1)[0],l=(0,D.u)((function(e){return e.currentOrg})),u=(0,N.j)((function(e){return e.currentKbase})),d=(0,B.v)((function(e){return e.categorySelectOptions}));(0,G.useEffect)((function(){t?c.setFieldsValue({content:null==a?void 0:a.content,categoryUid:null==a?void 0:a.categoryUid,kbUid:null==u?void 0:u.uid}):c.resetFields()}),[n]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(X.Z,{title:t?"修改":"新建",onClose:r,open:n,width:500,extra:(0,_.jsxs)(V.Z,{children:[(0,_.jsx)(A.ZP,{onClick:r,children:"取消"}),(0,_.jsx)(A.ZP,{onClick:function(){console.log("handleSubmit"),c.validateFields().then((function(e){console.log(e),s(o()(o()(o()({},a),e),{},{kbUid:null==u?void 0:u.uid,orgUid:null==l?void 0:l.uid}))})).catch((function(e){console.log("Form errors:",e),x.yw.error("请检查表单填写")}))},type:"primary",children:"保存"})]}),children:(0,_.jsxs)(Y.A,{form:c,initialValues:o()({},a),submitter:{render:function(){return null}},children:[(0,_.jsx)(K.Z,{label:"分类",name:"categoryUid",rules:[{required:!0,message:"请选择分类"}],options:d,fieldProps:{allowClear:!0,placeholder:"请选择分类",onChange:function(e){console.log("category selected ".concat(e))}}}),(0,_.jsx)(W.Z,{label:"内容",name:"content"})]})})})},Q=a(27650),ee=a(44521),te=a(28425),ae=a(28977),ne=a.n(ae),re=a(88721),se=["current","pageSize"],oe=function(){var e=(0,v.useIntl)(),t=(0,q.Z)(),a=(t.translateStringTranct,t.translateString),n=(0,G.useRef)(),r=(0,G.useState)(!0),s=h()(r,2),i=s[0],l=s[1],d=(0,G.useState)(),p=h()(d,2),m=p[0],M=p[1],j=(0,G.useState)(!1),Z=h()(j,2),C=Z[0],T=Z[1],Y=(0,G.useState)(1),K=h()(Y,2),W=K[0],X=K[1],ae=(0,G.useState)(10),oe=h()(ae,2),ie=oe[0],ce=oe[1],le=(0,D.u)((function(e){return e.currentOrg})),ue=(0,N.j)((function(e){return e.currentKbase})),de=(0,B.v)((function(e){return e.currentCategory})),fe=(0,B.v)((function(e){return e.categorySelectOptions})),pe=(0,G.useState)(!1),ge=h()(pe,2),me=ge[0],he=ge[1],xe=(0,G.useState)([]),be=h()(xe,2),ve=be[0],ye=be[1],Me=(0,G.useState)([]),we=h()(Me,2),je=we[0],Se=we[1],Ze=function(){var t=g()(f()().mark((function t(a){var r;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,k(a);case 3:r=t.sent,console.log("delete response:",r),200===r.code?(null==n||n.current.reload(),x.yw.success(e.formatMessage({id:"delete.success",defaultMessage:"Delete Success"}))):x.yw.error(e.formatMessage({id:"delete.failed",defaultMessage:"Delete Error"}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ke=function(){var t=g()(f()().mark((function t(){var a,r,s,o,i,c;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==je.length){t.next=3;break}return x.yw.warning(e.formatMessage({id:"batch.delete.noselection",defaultMessage:"Please select items to delete"})),t.abrupt("return");case 3:x.yw.loading(e.formatMessage({id:"deleting",defaultMessage:"Deleting..."})),r=0,s=0,o=u()(je),t.prev=7,o.s();case 9:if((i=o.n()).done){t.next=23;break}return c=i.value,t.prev=11,t.next=14,k(c);case 14:200===t.sent.code?r++:s++,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),s++;case 21:t.next=9;break;case 23:t.next=28;break;case 25:t.prev=25,t.t1=t.catch(7),o.e(t.t1);case 28:return t.prev=28,o.f(),t.finish(28);case 31:x.yw.destroy(),0===s?x.yw.success(e.formatMessage({id:"batch.delete.success",defaultMessage:"Successfully deleted {count} items"},{count:r})):x.yw.warning(e.formatMessage({id:"batch.delete.partial",defaultMessage:"Deleted {success} items, failed to delete {fail} items"},{success:r,fail:s})),ye([]),Se([]),null===(a=n.current)||void 0===a||a.reloadAndRest();case 36:case"end":return t.stop()}}),t,null,[[7,25,28,31],[11,18]])})));return function(){return t.apply(this,arguments)}}(),Ce=function(){var t=g()(f()().mark((function t(a){var r,s,o,i,c,l;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==je.length){t.next=3;break}return x.yw.warning(e.formatMessage({id:"batch.noselection",defaultMessage:"Please select items to process"})),t.abrupt("return");case 3:x.yw.loading(a?e.formatMessage({id:"enabling",defaultMessage:"Enabling..."}):e.formatMessage({id:"disabling",defaultMessage:"Disabling..."})),s=0,o=0,i=u()(je),t.prev=7,i.s();case 9:if((c=i.n()).done){t.next=23;break}return l=c.value,t.prev=11,t.next=14,E({uid:l.uid,enabled:a});case 14:200===t.sent.code?s++:o++,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),o++;case 21:t.next=9;break;case 23:t.next=28;break;case 25:t.prev=25,t.t1=t.catch(7),i.e(t.t1);case 28:return t.prev=28,i.f(),t.finish(28);case 31:x.yw.destroy(),0===o?x.yw.success(a?e.formatMessage({id:"batch.enable.success",defaultMessage:"Successfully enabled {count} items"},{count:s}):e.formatMessage({id:"batch.disable.success",defaultMessage:"Successfully disabled {count} items"},{count:s})):x.yw.warning(a?e.formatMessage({id:"batch.enable.partial",defaultMessage:"Enabled {success} items, failed to enable {fail} items"},{success:s,fail:o}):e.formatMessage({id:"batch.disable.partial",defaultMessage:"Disabled {success} items, failed to disable {fail} items"},{success:s,fail:o})),ye([]),Se([]),null===(r=n.current)||void 0===r||r.reloadAndRest();case 36:case"end":return t.stop()}}),t,null,[[7,25,28,31],[11,18]])})));return function(e){return t.apply(this,arguments)}}(),Ee=[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:(0,_.jsx)(v.FormattedMessage,{id:"taboo.content",defaultMessage:"Content"}),dataIndex:"content",copyable:!0,fixed:"left",ellipsis:!0,search:!0,render:function(e,t){return a(null==t?void 0:t.content)}},{title:(0,_.jsx)(v.FormattedMessage,{id:"taboo.type",defaultMessage:"Type"}),dataIndex:"type",width:100,render:function(e,t){return(0,re.OI)(t.type)},valueEnum:{text:{text:e.formatMessage({id:"taboo.type.text"})},image:{text:e.formatMessage({id:"taboo.type.image"})},video:{text:e.formatMessage({id:"taboo.type.video"})},file:{text:e.formatMessage({id:"taboo.type.file"})}}},{title:(0,_.jsx)(v.FormattedMessage,{id:"taboo.enabled",defaultMessage:"Status"}),dataIndex:"enabled",width:100,valueEnum:{true:{text:e.formatMessage({id:"common.enabled"}),status:"Success"},false:{text:e.formatMessage({id:"common.disabled"}),status:"Error"}}},{title:(0,_.jsx)(v.FormattedMessage,{id:"taboo.category",defaultMessage:"Category"}),dataIndex:"categoryUid",hideInSearch:!0,width:120,render:function(e,t){var a=fe.find((function(e){return e.value===(null==t?void 0:t.categoryUid)}));return(0,_.jsx)(L.Z,{color:"blue",children:(null==a?void 0:a.label)||"-"})},filters:fe.map((function(e){return{text:e.label,value:e.value}})),filterMode:"tree"},{title:(0,_.jsx)(v.FormattedMessage,{id:"taboo.tags",defaultMessage:"Tags"}),dataIndex:"tags",width:150,ellipsis:!0,hideInSearch:!0,render:function(e,t){return t.tags?t.tags.split(",").map((function(e){return(0,_.jsx)(L.Z,{color:"green",children:e.trim()},e)})):"-"}},{title:(0,_.jsx)(v.FormattedMessage,{id:"taboo.startDate",defaultMessage:"Start Date"}),dataIndex:"startDate",width:160,valueType:"dateTime",hideInSearch:!0,render:function(e,t){return t.startDate?ne()(t.startDate).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,_.jsx)(v.FormattedMessage,{id:"taboo.endDate",defaultMessage:"End Date"}),dataIndex:"endDate",width:160,valueType:"dateTime",hideInSearch:!0,render:function(e,t){return t.endDate?ne()(t.endDate).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,_.jsx)(v.FormattedMessage,{id:"taboo.updatedAt",defaultMessage:"Updated At"}),dataIndex:"updatedAt",width:160,valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:(0,_.jsx)(v.FormattedMessage,{id:"pages.common.actions",defaultMessage:"Actions"}),valueType:"option",fixed:"right",width:150,render:function(t,a){return(0,_.jsxs)(V.Z,{children:[(0,_.jsx)(A.ZP,{type:"link",size:"small",onClick:function(){return De(a)},children:(0,_.jsx)(v.FormattedMessage,{id:"pages.common.edit",defaultMessage:"Edit"})}),(0,_.jsx)(H.Z,{title:(0,_.jsx)(v.FormattedMessage,{id:"pages.common.deleteTip",defaultMessage:"Delete Confirmation"}),description:e.formatMessage({id:"pages.common.deleteConfirm"},{name:a.content}),onConfirm:function(){return Ze(a)},okText:(0,_.jsx)(v.FormattedMessage,{id:"pages.common.ok"}),cancelText:(0,_.jsx)(v.FormattedMessage,{id:"pages.common.cancel"}),children:(0,_.jsx)(A.ZP,{type:"link",danger:!0,size:"small",children:(0,_.jsx)(v.FormattedMessage,{id:"pages.common.delete"})})})]})}}],Te=function(){M(void 0),l(!1),T(!0)},De=function(e){M(e),l(!0),T(!0)},Fe=function(){var t=g()(f()().mark((function t(a){var r,s;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("handleSubmitDrawer",a),i?x.yw.loading(e.formatMessage({id:"updating"})):x.yw.loading(e.formatMessage({id:"creating"})),!i){t.next=8;break}return t.next=5,S(a);case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,w(a);case 10:t.t0=t.sent;case 11:r=t.t0,console.log("createTaboo response:",a,r),200===r.code?(x.yw.destroy(),x.yw.success(e.formatMessage({id:"create.success",defaultMessage:"create success"})),T(!1),null===(s=n.current)||void 0===s||s.reloadAndRest()):(x.yw.destroy(),x.yw.error(r.message));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Pe=function(){var e=g()(f()().mark((function e(){return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=g()(f()().mark((function e(){var t;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",W,ie),t=localStorage.getItem(b.LA8),window.open((0,ee.kG)()+"/api/v1/taboo/export?"+new URLSearchParams({pageNumber:String(W-1),pageSize:String(ie),categoryUid:(null==de?void 0:de.uid)===b.zBg?"":null==de?void 0:de.uid,kbUid:null==ue?void 0:ue.uid,orgUid:(null==le?void 0:le.uid)||"",accessToken:t||""}).toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,G.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.reloadAndRest()}),[ue,de]);var ze=function(){var t=g()(f()().mark((function t(){return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,te.HK)(b.R8f,null==le?void 0:le.uid,null==ue?void 0:ue.uid,{showLoading:!0,loadingMessage:e.formatMessage({id:"loading"}),errorMessage:e.formatMessage({id:"fetch.categories.error",defaultMessage:"Failed to fetch categories"})});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ie={selectedRowKeys:ve,onChange:function(e,t){ye(e),Se(t)}};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)($.Z,{columns:Ee,actionRef:n,cardBordered:!0,rowSelection:Ie,scroll:{x:1800},request:function(){var t=g()(f()().mark((function t(a,n,r){var s,i,l,u,d;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("request:",a,n,r),x.yw.loading(e.formatMessage({id:"loading",defaultMessage:"Loading"})),s=a.current,i=a.pageSize,l=c()(a,se),X(s),ce(i),u=o()({pageNumber:s-1,pageSize:i,categoryUid:(null==de?void 0:de.uid)===b.zBg?"":null==de?void 0:de.uid,kbUid:null==ue?void 0:ue.uid,orgUid:null==le?void 0:le.uid},l),t.next=8,y(u);case 8:return d=t.sent,console.log("getAllTaboos response:",u,d),x.yw.destroy(),200===d.code||x.yw.error(d.message),t.abrupt("return",{data:d.data.content,success:!0,total:d.data.totalElements});case 13:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),rowKey:"uid",search:{labelWidth:"auto"},pagination:{pageSize:10,onChange:function(e,t){X(e),ce(t)}},dateFormatter:"string",headerTitle:a(null==ue?void 0:ue.name)+" - "+e.formatMessage({id:"taboo.title",defaultMessage:"敏感词"}),tooltip:{title:e.formatMessage({id:"taboo.tooltip",defaultMessage:"客服->一对一->高级设置->敏感词"}),placement:"top"},toolBarRender:function(){return[(0,_.jsx)(A.ZP,{icon:(0,_.jsx)(F.Z,{}),type:"primary",onClick:Te,children:(0,_.jsx)(v.FormattedMessage,{id:"taboo.action.create",defaultMessage:"Create Taboo"})},"create"),ve.length>0&&(0,_.jsx)(H.Z,{title:e.formatMessage({id:"batch.deleteTip"}),description:"".concat(e.formatMessage({id:"batch.deleteAffirm"})," ").concat(ve.length," ").concat(e.formatMessage({id:"items"}),"?"),onConfirm:ke,okText:e.formatMessage({id:"ok"}),cancelText:e.formatMessage({id:"cancel"}),children:(0,_.jsxs)(A.ZP,{danger:!0,icon:(0,_.jsx)(P.Z,{}),children:[e.formatMessage({id:"batch.delete"})," (",ve.length,")"]})},"batchDelete"),ve.length>0&&(0,_.jsxs)(A.ZP,{type:"primary",icon:(0,_.jsx)(O.Z,{}),onClick:function(){return Ce(!0)},children:[e.formatMessage({id:"batch.enable",defaultMessage:"Enable"})," (",ve.length,")"]},"batchEnable"),ve.length>0&&(0,_.jsxs)(A.ZP,{danger:!0,icon:(0,_.jsx)(z.Z,{}),onClick:function(){return Ce(!1)},children:[e.formatMessage({id:"batch.disable",defaultMessage:"Disable"})," (",ve.length,")"]},"batchDisable"),(0,_.jsx)(A.ZP,{icon:(0,_.jsx)(I.Z,{}),type:"primary",onClick:Pe,children:(0,_.jsx)(v.FormattedMessage,{id:"taboo.action.import",defaultMessage:"Import Taboo"})},"import"),(0,_.jsx)(A.ZP,{icon:(0,_.jsx)(R.Z,{}),type:"primary",onClick:Oe,children:(0,_.jsx)(v.FormattedMessage,{id:"taboo.action.export",defaultMessage:"Export Taboo"})},"export"),(0,_.jsx)(A.ZP,{icon:(0,_.jsx)(U.Z,{}),type:"link",onClick:function(){return(0,ee.R1)()},children:(0,_.jsx)(v.FormattedMessage,{id:"taboo.action.download",defaultMessage:"Download Template"})},"download")]},columnsState:{persistenceKey:"taboo-table",defaultValue:{tags:{show:!0},startDate:{show:!1},endDate:{show:!1},level:{show:!0},enabled:{show:!0}}}}),C&&(0,_.jsx)(J,{isEdit:i,open:C,taboo:m,onClose:function(){return T(!1)},onSubmit:Fe}),me&&(0,_.jsx)(Q.Z,{type:b.R8f,acceptType:".xlsx,.xls,.csv",isModalOpen:me,handleSubmit:function(e){console.log("handleUploadDragSubmit",e),he(!1),null==n||n.current.reload(),ze()},handleCancel:function(){console.log("handleUploadDragCancel"),he(!1),null==n||n.current.reload()}})]})},ie=a(95160),ce=r.Z.Sider,le=r.Z.Content,ue=function(){var e=(0,n.Z)(),t=e.leftSiderStyle,a=e.contentStyle;return(0,_.jsx)("div",{children:(0,_.jsxs)(r.Z,{children:[(0,_.jsx)(ce,{style:t,children:(0,_.jsx)(ie.Z,{type:b.R8f})}),(0,_.jsx)(r.Z,{children:(0,_.jsx)(le,{style:a,children:(0,_.jsx)(oe,{})})})]})})}},27487:function(e,t,a){a.d(t,{Z:function(){return j}});var n=a(44194),r=a(51865),s=a.n(r),o=a(97859),i=a(90899),c=a(37167),l=a(65759),u=a(77167);const d=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],p=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];var g=function(e,t){return s()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const a=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${a}`]:a&&d.includes(a)}})(e,t)),((e,t)=>{const a={};return p.forEach((n=>{a[`${e}-align-${n}`]=t.align===n})),a[`${e}-align-stretch`]=!t.align&&!!t.vertical,a})(e,t)),((e,t)=>{const a={};return f.forEach((n=>{a[`${e}-justify-${n}`]=t.justify===n})),a})(e,t)))};const m=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},h=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},x=e=>{const{componentCls:t}=e,a={};return d.forEach((e=>{a[`${t}-wrap-${e}`]={flexWrap:e}})),a},b=e=>{const{componentCls:t}=e,a={};return p.forEach((e=>{a[`${t}-align-${e}`]={alignItems:e}})),a},v=e=>{const{componentCls:t}=e,a={};return f.forEach((e=>{a[`${t}-justify-${e}`]={justifyContent:e}})),a};var y=(0,l.I$)("Flex",(e=>{const{paddingXS:t,padding:a,paddingLG:n}=e,r=(0,u.IX)(e,{flexGapSM:t,flexGap:a,flexGapLG:n});return[m(r),h(r),x(r),b(r),v(r)]}),(()=>({})),{resetStyle:!1}),M=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const w=n.forwardRef(((e,t)=>{const{prefixCls:a,rootClassName:r,className:l,style:u,flex:d,gap:f,children:p,vertical:m=!1,component:h="div"}=e,x=M(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:b,direction:v,getPrefixCls:w}=n.useContext(c.E_),j=w("flex",a),[S,Z,k]=y(j),C=null!=m?m:null==b?void 0:b.vertical,E=s()(l,r,null==b?void 0:b.className,j,Z,k,g(j,e),{[`${j}-rtl`]:"rtl"===v,[`${j}-gap-${f}`]:(0,i.n)(f),[`${j}-vertical`]:C}),T=Object.assign(Object.assign({},null==b?void 0:b.style),u);return d&&(T.flex=d),f&&!(0,i.n)(f)&&(T.gap=f),S(n.createElement(h,Object.assign({ref:t,className:E,style:T},(0,o.Z)(x,["justify","wrap","align"])),p))}));var j=w}}]);