"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[3189],{82961:function(e,t,a){a.d(t,{dI:function(){return p},xg:function(){return c}});var r=a(90819),n=a.n(r),l=a(73193),s=a.n(l),i=a(89933),o=a.n(i),u=a(94976),d=a(4628);function c(e){return f.apply(this,arguments)}function f(){return(f=o()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/form/query/org",{method:"GET",params:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=o()(n()().mark((function e(t){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/form/delete",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},53189:function(e,t,a){a.d(t,{Z:function(){return je}});var r=a(84176),n=a.n(r),l=a(76711),s=a.n(l),i=a(73193),o=a.n(i),u=a(10154),d=a.n(u),c=a(86222),f=a.n(c),p=a(90819),m=a.n(p),g=a(89933),y=a.n(g),h=a(89957),v=a.n(h),M=a(45332),x=a.n(M),b=a(43388),k=a(94976),q=a(4628);function w(e){return j.apply(this,arguments)}function j(){return(j=y()(m()().mark((function e(t){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,q.request)("/api/v1/quickreply/query/org",{method:"GET",params:o()(o()({},t),{},{channel:k.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return Z.apply(this,arguments)}function Z(){return(Z=y()(m()().mark((function e(t){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,q.request)("/api/v1/quickreply/create",{method:"POST",data:o()(o()({},t),{},{channel:k.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return U.apply(this,arguments)}function U(){return(U=y()(m()().mark((function e(t){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,q.request)("/api/v1/quickreply/update",{method:"POST",data:o()(o()({},t),{},{channel:k.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return A.apply(this,arguments)}function A(){return(A=y()(m()().mark((function e(t){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,q.request)("/api/v1/quickreply/delete",{method:"POST",data:o()(o()({},t),{},{channel:k.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return E.apply(this,arguments)}function E(){return(E=y()(m()().mark((function e(t){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,q.request)("/api/v1/quickreply/enable",{method:"POST",data:{uid:t.uid,enabled:t.enabled,channel:k.XtJ}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=a(74171),I=a(54881),N=a(93689),D=a(40439),z=a(2484),O=a(10162),J=a(30617),B=a(34512),R=a(27729),Y=a(30310),Q=a(90581),K=a(82878),V=a(69533),L=a(19239),X=a(43275),W=a(28508),_=a(69705),H=a(1282),G=a(69174),$=a(44194),ee=a(1715),te=a(8732),ae=a(82961),re=a(99036),ne=a(38106),le=a(59005),se=a(86702),ie=a(60241),oe=a(30857),ue=a(47710),de=a(42085),ce=a(96596),fe=a.n(ce),pe=a(88722),me=a(58620),ge=a(66406),ye=a(78112),he=a(31549),ve=ue.Z.Dragger,Me=function(e){var t=e.isEdit,a=e.quickreply,r=e.open,n=e.onClose,l=e.onSubmit,s=re.A.useForm(),i=x()(s,1)[0],u=(0,$.useState)((null==a?void 0:a.content)||""),d=x()(u,2),c=d[0],p=d[1],g=(0,pe.Z)().translateString,h=(0,q.useIntl)(),M=(0,T.u)((function(e){return e.currentOrg})),w=(0,te.j)((function(e){return e.currentKbase})),j=(0,ee.v)((function(e){return e.categorySelectOptions})),S=(0,ee.v)((function(e){return e.categoryTreeOptions})),Z=(0,$.useState)(),C=x()(Z,2),U=C[0],P=C[1],A=(0,$.useState)(k.PYi),F=x()(A,2),E=F[0],I=F[1],N=(0,$.useState)(".png,.jpg,.jpeg"),D=x()(N,2),z=D[0],O=D[1],J=(0,$.useState)([]),B=x()(J,2),R=B[0],Q=B[1],K=(0,$.useState)(!1),L=x()(K,2),X=L[0],W=L[1],_=(0,$.useState)({file:void 0,fileName:"test.pdf",fileType:"application/pdf",isAvatar:"false",kbType:"type",categoryUid:"",kbUid:(null==w?void 0:w.uid)||"",channel:k.XtJ}),H=x()(_,2),G=H[0],ue=(H[1],function e(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=f()(a);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.key!==k.zBg)return n.key;var l=e(n.children||[]);if(l)return l}}catch(e){r.e(e)}finally{r.f()}return""});(0,$.useEffect)((function(){if(t){var e=(null==a?void 0:a.type)||k.PYi,r=function(e){if(!e)return{};try{var t=JSON.parse(e);return t&&"object"===v()(t)?t:{}}catch(e){return{}}}(null==a?void 0:a.content);i.setFieldsValue({type:e,title:null==a?void 0:a.title,content:null==a?void 0:a.content,payloadPhoneNumber:r.phoneNumber,payloadEmailAddress:r.emailAddress,payloadEmailSubject:r.emailSubject,payloadEmailBody:r.emailBody,payloadWechatNumber:r.wechatNumber,formUid:null==a?void 0:a.formUid,formSchema:null==a?void 0:a.formSchema,categoryUid:null==a?void 0:a.categoryUid,kbUid:null==w?void 0:w.uid}),I(e),p((null==a?void 0:a.content)||"")}else{var n=ue(S||[])||(j.length>0?j[0].value:"");i.resetFields(),i.setFieldsValue({type:k.PYi,title:"",content:"",payloadPhoneNumber:void 0,payloadEmailAddress:void 0,payloadEmailSubject:void 0,payloadEmailBody:void 0,payloadWechatNumber:void 0,formUid:void 0,formSchema:void 0,categoryUid:n,kbUid:null==w?void 0:w.uid}),n&&P(n),p(""),I(k.PYi)}}),[r,j,S]);var ce=(0,$.useCallback)(y()(m()().mark((function e(){var t,a;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=M&&M.uid){e.next=3;break}return Q([]),e.abrupt("return");case 3:return W(!0),e.prev=4,e.next=7,(0,ae.xg)({pageNumber:0,pageSize:200,orgUid:M.uid});case 7:200===(t=e.sent).code?Q((null==t||null===(a=t.data)||void 0===a?void 0:a.content)||[]):b.yw.error(t.message||h.formatMessage({id:"quickreply.form.loadFailed",defaultMessage:"表单加载失败"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("loadForms error",e.t0),b.yw.error(h.formatMessage({id:"quickreply.form.loadFailed",defaultMessage:"表单加载失败"}));case 15:return e.prev=15,W(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])}))),[null==M?void 0:M.uid,h]),Me={name:"file",accept:z,action:(0,me.M$)(),headers:{Authorization:"Bearer "+localStorage.getItem(k.LA8)},data:G,showUploadList:!1,beforeUpload:function(e){console.log("beforeUpload",e);var t=fe()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name;G.file=e,G.fileName=t,G.fileType=e.type,G.kbType=k.YjS,G.categoryUid=U||"",G.kbUid=null==w?void 0:w.uid,console.log("beforeUpload",G)},onChange:function(e){if("uploading"===e.file.status&&b.yw.loading(h.formatMessage({id:"quickreply.upload.uploading",defaultMessage:"{name} 上传中"},{name:e.file.name})),"done"===e.file.status)if(console.log("response: ",e.file.response),200===e.file.response.code){var t,a=null===(t=e.file.response)||void 0===t?void 0:t.data.fileUrl;i.setFieldValue("content",a),p(a),b.yw.destroy(),b.yw.success(h.formatMessage({id:"quickreply.upload.success",defaultMessage:"{name} 上传成功"},{name:e.file.name}))}else b.yw.destroy(),b.yw.error(h.formatMessage({id:"quickreply.upload.fail",defaultMessage:"{name} 上传失败"},{name:e.file.name}));else"error"===e.file.status&&b.yw.error(h.formatMessage({id:"quickreply.upload.fail",defaultMessage:"{name} 上传失败"},{name:e.file.name}))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return(0,he.jsx)(he.Fragment,{children:(0,he.jsx)(oe.Z,{title:h.formatMessage({id:t?"quickreply.drawer.title.edit":"quickreply.drawer.title.create",defaultMessage:t?"修改快捷回复":"新建快捷回复"}),width:650,onClose:n,open:r,extra:(0,he.jsxs)(Y.Z,{children:[(0,he.jsx)(V.ZP,{onClick:n,children:h.formatMessage({id:"pages.common.cancel",defaultMessage:"取消"})}),(0,he.jsx)(V.ZP,{onClick:function(){console.log("handleSubmit"),i.validateFields().then((function(e){console.log(e);var t=e.type===k.ICe,r=e.type===k.PYi,n=e.type===k.JpA,s=e.type===k.QMK,i=e.type===k.JZh,u=t?e.formSchema:r?c:n?JSON.stringify({phoneNumber:e.payloadPhoneNumber}):s?JSON.stringify({emailAddress:e.payloadEmailAddress,emailSubject:e.payloadEmailSubject,emailBody:e.payloadEmailBody}):i?JSON.stringify({wechatNumber:e.payloadWechatNumber}):e.content;l(o()(o()(o()({},a),e),{},{kbUid:null==w?void 0:w.uid,orgUid:null==M?void 0:M.uid,content:u}))})).catch((function(e){console.log("Form errors:",e),b.yw.error(h.formatMessage({id:"quickreply.form.validationFailed",defaultMessage:"请检查表单填写"}))}))},type:"primary",children:h.formatMessage({id:"pages.common.save",defaultMessage:"保存"})})]}),children:(0,he.jsxs)(re.A,{form:i,initialValues:o()({},a),submitter:{render:function(){return null}},children:[(0,he.jsx)(ne.Z,{label:h.formatMessage({id:"quickreply.category",defaultMessage:"分类"}),name:"categoryUid",rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.category.required",defaultMessage:"请选择分类"})}],fieldProps:{allowClear:!0,placeholder:h.formatMessage({id:"quickreply.form.category.placeholder",defaultMessage:"请选择分类"}),onChange:function(e){console.log("category selected ".concat(e)),P(e)},treeData:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter((function(e){return e.key!==k.zBg})).map((function(t){return o()(o()({},t),{},{title:g(t.title),children:e(t.children||[])})}))}(S||[]),showSearch:!0,treeDefaultExpandAll:!1,fieldNames:{label:"title",value:"key",children:"children"}}}),(0,he.jsx)(le.Z,{label:h.formatMessage({id:"quickreply.type",defaultMessage:"类型"}),name:"type",rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.type.required",defaultMessage:"请选择类型"})}],options:[{label:h.formatMessage({id:"quickreply.type.text",defaultMessage:"文本"}),value:k.PYi},{label:h.formatMessage({id:"quickreply.type.form",defaultMessage:"表单"}),value:k.ICe},{label:h.formatMessage({id:"quickreply.type.image",defaultMessage:"图片"}),value:k.Qm},{label:h.formatMessage({id:"quickreply.type.video",defaultMessage:"视频"}),value:k.tVi},{label:h.formatMessage({id:"quickreply.type.audio",defaultMessage:"音频"}),value:k.Yu1},{label:h.formatMessage({id:"quickreply.type.file",defaultMessage:"文件"}),value:k.Qn},{label:h.formatMessage({id:"quickreply.type.phoneNumber",defaultMessage:"手机号"}),value:k.JpA}],fieldProps:{allowClear:!0,placeholder:h.formatMessage({id:"quickreply.form.type.placeholder",defaultMessage:"请选择类型"}),onChange:function(e){return console.log("type selected ".concat(e)),I(e),e===k.ICe?(ce(),void p("")):e===k.JpA||e===k.QMK||e===k.JZh?(i.setFieldValue("content",""),void p("")):void(e===k.Qm?O(".png,.jpg,.jpeg,.gif,.bmp"):e===k.tVi?O(".mp4,.avi,.mov,.wmv"):e===k.Yu1?O(".mp3,.wav,.flac"):e===k.Qn&&O(".doc,.xls,.ppt,.pdf,.docx,.txt,.csv,.xlsx,.rtf,.zip,.7z,.tar,.gz,.rar,.iso"))}}}),(0,he.jsx)(se.Z,{label:h.formatMessage({id:"quickreply.title.field",defaultMessage:"标题"}),name:"title",rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.title.required",defaultMessage:"请输入标题"})}]}),E===k.ICe?(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(le.Z,{label:h.formatMessage({id:"quickreply.form.formUid",defaultMessage:"选择表单"}),name:"formUid",rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.formUid.required",defaultMessage:"请选择表单"})}],options:R.filter((function(e){return Boolean(null==e?void 0:e.uid)})).map((function(e){return{label:g(e.name)||e.name||e.uid,value:e.uid}})),fieldProps:{showSearch:!0,allowClear:!0,loading:X,optionFilterProp:"label",placeholder:h.formatMessage({id:"quickreply.form.formUid.placeholder",defaultMessage:"请选择表单"}),onDropdownVisibleChange:function(e){e&&ce()},onChange:function(e){var t=R.find((function(t){return t.uid===e}));i.setFieldValue("formSchema",null==t?void 0:t.schema),i.setFieldValue("content",null==t?void 0:t.schema)}}}),(0,he.jsx)(ie.Z,{label:h.formatMessage({id:"quickreply.form.formSchema",defaultMessage:"表单结构"}),name:"formSchema",rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.formSchema.required",defaultMessage:"表单结构不能为空"})}],fieldProps:{rows:4,readOnly:!0}})]}):E===k.PYi?(0,he.jsx)(re.A.Item,{name:"content",label:h.formatMessage({id:"quickreply.form.reply",defaultMessage:"回复"}),rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.reply.required",defaultMessage:"请输入回复"})}],children:(0,he.jsx)(ge.Z,{placeholder:h.formatMessage({id:"quickreply.form.editor.placeholder",defaultMessage:"请输入回复内容..."}),value:c,toolbarKeys:(0,ye.eD)(),style:{height:"200px",width:"600px"},maxLength:200,onChange:function(e,t){p(e)}})}):(0,he.jsxs)(he.Fragment,{children:[E===k.JpA&&(0,he.jsx)(se.Z,{label:h.formatMessage({id:"quickreply.form.phoneNumber",defaultMessage:"手机号"}),name:"payloadPhoneNumber",rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.phoneNumber.required",defaultMessage:"请输入手机号"})}]}),E===k.QMK&&(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(se.Z,{label:h.formatMessage({id:"quickreply.form.emailAddress",defaultMessage:"邮箱地址"}),name:"payloadEmailAddress",rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.emailAddress.required",defaultMessage:"请输入邮箱地址"})}]}),(0,he.jsx)(se.Z,{label:h.formatMessage({id:"quickreply.form.emailSubject",defaultMessage:"邮件主题"}),name:"payloadEmailSubject"}),(0,he.jsx)(ie.Z,{label:h.formatMessage({id:"quickreply.form.emailBody",defaultMessage:"邮件正文"}),name:"payloadEmailBody",fieldProps:{rows:3}})]}),E===k.JZh&&(0,he.jsx)(se.Z,{label:h.formatMessage({id:"quickreply.form.wechatNumber",defaultMessage:"微信号"}),name:"payloadWechatNumber",rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.wechatNumber.required",defaultMessage:"请输入微信号"})}]}),E!==k.JpA&&E!==k.QMK&&E!==k.JZh&&(0,he.jsx)(ie.Z,{label:h.formatMessage({id:"quickreply.form.resourceUrl",defaultMessage:"资源地址"}),name:"content",rules:[{required:!0,message:h.formatMessage({id:"quickreply.form.resourceUrl.required",defaultMessage:"请填写或上传资源地址"})}],fieldProps:{rows:3,placeholder:h.formatMessage({id:"quickreply.form.resourceUrl.placeholder",defaultMessage:"上传成功后会自动填充（也可手动填写 URL）"})}})]}),E!=k.PYi&&E!=k.ICe&&E!=k.JpA&&E!=k.QMK&&E!=k.JZh&&(0,he.jsxs)(ve,o()(o()({},Me),{},{children:[(0,he.jsx)("p",{className:"ant-upload-drag-icon",children:(0,he.jsx)(de.Z,{})}),(0,he.jsx)("p",{className:"ant-upload-text",children:h.formatMessage({id:"quickreply.upload.dragger.text",defaultMessage:"点击或拖拽上传文件"})})]}))]})})})},xe=a(54974),be=a(78069),ke=a(16658),qe=a(85977),we=["current","pageSize"],je=function(e){var t,a,r,l,i,u,c,p,g,h,M=e.superUser,j=(0,q.useIntl)(),Z=(0,q.useAccess)(),U=(0,$.useRef)(),A=(0,$.useMemo)((function(){var e;return null==Z||null===(e=Z.getModulePermission)||void 0===e?void 0:e.call(Z,qe.MY.QUICK_REPLY)}),[Z]),E=M||null!==(t=null==A||null===(a=A.canRead)||void 0===a?void 0:a.call(A))&&void 0!==t&&t,ae=M||null!==(r=null==A||null===(l=A.canCreate)||void 0===l?void 0:l.call(A))&&void 0!==r&&r,re=M||null!==(i=null==A||null===(u=A.canUpdate)||void 0===u?void 0:u.call(A))&&void 0!==i&&i,ne=M||null!==(c=null==A||null===(p=A.canDelete)||void 0===p?void 0:p.call(A))&&void 0!==c&&c,le=M||null!==(g=null==A||null===(h=A.canExport)||void 0===h?void 0:h.call(A))&&void 0!==g&&g,se=(0,$.useRef)(!1),ie=function(e,t){b.yw.warning(j.formatMessage({id:e,defaultMessage:t}))},oe=(0,$.useState)(!0),ue=x()(oe,2),de=ue[0],ce=ue[1],fe=(0,$.useState)(!1),ge=x()(fe,2),ye=ge[0],ve=ge[1],je=(0,pe.Z)().translateString,Se=(0,$.useState)(1),Ze=x()(Se,2),Ce=Ze[0],Ue=Ze[1],Pe=(0,$.useState)(10),Ae=x()(Pe,2),Fe=Ae[0],Ee=Ae[1],Te=(0,T.u)((function(e){return e.currentOrg})),Ie=(0,te.j)((function(e){return e.currentKbase})),Ne=(0,ee.v)((function(e){return e.currentCategory})),De=(0,ee.v)((function(e){return e.categorySelectOptions})),ze=(0,$.useState)(!1),Oe=x()(ze,2),Je=Oe[0],Be=Oe[1],Re=(0,$.useState)(),Ye=x()(Re,2),Qe=Ye[0],Ke=Ye[1],Ve=(0,$.useState)([]),Le=x()(Ve,2),Xe=Le[0],We=Le[1],_e=(0,$.useState)([]),He=x()(_e,2),Ge=He[0],$e=He[1],et=R.Z.useModal(),tt=x()(et,2),at=(tt[0],tt[1]),rt=(0,$.useState)({}),nt=x()(rt,2),lt=nt[0],st=nt[1],it=(0,$.useState)(0),ot=x()(it,2),ut=ot[0],dt=ot[1],ct=(0,$.useState)(!1),ft=x()(ct,2),pt=ft[0],mt=ft[1],gt=(0,$.useState)(j.formatMessage({id:"quickreply.formPreview.title.default",defaultMessage:"表单"})),yt=x()(gt,2),ht=yt[0],vt=yt[1],Mt=(0,$.useState)([]),xt=x()(Mt,2),bt=xt[0],kt=xt[1],qt=function(e){e&&window.open(e,"_blank","noopener,noreferrer")},wt=function(e){var t=(0,ke.D6)(e.content)||{},a=(null==t?void 0:t.name)||(null==t?void 0:t.title)||(null==t?void 0:t.formName),r=(null==t?void 0:t.uid)||(null==t?void 0:t.formUid),n=r?j.formatMessage({id:"quickreply.formPreview.title.withUid",defaultMessage:"表单：{uid}"},{uid:r}):j.formatMessage({id:"quickreply.formPreview.title.default",defaultMessage:"表单"}),l=je(a)||a||n,s=function(e){var t=(0,ke.D6)(e)||{},a=(null==t?void 0:t.schema)||(null==t?void 0:t.formSchema)||(null==t?void 0:t.fields);if(!a)return[];if(Array.isArray(a))return a;if("object"===v()(a)&&Array.isArray(null==a?void 0:a.fields))return a.fields;if("string"==typeof a)try{var r=JSON.parse(a);if(Array.isArray(r))return r;if(r&&Array.isArray(r.fields))return r.fields}catch(e){return[]}return[]}(e.content);vt(l),kt(s),mt(!0)},jt=function(){var e=y()(m()().mark((function e(t){var a;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne){e.next=3;break}return ie("quickreply.permission.delete.denied","无权限：删除快捷回复"),e.abrupt("return");case 3:return console.log(t),e.next=6,P(t);case 6:a=e.sent,console.log("delete response:",a),200===a.code?(null==U||U.current.reload(),b.yw.success(j.formatMessage({id:"delete.success",defaultMessage:"Delete Success"}))):b.yw.error(j.formatMessage({id:"delete.error",defaultMessage:"Delete Error"}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=y()(m()().mark((function e(){var t,a,r,n,l,s;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne){e.next=3;break}return ie("quickreply.permission.batchDelete.denied","无权限：批量删除快捷回复"),e.abrupt("return");case 3:if(0!==Ge.length){e.next=6;break}return b.yw.warning(j.formatMessage({id:"batch.delete.noselection",defaultMessage:"Please select items to delete"})),e.abrupt("return");case 6:b.yw.loading(j.formatMessage({id:"deleting",defaultMessage:"Deleting..."})),a=0,r=0,n=f()(Ge),e.prev=10,n.s();case 12:if((l=n.n()).done){e.next=29;break}if(s=l.value,e.prev=14,null!=s&&s.uid){e.next=18;break}return r++,e.abrupt("continue",27);case 18:return e.next=20,P({uid:s.uid});case 20:200===e.sent.code?a++:r++,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(14),r++;case 27:e.next=12;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(10),n.e(e.t1);case 34:return e.prev=34,n.f(),e.finish(34);case 37:b.yw.destroy(),0===r?b.yw.success(j.formatMessage({id:"batch.delete.success",defaultMessage:"Successfully deleted {count} items"},{count:a})):b.yw.warning(j.formatMessage({id:"batch.delete.partial",defaultMessage:"Deleted {success} items, failed to delete {fail} items"},{success:a,fail:r})),We([]),$e([]),null===(t=U.current)||void 0===t||t.reloadAndRest();case 42:case"end":return e.stop()}}),e,null,[[10,31,34,37],[14,24]])})));return function(){return e.apply(this,arguments)}}(),Zt=function(){var e=y()(m()().mark((function e(t){var a,r,n,l,s,i;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re){e.next=3;break}return ie("quickreply.permission.update.denied","无权限：启用/禁用快捷回复"),e.abrupt("return");case 3:if(0!==Ge.length){e.next=6;break}return b.yw.warning(j.formatMessage({id:"batch.noselection",defaultMessage:"Please select items to process"})),e.abrupt("return");case 6:b.yw.loading(t?j.formatMessage({id:"enabling",defaultMessage:"Enabling..."}):j.formatMessage({id:"disabling",defaultMessage:"Disabling..."})),r=0,n=0,l=f()(Ge),e.prev=10,l.s();case 12:if((s=l.n()).done){e.next=26;break}return i=s.value,e.prev=14,e.next=17,F({uid:i.uid,enabled:t});case 17:200===e.sent.code?r++:n++,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),n++;case 24:e.next=12;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(10),l.e(e.t1);case 31:return e.prev=31,l.f(),e.finish(31);case 34:b.yw.destroy(),0===n?b.yw.success(t?j.formatMessage({id:"batch.enable.success",defaultMessage:"Successfully enabled {count} items"},{count:r}):j.formatMessage({id:"batch.disable.success",defaultMessage:"Successfully disabled {count} items"},{count:r})):b.yw.warning(t?j.formatMessage({id:"batch.enable.partial",defaultMessage:"Enabled {success} items, failed to enable {fail} items"},{success:r,fail:n}):j.formatMessage({id:"batch.disable.partial",defaultMessage:"Disabled {success} items, failed to disable {fail} items"},{success:r,fail:n})),We([]),$e([]),null===(a=U.current)||void 0===a||a.reloadAndRest();case 39:case"end":return e.stop()}}),e,null,[[10,28,31,34],[14,21]])})));return function(t){return e.apply(this,arguments)}}(),Ct=[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:(0,he.jsx)(q.FormattedMessage,{id:"quickreply.title.field",defaultMessage:"Title"}),dataIndex:"title",copyable:!0,width:200,ellipsis:!0,search:!0,render:function(e,t){return je(null==t?void 0:t.title)},tooltip:j.formatMessage({id:"quickreply.title.tooltip",defaultMessage:"快捷回复的标题或名称"})},{title:(0,he.jsx)(q.FormattedMessage,{id:"quickreply.content",defaultMessage:"Content"}),dataIndex:"content",copyable:!0,width:300,ellipsis:!0,search:!0,render:function(e,t){if(!t)return"-";if(t.type===k.PYi)return je(null==t?void 0:t.content);if(t.type===k.ICe){var a=(0,ke.D6)(t.content)||{},r=(null==a?void 0:a.name)||(null==a?void 0:a.title)||(null==a?void 0:a.formName),n=je(r)||r;return(0,he.jsxs)(Y.Z,{size:6,children:[(0,he.jsx)(Q.Z,{color:"geekblue",style:{marginInlineEnd:0},children:"FORM"}),(0,he.jsx)(K.Z.Text,{type:"secondary",ellipsis:{tooltip:n||j.formatMessage({id:"quickreply.formPreview.title.default",defaultMessage:"表单"})},style:{maxWidth:140},children:n||j.formatMessage({id:"quickreply.formPreview.title.default",defaultMessage:"表单"})}),(0,he.jsx)(V.ZP,{type:"link",size:"small",onClick:function(){return wt(t)},children:"查看表单"})]})}var l=function(e){var t,a=(0,ke.D6)(e),r=(null==a?void 0:a.url)||(null==a?void 0:a.downloadUrl)||(null==a?void 0:a.src)||(null==a?void 0:a.link);return"string"==typeof r&&r.trim()?r:"string"==typeof e&&(t=e)&&/^https?:\/\//i.test(t.trim())?e:void 0}(t.content),s=function(e){if(!e)return"";var t=e.split("?")[0].split("#")[0].split("/");return decodeURIComponent(t[t.length-1]||"")}(l);return t.type===k.Qm?l?(0,he.jsxs)(Y.Z,{size:8,children:[(0,he.jsx)(Q.Z,{color:"gold",style:{marginInlineEnd:0},children:"图片"}),(0,he.jsx)(L.Z,{src:l,width:48,height:48,style:{objectFit:"cover",borderRadius:4,border:"1px solid #eee"},preview:!0}),(0,he.jsx)(V.ZP,{type:"link",size:"small",onClick:function(){return qt(l)},children:"新窗口打开"})]}):(0,he.jsx)(K.Z.Text,{type:"secondary",children:"图片"}):t.type===k.tVi?(0,he.jsxs)(Y.Z,{size:6,children:[(0,he.jsx)(Q.Z,{color:"purple",style:{marginInlineEnd:0},children:"视频"}),(0,he.jsx)(K.Z.Text,{type:"secondary",ellipsis:{tooltip:l},style:{maxWidth:140},children:s||"点击预览"}),l?(0,he.jsx)(he.Fragment,{children:(0,he.jsx)(V.ZP,{type:"link",size:"small",onClick:function(){return qt(l)},children:"新窗口预览"})}):null]}):t.type===k.Yu1?(0,he.jsxs)(Y.Z,{size:6,children:[(0,he.jsx)(Q.Z,{color:"cyan",style:{marginInlineEnd:0},children:"音频"}),l?(0,he.jsx)("audio",{controls:!0,src:l,style:{width:200}}):(0,he.jsx)(K.Z.Text,{type:"secondary",children:"音频"}),l?(0,he.jsx)(V.ZP,{type:"link",size:"small",onClick:function(){return qt(l)},children:"新窗口打开"}):null]}):t.type===k.Qn?l?(0,he.jsxs)(Y.Z,{size:6,children:[(0,he.jsx)(Q.Z,{color:"green",style:{marginInlineEnd:0},children:"文件"}),(0,he.jsx)("a",{href:l,target:"_blank",rel:"noreferrer",children:s||"打开文件"})]}):(0,he.jsx)(K.Z.Text,{type:"secondary",children:"文件"}):l?(0,he.jsxs)(Y.Z,{size:6,children:[(0,he.jsx)(Q.Z,{style:{marginInlineEnd:0},children:"链接"}),(0,he.jsx)("a",{href:l,target:"_blank",rel:"noreferrer",children:s||l})]}):(0,he.jsx)(K.Z.Text,{type:"secondary",children:"-"})},tooltip:j.formatMessage({id:"quickreply.content.tooltip",defaultMessage:"快捷回复的具体内容"})},{title:(0,he.jsx)(q.FormattedMessage,{id:"quickreply.type",defaultMessage:"Type"}),dataIndex:"type",width:100,render:function(e,t){return(0,ke.OI)(t.type)},valueEnum:d()(d()(d()(d()(d()(d()(d()(d()(d()({},k.PYi,{text:j.formatMessage({id:"quickreply.type.text"})}),k.Qm,{text:j.formatMessage({id:"quickreply.type.image"})}),k.tVi,{text:j.formatMessage({id:"quickreply.type.video"})}),k.Yu1,{text:j.formatMessage({id:"quickreply.type.audio",defaultMessage:"音频"})}),k.Qn,{text:j.formatMessage({id:"quickreply.type.file"})}),k.ICe,{text:j.formatMessage({id:"quickreply.type.form",defaultMessage:"表单"})}),k.JpA,{text:j.formatMessage({id:"quickreply.type.phoneNumber",defaultMessage:"手机号"})}),k.QMK,{text:j.formatMessage({id:"quickreply.type.emailAddress",defaultMessage:"邮箱地址"})}),k.JZh,{text:j.formatMessage({id:"quickreply.type.wechatNumber",defaultMessage:"微信号"})}),tooltip:j.formatMessage({id:"quickreply.type.tooltip",defaultMessage:"快捷回复的内容类型"})},{title:(0,he.jsx)(q.FormattedMessage,{id:"quickreply.shortcut",defaultMessage:"Shortcut"}),dataIndex:"shortCut",width:120,ellipsis:!0,search:!0,tooltip:j.formatMessage({id:"quickreply.shortcut.tooltip",defaultMessage:"用于快速触发的快捷键"})},{title:(0,he.jsx)(q.FormattedMessage,{id:"quickreply.enabled",defaultMessage:"Status"}),dataIndex:"enabled",width:100,valueEnum:{true:{text:j.formatMessage({id:"quickreply.enabled.true"}),status:"Success"},false:{text:j.formatMessage({id:"quickreply.enabled.false"}),status:"Error"}},tooltip:j.formatMessage({id:"quickreply.enabled.tooltip",defaultMessage:"快捷回复是否启用"})},{title:(0,he.jsx)(q.FormattedMessage,{id:"quickreply.category",defaultMessage:"Category"}),dataIndex:"categoryUid",hideInSearch:!0,width:120,render:function(e,t){var a=De.find((function(e){return e.value===(null==t?void 0:t.categoryUid)}));return(0,he.jsx)(Q.Z,{color:"blue",children:(null==a?void 0:a.label)||"-"})},filters:De.map((function(e){return{text:e.label,value:e.value}})),filterMode:"tree",tooltip:j.formatMessage({id:"quickreply.category.tooltip",defaultMessage:"快捷回复的分类"})},{title:(0,he.jsx)(q.FormattedMessage,{id:"quickreply.updatedAt",defaultMessage:"Updated At"}),dataIndex:"updatedAt",width:160,valueType:"dateTime",sorter:!0,hideInSearch:!0,tooltip:j.formatMessage({id:"quickreply.updatedAt.tooltip",defaultMessage:"最后更新的时间"})},{title:(0,he.jsx)(q.FormattedMessage,{id:"pages.common.actions",defaultMessage:"Actions"}),valueType:"option",fixed:"right",width:150,render:function(e,t){return(0,he.jsxs)(Y.Z,{children:[re?(0,he.jsx)(V.ZP,{type:"link",size:"small",onClick:function(){return Pt(t)},children:(0,he.jsx)(q.FormattedMessage,{id:"pages.common.edit",defaultMessage:"Edit"})}):null,ne?(0,he.jsx)(X.Z,{title:(0,he.jsx)(q.FormattedMessage,{id:"pages.common.deleteTip",defaultMessage:"Delete Confirmation"}),description:j.formatMessage({id:"pages.common.deleteConfirm"},{name:t.title}),onConfirm:function(){return jt(t)},okText:(0,he.jsx)(q.FormattedMessage,{id:"pages.common.ok"}),cancelText:(0,he.jsx)(q.FormattedMessage,{id:"pages.common.cancel"}),children:(0,he.jsx)(V.ZP,{type:"link",danger:!0,size:"small",children:(0,he.jsx)(q.FormattedMessage,{id:"pages.common.delete"})})}):null]})}}],Ut=function(){ae?(Ke(void 0),ce(!1),ve(!0)):ie("quickreply.permission.create.denied","无权限：新建快捷回复")},Pt=function(e){re?(Ke(e),ce(!0),ve(!0)):ie("quickreply.permission.update.denied","无权限：编辑快捷回复")},At=function(){var e=y()(m()().mark((function e(t){var a,r;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleSubmitDrawer",t),!de||re){e.next=4;break}return ie("quickreply.permission.update.denied","无权限：编辑快捷回复"),e.abrupt("return");case 4:if(de||ae){e.next=7;break}return ie("quickreply.permission.create.denied","无权限：新建快捷回复"),e.abrupt("return");case 7:if(de?b.yw.loading(j.formatMessage({id:"updating"})):b.yw.loading(j.formatMessage({id:"creating"})),!de){e.next=14;break}return e.next=11,C(t);case 11:e.t0=e.sent,e.next=17;break;case 14:return e.next=16,S(t);case 16:e.t0=e.sent;case 17:a=e.t0,console.log("createQuickreply response:",t,a),200===a.code?(b.yw.destroy(),b.yw.loading(j.formatMessage({id:"create.success"})),ve(!1),null===(r=U.current)||void 0===r||r.reloadAndRest()):(b.yw.destroy(),b.yw.error(a.message));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ft=function(){var e=y()(m()().mark((function e(){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae){e.next=3;break}return ie("quickreply.permission.import.denied","无权限：导入快捷回复"),e.abrupt("return");case 3:Be(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=y()(m()().mark((function e(t,a,r){var n,l;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handleExportExcel",t,a,r),le){e.next=4;break}return ie("quickreply.permission.export.denied","无权限：导出快捷回复"),e.abrupt("return");case 4:n=localStorage.getItem(k.LA8),l=o()({categoryUid:(null==Ne?void 0:Ne.uid)===k.zBg?"":null==Ne?void 0:Ne.uid,kbUid:null==Ie?void 0:Ie.uid,orgUid:(null==Te?void 0:Te.uid)||"",accessToken:n||"",exportType:t},lt),"current"===t?(l.pageNumber=String(Ce-1),l.pageSize=String(Fe)):"all"===t?(l.pageNumber="0",l.pageSize="1000"):"range"===t&&void 0!==a&&void 0!==r&&(l.pageNumber=String(a),l.pageSize=String(r)),window.open((0,me.kG)()+"/api/v1/quickreply/export?"+new URLSearchParams(l).toString());case 8:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),Tt=function(e){for(var t=[],a=1e3,r=Math.ceil(e/a),n=function(){var r=l,n=l*a+1,s=Math.min((l+1)*a,e);t.push({key:"export-".concat(l),label:j.formatMessage({id:"quickreply.export.range.item",defaultMessage:"{start}-{end} ({count}条)"},{start:n,end:s,count:s-n+1}),onClick:function(){return Et("range",r,a)}})},l=0;l<r;l++)n();return t};(0,$.useEffect)((function(){var e;null===(e=U.current)||void 0===e||e.reloadAndRest()}),[Ie,Ne]);var It=function(){var e=y()(m()().mark((function e(){return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.HK)(k._FS,null==Te?void 0:Te.uid,null==Ie?void 0:Ie.uid,k.whQ,{showLoading:!0,loadingMessage:j.formatMessage({id:"loading"}),errorMessage:j.formatMessage({id:"fetch.categories.error",defaultMessage:"Failed to fetch categories"})});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=ne?{selectedRowKeys:Xe,onChange:function(e,t){We(e),$e(t)}}:void 0,Dt=function(){if(M){var e=Xe.length,t=[];return ne&&t.push({key:"batchDelete",icon:(0,he.jsx)(I.Z,{}),danger:!0,disabled:0===e,label:j.formatMessage({id:"batch.delete"})+(e>0?" (".concat(e,")"):""),onClick:function(){0!==e&&R.Z.confirm({title:j.formatMessage({id:"batch.deleteTip"}),content:"".concat(j.formatMessage({id:"batch.deleteAffirm"})," ").concat(e," ").concat(j.formatMessage({id:"items"}),"?"),onOk:St,okText:j.formatMessage({id:"ok"}),cancelText:j.formatMessage({id:"cancel"})})}}),re&&t.push({key:"batchEnable",icon:(0,he.jsx)(N.Z,{}),disabled:0===e,label:j.formatMessage({id:"batch.enable"})+(e>0?" (".concat(e,")"):""),onClick:function(){return Zt(!0)}},{key:"batchDisable",icon:(0,he.jsx)(D.Z,{}),disabled:0===e,label:j.formatMessage({id:"batch.disable"})+(e>0?" (".concat(e,")"):""),onClick:function(){return Zt(!1)}}),[(0,he.jsx)(W.Z,{menu:{items:t},placement:"bottomRight",children:(0,he.jsxs)(V.ZP,{type:"primary",danger:!0,disabled:0===e||0===t.length,children:[j.formatMessage({id:"batch.operations",defaultMessage:"批量操作"}),(0,he.jsx)(z.Z,{})]})},"batchOperations")]}var a=[ae?(0,he.jsx)(V.ZP,{icon:(0,he.jsx)(O.Z,{}),type:"primary",onClick:Ut,children:(0,he.jsx)(q.FormattedMessage,{id:"quickreply.action.create",defaultMessage:"Create Quick Reply"})},"create"):null].filter(Boolean),r=[];Xe.length>0&&(ne||re)&&r.push(ne?{key:"batchDelete",icon:(0,he.jsx)(I.Z,{}),danger:!0,label:j.formatMessage({id:"batch.delete"})+" (".concat(Xe.length,")"),onClick:function(){R.Z.confirm({title:j.formatMessage({id:"batch.deleteTip"}),content:"".concat(j.formatMessage({id:"batch.deleteAffirm"})," ").concat(Xe.length," ").concat(j.formatMessage({id:"items"}),"?"),onOk:St,okText:j.formatMessage({id:"ok"}),cancelText:j.formatMessage({id:"cancel"})})}}:null,re?{key:"batchEnable",icon:(0,he.jsx)(N.Z,{}),label:j.formatMessage({id:"batch.enable"})+" (".concat(Xe.length,")"),onClick:function(){return Zt(!0)}}:null,re?{key:"batchDisable",icon:(0,he.jsx)(D.Z,{}),label:j.formatMessage({id:"batch.disable"})+" (".concat(Xe.length,")"),onClick:function(){return Zt(!1)}}:null);var n,l=r.filter(Boolean),i=[ae?{key:"import",icon:(0,he.jsx)(J.Z,{}),label:j.formatMessage({id:"quickreply.action.import",defaultMessage:"导入快捷回复"}),onClick:Ft}:null].concat(s()(le?(n=[{key:"export-current",label:j.formatMessage({id:"export.current",defaultMessage:"导出当前页"}),onClick:function(){return Et("current")}}],ut>0&&(ut<=1e3?n.push({key:"export-all",label:j.formatMessage({id:"export.all",defaultMessage:"导出全部"})+" "+j.formatMessage({id:"quickreply.export.countSuffix",defaultMessage:"({count}条)"},{count:ut}),onClick:function(){return Et("all")}}):n.push({key:"export-range",label:j.formatMessage({id:"export.range",defaultMessage:"分段导出"})+" "+j.formatMessage({id:"quickreply.export.countSuffix",defaultMessage:"({count}条)"},{count:ut}),children:Tt(ut)})),n.push({key:"download",label:j.formatMessage({id:"download.template",defaultMessage:"下载模板"}),onClick:function(){return(0,me.os)()}}),n):[])).filter(Boolean);return i.length>0&&a.push((0,he.jsx)(W.Z,{menu:{items:i},placement:"bottomRight",children:(0,he.jsxs)(V.ZP,{type:"primary",children:[(0,he.jsx)(q.FormattedMessage,{id:"import.export",defaultMessage:"导入导出"}),(0,he.jsx)(z.Z,{})]})},"importExport")),l.length>0&&a.push((0,he.jsx)(W.Z,{menu:{items:l},placement:"bottomRight",children:(0,he.jsxs)(V.ZP,{type:"primary",danger:!0,children:[j.formatMessage({id:"batch.operations",defaultMessage:"批量操作"})," (",Xe.length,")",(0,he.jsx)(z.Z,{})]})},"batchOperations")),a};return(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(R.Z,{title:ht,open:pt,onCancel:function(){return mt(!1)},footer:null,width:720,destroyOnHidden:!0,children:null!=bt&&bt.length?(0,he.jsx)(_.Z,{layout:"vertical",children:bt.map((function(e,t){var a,r,n=(null==e?void 0:e.id)||(null==e?void 0:e.fieldId)||(null==e?void 0:e.key)||(null==e?void 0:e.name)||"field-".concat(t),l=(null==e?void 0:e.label)||(null==e?void 0:e.title)||"Field ".concat(t+1),s=je(l)||l;if("textarea"===(null==e?void 0:e.type)||"textarea"===(null==e||null===(a=e.props)||void 0===a?void 0:a.component))return(0,he.jsx)(_.Z.Item,{label:s,children:(0,he.jsx)(H.Z.TextArea,{disabled:!0,placeholder:"",rows:3})},String(n));if("select"===(null==e?void 0:e.type)||"select"===(null==e||null===(r=e.props)||void 0===r?void 0:r.component)||"select"===(null==e?void 0:e.component)){var i,o,u,d=(null!==(i=null!==(o=null==e?void 0:e.options)&&void 0!==o?o:null==e||null===(u=e.props)||void 0===u?void 0:u.options)&&void 0!==i?i:[]).map((function(e,t){return"string"==typeof e?{label:je(e)||e,value:e}:"object"===v()(e)?{label:je(e.label||e.value||e.text||"")||e.label||e.value||e.text||"",value:null!==(a=null!==(r=null!==(n=null!==(l=e.value)&&void 0!==l?l:e.key)&&void 0!==n?n:e.label)&&void 0!==r?r:e.text)&&void 0!==a?a:"".concat(t)}:{label:String(e),value:e};var a,r,n,l}));return(0,he.jsx)(_.Z.Item,{label:s,children:(0,he.jsx)(G.Z,{disabled:!0,options:d,placeholder:""})},String(n))}return(0,he.jsx)(_.Z.Item,{label:s,children:(0,he.jsx)(H.Z,{disabled:!0,placeholder:""})},String(n))}))}):(0,he.jsx)(K.Z.Text,{type:"secondary",children:"表单结构缺失"})}),(0,he.jsx)(B.Z,{columns:Ct,actionRef:U,cardBordered:!0,rowSelection:Nt,request:function(){var e=y()(m()().mark((function e(t,a,r){var l,s,i,u,d,c,f,p,g,y;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("request:",t,a,r),E){e.next=4;break}return se.current||(se.current=!0,ie("quickreply.permission.read.denied","无权限：查看快捷回复")),e.abrupt("return",{data:[],success:!0,total:0});case 4:return b.yw.loading(j.formatMessage({id:"loading",defaultMessage:"Loading"})),l=t.current,s=t.pageSize,i=n()(t,we),Ue(l),Ee(s),st(i),u=void 0,d=void 0,a&&Object.keys(a).length>0&&(c=Object.keys(a)[0],u=c,d="ascend"===a[c]?"ascend":"descend"),f=M?void 0:(null==Ne?void 0:Ne.uid)===k.zBg?"":null==Ne?void 0:Ne.uid,p=M||null==Ie?void 0:Ie.uid,g=o()(o()({pageNumber:l-1,pageSize:s,categoryUid:f,kbUid:p,orgUid:null==Te?void 0:Te.uid,superUser:M},i),{},{sortBy:u,sortDirection:d}),e.next=17,w(g);case 17:return y=e.sent,console.log("queryQuickRepliesByOrg response:",g,y),b.yw.destroy(),200===y.code?dt(null==y?void 0:y.data.totalElements):b.yw.error(y.message),e.abrupt("return",{data:null==y?void 0:y.data.content,success:!0,total:null==y?void 0:y.data.totalElements});case 22:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),scroll:{x:1800},rowKey:"uid",search:{labelWidth:"auto"},pagination:{pageSize:10,onChange:function(e,t){Ue(e),Ee(t)}},dateFormatter:"string",headerTitle:M||null==Ie||!Ie.name?j.formatMessage({id:"quickreply.title",defaultMessage:"快捷回复"}):je(null==Ie?void 0:Ie.name)+" - "+j.formatMessage({id:"quickreply.title",defaultMessage:"快捷回复"}),tooltip:{title:j.formatMessage({id:"quickreply.tooltip",defaultMessage:"客服->一对一->高级设置->快捷回复"}),placement:"top"},toolBarRender:function(){return Dt()},columnsState:{persistenceKey:"quickreply-table",defaultValue:{tagList:{show:!0},startDate:{show:!1},endDate:{show:!1},level:{show:!0},enabled:{show:!0}}}}),(0,he.jsx)(Me,{isEdit:de,open:ye,quickreply:Qe,onClose:function(){return ve(!1)},onSubmit:At}),Je&&(0,he.jsx)(xe.Z,{type:k._FS,acceptType:".xlsx,.xls,.csv",isModalOpen:Je,handleSubmit:function(e){console.log("handleUploadDragSubmit",e),Be(!1),null==U||U.current.reload(),It()},handleCancel:function(){console.log("handleUploadDragCancel"),Be(!1),null==U||U.current.reload()}}),at]})}}}]);