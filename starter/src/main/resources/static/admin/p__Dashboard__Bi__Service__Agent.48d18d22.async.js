"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[23],{94011:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(38404),r=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},s=n(5901),o=function(e,t){return r.createElement(s.Z,(0,a.Z)({},e,{ref:t,icon:i}))};var u=r.forwardRef(o)},35911:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(38404),r=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},s=n(5901),o=function(e,t){return r.createElement(s.Z,(0,a.Z)({},e,{ref:t,icon:i}))};var u=r.forwardRef(o)},93237:function(e,t,n){n.d(t,{Lr:function(){return h},_t:function(){return d},sE:function(){return m},x_:function(){return g}});var a=n(90819),r=n.n(a),i=n(73193),s=n.n(i),o=n(89933),u=n.n(o),c=n(27353),l=n(2290);function d(e){return f.apply(this,arguments)}function f(){return(f=u()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/agent/query/org",{method:"GET",params:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=u()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/agent/create",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=u()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/agent/update",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=u()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/agent/delete",{method:"POST",data:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},3163:function(e,t,n){n.d(t,{Eb:function(){return d},RU:function(){return g}});var a=n(90819),r=n.n(a),i=n(73193),s=n.n(i),o=n(89933),u=n.n(o),c=n(27353),l=n(2290);function d(){return f.apply(this,arguments)}function f(){return(f=u()(r()().mark((function e(){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/service/statistic/query",{method:"GET",params:{channel:c.XtJ}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=u()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/service/statistic/query/date",{method:"GET",params:s()(s()({},t),{},{channel:c.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1030:function(e,t,n){n.d(t,{LE:function(){return l},W5:function(){return v},p0:function(){return f},zl:function(){return p}});var a=n(90819),r=n.n(a),i=n(73193),s=n.n(i),o=n(89933),u=n.n(o),c=n(2290);function l(e){return d.apply(this,arguments)}function d(){return(d=u()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/workgroup/query/org",{method:"GET",params:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=u()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/workgroup/create",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=u()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/workgroup/update",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=u()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/workgroup/delete",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},70201:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var a=n(73193),r=n.n(a),i=n(90819),s=n.n(i),o=n(89933),u=n.n(o),c=n(45332),l=n.n(c),d=n(44194),f=n(29888),g=n(25456),v=n(25462),m=n(83801),p=n(70674),h=n(99065),x=n(46206),y=n(20615),M=n(90883),b=n(48518),k=n(97368),j=n(41455),w=n(46589),Z=n(69711),S=n(48861),T=n(57039),C=n(35911),Y=n(94011),R=n(36868),D=n(14546),O=n(38404),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM184 352V232h64v207.6a91.99 91.99 0 01-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"}}]},name:"trophy",theme:"outlined"},U=n(5901),A=function(e,t){return d.createElement(U.Z,(0,O.Z)({},e,{ref:t,icon:z}))};var P=d.forwardRef(A),E=n(3163),F=n(1030),q=n(93237),I=n(96596),H=n.n(I),B=n(28520),V=n(2290),L=n(27353),J=n(61476),G=n(97765),Q=n(31549),X=f.default.RangePicker,W=g.Z.Option,N=function(){var e=(0,V.useIntl)(),t=(0,d.useState)(!1),n=l()(t,2),a=n[0],i=n[1],o=(0,B.u)((function(e){return e.currentOrg})),c=(0,d.useState)([]),f=l()(c,2),O=f[0],z=f[1],U=(0,d.useState)({onlineAgents:0,totalSessions:0,avgResponseTime:0,avgSatisfaction:0,onlineAgentCount:0,offlineAgentCount:0,avgFirstResponseTime:0,avgConversationTime:0}),A=l()(U,2),I=A[0],N=A[1],_=(0,d.useState)(H()().startOf("day")),K=l()(_,2),$=K[0],ee=K[1],te=(0,d.useState)(H()().endOf("day")),ne=l()(te,2),ae=ne[0],re=ne[1],ie=(0,d.useState)("today"),se=l()(ie,2),oe=se[0],ue=se[1],ce=(0,d.useState)([H()().startOf("day"),H()().endOf("day")]),le=l()(ce,2),de=le[0],fe=le[1],ge=(0,d.useState)({current:1,pageSize:20,total:0}),ve=l()(ge,2),me=ve[0],pe=ve[1],he=(0,d.useState)(L.whQ),xe=l()(he,2),ye=xe[0],Me=xe[1],be=(0,d.useState)(),ke=l()(be,2),je=ke[0],we=ke[1],Ze=(0,d.useState)(),Se=l()(Ze,2),Te=Se[0],Ce=Se[1],Ye=(0,d.useState)([]),Re=l()(Ye,2),De=Re[0],Oe=Re[1],ze=(0,d.useState)([]),Ue=l()(ze,2),Ae=Ue[0],Pe=Ue[1],Ee=d.useMemo((function(){var e=new Map;return(Ae||[]).forEach((function(t){null!=t&&t.uid&&e.set(t.uid,t)})),e}),[Ae]),Fe=function(e){var t;if(e)return null===(t=De.find((function(t){return t.uid===e})))||void 0===t?void 0:t.nickname},qe=function(t){var n=null==t?void 0:t.agentUid,a=n?Ee.get(n):void 0;return{nickname:(null==a?void 0:a.nickname)||(null==t?void 0:t.nickname)||n||e.formatMessage({id:"bi.common.unknown"}),avatar:(null==a?void 0:a.avatar)||(null==t?void 0:t.avatar)||""}},Ie=[{label:(0,Q.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,Q.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,Q.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,Q.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,Q.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,Q.jsx)(V.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}];(0,d.useEffect)((function(){null!=o&&o.uid&&((0,F.LE)({orgUid:o.uid,pageNumber:0,pageSize:100}).then((function(e){var t;200===e.code&&Oe((null===(t=e.data)||void 0===t?void 0:t.content)||[])})),(0,q._t)({orgUid:o.uid,pageNumber:0,pageSize:100}).then((function(e){var t;200===e.code&&Pe((null===(t=e.data)||void 0===t?void 0:t.content)||[])})))}),[o]);var He=function(){var t=u()(s()().mark((function t(){var n,a,r,u,c,l,d,f,g,m,p=arguments;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.length>0&&void 0!==p[0]?p[0]:1,a=p.length>1&&void 0!==p[1]?p[1]:20,i(!0),t.prev=3,r={pageNumber:n-1,pageSize:a,orgUid:null==o?void 0:o.uid,startDate:de[0].format("YYYY-MM-DD"),endDate:de[1].format("YYYY-MM-DD"),type:ye,workgroupUid:ye===L.v5D?je:void 0,agentUid:ye===L.fyH?Te:void 0},t.next=7,(0,E.RU)(r);case 7:u=t.sent,G.Z.debug("queryStatisticServiceByDate response:",null==u?void 0:u.data,r),200===u.code&&null!=u&&u.data&&(c=null==u?void 0:u.data,l=c.agentUid||Te,d=l?Ee.get(l):void 0,f=ye===L.whQ?(null==o?void 0:o.name)||e.formatMessage({id:"bi.statistic.level.organization"}):ye===L.v5D?Fe(je)||je||e.formatMessage({id:"bi.statistic.level.workgroup"}):(null==d?void 0:d.nickname)||l||e.formatMessage({id:"bi.statistic.level.agent"}),g=ye===L.whQ?(null==o?void 0:o.logo)||"":ye===L.fyH&&(null==d?void 0:d.avatar)||"",pe({current:n,pageSize:a,total:1}),m=[{key:ye===L.whQ?(null==o?void 0:o.uid)||"org":ye===L.v5D?je||"workgroup":l||"agent",agentUid:ye===L.fyH?l||"":void 0,nickname:f,avatar:g,totalSessions:c.acceptedThreadCount||0,avgResponseTime:c.avgFirstResponseTime?Math.round(c.avgFirstResponseTime/60):0,avgSatisfaction:c.satisfactionRate||0,avgConversationTime:c.avgConversationTime?Math.round(c.avgConversationTime/60):0,onlineTime:c.onlineTime?Math.round(c.onlineTime/3600):0,busyTime:c.busyTime?Math.round(c.busyTime/3600):0,agentMessageCount:c.agentMessageCount||0,visitorMessageCount:c.visitorMessageCount||0,avgMessagePerThread:c.avgMessagePerThread||0}],z(m)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),v.ZP.error("获取客服数据失败"),console.error("获取客服数据失败:",t.t0);case 16:return t.prev=16,i(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[3,12,16,19]])})));return function(){return t.apply(this,arguments)}}();(0,d.useEffect)((function(){if("custom"===oe)ee($),re(ae);else{var e=H()();"today"===oe?(ee(e.startOf("day")),re(e.endOf("day"))):"yesterday"===oe?(ee(e.subtract(1,"day").startOf("day")),re(e.subtract(1,"day").endOf("day"))):"week"===oe?(ee(e.startOf("week")),re(e.endOf("week"))):"lastWeek"===oe?(ee(e.subtract(1,"week").startOf("week")),re(e.subtract(1,"week").endOf("week"))):"month"===oe&&(ee(e.startOf("month")),re(e.endOf("month")))}}),[oe]),(0,d.useEffect)((function(){fe([$,ae])}),[$,ae]);var Be=function(){var e=u()(s()().mark((function e(){var t,n,a;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={orgUid:null==o?void 0:o.uid,startDate:de[0].format("YYYY-MM-DD"),endDate:de[1].format("YYYY-MM-DD"),type:ye,workgroupUid:ye===L.v5D?je:void 0,agentUid:ye===L.fyH?Te:void 0},e.next=4,(0,E.RU)(t);case 4:n=e.sent,G.Z.debug("queryStatisticServiceByDate response:",null==n?void 0:n.data,t),200===n.code&&null!=n&&n.data&&(a=null==n?void 0:n.data,N({onlineAgents:a.onlineAgentCount||0,totalSessions:a.acceptedThreadCount||0,avgResponseTime:a.avgFirstResponseTime?Math.round(a.avgFirstResponseTime/60):0,avgSatisfaction:a.satisfactionRate||0,onlineAgentCount:a.onlineAgentCount||0,offlineAgentCount:a.offlineAgentCount||0,avgFirstResponseTime:a.avgFirstResponseTime?Math.round(a.avgFirstResponseTime/60):0,avgConversationTime:a.avgConversationTime?Math.round(a.avgConversationTime/60):0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("获取统计数据失败:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){Be(),He()}),[de,ye,je,Te]),(0,d.useEffect)((function(){null!=O&&O.length&&z((function(e){return(e||[]).map((function(e){if(null==e||!e.agentUid)return e;var t=Ee.get(e.agentUid);return t?r()(r()({},e),{},{nickname:t.nickname||e.nickname,avatar:t.avatar||e.avatar}):e}))}))}),[Ee]);var Ve=[{title:e.formatMessage({id:"bi.agent.table.name"}),dataIndex:"nickname",key:"nickname",render:function(e,t){return(0,Q.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(n=qe(r()(r()({},t),{},{nickname:e})),(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(m.Z,{src:n.avatar,icon:n.avatar?void 0:(0,Q.jsx)(T.Z,{}),style:{marginRight:8}}),n.nickname]}))});var n}},{title:e.formatMessage({id:"bi.agent.table.totalSessions"}),dataIndex:"totalSessions",key:"totalSessions",sorter:function(e,t){return e.totalSessions-t.totalSessions}},{title:e.formatMessage({id:"bi.agent.table.avgResponseTime"}),dataIndex:"avgResponseTime",key:"avgResponseTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.minute"}))}},{title:e.formatMessage({id:"bi.agent.table.avgConversationTime"}),dataIndex:"avgConversationTime",key:"avgConversationTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.minute"}))}},{title:e.formatMessage({id:"bi.agent.table.onlineTime"}),dataIndex:"onlineTime",key:"onlineTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.hour"}))}},{title:e.formatMessage({id:"bi.agent.table.busyTime"}),dataIndex:"busyTime",key:"busyTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.hour"}))}},{title:e.formatMessage({id:"bi.agent.table.agentMessageCount"}),dataIndex:"agentMessageCount",key:"agentMessageCount"},{title:e.formatMessage({id:"bi.agent.table.visitorMessageCount"}),dataIndex:"visitorMessageCount",key:"visitorMessageCount"},{title:e.formatMessage({id:"bi.agent.table.avgMessagePerThread"}),dataIndex:"avgMessagePerThread",key:"avgMessagePerThread"},{title:e.formatMessage({id:"bi.agent.table.satisfaction"}),dataIndex:"avgSatisfaction",key:"avgSatisfaction",render:function(t){return(0,Q.jsxs)("div",{children:[(0,Q.jsx)("span",{style:{marginRight:8},children:t>0?"".concat(t,"%"):e.formatMessage({id:"bi.common.noRating"})}),t>0&&(0,Q.jsx)(p.Z,{percent:t,size:"small",showInfo:!1})]})}}];return(0,Q.jsxs)("div",{style:{padding:"24px"},children:[(0,Q.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Q.jsx)("h2",{children:e.formatMessage({id:"bi.agent.title"})}),(0,Q.jsxs)("p",{children:[e.formatMessage({id:"bi.agent.description"}),"today"===oe&&(0,Q.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",$.format("YYYY-MM-DD"),")"]}),"yesterday"===oe&&(0,Q.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",$.format("YYYY-MM-DD"),")"]}),("week"===oe||"lastWeek"===oe||"month"===oe||"custom"===oe)&&(0,Q.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",$.format("YYYY-MM-DD")," ~ ",ae.format("YYYY-MM-DD"),")"]})]})]}),(0,Q.jsx)(h.Z,{style:{marginBottom:"24px"},children:(0,Q.jsx)(x.Z,{direction:"vertical",style:{width:"100%"},children:(0,Q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Q.jsxs)(x.Z,{wrap:!0,children:[(0,Q.jsx)(y.ZP.Group,{value:oe,onChange:function(e){return ue(e.target.value)},children:Ie.map((function(e){return(0,Q.jsx)(y.ZP.Button,{value:e.value,children:e.label},e.value)}))}),"custom"===oe&&(0,Q.jsx)(X,{value:[$,ae],onChange:function(e){ee(e[0]),re(e[1])}})]}),(0,Q.jsxs)(x.Z,{wrap:!0,children:[(0,Q.jsxs)(g.Z,{value:ye,style:{width:120},onChange:function(e){Me(e),we(void 0),Ce(void 0)},children:[(0,Q.jsx)(W,{value:L.whQ,children:e.formatMessage({id:"bi.statistic.level.organization"})}),(0,Q.jsx)(W,{value:L.v5D,children:e.formatMessage({id:"bi.statistic.level.workgroup"})}),(0,Q.jsx)(W,{value:L.fyH,children:e.formatMessage({id:"bi.statistic.level.agent"})})]}),ye===L.v5D&&(0,Q.jsx)(g.Z,{value:je,style:{width:150},onChange:we,placeholder:e.formatMessage({id:"bi.statistic.level.workgroup"}),allowClear:!0,children:De.map((function(e){return(0,Q.jsx)(W,{value:e.uid,children:e.nickname},e.uid)}))}),ye===L.fyH&&(0,Q.jsx)(g.Z,{value:Te,style:{width:150},onChange:Ce,placeholder:e.formatMessage({id:"bi.statistic.level.agent"}),allowClear:!0,children:Ae.map((function(e){return(0,Q.jsx)(W,{value:e.uid,children:e.nickname},e.uid)}))}),(0,Q.jsx)(M.ZP,{type:"primary",icon:(0,Q.jsx)(C.Z,{}),onClick:function(){return He()},loading:a,children:e.formatMessage({id:"bi.common.refresh"})}),(0,Q.jsx)(b.Z,{title:e.formatMessage({id:"ticket.statistic.filter.export"}),children:(0,Q.jsx)(M.ZP,{icon:(0,Q.jsx)(Y.Z,{}),onClick:function(){var e=localStorage.getItem(L.LA8);window.open((0,J.kG)()+"/api/v1/service/statistic/export?"+new URLSearchParams({type:ye,startDate:de[0].format("YYYY-MM-DD"),endDate:de[1].format("YYYY-MM-DD"),workgroupUid:ye===L.v5D?je:"",agentUid:ye===L.fyH?Te:"",orgUid:(null==o?void 0:o.uid)||"",accessToken:e||""}).toString())},children:e.formatMessage({id:"ticket.statistic.filter.export"})})})]})]})})}),(0,Q.jsxs)(k.Z,{spinning:a,children:[(0,Q.jsxs)(j.Z,{gutter:16,style:{marginBottom:"24px"},children:[(0,Q.jsx)(w.Z,{span:6,children:(0,Q.jsx)(h.Z,{children:(0,Q.jsx)(Z.Z,{title:e.formatMessage({id:"bi.agent.card.onlineAgents"}),value:I.onlineAgentCount,prefix:(0,Q.jsx)(T.Z,{}),valueStyle:{color:"#3f8600"}})})}),(0,Q.jsx)(w.Z,{span:6,children:(0,Q.jsx)(h.Z,{children:(0,Q.jsx)(Z.Z,{title:e.formatMessage({id:"bi.agent.card.offlineAgents"}),value:I.offlineAgentCount,prefix:(0,Q.jsx)(T.Z,{}),valueStyle:{color:"#ff4d4f"}})})}),(0,Q.jsx)(w.Z,{span:6,children:(0,Q.jsx)(h.Z,{children:(0,Q.jsx)(Z.Z,{title:e.formatMessage({id:"bi.agent.card.totalSessions"}),value:I.totalSessions,prefix:(0,Q.jsx)(R.Z,{}),valueStyle:{color:"#1890ff"}})})}),(0,Q.jsx)(w.Z,{span:6,children:(0,Q.jsx)(h.Z,{children:(0,Q.jsx)(Z.Z,{title:e.formatMessage({id:"bi.agent.card.avgResponseTime"}),value:I.avgResponseTime,prefix:(0,Q.jsx)(D.Z,{}),valueStyle:{color:"#722ed1"},suffix:e.formatMessage({id:"bi.time.minute"})})})})]}),(0,Q.jsxs)(j.Z,{gutter:16,style:{marginBottom:"24px"},children:[(0,Q.jsx)(w.Z,{span:6,children:(0,Q.jsx)(h.Z,{children:(0,Q.jsx)(Z.Z,{title:e.formatMessage({id:"bi.agent.card.avgFirstResponseTime"}),value:I.avgFirstResponseTime,prefix:(0,Q.jsx)(D.Z,{}),valueStyle:{color:"#13c2c2"},suffix:e.formatMessage({id:"bi.time.minute"})})})}),(0,Q.jsx)(w.Z,{span:6,children:(0,Q.jsx)(h.Z,{children:(0,Q.jsx)(Z.Z,{title:e.formatMessage({id:"bi.agent.card.avgConversationTime"}),value:I.avgConversationTime,prefix:(0,Q.jsx)(D.Z,{}),valueStyle:{color:"#fa8c16"},suffix:e.formatMessage({id:"bi.time.minute"})})})}),(0,Q.jsx)(w.Z,{span:6,children:(0,Q.jsx)(h.Z,{children:(0,Q.jsx)(Z.Z,{title:e.formatMessage({id:"bi.agent.card.avgSatisfaction"}),value:I.avgSatisfaction,prefix:(0,Q.jsx)(P,{}),valueStyle:{color:"#eb2f96"},suffix:"%"})})}),(0,Q.jsx)(w.Z,{span:6,children:(0,Q.jsx)(h.Z,{children:(0,Q.jsx)(Z.Z,{title:e.formatMessage({id:"bi.agent.card.totalAgents"}),value:I.onlineAgentCount+I.offlineAgentCount,prefix:(0,Q.jsx)(T.Z,{}),valueStyle:{color:"#52c41a"}})})})]}),(0,Q.jsx)(h.Z,{title:e.formatMessage({id:"bi.agent.detailData"}),children:(0,Q.jsx)(S.Z,{columns:Ve,dataSource:O,pagination:{current:me.current,pageSize:me.pageSize,total:me.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}},onChange:function(e){He(e.current,e.pageSize)},size:"middle"})})]})]})}}}]);