"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[23],{94011:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(83910),r=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},s=n(5901),o=function(e,t){return r.createElement(s.Z,(0,a.Z)({},e,{ref:t,icon:i}))};var c=r.forwardRef(o)},35911:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(83910),r=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},s=n(5901),o=function(e,t){return r.createElement(s.Z,(0,a.Z)({},e,{ref:t,icon:i}))};var c=r.forwardRef(o)},29341:function(e,t,n){n.d(t,{Lr:function(){return h},_t:function(){return d},sE:function(){return m},x_:function(){return g}});var a=n(90819),r=n.n(a),i=n(73193),s=n.n(i),o=n(89933),c=n.n(o),u=n(36265),l=n(5861);function d(e){return f.apply(this,arguments)}function f(){return(f=c()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/agent/query/org",{method:"GET",params:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=c()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/agent/create",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=c()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/agent/update",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=c()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/agent/delete",{method:"POST",data:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},71940:function(e,t,n){n.d(t,{Eb:function(){return d},RU:function(){return g}});var a=n(90819),r=n.n(a),i=n(73193),s=n.n(i),o=n(89933),c=n.n(o),u=n(36265),l=n(5861);function d(){return f.apply(this,arguments)}function f(){return(f=c()(r()().mark((function e(){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/service/statistic/query",{method:"GET",params:{channel:u.XtJ}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=c()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/api/v1/service/statistic/query/date",{method:"GET",params:s()(s()({},t),{},{channel:u.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},19673:function(e,t,n){n.d(t,{LE:function(){return l},W5:function(){return p},p0:function(){return f},zl:function(){return v}});var a=n(90819),r=n.n(a),i=n(73193),s=n.n(i),o=n(89933),c=n.n(o),u=n(5861);function l(e){return d.apply(this,arguments)}function d(){return(d=c()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/query/org",{method:"GET",params:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=c()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/create",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=c()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/update",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=c()(r()().mark((function e(t){return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/workgroup/delete",{method:"POST",data:s()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},29916:function(e,t,n){n.r(t),n.d(t,{default:function(){return X}});var a=n(90819),r=n.n(a),i=n(89933),s=n.n(i),o=n(45332),c=n.n(o),u=n(44194),l=n(99689),d=n(15384),f=n(14999),g=n(44423),p=n(45858),m=n(22060),v=n(76185),h=n(86472),x=n(2157),y=n(20921),M=n(23513),b=n(46435),j=n(63889),k=n(6544),w=n(27987),Z=n(35911),S=n(94011),T=n(57039),C=n(36868),Y=n(14546),R=n(83910),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM184 352V232h64v207.6a91.99 91.99 0 01-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"}}]},name:"trophy",theme:"outlined"},z=n(5901),O=function(e,t){return u.createElement(z.Z,(0,R.Z)({},e,{ref:t,icon:D}))};var U=u.forwardRef(O),A=n(71940),P=n(19673),q=n(29341),E=n(96596),F=n.n(E),I=n(71865),B=n(5861),H=n(36265),V=n(87523),L=n(42539),J=n(31549),G=l.default.RangePicker,W=d.Z.Option,X=function(){var e=(0,B.useIntl)(),t=(0,u.useState)(!1),n=c()(t,2),a=n[0],i=n[1],o=(0,I.u)((function(e){return e.currentOrg})),l=(0,u.useState)([]),R=c()(l,2),D=R[0],z=R[1],O=(0,u.useState)({onlineAgents:0,totalSessions:0,avgResponseTime:0,avgSatisfaction:0,onlineAgentCount:0,offlineAgentCount:0,avgFirstResponseTime:0,avgConversationTime:0}),E=c()(O,2),X=E[0],N=E[1],Q=(0,u.useState)(F()().startOf("day")),_=c()(Q,2),K=_[0],$=_[1],ee=(0,u.useState)(F()().endOf("day")),te=c()(ee,2),ne=te[0],ae=te[1],re=(0,u.useState)("today"),ie=c()(re,2),se=ie[0],oe=ie[1],ce=(0,u.useState)([F()().startOf("day"),F()().endOf("day")]),ue=c()(ce,2),le=ue[0],de=ue[1],fe=(0,u.useState)({current:1,pageSize:20,total:0}),ge=c()(fe,2),pe=ge[0],me=ge[1],ve=(0,u.useState)(H.whQ),he=c()(ve,2),xe=he[0],ye=he[1],Me=(0,u.useState)(),be=c()(Me,2),je=be[0],ke=be[1],we=(0,u.useState)(),Ze=c()(we,2),Se=Ze[0],Te=Ze[1],Ce=(0,u.useState)([]),Ye=c()(Ce,2),Re=Ye[0],De=Ye[1],ze=(0,u.useState)([]),Oe=c()(ze,2),Ue=Oe[0],Ae=Oe[1],Pe=u.useMemo((function(){var e=new Map;return(Ue||[]).forEach((function(t){null!=t&&t.uid&&e.set(t.uid,t)})),e}),[Ue]),qe=[{label:(0,J.jsx)(B.FormattedMessage,{id:"ticket.statistic.timeRange.today"}),value:"today"},{label:(0,J.jsx)(B.FormattedMessage,{id:"ticket.statistic.timeRange.yesterday"}),value:"yesterday"},{label:(0,J.jsx)(B.FormattedMessage,{id:"ticket.statistic.timeRange.week"}),value:"week"},{label:(0,J.jsx)(B.FormattedMessage,{id:"ticket.statistic.timeRange.lastWeek"}),value:"lastWeek"},{label:(0,J.jsx)(B.FormattedMessage,{id:"ticket.statistic.timeRange.month"}),value:"month"},{label:(0,J.jsx)(B.FormattedMessage,{id:"ticket.statistic.timeRange.custom"}),value:"custom"}];(0,u.useEffect)((function(){null!=o&&o.uid&&((0,P.LE)({orgUid:o.uid,pageNumber:0,pageSize:100}).then((function(e){var t;200===e.code&&De((null===(t=e.data)||void 0===t?void 0:t.content)||[])})),(0,q._t)({orgUid:o.uid,pageNumber:0,pageSize:100}).then((function(e){var t;200===e.code&&Ae((null===(t=e.data)||void 0===t?void 0:t.content)||[])})))}),[o]);var Ee=function(){var e=s()(r()().mark((function e(){var t,n,a,s,c,u,l,d=arguments;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:1,n=d.length>1&&void 0!==d[1]?d[1]:20,i(!0),e.prev=3,a={pageNumber:t-1,pageSize:n,orgUid:null==o?void 0:o.uid,startDate:le[0].format("YYYY-MM-DD"),endDate:le[1].format("YYYY-MM-DD"),type:xe,workgroupUid:xe===H.v5D?je:void 0,agentUid:xe===H.fyH?Se:void 0},e.next=7,(0,A.RU)(a);case 7:s=e.sent,L.Z.debug("queryStatisticServiceByDate response:",null==s?void 0:s.data,a),200===s.code&&null!=s&&s.data&&(c=null==s?void 0:s.data,u=c.agentUid?Pe.get(c.agentUid):void 0,me({current:t,pageSize:n,total:1}),l=[{key:c.agentUid||"unknown",agentUid:c.agentUid||"unknown",nickname:(null==u?void 0:u.nickname)||c.agentUid||"Unknown Agent",avatar:(null==u?void 0:u.avatar)||"",totalSessions:c.acceptedThreadCount||0,avgResponseTime:c.avgFirstResponseTime?Math.round(c.avgFirstResponseTime/60):0,avgSatisfaction:c.satisfactionRate||0,avgConversationTime:c.avgConversationTime?Math.round(c.avgConversationTime/60):0,onlineTime:c.onlineTime?Math.round(c.onlineTime/3600):0,busyTime:c.busyTime?Math.round(c.busyTime/3600):0,agentMessageCount:c.agentMessageCount||0,visitorMessageCount:c.visitorMessageCount||0,avgMessagePerThread:c.avgMessagePerThread||0}],z(l)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),f.ZP.error("获取客服数据失败"),console.error("获取客服数据失败:",e.t0);case 16:return e.prev=16,i(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){if("custom"===se)$(K),ae(ne);else{var e=F()();"today"===se?($(e.startOf("day")),ae(e.endOf("day"))):"yesterday"===se?($(e.subtract(1,"day").startOf("day")),ae(e.subtract(1,"day").endOf("day"))):"week"===se?($(e.startOf("week")),ae(e.endOf("week"))):"lastWeek"===se?($(e.subtract(1,"week").startOf("week")),ae(e.subtract(1,"week").endOf("week"))):"month"===se&&($(e.startOf("month")),ae(e.endOf("month")))}}),[se]),(0,u.useEffect)((function(){de([K,ne])}),[K,ne]);var Fe=function(){var e=s()(r()().mark((function e(){var t,n,a;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={orgUid:null==o?void 0:o.uid,startDate:le[0].format("YYYY-MM-DD"),endDate:le[1].format("YYYY-MM-DD"),type:xe,workgroupUid:xe===H.v5D?je:void 0,agentUid:xe===H.fyH?Se:void 0},e.next=4,(0,A.RU)(t);case 4:n=e.sent,L.Z.debug("queryStatisticServiceByDate response:",null==n?void 0:n.data,t),200===n.code&&null!=n&&n.data&&(a=null==n?void 0:n.data,N({onlineAgents:a.onlineAgentCount||0,totalSessions:a.acceptedThreadCount||0,avgResponseTime:a.avgFirstResponseTime?Math.round(a.avgFirstResponseTime/60):0,avgSatisfaction:a.satisfactionRate||0,onlineAgentCount:a.onlineAgentCount||0,offlineAgentCount:a.offlineAgentCount||0,avgFirstResponseTime:a.avgFirstResponseTime?Math.round(a.avgFirstResponseTime/60):0,avgConversationTime:a.avgConversationTime?Math.round(a.avgConversationTime/60):0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("获取统计数据失败:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){Fe(),Ee()}),[le,xe,je,Se]);var Ie=[{title:e.formatMessage({id:"bi.agent.table.name"}),dataIndex:"nickname",key:"nickname",render:function(e,t){return(0,J.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,J.jsx)(g.Z,{src:t.avatar,style:{marginRight:8}}),e]})}},{title:e.formatMessage({id:"bi.agent.table.totalSessions"}),dataIndex:"totalSessions",key:"totalSessions",sorter:function(e,t){return e.totalSessions-t.totalSessions}},{title:e.formatMessage({id:"bi.agent.table.avgResponseTime"}),dataIndex:"avgResponseTime",key:"avgResponseTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.minute"}))}},{title:e.formatMessage({id:"bi.agent.table.avgConversationTime"}),dataIndex:"avgConversationTime",key:"avgConversationTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.minute"}))}},{title:e.formatMessage({id:"bi.agent.table.onlineTime"}),dataIndex:"onlineTime",key:"onlineTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.hour"}))}},{title:e.formatMessage({id:"bi.agent.table.busyTime"}),dataIndex:"busyTime",key:"busyTime",render:function(t){return"".concat(t).concat(e.formatMessage({id:"bi.time.hour"}))}},{title:e.formatMessage({id:"bi.agent.table.agentMessageCount"}),dataIndex:"agentMessageCount",key:"agentMessageCount"},{title:e.formatMessage({id:"bi.agent.table.visitorMessageCount"}),dataIndex:"visitorMessageCount",key:"visitorMessageCount"},{title:e.formatMessage({id:"bi.agent.table.avgMessagePerThread"}),dataIndex:"avgMessagePerThread",key:"avgMessagePerThread"},{title:e.formatMessage({id:"bi.agent.table.satisfaction"}),dataIndex:"avgSatisfaction",key:"avgSatisfaction",render:function(t){return(0,J.jsxs)("div",{children:[(0,J.jsx)("span",{style:{marginRight:8},children:t>0?"".concat(t,"%"):e.formatMessage({id:"bi.common.noRating"})}),t>0&&(0,J.jsx)(p.Z,{percent:t,size:"small",showInfo:!1})]})}}];return(0,J.jsxs)("div",{style:{padding:"24px"},children:[(0,J.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,J.jsx)("h2",{children:e.formatMessage({id:"bi.agent.title"})}),(0,J.jsxs)("p",{children:[e.formatMessage({id:"bi.agent.description"}),"today"===se&&(0,J.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",K.format("YYYY-MM-DD"),")"]}),"yesterday"===se&&(0,J.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",K.format("YYYY-MM-DD"),")"]}),("week"===se||"lastWeek"===se||"month"===se||"custom"===se)&&(0,J.jsxs)("span",{style:{color:"#666",marginLeft:8},children:["(",K.format("YYYY-MM-DD")," ~ ",ne.format("YYYY-MM-DD"),")"]})]})]}),(0,J.jsx)(m.Z,{style:{marginBottom:"24px"},children:(0,J.jsx)(v.Z,{direction:"vertical",style:{width:"100%"},children:(0,J.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,J.jsxs)(v.Z,{wrap:!0,children:[(0,J.jsx)(h.ZP.Group,{value:se,onChange:function(e){return oe(e.target.value)},children:qe.map((function(e){return(0,J.jsx)(h.ZP.Button,{value:e.value,children:e.label},e.value)}))}),"custom"===se&&(0,J.jsx)(G,{value:[K,ne],onChange:function(e){$(e[0]),ae(e[1])}})]}),(0,J.jsxs)(v.Z,{wrap:!0,children:[(0,J.jsxs)(d.Z,{value:xe,style:{width:120},onChange:function(e){ye(e),ke(void 0),Te(void 0)},children:[(0,J.jsx)(W,{value:H.whQ,children:e.formatMessage({id:"bi.statistic.level.organization"})}),(0,J.jsx)(W,{value:H.v5D,children:e.formatMessage({id:"bi.statistic.level.workgroup"})}),(0,J.jsx)(W,{value:H.fyH,children:e.formatMessage({id:"bi.statistic.level.agent"})})]}),xe===H.v5D&&(0,J.jsx)(d.Z,{value:je,style:{width:150},onChange:ke,placeholder:e.formatMessage({id:"bi.statistic.level.workgroup"}),allowClear:!0,children:Re.map((function(e){return(0,J.jsx)(W,{value:e.uid,children:e.nickname},e.uid)}))}),xe===H.fyH&&(0,J.jsx)(d.Z,{value:Se,style:{width:150},onChange:Te,placeholder:e.formatMessage({id:"bi.statistic.level.agent"}),allowClear:!0,children:Ue.map((function(e){return(0,J.jsx)(W,{value:e.uid,children:e.nickname},e.uid)}))}),(0,J.jsx)(x.ZP,{type:"primary",icon:(0,J.jsx)(Z.Z,{}),onClick:function(){return Ee()},loading:a,children:e.formatMessage({id:"bi.common.refresh"})}),(0,J.jsx)(y.Z,{title:e.formatMessage({id:"ticket.statistic.filter.export"}),children:(0,J.jsx)(x.ZP,{icon:(0,J.jsx)(S.Z,{}),onClick:function(){var e=localStorage.getItem(H.LA8);window.open((0,V.kG)()+"/api/v1/service/statistic/export?"+new URLSearchParams({type:xe,startDate:le[0].format("YYYY-MM-DD"),endDate:le[1].format("YYYY-MM-DD"),workgroupUid:xe===H.v5D?je:"",agentUid:xe===H.fyH?Se:"",orgUid:(null==o?void 0:o.uid)||"",accessToken:e||""}).toString())},children:e.formatMessage({id:"ticket.statistic.filter.export"})})})]})]})})}),(0,J.jsxs)(M.Z,{spinning:a,children:[(0,J.jsxs)(b.Z,{gutter:16,style:{marginBottom:"24px"},children:[(0,J.jsx)(j.Z,{span:6,children:(0,J.jsx)(m.Z,{children:(0,J.jsx)(k.Z,{title:e.formatMessage({id:"bi.agent.card.onlineAgents"}),value:X.onlineAgentCount,prefix:(0,J.jsx)(T.Z,{}),valueStyle:{color:"#3f8600"}})})}),(0,J.jsx)(j.Z,{span:6,children:(0,J.jsx)(m.Z,{children:(0,J.jsx)(k.Z,{title:e.formatMessage({id:"bi.agent.card.offlineAgents"}),value:X.offlineAgentCount,prefix:(0,J.jsx)(T.Z,{}),valueStyle:{color:"#ff4d4f"}})})}),(0,J.jsx)(j.Z,{span:6,children:(0,J.jsx)(m.Z,{children:(0,J.jsx)(k.Z,{title:e.formatMessage({id:"bi.agent.card.totalSessions"}),value:X.totalSessions,prefix:(0,J.jsx)(C.Z,{}),valueStyle:{color:"#1890ff"}})})}),(0,J.jsx)(j.Z,{span:6,children:(0,J.jsx)(m.Z,{children:(0,J.jsx)(k.Z,{title:e.formatMessage({id:"bi.agent.card.avgResponseTime"}),value:X.avgResponseTime,prefix:(0,J.jsx)(Y.Z,{}),valueStyle:{color:"#722ed1"},suffix:e.formatMessage({id:"bi.time.minute"})})})})]}),(0,J.jsxs)(b.Z,{gutter:16,style:{marginBottom:"24px"},children:[(0,J.jsx)(j.Z,{span:6,children:(0,J.jsx)(m.Z,{children:(0,J.jsx)(k.Z,{title:e.formatMessage({id:"bi.agent.card.avgFirstResponseTime"}),value:X.avgFirstResponseTime,prefix:(0,J.jsx)(Y.Z,{}),valueStyle:{color:"#13c2c2"},suffix:e.formatMessage({id:"bi.time.minute"})})})}),(0,J.jsx)(j.Z,{span:6,children:(0,J.jsx)(m.Z,{children:(0,J.jsx)(k.Z,{title:e.formatMessage({id:"bi.agent.card.avgConversationTime"}),value:X.avgConversationTime,prefix:(0,J.jsx)(Y.Z,{}),valueStyle:{color:"#fa8c16"},suffix:e.formatMessage({id:"bi.time.minute"})})})}),(0,J.jsx)(j.Z,{span:6,children:(0,J.jsx)(m.Z,{children:(0,J.jsx)(k.Z,{title:e.formatMessage({id:"bi.agent.card.avgSatisfaction"}),value:X.avgSatisfaction,prefix:(0,J.jsx)(U,{}),valueStyle:{color:"#eb2f96"},suffix:"%"})})}),(0,J.jsx)(j.Z,{span:6,children:(0,J.jsx)(m.Z,{children:(0,J.jsx)(k.Z,{title:e.formatMessage({id:"bi.agent.card.totalAgents"}),value:X.onlineAgentCount+X.offlineAgentCount,prefix:(0,J.jsx)(T.Z,{}),valueStyle:{color:"#52c41a"}})})})]}),(0,J.jsx)(m.Z,{title:e.formatMessage({id:"bi.agent.ranking"}),style:{marginBottom:"24px"},children:(0,J.jsx)(b.Z,{gutter:16,children:D.sort((function(e,t){return t.totalSessions-e.totalSessions})).slice(0,3).map((function(t,n){return(0,J.jsx)(j.Z,{span:8,children:(0,J.jsxs)(m.Z,{size:"small",style:{textAlign:"center"},children:[(0,J.jsx)(g.Z,{size:64,src:t.avatar}),(0,J.jsxs)("div",{style:{marginTop:8},children:[(0,J.jsx)("div",{style:{fontWeight:"bold"},children:t.nickname}),(0,J.jsxs)("div",{style:{color:"#666"},children:[t.totalSessions,e.formatMessage({id:"bi.time.unit"})]})]})]})},t.key)}))})}),(0,J.jsx)(m.Z,{title:e.formatMessage({id:"bi.agent.detailData"}),children:(0,J.jsx)(w.Z,{columns:Ie,dataSource:D,pagination:{current:pe.current,pageSize:pe.pageSize,total:pe.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}},onChange:function(e){Ee(e.current,e.pageSize)},size:"middle"})})]})]})}}}]);