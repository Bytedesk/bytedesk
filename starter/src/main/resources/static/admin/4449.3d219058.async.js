"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[4449],{82465:function(e,t,n){var r=n(94433),a=n(38956),u=n(44194),o=n(46659),c=n(31549),i=["fieldProps","min","proFieldProps","max"],p=function(e,t){var n=e.fieldProps,u=e.min,p=e.proFieldProps,s=e.max,d=(0,a.Z)(e,i);return(0,c.jsx)(o.Z,(0,r.Z)({valueType:"digit",fieldProps:(0,r.Z)({min:u,max:s},n),ref:t,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:p},d))},s=u.forwardRef(p);t.Z=s},59853:function(e,t,n){var r=n(94433),a=n(38956),u=n(44194),o=n(46659),c=n(31549),i=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],p=u.forwardRef((function(e,t){var n=e.fieldProps,u=e.unCheckedChildren,p=e.checkedChildren,s=e.proFieldProps,d=(0,a.Z)(e,i);return(0,c.jsx)(o.Z,(0,r.Z)({valueType:"switch",fieldProps:(0,r.Z)({unCheckedChildren:u,checkedChildren:p},n),ref:t,valuePropName:"checked",proFieldProps:s,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},d))}));t.Z=p},26608:function(e,t,n){var r=n(94433),a=n(38956),u=n(44194),o=n(46659),c=n(31549),i=["fieldProps","proFieldProps"],p=function(e,t){var n=e.fieldProps,u=e.proFieldProps,p=(0,a.Z)(e,i);return(0,c.jsx)(o.Z,(0,r.Z)({ref:t,valueType:"textarea",fieldProps:n,proFieldProps:u},p))};t.Z=u.forwardRef(p)},90170:function(e,t,n){n.d(t,{KF:function(){return g},VW:function(){return d},ZJ:function(){return l},r$:function(){return v},sK:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),i=n.n(c),p=n(68992),s=n(62395);function d(e){return f.apply(this,arguments)}function f(){return(f=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/query/org",{method:"GET",params:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/create",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/update",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return w.apply(this,arguments)}function w(){return(w=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/delete",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return P.apply(this,arguments)}function P(){return(P=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/settings/publish",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},72309:function(e,t,n){n.d(t,{Bv:function(){return F},L0:function(){return S},QB:function(){return b},RF:function(){return T},YO:function(){return q},YQ:function(){return X},Yg:function(){return v},kh:function(){return l},kv:function(){return g},pf:function(){return d},y:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),i=n.n(c),p=n(68992),s=n(62395);function d(e){return f.apply(this,arguments)}function f(){return(f=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/query/org",{method:"GET",params:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/create",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/update",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return w.apply(this,arguments)}function w(){return(w=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/delete",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return P.apply(this,arguments)}function P(){return(P=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/enable",{method:"POST",data:{uid:t.uid,enabled:t.enabled,channel:p.XtJ}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return k.apply(this,arguments)}function k(){return(k=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/deleteAll",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return x.apply(this,arguments)}function x(){return(x=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateIndex",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return C.apply(this,arguments)}function C(){return(C=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateVectorIndex",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return J.apply(this,arguments)}function J(){return(J=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateAllIndex",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return O.apply(this,arguments)}function O(){return(O=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/faq/updateAllVectorIndex",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=i()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/api/v1/robot/agent/text/faq-similar-questions",{method:"POST",data:o()(o()({},t),{},{channel:p.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},91743:function(e,t,n){var r=n(73193),a=n.n(r),u=n(61489),o=n(70097),c=n(87005),i=n(68992),p=n(62395),s=n(6938),d=(n(27575),n(45634)),f=n.n(d),l=n(44194),h=n(31549);t.Z=function(e){var t=e.placeholder,n=e.defaultValue,r=e.value,d=e.style,m=e.toolbarKeys,y=e.maxLength,v=e.onChange,w=e.options,g=(0,p.useIntl)(),P=(0,o.Z)().isDarkMode,b=(0,l.useRef)(null),k=(0,l.useRef)(null),T=(0,l.useRef)(!1),x=(0,l.useCallback)((function(e,t,n){"function"!=typeof v||T.current||v(e,t,n)}),[v]);return(0,l.useEffect)((function(){if(b.current){if(!k.current){var e=new s.cW(a()(a()({element:b.current,theme:P?"dark":"light",placeholder:t,content:n,toolbarKeys:m},w||{}),{},{image:{uploadUrl:(0,c.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(i.LA8)},uploader:function(e,t,n,r){console.log("uploader:",e,t,n,r);var o=f()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,c=new FormData;return c.append("file",e),c.append("fileName",o),c.append("fileType",e.type),c.append("isAvatar","false"),c.append("kbType",i.QPQ),c.append("categoryUid",""),c.append("kbUid",""),c.append("orgUid",""),c.append("client",i.XtJ),new Promise((function(e,r){fetch(t,{method:"POST",headers:a()({Accept:"application/json"},n),body:c}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){u.yw.destroy(),u.yw.success("".concat(o," 上传成功"));var n={errorCode:0,data:{src:t.data.fileUrl,alt:o}};e(n)}else u.yw.destroy(),u.yw.error("".concat(o," 上传失败"))})).catch((function(e){r(e)}))}))}},video:{uploadUrl:(0,c.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(i.LA8)},uploader:function(e,t,n,r){console.log("uploader:",e,t,n,r);var o=f()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,c=new FormData;return c.append("file",e),c.append("fileName",o),c.append("fileType",e.type),c.append("isAvatar","false"),c.append("kbType",i.QPQ),c.append("categoryUid",""),c.append("kbUid",""),c.append("client",i.XtJ),new Promise((function(e,r){fetch(t,{method:"POST",headers:a()({Accept:"application/json"},n),body:c}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){u.yw.destroy(),u.yw.success("".concat(o," 上传成功"));var n={errorCode:0,data:{src:t.data.fileUrl,poster:"https://www.weiyuai.cn/avatars/video_poster.png"}};e(n)}else u.yw.destroy(),u.yw.error("".concat(o," 上传失败"))})).catch((function(e){r(e)}))}))}},attachment:{uploadUrl:(0,c.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(i.LA8)},uploader:function(e,t,n,r){console.log("uploader:",e,t,n,r);var o=f()(new Date).format("YYYYMMDDHHmmss")+"_"+e.name,c=new FormData;return c.append("file",e),c.append("fileName",o),c.append("fileType",e.type),c.append("isAvatar","false"),c.append("kbType",i.QPQ),c.append("categoryUid",""),c.append("kbUid",""),c.append("client",i.XtJ),new Promise((function(e,r){fetch(t,{method:"POST",headers:a()({Accept:"application/json"},n),body:c}).then((function(e){return e.json()})).then((function(t){if(console.log("upload data:",t),200===t.code){u.yw.destroy(),u.yw.success("".concat(o," 上传成功"));var n={errorCode:0,data:{href:t.data.fileUrl,fileName:o}};e(n)}else u.yw.destroy(),u.yw.error("".concat(o," 上传失败"))})).catch((function(e){r(e)}))}))}},onChange:function(e){var t=e.getText(),n=t.length,r="number"==typeof y?y:Number.POSITIVE_INFINITY;if(n>r){var a,o;u.yw.warning(g.formatMessage({id:"character.limit.reached"},{limit:r})||"已达到 ".concat(r," 字符限制"));var c=t.substring(0,r);T.current=!0,setTimeout((function(){k.current&&k.current.setContent(c),T.current=!1}),0),x((null===(a=k.current)||void 0===a?void 0:a.getHtml())||"",(null===(o=k.current)||void 0===o?void 0:o.getMarkdown())||"",c)}else x(e.getHtml(),e.getMarkdown(),e.getText())}}));k.current=e}return function(){k.current&&(k.current.destroy(),k.current=null)}}}),[]),(0,l.useEffect)((function(){k.current&&void 0!==r&&r!==k.current.getHtml()&&(T.current=!0,k.current.setContent(r||""),requestAnimationFrame((function(){T.current=!1})))}),[r]),(0,h.jsx)("div",{ref:b,style:a()({height:"100%"},d)})}}}]);