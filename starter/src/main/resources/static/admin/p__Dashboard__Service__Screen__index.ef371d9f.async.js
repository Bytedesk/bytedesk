"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[7581],{60731:function(t,e,n){n.d(e,{Wq:function(){return d}});var a=n(90819),o=n.n(a),s=n(73193),r=n.n(s),i=n(89933),l=n.n(i),c=n(2622),u=n(59318);function d(t){return h.apply(this,arguments)}function h(){return(h=l()(o()().mark((function t(e){return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("/api/v1/queue/query/org",{method:"GET",params:r()(r()({},e),{},{channel:c.XtJ})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},46958:function(t,e,n){n.r(e);var a=n(90819),o=n.n(a),s=n(89933),r=n.n(s),i=n(45332),l=n.n(i),c=n(44194),u=n(59983),d=n(12722),h=n(20374),f=n(89323),g=n(23377),x=n(55599),p=n(8421),m=n(15716),v=n(27431),M=n(49297),y=n(2462),j=n(34640),C=n(49373),k=n(86559),Z=n(86905),b=n(11575),w=n(14546),R=n(57039),A=n(72986),I=n(65794),W=n(58896),T=n(35911),S=n(98201),z=n(12201),q=n(12227),F=n(46263),U=n(91982),E=n(16829),H=n(59318),L=n(78929),B=n(60731),J=n(89520),V=n(84065),D=n(68279),P=n(76025),$=n(28977),G=n.n($),K=n(31549);e.default=function(){(0,H.useIntl)();var t=(0,c.useContext)(P.I).isDarkMode,e=(0,V.E)((function(t){return t.currentAgent})),n=(0,J.u)((function(t){return t.currentOrg})),a=((0,D.$)((function(t){return{currentWorkgroup:t.currentWorkgroup}})).currentWorkgroup,(0,c.useState)(!1)),s=l()(a,2),i=s[0],$=s[1],N=(0,c.useState)(!1),O=l()(N,2),X=O[0],Y=O[1],Q=(0,c.useState)({totalCount:0,queuingCount:0,chattingCount:0,offlineCount:0,closedCount:0,leaveMsgCount:0,robotToAgentCount:0,avgWaitTime:0,avgResolveTime:0}),_=l()(Q,2),tt=_[0],et=_[1],nt=(0,c.useState)({onlineAgents:0,busyAgents:0,availableAgents:0,totalVisitors:0,activeChats:0,avgResponseTime:0,satisfactionRate:0,systemLoad:0}),at=l()(nt,2),ot=at[0],st=at[1],rt=(0,c.useState)([]),it=l()(rt,2),lt=it[0],ct=it[1],ut=(0,c.useState)([]),dt=l()(ut,2),ht=dt[0],ft=dt[1],gt=(0,c.useState)([]),xt=l()(gt,2),pt=xt[0],mt=xt[1],vt=(0,c.useState)([]),Mt=l()(vt,2),yt=Mt[0],jt=Mt[1],Ct=function(){var t=r()(o()().mark((function t(){var a,s,r,i;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $(!0),t.prev=1,s={pageNumber:0,pageSize:100,agentUid:null==e?void 0:e.uid,orgUid:null==n?void 0:n.uid},t.next=5,(0,B.Wq)(s);case 5:200===(null==(r=t.sent)?void 0:r.code)&&null!=r&&null!==(a=r.data)&&void 0!==a&&a.content&&(i=r.data.content.reduce((function(t,e){return t.totalCount+=e.totalCount||0,t.queuingCount+=e.queuingCount||0,t.chattingCount+=e.chattingCount||0,t.offlineCount+=e.offlineCount||0,t.closedCount+=e.closedCount||0,t.leaveMsgCount+=e.leaveMsgCount||0,t.robotToAgentCount+=e.robotToAgentCount||0,t.avgWaitTime=e.avgWaitTime||0,t.avgResolveTime=e.avgResolveTime||0,t}),{totalCount:0,queuingCount:0,chattingCount:0,offlineCount:0,closedCount:0,leaveMsgCount:0,robotToAgentCount:0,avgWaitTime:0,avgResolveTime:0}),et(i)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("èŽ·å–é˜Ÿåˆ—æ•°æ®å¤±è´¥:",t.t0),L.yw.error("èŽ·å–é˜Ÿåˆ—æ•°æ®å¤±è´¥");case 13:return t.prev=13,$(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,9,13,16]])})));return function(){return t.apply(this,arguments)}}(),kt=(0,c.useCallback)((function(){var t,e,n,a=G()().hour();a>=0&&a<=6?(t=5+10*Math.random(),e=2+5*Math.random(),n=2+3*Math.random()):a>=7&&a<=11?(t=20+30*Math.random(),e=10+15*Math.random(),n=5+8*Math.random()):a>=12&&a<=13?(t=50+25*Math.random(),e=25+15*Math.random(),n=12+6*Math.random()):a>=14&&a<=17?(t=70+30*Math.random(),e=35+20*Math.random(),n=15+10*Math.random()):(t=30+40*Math.random(),e=15+20*Math.random(),n=8+8*Math.random());var o=Math.floor(n),s=Math.floor(o*(.8+.2*Math.random())),r=Math.floor(s*(.3+.4*Math.random())),i=s-r;st((function(n){return{onlineAgents:Math.max(1,s),busyAgents:Math.max(0,r),availableAgents:Math.max(0,i),totalVisitors:Math.floor(t),activeChats:Math.floor(e),avgResponseTime:Math.floor(20+40*Math.random()),satisfactionRate:Math.floor(85+12*Math.random()),systemLoad:Math.floor(30+40*Math.random())}}))}),[]),Zt=(0,c.useCallback)((function(){console.log("ç”Ÿæˆè¶‹åŠ¿æ•°æ®å¼€å§‹");for(var t=G()(),e=[],n={0:{visitors:5,chats:2,agents:2},1:{visitors:3,chats:1,agents:1},2:{visitors:2,chats:1,agents:1},3:{visitors:1,chats:0,agents:1},4:{visitors:2,chats:1,agents:1},5:{visitors:4,chats:2,agents:2},6:{visitors:8,chats:4,agents:3},7:{visitors:15,chats:8,agents:4},8:{visitors:25,chats:12,agents:6},9:{visitors:35,chats:18,agents:8},10:{visitors:45,chats:22,agents:10},11:{visitors:55,chats:28,agents:12},12:{visitors:65,chats:35,agents:15},13:{visitors:70,chats:38,agents:16},14:{visitors:75,chats:42,agents:18},15:{visitors:85,chats:48,agents:20},16:{visitors:90,chats:52,agents:22},17:{visitors:95,chats:58,agents:24},18:{visitors:80,chats:45,agents:20},19:{visitors:65,chats:35,agents:16},20:{visitors:50,chats:25,agents:12},21:{visitors:35,chats:18,agents:8},22:{visitors:20,chats:10,agents:5},23:{visitors:12,chats:6,agents:3}},a=23;a>=0;a--){var o=t.subtract(a,"hour"),s=n[o.hour()]||{visitors:20,chats:10,agents:5},r=.8+.4*Math.random(),i=Math.max(0,Math.floor(s.visitors*r)),l=Math.max(0,Math.floor(s.chats*r));Math.max(1,Math.floor(s.agents*r));e.push({time:o.format("HH:00"),value:i,type:"è®¿å®¢æ•°"}),e.push({time:o.format("HH:00"),value:l,type:"èŠå¤©æ•°"})}console.log("è¶‹åŠ¿æ•°æ®ç”Ÿæˆå®Œæˆ:",e),ct(e)}),[]),bt=(0,c.useCallback)((function(){var t,e,n,a,o=G()().hour();o>=0&&o<=6?(t=2+5*Math.random(),e=1+3*Math.random(),n=1+2*Math.random(),a=5+10*Math.random()):o>=7&&o<=11?(t=10+15*Math.random(),e=5+8*Math.random(),n=3+5*Math.random(),a=15+20*Math.random()):o>=12&&o<=13?(t=20+15*Math.random(),e=8+10*Math.random(),n=5+8*Math.random(),a=25+25*Math.random()):o>=14&&o<=17?(t=30+20*Math.random(),e=12+15*Math.random(),n=8+10*Math.random(),a=35+30*Math.random()):(t=15+20*Math.random(),e=6+10*Math.random(),n=4+6*Math.random(),a=20+25*Math.random());var s=tt.chattingCount||Math.floor(t),r=tt.queuingCount||Math.floor(e),i=tt.leaveMsgCount||Math.floor(n),l=tt.closedCount||Math.floor(a);ft([{type:"åœ¨çº¿å’¨è¯¢",value:s},{type:"æŽ’é˜Ÿç­‰å¾…",value:r},{type:"ç¦»çº¿ç•™è¨€",value:i},{type:"å·²ç»“æŸ",value:l}])}),[tt]),wt=(0,c.useCallback)((function(){mt([{name:"å¼ ä¸‰",chats:Math.floor(10*Math.random())+12,satisfaction:95,responseTime:25},{name:"æŽå››",chats:Math.floor(8*Math.random())+10,satisfaction:92,responseTime:30},{name:"çŽ‹äº”",chats:Math.floor(12*Math.random())+15,satisfaction:88,responseTime:35},{name:"èµµå…­",chats:Math.floor(6*Math.random())+8,satisfaction:96,responseTime:20},{name:"é’±ä¸ƒ",chats:Math.floor(9*Math.random())+11,satisfaction:90,responseTime:28}])}),[]),Rt=(0,c.useCallback)((function(){var t=["online","busy","away","offline"],e=["åˆšåˆš","1åˆ†é’Ÿå‰","2åˆ†é’Ÿå‰","3åˆ†é’Ÿå‰","5åˆ†é’Ÿå‰"],n=[{name:"å¼ ä¸‰",status:t[Math.floor(2*Math.random())],avatar:"å¼ ",chats:Math.floor(10*Math.random())+12,lastActive:e[Math.floor(Math.random()*e.length)]},{name:"æŽå››",status:t[Math.floor(3*Math.random())],avatar:"æŽ",chats:Math.floor(8*Math.random())+10,lastActive:e[Math.floor(Math.random()*e.length)]},{name:"çŽ‹äº”",status:t[Math.floor(2*Math.random())],avatar:"çŽ‹",chats:Math.floor(12*Math.random())+15,lastActive:e[Math.floor(Math.random()*e.length)]},{name:"èµµå…­",status:t[Math.floor(4*Math.random())],avatar:"èµµ",chats:Math.floor(6*Math.random())+8,lastActive:e[Math.floor(Math.random()*e.length)]},{name:"é’±ä¸ƒ",status:t[Math.floor(2*Math.random())],avatar:"é’±",chats:Math.floor(9*Math.random())+11,lastActive:e[Math.floor(Math.random()*e.length)]}];jt(n)}),[]),At=function(){Ct(),kt(),Zt(),bt(),wt(),Rt()};(0,c.useEffect)((function(){At();var t=setInterval(At,3e4);return function(){return clearInterval(t)}}),[]),(0,c.useEffect)((function(){bt(),wt(),Rt()}),[tt,bt,wt,Rt]);var It=[{title:"åœ¨çº¿åº§å¸­",value:ot.onlineAgents,icon:(0,K.jsx)(b.Z,{}),color:"#52c41a",suffix:"äºº"},{title:"å¿™ç¢Œåº§å¸­",value:ot.busyAgents,icon:(0,K.jsx)(w.Z,{}),color:"#fa8c16",suffix:"äºº"},{title:"åœ¨çº¿è®¿å®¢",value:ot.totalVisitors,icon:(0,K.jsx)(R.Z,{}),color:"#1890ff",suffix:"äºº"},{title:"æ´»è·ƒä¼šè¯",value:ot.activeChats,icon:(0,K.jsx)(A.Z,{}),color:"#722ed1",suffix:"ä¸ª"},{title:"å¹³å‡å“åº”æ—¶é—´",value:ot.avgResponseTime,icon:(0,K.jsx)(I.Z,{}),color:"#13c2c2",suffix:"ç§’"},{title:"ç³»ç»Ÿè´Ÿè½½",value:ot.systemLoad,icon:(0,K.jsx)(W.Z,{}),color:"#eb2f96",suffix:"%"}],Wt={online:"green",busy:"orange",away:"yellow",offline:"red"},Tt={online:"åœ¨çº¿",busy:"å¿™ç¢Œ",away:"ç¦»å¼€",offline:"ç¦»çº¿"};return(0,K.jsxs)("div",{style:{padding:X?0:16,background:t?"#141414":"#f0f2f5",minHeight:"100vh",transition:"all 0.3s"},children:[(0,K.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,padding:X?"16px 24px":0},children:[(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,K.jsx)("h1",{style:{margin:0,fontSize:X?"32px":"24px",color:t?"#fff":"#000"},children:"ðŸŽ¯ åœ¨çº¿å®¢æœå¤§å±ç›‘æŽ§"}),(0,K.jsx)(u.Z,{color:"blue",style:{fontSize:X?"16px":"14px"},children:(null==n?void 0:n.name)||"æœªé€‰æ‹©ç»„ç»‡"})]}),(0,K.jsxs)(d.Z,{children:[(0,K.jsx)(h.ZP,{type:"primary",icon:(0,K.jsx)(T.Z,{}),loading:i,onClick:At,size:X?"large":"middle",children:"åˆ·æ–°æ•°æ®"}),(0,K.jsx)(h.ZP,{icon:(0,K.jsx)(S.Z,{}),onClick:function(){var t,e,n,a;(Y(!X),X)?null===(t=(e=document).exitFullscreen)||void 0===t||t.call(e):null===(n=(a=document.documentElement).requestFullscreen)||void 0===n||n.call(a)},size:X?"large":"middle",children:X?"é€€å‡ºå…¨å±":"å…¨å±æ˜¾ç¤º"})]})]}),(0,K.jsx)(f.Z,{gutter:[16,16],style:{marginBottom:16},children:It.map((function(e,n){return(0,K.jsx)(g.Z,{xs:24,sm:12,md:8,lg:6,xl:4,children:(0,K.jsx)(x.Z,{style:{textAlign:"center",background:t?"#1f1f1f":"#fff",border:"1px solid #d9d9d9"},styles:{body:{padding:X?"24px 16px":"16px 12px"}},children:(0,K.jsx)(p.Z,{title:(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,fontSize:X?"16px":"14px"},children:[(0,K.jsx)("span",{style:{color:e.color},children:e.icon}),e.title]}),value:e.value,suffix:e.suffix,valueStyle:{color:e.color,fontSize:X?"28px":"24px",fontWeight:"bold"}})})},n)}))}),(0,K.jsxs)(f.Z,{gutter:[16,16],children:[(0,K.jsx)(g.Z,{xs:24,lg:16,children:(0,K.jsx)(x.Z,{title:(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,K.jsx)(I.Z,{style:{color:"#1890ff"}}),(0,K.jsx)("span",{children:"å®žæ—¶è¶‹åŠ¿ç›‘æŽ§"})]}),style:{background:t?"#1f1f1f":"#fff",height:X?"600px":"400px"},children:lt.length>0?(0,K.jsx)("div",{style:{height:X?520:320},children:(0,K.jsx)(C.Z,{data:lt,xField:"time",yField:"value",seriesField:"type",height:X?520:320,smooth:!0,color:["#1890ff","#52c41a"],point:{size:3,shape:"circle"},legend:{position:"top"},tooltip:{showCrosshairs:!0,shared:!0}})}):(0,K.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:X?520:320,color:t?"#fff":"#666"},children:"æ­£åœ¨åŠ è½½è¶‹åŠ¿æ•°æ®..."})})}),(0,K.jsx)(g.Z,{xs:24,lg:8,children:(0,K.jsx)(x.Z,{title:(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,K.jsx)(z.Z,{style:{color:"#52c41a"}}),(0,K.jsx)("span",{children:"å®¢æˆ·æ»¡æ„åº¦"})]}),style:{background:t?"#1f1f1f":"#fff",height:X?"600px":"400px"},children:(0,K.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:X?520:320},children:[(0,K.jsx)("div",{style:{width:"200px",height:"200px",borderRadius:"50%",background:"conic-gradient(#52c41a 0deg ".concat(3.6*ot.satisfactionRate,"deg, #f0f0f0 ").concat(3.6*ot.satisfactionRate,"deg 360deg)"),display:"flex",alignItems:"center",justifyContent:"center",position:"relative",marginBottom:"20px"},children:(0,K.jsxs)("div",{style:{width:"150px",height:"150px",borderRadius:"50%",background:t?"#1f1f1f":"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"36px",fontWeight:"bold",color:"#52c41a"},children:[ot.satisfactionRate,"%"]})}),(0,K.jsx)("div",{style:{fontSize:"18px",color:t?"#fff":"#333"},children:"å®¢æˆ·æ»¡æ„åº¦"})]})})})]}),(0,K.jsxs)(f.Z,{gutter:[16,16],style:{marginTop:16},children:[(0,K.jsx)(g.Z,{xs:24,lg:8,children:(0,K.jsx)(x.Z,{title:(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,K.jsx)(q.Z,{style:{color:"#722ed1"}}),(0,K.jsx)("span",{children:"ä¼šè¯åˆ†å¸ƒ"})]}),style:{background:t?"#1f1f1f":"#fff",height:X?"500px":"350px"},children:(0,K.jsx)(k.Z,{data:ht,angleField:"value",colorField:"type",radius:.8,height:X?420:270})})}),(0,K.jsx)(g.Z,{xs:24,lg:8,children:(0,K.jsx)(x.Z,{title:(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,K.jsx)(F.Z,{style:{color:"#fa8c16"}}),(0,K.jsx)("span",{children:"åº§å¸­ç»©æ•ˆ"})]}),style:{background:t?"#1f1f1f":"#fff",height:X?"500px":"350px"},children:(0,K.jsx)(Z.Z,{data:pt,xField:"name",yField:"chats",color:"#1890ff",height:X?420:270})})}),(0,K.jsx)(g.Z,{xs:24,lg:8,children:(0,K.jsx)(x.Z,{title:(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,K.jsx)(b.Z,{style:{color:"#13c2c2"}}),(0,K.jsx)("span",{children:"åº§å¸­çŠ¶æ€"})]}),style:{background:t?"#1f1f1f":"#fff",height:X?"500px":"350px"},children:(0,K.jsx)(m.Z,{dataSource:yt,renderItem:function(t){return(0,K.jsx)(m.Z.Item,{children:(0,K.jsx)(m.Z.Item.Meta,{avatar:(0,K.jsx)(v.Z,{status:Wt[t.status],dot:!0,children:(0,K.jsx)(M.Z,{style:{backgroundColor:"#1890ff"},children:t.avatar})}),title:(0,K.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,K.jsx)("span",{children:t.name}),(0,K.jsx)(u.Z,{color:Wt[t.status],children:Tt[t.status]})]}),description:(0,K.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[(0,K.jsxs)("div",{children:["å¤„ç†ä¼šè¯: ",t.chats," ä¸ª"]}),(0,K.jsxs)("div",{children:["æœ€åŽæ´»è·ƒ: ",t.lastActive]})]})})})},style:{maxHeight:X?420:270,overflowY:"auto"}})})})]}),(0,K.jsx)(f.Z,{gutter:[16,16],style:{marginTop:16},children:(0,K.jsx)(g.Z,{span:24,children:(0,K.jsx)(x.Z,{title:(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,K.jsx)(U.Z,{style:{color:"#eb2f96"}}),(0,K.jsx)("span",{children:"ç³»ç»ŸçŠ¶æ€"})]}),style:{background:t?"#1f1f1f":"#fff"},children:(0,K.jsxs)(f.Z,{gutter:[16,16],children:[(0,K.jsx)(g.Z,{xs:24,md:8,children:(0,K.jsx)(y.Z,{message:"ç³»ç»Ÿè¿è¡Œæ­£å¸¸",description:"æ‰€æœ‰æœåŠ¡è¿è¡Œæ­£å¸¸ï¼Œæ— å¼‚å¸¸å‘Šè­¦",type:"success",showIcon:!0,icon:(0,K.jsx)(E.Z,{})})}),(0,K.jsx)(g.Z,{xs:24,md:8,children:(0,K.jsx)(y.Z,{message:"å“åº”æ—¶é—´æ­£å¸¸",description:"å½“å‰å¹³å‡å“åº”æ—¶é—´: ".concat(ot.avgResponseTime,"ç§’"),type:"info",showIcon:!0,icon:(0,K.jsx)(w.Z,{})})}),(0,K.jsx)(g.Z,{xs:24,md:8,children:(0,K.jsx)(y.Z,{message:"ç³»ç»Ÿè´Ÿè½½",description:"å½“å‰ç³»ç»Ÿè´Ÿè½½: ".concat(ot.systemLoad,"%"),type:ot.systemLoad>80?"warning":"info",showIcon:!0,icon:(0,K.jsx)(W.Z,{})})})]})})})}),i&&(0,K.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:(0,K.jsx)(j.Z,{size:"large"})})]})}},84065:function(t,e,n){n.d(e,{E:function(){return d}});var a=n(73193),o=n.n(a),s=n(76711),r=n.n(s),i=n(2622),l=n(16894),c=n(45034),u=n(47401),d=(0,l.Ue)()((0,c.mW)((0,c.tJ)((0,u.n)((function(t,e){return{agentResult:{data:{content:[]}},currentAgent:{uid:"",orgUid:""},insertAgent:function(e){t((function(t){t.agentResult.data.content.unshift(e)}))},updateAgent:function(e){t((function(t){var n=t.agentResult.data.content,a=n.findIndex((function(t){return t.uid===e.uid}));-1!==a?n[a]=e:console.warn("Agent with uid ".concat(e.uid," not found."))}))},setAgentResult:function(n){var a;(t({agentResult:n}),""===e().currentAgent.uid)&&((null===(a=n.data)||void 0===a||null===(a=a.content)||void 0===a?void 0:a.length)>0&&t({currentAgent:n.data.content[0]}))},setCurrentAgent:function(n){var a=e().agentResult.data.content,s=a.findIndex((function(t){return t.uid===n.uid}));if(-1!==s){var i=[].concat(r()(a.slice(0,s)),[n],r()(a.slice(s+1))),l=o()(o()({},e().agentResult),{},{data:{content:i}});t({agentResult:l,currentAgent:n})}else console.warn("Agent with the specified uid not found."),t({currentAgent:n})},deleteCurrentAgent:function(n){var a=e().agentResult.data.content,s=a.findIndex((function(t){return t.uid===n}));-1!==s?t({agentResult:o()(o()({},e().agentResult),{},{data:{content:[].concat(r()(a.slice(0,s)),r()(a.slice(s+1)))}})}):console.warn("Agent not found in cache:",n),e().currentAgent.uid===n&&t({currentAgent:{uid:"",orgUid:""}})},deleteAgentCache:function(){return t({},!0)}}})),{name:i.zzK})))},68279:function(t,e,n){n.d(e,{$:function(){return d}});var a=n(73193),o=n.n(a),s=n(76711),r=n.n(s),i=n(2622),l=n(16894),c=n(45034),u=n(47401),d=(0,l.Ue)()((0,c.mW)((0,c.tJ)((0,u.n)((function(t,e){return{workgroupResult:{data:{content:[]}},currentWorkgroup:{uid:"",nickname:"",avatar:"",description:"",orgUid:""},insertWorkgroup:function(e){t((function(t){t.workgroupResult.data.content.unshift(e)}))},updateWorkgroup:function(e){t((function(t){var n=t.workgroupResult.data.content,a=n.findIndex((function(t){return t.uid===e.uid}));-1!==a?n[a]=e:console.warn("Workgroup with uid ".concat(e.uid," not found."))}))},deleteWorkgroup:function(e){t((function(t){var n=t.workgroupResult.data.content,a=n.findIndex((function(t){return t.uid===e.uid}));-1!==a?n.splice(a,1):console.warn("Workgroup with uid ".concat(e.uid," not found."))}))},setWorkgroupResult:function(n){var a;(t({workgroupResult:n}),""===e().currentWorkgroup.uid)&&((null===(a=n.data)||void 0===a||null===(a=a.content)||void 0===a?void 0:a.length)>0&&t({currentWorkgroup:n.data.content[0]}))},setCurrentWorkgroup:function(n){var a=e().workgroupResult.data.content,s=a.findIndex((function(t){return t.uid===n.uid}));if(-1!==s){var i=[].concat(r()(a.slice(0,s)),[n],r()(a.slice(s+1))),l=o()(o()({},e().workgroupResult),{},{data:{content:i}});t({workgroupResult:l,currentWorkgroup:n})}else console.warn("Workgroup with the specified uid not found."),t({currentWorkgroup:n})},deleteCurrentWorkgroup:function(n){var a=e().workgroupResult.data.content,s=a.findIndex((function(t){return t.uid===n}));-1!==s?t({workgroupResult:o()(o()({},e().workgroupResult),{},{data:{content:[].concat(r()(a.slice(0,s)),r()(a.slice(s+1)))}})}):console.warn("Workgroup not found in cache:",n),e().currentWorkgroup.uid===n&&t({currentWorkgroup:{uid:"",orgUid:""}})},deleteWorkgroupCache:function(){return t({},!0)}}})),{name:i.b6l})))}}]);