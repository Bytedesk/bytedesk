"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[3187],{82669:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(11757),o=n(44194),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},a=n(54183),u=function(e,t){return o.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var l=o.forwardRef(u)},4499:function(e,t,n){var r=n(42601),o=n(17082),i=n(73457),a=n(46015),u=n(57178),l=n(98036),s=n(36490),c=n(44194),d=n(87413),f=n(31549),p=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],h="text",v=function(e){var t=(0,a.Z)(e.open||!1,{value:e.open,onChange:e.onOpenChange}),n=(0,r.Z)(t,2),i=n[0],s=n[1];return(0,f.jsx)(u.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(t){var n,r=t.getFieldValue(e.name||[]);return(0,f.jsx)(l.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return s(e)},content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[null===(n=e.statusRender)||void 0===n?void 0:n.call(e,r),e.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:e.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},e.popoverProps),{},{open:i,children:e.children}))}})},g=function(e){var t=e.fieldProps,n=e.proFieldProps,r=(0,i.Z)(e,p);return(0,f.jsx)(d.Z,(0,o.Z)({valueType:h,fieldProps:t,filedConfig:{valueType:h},proFieldProps:n},r))};g.Password=function(e){var t=e.fieldProps,n=e.proFieldProps,a=(0,i.Z)(e,m),u=(0,c.useState)(!1),l=(0,r.Z)(u,2),p=l[0],g=l[1];return null!=t&&t.statusRender&&a.name?(0,f.jsx)(v,{name:a.name,statusRender:null==t?void 0:t.statusRender,popoverProps:null==t?void 0:t.popoverProps,strengthText:null==t?void 0:t.strengthText,open:p,onOpenChange:g,children:(0,f.jsx)("div",{children:(0,f.jsx)(d.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,s.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(e){var n;null==t||null===(n=t.onBlur)||void 0===n||n.call(t,e),g(!1)},onClick:function(e){var n;null==t||null===(n=t.onClick)||void 0===n||n.call(t,e),g(!0)}}),proFieldProps:n,filedConfig:{valueType:h}},a))})}):(0,f.jsx)(d.Z,(0,o.Z)({valueType:"password",fieldProps:t,proFieldProps:n,filedConfig:{valueType:h}},a))},g.displayName="ProFormComponent",t.Z=g},32350:function(e,t,n){var r=n(17082),o=n(73457),i=n(44194),a=n(87413),u=n(31549),l=["fieldProps","proFieldProps"],s=function(e,t){var n=e.fieldProps,i=e.proFieldProps,s=(0,o.Z)(e,l);return(0,u.jsx)(a.Z,(0,r.Z)({ref:t,valueType:"textarea",fieldProps:n,proFieldProps:i},s))};t.Z=i.forwardRef(s)},81924:function(e,t,n){n.d(t,{E9:function(){return d},Rd:function(){return g},fA:function(){return p},ul:function(){return h}});var r=n(90819),o=n.n(r),i=n(73193),a=n.n(i),u=n(89933),l=n.n(u),s=n(55735),c=n(30921);function d(e){return f.apply(this,arguments)}function f(){return(f=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/query/org",{method:"GET",params:a()(a()({},t),{},{client:s.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/create",{method:"POST",data:a()(a()({},t),{},{client:s.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/update",{method:"POST",data:a()(a()({},t),{},{client:s.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return R.apply(this,arguments)}function R(){return(R=l()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/role/delete",{method:"POST",data:a()(a()({},t),{},{client:s.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},80508:function(e,t,n){n.d(t,{Z:function(){return T}});var r=n(73193),o=n.n(r),i=n(90819),a=n.n(i),u=n(89933),l=n.n(u),s=n(45332),c=n.n(s),d=n(78488),f=n(44194),p=n(81924),m=n(40612),h=n(86803),v=n(30921),g=n(53530),R=n(27487),y=n(75365),P=n(9452),x=n(23864),w=n(76750),Z=n(15722),C=n(82669),b=n(55735),j=n(69169),k=n(4499),S=n(32350),M=n(57178),O=n(31549),F=function(e){var t=e.open,n=e.isSuper,r=e.isEdit,o=e.role,i=e.onCancel,u=e.onSubmit,s=M.Z.useForm(),d=c()(s,1)[0],p=(0,v.useIntl)(),R=(0,m.u)((function(e){return e.currentOrg}));(0,f.useEffect)((function(){r&&o?d.setFieldsValue({uid:o.uid,name:o.name,description:o.description}):d.resetFields()}),[r,o]);var y=function(){d.validateFields().then(function(){var e=l()(a()().mark((function e(t){var i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={uid:r?null==o?void 0:o.uid:"",name:t.name,description:t.description,authorityUids:[],orgUid:null==R?void 0:R.uid,level:n?b.Hxq:b.whQ},u(i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Failed:",e),h.yw.error(p.formatMessage({id:"role.message.operation.failed"}))}))};return(0,O.jsx)(g.Z,{title:p.formatMessage({id:r?"role.edit.title":"role.create.title"}),open:t,forceRender:!0,onOk:y,onCancel:i,children:(0,O.jsxs)(j.A,{form:d,name:"roleForm",style:{maxWidth:400},submitter:{render:function(){return null}},children:[(0,O.jsx)(k.Z,{label:p.formatMessage({id:"role.name"}),name:"name",rules:[{required:!0,message:p.formatMessage({id:"role.name.required"})}],fieldProps:{onPressEnter:function(){d.validateFields(["description"]).then((function(){y()}))}}}),(0,O.jsx)(S.Z,{label:p.formatMessage({id:"role.description"}),name:"description",rules:[{required:!0,message:p.formatMessage({id:"role.description.required"})}],fieldProps:{onPressEnter:function(){y()},autoSize:{minRows:2,maxRows:6}}})]})})},T=function(e){var t=e.isSuper,n=(0,v.useIntl)(),r=(0,x.Z)().isDarkMode,i=g.Z.useModal(),u=c()(i,2),s=u[0],j=u[1],k=(0,w.Z)().translateString,S=(0,f.useState)(!1),M=c()(S,2),T=M[0],E=M[1],I=(0,f.useState)(!1),q=c()(I,2),U=q[0],A=q[1],V=(0,m.u)((function(e){return e.currentOrg})),z=(0,d.Z)((function(e){return{roleResult:e.roleResult,roleResultPlatform:e.roleResultPlatform,setRoleResult:e.setRoleResult,setRoleResultPlatform:e.setRoleResultPlatform,insertRole:e.insertRole,insertRolePlatform:e.insertRolePlatform,upgradeRole:e.upgradeRole,upgradeRolePlatform:e.upgradeRolePlatform,currentRole:e.currentRole,currentRolePlatform:e.currentRolePlatform,removeRole:e.removeRole,removeRolePlatform:e.removeRolePlatform,setCurrentRole:e.setCurrentRole,setCurrentRolePlatform:e.setCurrentRolePlatform}})),N=z.roleResult,W=z.roleResultPlatform,H=z.setRoleResult,B=z.setRoleResultPlatform,G=z.insertRole,$=z.insertRolePlatform,_=z.upgradeRole,L=z.upgradeRolePlatform,Q=z.removeRole,D=z.removeRolePlatform,J=z.currentRole,K=z.currentRolePlatform,Y=z.setCurrentRole,X=z.setCurrentRolePlatform,ee=t?K:J,te=function(e){return[b.jGk,b.w7Z,b.nGQ,b.gJI].includes(null==e?void 0:e.uid)||!0===(null==e?void 0:e.system)},ne=function(){var e=l()(a()().mark((function e(){var r,o;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.yw.loading(n.formatMessage({id:"loading"})),r={pageNumber:0,pageSize:100,orgUid:t?"":null==V?void 0:V.uid,level:t?b.Hxq:b.whQ},e.next=4,(0,p.E9)(r);case 4:o=e.sent,console.log("queryRolesByOrg response: ",o.data,r),200===o.code?(h.yw.destroy(),t?(B(o),""===(null==K?void 0:K.uid)&&o.data.content.length>0&&X(o.data.content[0])):(H(o),""===(null==J?void 0:J.uid)&&o.data.content.length>0&&Y(o.data.content[0]))):(h.yw.destroy(),h.yw.error(o.message));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){ne()}),[]);var re=function(){var e=l()(a()().mark((function e(r){var i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.yw.loading(n.formatMessage({id:"creating"})),e.next=3,(0,p.fA)(o()({},r));case 3:200===(i=e.sent).code?(h.yw.destroy(),h.yw.success(n.formatMessage({id:"create.success"})),E(!1),t?($(i.data),X(i.data)):(G(i.data),Y(i.data))):(h.yw.destroy(),h.yw.error(i.message));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=l()(a()().mark((function e(r){var o,i,u;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={uid:null==r?void 0:r.uid,name:null==r?void 0:r.name,description:null==r?void 0:r.description,authorityUids:(null==r||null===(o=r.authorities)||void 0===o?void 0:o.map((function(e){return e.uid})))||[],system:t},h.yw.loading(n.formatMessage({id:"updating"})),e.next=4,(0,p.ul)(i);case 4:200===(u=e.sent).code?(h.yw.destroy(),h.yw.success(n.formatMessage({id:"update.success"})),t?L(u.data):_(u.data),E(!1)):(h.yw.destroy(),h.yw.error(u.message));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=l()(a()().mark((function e(r){var o;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.yw.loading(n.formatMessage({id:"deleting"})),e.next=3,(0,p.Rd)(r);case 3:200===(o=e.sent).code?(h.yw.destroy(),h.yw.success(n.formatMessage({id:"delete.success"})),t?D(r.uid):Q(r.uid),E(!1),ne()):(h.yw.destroy(),h.yw.error(o.message));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=t?W.data.content:N.data.content;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(R.Z,{gap:"small",wrap:"wrap",style:{padding:"10px"},children:[(0,O.jsx)(y.ZP,{type:"primary",size:"small",icon:(0,O.jsx)(C.Z,{}),onClick:function(){A(!1),E(!0)},children:n.formatMessage({id:"create"})}),(0,O.jsx)(y.ZP,{size:"small",onClick:ne,children:n.formatMessage({id:"refresh"})}),!te(ee)&&(null==ee?void 0:ee.uid)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(y.ZP,{size:"small",onClick:function(){te(ee)?h.yw.error(n.formatMessage({id:"role.system.noedit"})):(A(!0),E(!0))},children:n.formatMessage({id:"edit"})}),(0,O.jsx)(y.ZP,{onClick:function(){return function(e){te(e)?h.yw.error(n.formatMessage({id:"role.system.nodelete"})):s.confirm({title:n.formatMessage({id:"deleteTip"}),icon:(0,O.jsx)(Z.Z,{}),content:"".concat(n.formatMessage({id:"deleteAffirm"}),"【").concat(k(e.name),"】？"),onOk:function(){ie(e)},okText:n.formatMessage({id:"ok"}),cancelText:n.formatMessage({id:"cancel"})})}(ee)},size:"small",style:{float:"right"},danger:!0,children:n.formatMessage({id:"delete"})})]})]}),(0,O.jsx)(P.Z,{dataSource:ae,renderItem:function(e){return(0,O.jsx)(P.Z.Item,{style:{backgroundColor:(null==ee?void 0:ee.uid)===e.uid?r?"#333333":"#dddddd":void 0,cursor:"pointer"},onClick:function(){return n=e,void(t?X(n):Y(n));var n},children:(0,O.jsx)(P.Z.Item.Meta,{style:{marginLeft:"10px"},title:(0,O.jsx)(O.Fragment,{children:k(e.name)}),description:k(e.description)})},e.uid)}}),T&&(0,O.jsx)(F,{open:T,isSuper:t,isEdit:U,role:ee,onCancel:function(){E(!1)},onSubmit:function(e){U?oe(e):re(e)}}),j]})}},15008:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(44194),o=n(8247),i=n(73193),a=n.n(i),u=n(76711),l=n.n(u),s=n(90819),c=n.n(s),d=n(89933),f=n.n(d),p=n(45332),m=n.n(p),h=n(86803),v=n(55735),g=n(30921);function R(e){return y.apply(this,arguments)}function y(){return(y=f()(c()().mark((function e(t){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,g.request)("/api/v1/authority/query/org",{method:"GET",params:a()(a()({},t),{},{client:v.bVn})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=n(76750),x=n(78488),w=n(62673),Z=n(99749),C=n(81924),b=n(31549),j={width:"20%",textAlign:"center"},k=function(e){var t=e.isSuper,n=(0,g.useIntl)(),o=(0,P.Z)().translateString,i=(0,r.useState)({uid:""}),u=m()(i,2),s=u[0],d=u[1],p=(0,x.Z)((function(e){return{upgradeRole:e.upgradeRole,currentRole:e.currentRole,setCurrentRole:e.setCurrentRole,currentRolePlatform:e.currentRolePlatform,setCurrentRolePlatform:e.setCurrentRolePlatform}})),y=p.upgradeRole,k=p.currentRole,S=p.setCurrentRole,M=p.currentRolePlatform,O=p.setCurrentRolePlatform,F=(0,r.useState)([]),T=m()(F,2),E=T[0],I=T[1],q=(0,r.useState)(k.authorities),U=m()(q,2),A=U[0],V=U[1],z=function(){var e=f()(c()().mark((function e(){var t,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pageNumber:0,pageSize:100,level:v.Hxq},e.next=3,R(t);case 3:n=e.sent,console.log("getAuthorities response",n),200===n.code?I(n.data.content):(console.log("getAuthorities error",n),h.yw.error(n.message));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=E.reduce((function(e,t){var n=t.name.split("_"),r=m()(n,1)[0];return e[r]||(e[r]=[]),e[r].push(t),e}),{});(0,r.useEffect)((function(){t?(d(M),V(M.authorities)):(d(k),V(k.authorities))}),[k,M,t]),(0,r.useEffect)((function(){z()}),[]);var W=function(e){return e.some((function(e){return A.some((function(t){return t.name===e.name}))}))},H=function(){var e=f()(c()().mark((function e(t){var r,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={uid:t.uid,name:t.name,description:t.description,authorityUids:t.authorities.map((function(e){return e.uid}))},console.log("handleUpdateRole authority:",r),h.yw.loading(n.formatMessage({id:"updating"})),e.next=5,(0,C.ul)(r);case 5:o=e.sent,console.log("updateRole:",o),200===o.code?(h.yw.destroy(),h.yw.success(n.formatMessage({id:"update.success",defaultMessage:"update success"})),y(o.data)):(h.yw.destroy(),h.yw.error(o.message));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,b.jsx)(b.Fragment,{children:Object.keys(N).map((function(e){return(0,b.jsx)(w.Z,{title:(0,b.jsx)(Z.Z,{checked:(n=N[e],n.every((function(e){return A.some((function(t){return t.name===e.name}))}))),indeterminate:W(N[e]),onChange:function(n){return function(e,n){var r,o=N[e];n?(r=l()(A),o.forEach((function(e){r.some((function(t){return t.name===e.name}))||r.push(e)}))):r=A.filter((function(e){return!o.some((function(t){return t.name===e.name}))})),V(r),t?(O(a()(a()({},M),{},{authorities:r})),H(a()(a()({},M),{},{authorities:r}))):(S(a()(a()({},k),{},{authorities:r})),H(a()(a()({},k),{},{authorities:r})))}(e,n.target.checked)},disabled:(null==s?void 0:s.system)||""===(null==s?void 0:s.uid),children:o(e)}),style:{marginTop:10},children:N[e].map((function(e){return(0,b.jsx)(w.Z.Grid,{style:j,children:(0,b.jsx)(Z.Z,{checked:null==A?void 0:A.some((function(t){return t.name===e.name})),disabled:!0,children:o(e.name)})},e.name)}))},e);var n}))})},S=function(e){var t=e.isSuper,n=[{key:"authority",label:"权限",children:(0,b.jsx)(k,{isSuper:t})}];return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(o.Z,{defaultActiveKey:"1",items:n,onChange:function(e){console.log(e)}})})}},96865:function(e,t,n){var r=n(23864);t.Z=function(){var e=(0,r.Z)().isDarkMode;return{leftSiderStyle:{borderRight:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"},leftSiderWidth:250,headerStyle:{background:e?"#141414":"#fff"},rightSiderStyle:{borderLeft:e?"1px solid #333":"1px solid #ccc",background:e?"#141414":"#f5f5f5"},contentStyle:{minHeight:120,background:e?"#141414":"#f5f5f5",height:"100vh",overflow:"auto"}}}},76750:function(e,t,n){var r=n(55735),o=n(65461),i=n(30921);t.Z=function(){var e=(0,i.useIntl)();return{translateString:function(t){return null==t?t:t&&(null!=t&&t.startsWith(r.VoP)||null!=t&&t.startsWith("ROLE_"))?e.formatMessage({id:t,defaultMessage:t}):t},translateStringTranct:function(t){return null==t?t:null!=t&&t.startsWith(r.VoP)||null!=t&&t.startsWith("ROLE_")?(0,o.aS)(e.formatMessage({id:t,defaultMessage:t}),10):(0,o.aS)(t,10)}}}},78488:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(73193),o=n.n(r),i=n(76711),a=n.n(i),u=n(55735),l=n(44435),s=n(83642),c=n(83890),d=(0,l.Ue)()((0,s.mW)((0,s.tJ)((0,c.n)((function(e,t){return{currentRole:{uid:"",orgUid:"",authorities:[]},currentRolePlatform:{uid:"",orgUid:"",authorities:[]},roleResult:{data:{content:[]}},roleResultPlatform:{data:{content:[]}},insertRole:function(t){e((function(e){e.roleResult.data.content.unshift(t)}))},insertRolePlatform:function(t){e((function(e){e.roleResultPlatform.data.content.unshift(t)}))},upgradeRole:function(t){e((function(e){var n=e.roleResult.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Role with uid ".concat(t.uid," not found."))}))},upgradeRolePlatform:function(t){e((function(e){var n=e.roleResultPlatform.data.content,r=n.findIndex((function(e){return e.uid===t.uid}));-1!==r?n[r]=t:console.warn("Role with uid ".concat(t.uid," not found."))}))},setRoleResult:function(n){var r;(e({roleResult:n}),""===t().currentRole.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentRole:n.data.content[0]}))},setRoleResultPlatform:function(n){var r;(e({roleResultPlatform:n}),""===t().currentRolePlatform.uid)&&((null===(r=n.data)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.length)>0&&e({currentRolePlatform:n.data.content[0]}))},setCurrentRole:function(n){var r=t().roleResult.data.content,i=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==i){var u=[].concat(a()(r.slice(0,i)),[n],a()(r.slice(i+1))),l=o()(o()({},t().roleResult),{},{data:{content:u}});e({roleResult:l,currentRole:n})}else console.warn("Role with the specified uid not found."),e({currentRole:n})},setCurrentRolePlatform:function(n){var r=t().roleResultPlatform.data.content,i=r.findIndex((function(e){return e.uid===n.uid}));if(-1!==i){var u=[].concat(a()(r.slice(0,i)),[n],a()(r.slice(i+1))),l=o()(o()({},t().roleResultPlatform),{},{data:{content:u}});e({roleResultPlatform:l,currentRolePlatform:n})}else console.warn("Role with the specified uid not found."),e({currentRolePlatform:n})},removeRole:function(n){var r=t().roleResult.data.content,i=r.findIndex((function(e){return e.uid===n}));-1!==i?e({roleResult:o()(o()({},t().roleResult),{},{data:{content:[].concat(a()(r.slice(0,i)),a()(r.slice(i+1)))}})}):console.warn("Role not found in cache:",n),t().currentRole.uid===n&&e({currentRole:{uid:"",orgUid:"",authorities:[]}})},removeRolePlatform:function(n){var r=t().roleResultPlatform.data.content,i=r.findIndex((function(e){return e.uid===n}));-1!==i?e({roleResult:o()(o()({},t().roleResult),{},{data:{content:[].concat(a()(r.slice(0,i)),a()(r.slice(i+1)))}})}):console.warn("Role not found in cache:",n),t().currentRolePlatform.uid===n&&e({currentRolePlatform:{uid:"",orgUid:"",authorities:[]}})},deleteRoleCache:function(){return e({},!0)}}})),{name:u.uaR})))},53530:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(18960),o=n(31695),i=n(27710),a=n(44194),u=n(51865),l=n.n(u),s=n(24255),c=n(43037),d=n(37167),f=n(30829),p=n(78660),m=n(59348),h=n(6750),v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var g=(0,c.i)((e=>{const{prefixCls:t,className:n,closeIcon:r,closable:o,type:i,title:u,children:c,footer:g}=e,R=v(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:y}=a.useContext(d.E_),P=y(),x=t||y("modal"),w=(0,f.Z)(P),[Z,C,b]=(0,h.ZP)(x,w),j=`${x}-confirm`;let k={};return k=i?{closable:null!=o&&o,title:"",footer:"",children:a.createElement(p.O,Object.assign({},e,{prefixCls:x,confirmPrefixCls:j,rootPrefixCls:P,content:c}))}:{closable:null==o||o,title:u,footer:null!==g&&a.createElement(m.$,Object.assign({},e)),children:c},Z(a.createElement(s.s,Object.assign({prefixCls:x,className:l()(C,`${x}-pure-panel`,i&&j,i&&`${j}-${i}`,n,b,w)},R,{closeIcon:(0,m.b)(x,r),closable:o},k)))})),R=n(75807);function y(e){return(0,r.ZP)((0,r.uW)(e))}const P=i.Z;P.useModal=R.Z,P.info=function(e){return(0,r.ZP)((0,r.cw)(e))},P.success=function(e){return(0,r.ZP)((0,r.vq)(e))},P.error=function(e){return(0,r.ZP)((0,r.AQ)(e))},P.warning=y,P.warn=y,P.confirm=function(e){return(0,r.ZP)((0,r.Au)(e))},P.destroyAll=function(){for(;o.Z.length;){const e=o.Z.pop();e&&e()}},P.config=r.ai,P._InternalPanelDoNotUseOrYouWillBeFired=g;var x=P}}]);