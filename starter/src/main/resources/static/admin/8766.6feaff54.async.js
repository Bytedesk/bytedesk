"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[8766],{66916:function(t,e,n){n.d(e,{$l:function(){return w},JT:function(){return k},Xd:function(){return T},gf:function(){return P},lg:function(){return d},lz:function(){return v},p0:function(){return f},s9:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),i=n.n(c),p=n(55735),s=n(41159);function f(t){return l.apply(this,arguments)}function l(){return(l=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/query/org",{method:"GET",params:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/create",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return y.apply(this,arguments)}function y(){return(y=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/create/prompt",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return b.apply(this,arguments)}function b(){return(b=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/update",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return g.apply(this,arguments)}function g(){return(g=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/update/avatar",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return q.apply(this,arguments)}function q(){return(q=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/update/prompt",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return x.apply(this,arguments)}function x(){return(x=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/update/kbUid",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return V.apply(this,arguments)}function V(){return(V=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/delete",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},99885:function(t,e,n){n.d(e,{Bv:function(){return A},L0:function(){return S},QB:function(){return k},RF:function(){return T},YO:function(){return P},YQ:function(){return U},Yg:function(){return w},kh:function(){return d},kv:function(){return v},pf:function(){return f},y:function(){return m}});var r=n(90819),a=n.n(r),u=n(73193),o=n.n(u),c=n(89933),i=n.n(c),p=n(55735),s=n(41159);function f(t){return l.apply(this,arguments)}function l(){return(l=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/query/org",{method:"GET",params:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return(h=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/create",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return y.apply(this,arguments)}function y(){return(y=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/update",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return b.apply(this,arguments)}function b(){return(b=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/delete",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return g.apply(this,arguments)}function g(){return(g=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/enable",{method:"POST",data:{uid:e.uid,enabled:e.enabled,client:p.bVn}}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return q.apply(this,arguments)}function q(){return(q=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/deleteAll",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return x.apply(this,arguments)}function x(){return(x=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/updateIndex",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return V.apply(this,arguments)}function V(){return(V=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/updateVectorIndex",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return O.apply(this,arguments)}function O(){return(O=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/updateAllIndex",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t){return Y.apply(this,arguments)}function Y(){return(Y=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/faq/updateAllVectorIndex",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t){return D.apply(this,arguments)}function D(){return(D=i()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("/api/v1/robot/agent/text/faq-similar-questions",{method:"POST",data:o()(o()({},e),{},{client:p.bVn})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},51990:function(t,e,n){var r=n(73193),a=n.n(r),u=n(84176),o=n.n(u),c=n(86803),i=n(23864),p=n(36310),s=n(55735),f=n(41159),l=n(82421),d=(n(27015),n(28977)),h=n.n(d),m=n(44194),y=n(31549),w=["placeholder","defaultValue","value","style","toolbarKeys","maxLength","onChange","options"];e.Z=function(t){var e=t.placeholder,n=t.defaultValue,r=t.value,u=t.style,d=t.toolbarKeys,b=t.maxLength,v=t.onChange,g=(t.options,o()(t,w)),k=(0,f.useIntl)(),q=(0,i.Z)().isDarkMode,T=(0,m.useRef)(null),x=(0,m.useRef)(null);return(0,m.useEffect)((function(){if(T.current){if(!x.current){var t=new l.cW({element:T.current,theme:q?"dark":"light",placeholder:e,content:n,toolbarKeys:d,image:{uploadUrl:(0,p.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},uploader:function(t,e,n,r){console.log("uploader:",t,e,n,r);var u=h()(new Date).format("YYYYMMDDHHmmss")+"_"+t.name,o=new FormData;return o.append("file",t),o.append("fileName",u),o.append("fileType",t.type),o.append("isAvatar","false"),o.append("kbType",s.QPQ),o.append("categoryUid",""),o.append("kbUid",""),o.append("orgUid",""),o.append("client",s.bVn),new Promise((function(t,r){fetch(e,{method:"POST",headers:a()({Accept:"application/json"},n),body:o}).then((function(t){return t.json()})).then((function(e){if(console.log("upload data:",e),200===e.code){c.yw.destroy(),c.yw.success("".concat(u," 上传成功"));var n={errorCode:0,data:{src:e.data.fileUrl,alt:u}};t(n)}else c.yw.destroy(),c.yw.error("".concat(u," 上传失败"))})).catch((function(t){r(t)}))}))}},video:{uploadUrl:(0,p.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},uploader:function(t,e,n,r){console.log("uploader:",t,e,n,r);var u=h()(new Date).format("YYYYMMDDHHmmss")+"_"+t.name,o=new FormData;return o.append("file",t),o.append("fileName",u),o.append("fileType",t.type),o.append("isAvatar","false"),o.append("kbType",s.QPQ),o.append("categoryUid",""),o.append("kbUid",""),o.append("client",s.bVn),new Promise((function(t,r){fetch(e,{method:"POST",headers:a()({Accept:"application/json"},n),body:o}).then((function(t){return t.json()})).then((function(e){if(console.log("upload data:",e),200===e.code){c.yw.destroy(),c.yw.success("".concat(u," 上传成功"));var n={errorCode:0,data:{src:e.data.fileUrl,poster:"https://www.weiyuai.cn/avatars/video_poster.png"}};t(n)}else c.yw.destroy(),c.yw.error("".concat(u," 上传失败"))})).catch((function(t){r(t)}))}))}},attachment:{uploadUrl:(0,p.M$)(),uploadFormName:"file",uploadHeaders:{Authorization:"Bearer "+localStorage.getItem(s.LA8)},uploader:function(t,e,n,r){console.log("uploader:",t,e,n,r);var u=h()(new Date).format("YYYYMMDDHHmmss")+"_"+t.name,o=new FormData;return o.append("file",t),o.append("fileName",u),o.append("fileType",t.type),o.append("isAvatar","false"),o.append("kbType",s.QPQ),o.append("categoryUid",""),o.append("kbUid",""),o.append("client",s.bVn),new Promise((function(t,r){fetch(e,{method:"POST",headers:a()({Accept:"application/json"},n),body:o}).then((function(t){return t.json()})).then((function(e){if(console.log("upload data:",e),200===e.code){c.yw.destroy(),c.yw.success("".concat(u," 上传成功"));var n={errorCode:0,data:{href:e.data.fileUrl,fileName:u}};t(n)}else c.yw.destroy(),c.yw.error("".concat(u," 上传失败"))})).catch((function(t){r(t)}))}))}},onChange:function(t){var e=t.getText(),n=e.length;if(console.log("currentLength:",n,b),n>b){c.yw.warning(k.formatMessage({id:"character.limit.reached"},{limit:b})||"已达到 ".concat(b," 字符限制"));var r,a,u=e.substring(0,b);if(setTimeout((function(){x.current&&x.current.setContent(u)}),0),"function"==typeof v)v((null===(r=x.current)||void 0===r?void 0:r.getHtml())||"",(null===(a=x.current)||void 0===a?void 0:a.getMarkdown())||"",u)}else"function"==typeof v&&v(t.getHtml(),t.getMarkdown(),t.getText())}});x.current=t}return function(){x.current&&(x.current.destroy(),x.current=null)}}}),[]),(0,m.useEffect)((function(){x.current&&r!==x.current.getHtml()&&x.current.setContent(r||"")}),[r]),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",a()(a()({ref:T},g),{},{style:a()({height:"100%"},u)}))})}}}]);