"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9995],{19971:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var i=s(30758);const d={},r=i.createContext(d);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},54787:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"provider/model_embedding","title":"\u5fae\u8bed\u5411\u91cf\u6a21\u578b\u914d\u7f6e\u6307\u5357","description":"\u672c\u9875\u4ecb\u7ecd\u5982\u4f55\u4e3a\u5fae\u8bed\u7cfb\u7edf\u914d\u7f6e\u5411\u91cf\uff08Embedding\uff09\u6a21\u578b\uff0c\u9002\u7528\u4e8e\u77e5\u8bc6\u5e93\u3001\u667a\u80fd\u95ee\u7b54\u7b49\u573a\u666f\u3002\u63a8\u8350\u6309\u9700\u9009\u62e9\u5408\u9002\u7684\u6a21\u578b\u548c\u670d\u52a1\u5546\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/provider/model_embedding.md","sourceDirName":"provider","slug":"/provider/model_embedding","permalink":"/docs/zh-CN/docs/provider/model_embedding","draft":false,"unlisted":false,"editUrl":"https://github.com/bytedesk/bytedesk-docs/blob/main/i18n/zh-CN/docusaurus-plugin-content-docs/current/provider/model_embedding.md","tags":[],"version":"current","lastUpdatedBy":"jack ning","lastUpdatedAt":1761279339000,"sidebarPosition":22,"frontMatter":{"sidebar_label":"\u5411\u91cf\u6a21\u578b\u914d\u7f6e","sidebar_position":22},"sidebar":"tutorialSidebar","previous":{"title":"\u6587\u672c\u6a21\u578b\u914d\u7f6e","permalink":"/docs/zh-CN/docs/provider/model_text"},"next":{"title":"\u89c6\u89c9\u6a21\u578b\u914d\u7f6e","permalink":"/docs/zh-CN/docs/provider/model_vision"}}');var d=s(86070),r=s(19971);const l={sidebar_label:"\u5411\u91cf\u6a21\u578b\u914d\u7f6e",sidebar_position:22},a="\u5fae\u8bed\u5411\u91cf\u6a21\u578b\u914d\u7f6e\u6307\u5357",c={},o=[{value:"\u4e00\u3001\u9009\u62e9\u5411\u91cf\u6a21\u578b",id:"\u4e00\u9009\u62e9\u5411\u91cf\u6a21\u578b",level:2},{value:"\u4e8c\u3001\u5404\u6a21\u578b\u8be6\u7ec6\u914d\u7f6e",id:"\u4e8c\u5404\u6a21\u578b\u8be6\u7ec6\u914d\u7f6e",level:2},{value:"1. Ollama\uff08\u672c\u5730\u90e8\u7f72\uff0c\u514d\u8d39\uff09",id:"1-ollama\u672c\u5730\u90e8\u7f72\u514d\u8d39",level:3},{value:"2. \u667a\u8c31AI\uff08zhipuai\uff0c\u4e91\u670d\u52a1\uff0c\u9700API Key\uff09",id:"2-\u667a\u8c31aizhipuai\u4e91\u670d\u52a1\u9700api-key",level:3},{value:"3. \u963f\u91cc\u4e91\u767e\u70bc\uff08dashscope\uff0c\u4e91\u670d\u52a1\uff0c\u9700API Key\uff09",id:"3-\u963f\u91cc\u4e91\u767e\u70bcdashscope\u4e91\u670d\u52a1\u9700api-key",level:3},{value:"\u4e09\u3001\u5411\u91cf\u6570\u636e\u5e93\u914d\u7f6e",id:"\u4e09\u5411\u91cf\u6570\u636e\u5e93\u914d\u7f6e",level:2},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:2}];function t(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"\u5fae\u8bed\u5411\u91cf\u6a21\u578b\u914d\u7f6e\u6307\u5357",children:"\u5fae\u8bed\u5411\u91cf\u6a21\u578b\u914d\u7f6e\u6307\u5357"})}),"\n",(0,d.jsx)(n.p,{children:"\u672c\u9875\u4ecb\u7ecd\u5982\u4f55\u4e3a\u5fae\u8bed\u7cfb\u7edf\u914d\u7f6e\u5411\u91cf\uff08Embedding\uff09\u6a21\u578b\uff0c\u9002\u7528\u4e8e\u77e5\u8bc6\u5e93\u3001\u667a\u80fd\u95ee\u7b54\u7b49\u573a\u666f\u3002\u63a8\u8350\u6309\u9700\u9009\u62e9\u5408\u9002\u7684\u6a21\u578b\u548c\u670d\u52a1\u5546\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u4e00\u9009\u62e9\u5411\u91cf\u6a21\u578b",children:"\u4e00\u3001\u9009\u62e9\u5411\u91cf\u6a21\u578b"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"application.properties"})," \u6216\u73af\u5883\u53d8\u91cf\u4e2d\u914d\u7f6e\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u53ef\u9009\u9879\uff1anone\uff08\u5173\u95ed\uff09\u3001ollama\uff08\u672c\u5730\uff09\u3001zhipuai\uff08\u667a\u8c31AI\uff09\u3001dashscope\uff08\u963f\u91cc\u4e91\uff09\nspring.ai.model.embedding=zhipuai\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Docker \u73af\u5883\u53d8\u91cf\u5199\u6cd5\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"environment:\n  SPRING_AI_MODEL_EMBEDDING: zhipuai\n"})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5efa\u8bae"}),"\uff1a"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u672c\u5730\u5f00\u53d1\u53ef\u9009 ",(0,d.jsx)(n.code,{children:"ollama"}),"\uff0c\u65e0\u9700\u8054\u7f51\uff0c\u9002\u5408\u6d4b\u8bd5\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u751f\u4ea7\u73af\u5883\u63a8\u8350 ",(0,d.jsx)(n.code,{children:"zhipuai"})," \u6216 ",(0,d.jsx)(n.code,{children:"dashscope"}),"\uff0c\u9700\u7533\u8bf7API Key\u3002"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u4e8c\u5404\u6a21\u578b\u8be6\u7ec6\u914d\u7f6e",children:"\u4e8c\u3001\u5404\u6a21\u578b\u8be6\u7ec6\u914d\u7f6e"}),"\n",(0,d.jsx)(n.h3,{id:"1-ollama\u672c\u5730\u90e8\u7f72\u514d\u8d39",children:"1. Ollama\uff08\u672c\u5730\u90e8\u7f72\uff0c\u514d\u8d39\uff09"}),"\n",(0,d.jsx)(n.p,{children:"\u9002\u5408\u672c\u5730\u5f00\u53d1\u548c\u6d4b\u8bd5\uff0c\u65e0\u9700\u8054\u7f51\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Ollama \u672c\u5730\u670d\u52a1\u5730\u5740\uff0c\u9ed8\u8ba4\u7aef\u53e311434\uff08\u5982\u7528docker\u5efa\u8bae\u6539\u4e3a21434\uff09\nspring.ai.ollama.base-url=http://127.0.0.1:11434\nspring.ai.ollama.embedding.enabled=true\n# \u63a8\u8350\u4e2d\u6587\u573a\u666f\u7528BGE\u6a21\u578b\uff1a\u7ef4\u5ea61024\nspring.ai.ollama.embedding.options.model=bge-m3:latest\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Docker \u73af\u5883\u53d8\u91cf\u5199\u6cd5\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'environment:\n  SPRING_AI_OLLAMA_BASE_URL: http://127.0.0.1:11434\n  SPRING_AI_OLLAMA_EMBEDDING_ENABLED: "true"\n  SPRING_AI_OLLAMA_EMBEDDING_OPTIONS_MODEL: bge-m3:latest\n'})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["\u53c2\u8003\u6587\u6863\uff1a",(0,d.jsx)(n.a,{href:"https://docs.spring.io/spring-ai/reference/api/embeddings/ollama-embeddings.html",children:"Ollama\u5b98\u65b9"})]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"2-\u667a\u8c31aizhipuai\u4e91\u670d\u52a1\u9700api-key",children:"2. \u667a\u8c31AI\uff08zhipuai\uff0c\u4e91\u670d\u52a1\uff0c\u9700API Key\uff09"}),"\n",(0,d.jsxs)(n.p,{children:["\u9002\u5408\u4e2d\u6587\u573a\u666f\uff0c\u9700\u6ce8\u518c\u5e76",(0,d.jsx)(n.a,{href:"https://www.bigmodel.cn/usercenter/proj-mgmt/apikeys",children:"\u7533\u8bf7API Key"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"spring.ai.zhipuai.api-key=\u4f60\u7684APIKey\nspring.ai.zhipuai.embedding.enabled=true\n# \u63a8\u8350\u6a21\u578b\uff1aembedding-2\uff081024\u7ef4\u5ea6\uff09\nspring.ai.zhipuai.embedding.options.model=embedding-2\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Docker \u73af\u5883\u53d8\u91cf\u5199\u6cd5\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'environment:\n  SPRING_AI_ZHIPUAI_API_KEY: \u4f60\u7684APIKey\n  SPRING_AI_ZHIPUAI_EMBEDDING_ENABLED: "true"\n  SPRING_AI_ZHIPUAI_EMBEDDING_OPTIONS_MODEL: embedding-2\n'})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["\u53c2\u8003\u6587\u6863\uff1a",(0,d.jsx)(n.a,{href:"https://docs.spring.io/spring-ai/reference/api/embeddings/zhipuai-embeddings.html",children:"\u667a\u8c31AI\u5b98\u65b9"})]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"3-\u963f\u91cc\u4e91\u767e\u70bcdashscope\u4e91\u670d\u52a1\u9700api-key",children:"3. \u963f\u91cc\u4e91\u767e\u70bc\uff08dashscope\uff0c\u4e91\u670d\u52a1\uff0c\u9700API Key\uff09"}),"\n",(0,d.jsxs)(n.p,{children:["\u9002\u5408\u5927\u89c4\u6a21\u751f\u4ea7\u73af\u5883\uff0c\u652f\u6301\u591a\u79cdembedding\u6a21\u578b\u3002",(0,d.jsx)(n.a,{href:"https://bailian.console.aliyun.com/?apiKey=1#/api-key",children:"\u7533\u8bf7API Key"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"spring.ai.dashscope.api-key=\u4f60\u7684APIKey\nspring.ai.dashscope.enabled=true\nspring.ai.dashscope.base-url=https://dashscope.aliyuncs.com\nspring.ai.dashscope.embedding.enabled=true\n# \u63a8\u8350\u6a21\u578b\uff1atext-embedding-v1\uff08\u4e5f\u53ef\u9009v2/v3\uff09\uff0c\nspring.ai.dashscope.embedding.options.model=text-embedding-v1\n"})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"\u6ce8\u610f\uff1atext-embedding-v1 \u7ef4\u5ea61536\uff0c\u52a1\u5fc5\u5c06 elasticsearch.dimensions \u540c\u6b65\u8bbe\u7f6e\u4e3a 1536\uff0c\u5426\u5219\u68c0\u7d22\u5f02\u5e38\uff01"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Docker \u73af\u5883\u53d8\u91cf\u5199\u6cd5\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'environment:\n  SPRING_AI_DASHSCOPE_API_KEY: \u4f60\u7684APIKey\n  SPRING_AI_DASHSCOPE_ENABLED: "true"\n  SPRING_AI_DASHSCOPE_BASE_URL: https://dashscope.aliyuncs.com\n  SPRING_AI_DASHSCOPE_EMBEDDING_ENABLED: "true"\n  SPRING_AI_DASHSCOPE_EMBEDDING_OPTIONS_MODEL: text-embedding-v1\n'})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"\u6ce8\u610f\uff1atext-embedding-v1 \u7ef4\u5ea61536\uff0c\u52a1\u5fc5\u5c06 elasticsearch.dimensions \u540c\u6b65\u8bbe\u7f6e\u4e3a 1536\uff0c\u5426\u5219\u68c0\u7d22\u5f02\u5e38\uff01"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u4e09\u5411\u91cf\u6570\u636e\u5e93\u914d\u7f6e",children:"\u4e09\u3001\u5411\u91cf\u6570\u636e\u5e93\u914d\u7f6e"}),"\n",(0,d.jsx)(n.p,{children:"\u5411\u91cf\u6570\u636e\u5e93\u7528\u4e8e\u5b58\u50a8\u548c\u68c0\u7d22\u5411\u91cf\u6570\u636e\uff0c\u5e38\u7528 elasticsearch\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"spring.ai.vectorstore.type=elasticsearch\n# \u9700\u4e0e\u6240\u9009\u5411\u91cf\u6a21\u578b\u7684\u7ef4\u5ea6\u4e00\u81f4\uff08\u5982BGE/embedding-2\u7b49\u4e3a1024\uff0cdashscope\u7684text-embedding-v1\u4e3a1536\uff09\nspring.ai.vectorstore.elasticsearch.dimensions=1024\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Docker \u73af\u5883\u53d8\u91cf\u5199\u6cd5\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"environment:\n  SPRING_AI_VECTORSTORE_TYPE: elasticsearch\n  # \u9700\u4e0e\u6240\u9009\u5411\u91cf\u6a21\u578b\u7684\u7ef4\u5ea6\u4e00\u81f4\uff08\u5982BGE/embedding-2\u7b49\u4e3a1024\uff0cdashscope\u7684text-embedding-v1\u4e3a1536\uff09\n  SPRING_AI_VECTORSTORE_ELASTICSEARCH_DIMENSIONS: 1024\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Q: \u5982\u4f55\u9009\u62e9\u6a21\u578b\uff1f"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u672c\u5730\u5f00\u53d1\u7528Ollama\uff0c\u751f\u4ea7\u63a8\u8350zhipuai\u6216dashscope\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Q: \u7ef4\u5ea6\u600e\u4e48\u8bbe\u7f6e\uff1f"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u9700\u4e0e\u6240\u9009embedding\u6a21\u578b\u4e00\u81f4\uff0c\u5e38\u89c1\u4e3a1024\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Q: API Key\u5982\u4f55\u83b7\u53d6\uff1f"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u89c1\u5404\u4e91\u670d\u52a1\u5546\u63a7\u5236\u53f0\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.li,{children:"\u6ce8\u610f\uff1atext-embedding-v1 \u7ef4\u5ea6\u4e3a1536\uff0c\u9700\u540c\u6b65\u8bbe\u7f6e\u3002"}),"\n",(0,d.jsx)(n.li,{children:"\u5f53\u5f00\u542f\u4e00\u4e2aembedding\u6a21\u578b\u65f6\uff0c\u8bf7\u5173\u95ed\u5176\u4f59\u7684\uff0c\u4e5f\u5373\u8bbe\u7f6eenabled=false\u3002"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u6709\u66f4\u591a\u95ee\u9898\uff0c\u6b22\u8fce\u5728\u793e\u533a\u6216\u4ea4\u6d41\u7fa4\u53cd\u9988\u3002"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}}}]);