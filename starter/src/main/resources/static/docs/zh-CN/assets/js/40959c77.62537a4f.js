"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2467],{19971:(i,e,s)=>{s.d(e,{R:()=>r,x:()=>c});var n=s(30758);const d={},l=n.createContext(d);function r(i){const e=n.useContext(l);return n.useMemo(function(){return"function"==typeof i?i(e):{...e,...i}},[e,i])}function c(i){let e;return e=i.disableParentContext?"function"==typeof i.components?i.components(d):i.components||d:r(i.components),n.createElement(l.Provider,{value:e},i.children)}},49489:(i,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>j,frontMatter:()=>r,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"deploy/depend/jitsi","title":"Jitsi \u89c6\u9891\u4f1a\u8bae/\u89c6\u9891\u5ba2\u670d/\u89c6\u9891\u804a\u5929","description":"- \u5fae\u8bed\u89c6\u9891\u4f1a\u8baeGithub","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/deploy/depend/jitsi.md","sourceDirName":"deploy/depend","slug":"/deploy/depend/jitsi","permalink":"/docs/zh-CN/docs/deploy/depend/jitsi","draft":false,"unlisted":false,"editUrl":"https://github.com/bytedesk/bytedesk-docs/blob/main/i18n/zh-CN/docusaurus-plugin-content-docs/current/deploy/depend/jitsi.md","tags":[],"version":"current","lastUpdatedBy":"jack ning","lastUpdatedAt":1761279339000,"sidebarPosition":13,"frontMatter":{"sidebar_label":"Jitsi","sidebar_position":13},"sidebar":"tutorialSidebar","previous":{"title":"Grafana","permalink":"/docs/zh-CN/docs/deploy/depend/grafana"},"next":{"title":"Janus","permalink":"/docs/zh-CN/docs/deploy/depend/janus"}}');var d=s(86070),l=s(19971);const r={sidebar_label:"Jitsi",sidebar_position:13},c="Jitsi \u89c6\u9891\u4f1a\u8bae/\u89c6\u9891\u5ba2\u670d/\u89c6\u9891\u804a\u5929",o={},t=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u9002\u7528\u8303\u56f4\u4e0e\u76ee\u6807",id:"\u9002\u7528\u8303\u56f4\u4e0e\u76ee\u6807",level:2},{value:"\u524d\u7f6e\u6761\u4ef6",id:"\u524d\u7f6e\u6761\u4ef6",level:2},{value:"\u7aef\u53e3\u4e0e\u5b89\u5168\u7ec4",id:"\u7aef\u53e3\u4e0e\u5b89\u5168\u7ec4",level:2},{value:"\u5fae\u8bed\u5b98\u65b9\u6d4b\u8bd5\u5730\u5740\u4e0e\u53c2\u8003\u914d\u7f6e",id:"\u5fae\u8bed\u5b98\u65b9\u6d4b\u8bd5\u5730\u5740\u4e0e\u53c2\u8003\u914d\u7f6e",level:2},{value:"\u5feb\u901f\u5b89\u88c5\uff08Quickstart\uff09",id:"\u5feb\u901f\u5b89\u88c5quickstart",level:2},{value:"A. Ubuntu/Debian",id:"a-ubuntudebian",level:3},{value:"\u524d\u7f6e\u6761\u4ef6",id:"\u524d\u7f6e\u6761\u4ef6-1",level:4},{value:"\u5fc5\u9700\u7aef\u53e3\u4e0e\u9632\u706b\u5899",id:"\u5fc5\u9700\u7aef\u53e3\u4e0e\u9632\u706b\u5899",level:4},{value:"\u6dfb\u52a0\u5b98\u65b9\u4ed3\u5e93\u4e0e\u5bc6\u94a5\uff08Jitsi \u4e0e Prosody\uff09",id:"\u6dfb\u52a0\u5b98\u65b9\u4ed3\u5e93\u4e0e\u5bc6\u94a5jitsi-\u4e0e-prosody",level:4},{value:"\u5b89\u88c5 Prosody\uff08\u786e\u4fdd\u7248\u672c \u2265 0.12\uff09",id:"\u5b89\u88c5-prosody\u786e\u4fdd\u7248\u672c--012",level:4},{value:"\u65e0\u4eba\u503c\u5b88\u53c2\u6570\uff08\u5148\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66\u4e0e\u4e34\u65f6\u4e3b\u673a\u540d\uff09",id:"\u65e0\u4eba\u503c\u5b88\u53c2\u6570\u5148\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66\u4e0e\u4e34\u65f6\u4e3b\u673a\u540d",level:4},{value:"\u5b89\u88c5 jitsi-meet\uff08\u5206\u6b65\u5b89\u88c5\uff0c\u964d\u4f4e\u4e2d\u65ad\u98ce\u9669\uff09",id:"\u5b89\u88c5-jitsi-meet\u5206\u6b65\u5b89\u88c5\u964d\u4f4e\u4e2d\u65ad\u98ce\u9669",level:4},{value:"\u542f\u52a8\u4e0e\u5f00\u673a\u81ea\u542f\u3001\u72b6\u6001\u68c0\u67e5",id:"\u542f\u52a8\u4e0e\u5f00\u673a\u81ea\u542f\u72b6\u6001\u68c0\u67e5",level:4},{value:"\u5207\u6362\u57df\u540d\u4e0e\u7b7e\u53d1 HTTPS \u8bc1\u4e66\uff08Let\u2019s Encrypt\uff09",id:"\u5207\u6362\u57df\u540d\u4e0e\u7b7e\u53d1-https-\u8bc1\u4e66lets-encrypt",level:4},{value:"\u5378\u8f7d\uff08\u53ef\u9009\uff09",id:"\u5378\u8f7d\u53ef\u9009",level:4},{value:"B. Docker Compose",id:"b-docker-compose",level:3},{value:"\u65e5\u5fd7\u4f4d\u7f6e",id:"\u65e5\u5fd7\u4f4d\u7f6e",level:2},{value:"\u7ec4\u4ef6\u4e0e\u76ee\u5f55\u8def\u5f84\u901f\u67e5\uff08\u5b89\u88c5\u540e\u5e38\u7528\u4f4d\u7f6e\uff09",id:"\u7ec4\u4ef6\u4e0e\u76ee\u5f55\u8def\u5f84\u901f\u67e5\u5b89\u88c5\u540e\u5e38\u7528\u4f4d\u7f6e",level:2},{value:"Jibri\uff08\u5f55\u5236/\u76f4\u64ad\uff09",id:"jibri\u5f55\u5236\u76f4\u64ad",level:2},{value:"\u9274\u6743\u4e0e\u5b89\u5168",id:"\u9274\u6743\u4e0e\u5b89\u5168",level:2},{value:"\u76d1\u63a7\u4e0e\u8fd0\u7ef4",id:"\u76d1\u63a7\u4e0e\u8fd0\u7ef4",level:2},{value:"\u9a8c\u8bc1\u4e0e\u81ea\u5b9a\u4e49",id:"\u9a8c\u8bc1\u4e0e\u81ea\u5b9a\u4e49",level:2},{value:"\u5feb\u901f\u9a8c\u8bc1",id:"\u5feb\u901f\u9a8c\u8bc1",level:3},{value:"\u54c1\u724c\u5316\uff08\u6700\u5c0f\u6539\u52a8\uff09",id:"\u54c1\u724c\u5316\u6700\u5c0f\u6539\u52a8",level:3},{value:"\u5e38\u89c1\u95ee\u9898\u4e0e\u6392\u67e5",id:"\u5e38\u89c1\u95ee\u9898\u4e0e\u6392\u67e5",level:2},{value:"\u6269\u5c55\u4e0e\u4f18\u5316",id:"\u6269\u5c55\u4e0e\u4f18\u5316",level:2},{value:"\u79fb\u52a8\u7aef\u4e0e\u5f00\u6e90\u5ba2\u6237\u7aef",id:"\u79fb\u52a8\u7aef\u4e0e\u5f00\u6e90\u5ba2\u6237\u7aef",level:2},{value:"\u76f8\u5173\u94fe\u63a5",id:"\u76f8\u5173\u94fe\u63a5",level:2}];function h(i){const e={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...i.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"jitsi-\u89c6\u9891\u4f1a\u8bae\u89c6\u9891\u5ba2\u670d\u89c6\u9891\u804a\u5929",children:"Jitsi \u89c6\u9891\u4f1a\u8bae/\u89c6\u9891\u5ba2\u670d/\u89c6\u9891\u804a\u5929"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://github.com/Bytedesk/bytedesk-conference/blob/main/README.zh.md",children:"\u5fae\u8bed\u89c6\u9891\u4f1a\u8baeGithub"})}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,d.jsx)(e.p,{children:"Jitsi \u662f\u4e00\u5957\u5f00\u6e90\u7684\u89c6\u9891\u4f1a\u8bae\u89e3\u51b3\u65b9\u6848\uff0c\u6838\u5fc3\u7531\u4ee5\u4e0b\u7ec4\u4ef6\u6784\u6210\uff1a"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Prosody\uff1aXMPP \u670d\u52a1\u5668\uff0c\u8d1f\u8d23\u4fe1\u4ee4\u4e0e\u9274\u6743"}),"\n",(0,d.jsx)(e.li,{children:"Jicofo\uff1a\u4f1a\u8bae\u534f\u8c03\u5668\uff0c\u8d1f\u8d23\u623f\u95f4/\u6865\u63a5\u7ba1\u7406"}),"\n",(0,d.jsx)(e.li,{children:"Jitsi Videobridge\uff08JVB\uff09\uff1aSFU \u5a92\u4f53\u8f6c\u53d1"}),"\n",(0,d.jsx)(e.li,{children:"Web\uff1a\u9759\u6001\u524d\u7aef\uff08\u542b\u914d\u7f6e\u4e0e\u8d44\u6e90\uff09"}),"\n",(0,d.jsx)(e.li,{children:"Jibri\uff1a\u4f1a\u8bae\u5f55\u5236/\u76f4\u64ad\uff08\u53ef\u9009\uff0c\u5efa\u8bae\u5355\u72ec\u673a\u5668/\u5bb9\u5668\uff09"}),"\n",(0,d.jsx)(e.li,{children:"Coturn\uff1aSTUN/TURN\uff08\u5efa\u8bae\u81ea\u5efa\uff0c\u4fdd\u8bc1\u5f31\u7f51/NAT \u53ef\u7528\uff09"}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"\u4f60\u4e5f\u53ef\u4ee5\u53c2\u8003\u6211\u4eec\u5728 Janus \u6587\u6863\u4e2d\u7684\u5199\u6cd5\u4e0e\u7ed3\u6784\uff08\u7aef\u53e3\u3001\u5b89\u5168\u3001TURN \u7b49\u7406\u5ff5\u901a\u7528\uff09\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"\u9002\u7528\u8303\u56f4\u4e0e\u76ee\u6807",children:"\u9002\u7528\u8303\u56f4\u4e0e\u76ee\u6807"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u5355\u623f\u95f4 ~100 \u4eba\u4e92\u52a8\uff1b\u603b\u5e76\u53d1 ~100"}),"\n",(0,d.jsx)(e.li,{children:"\u9700\u8981\u5f55\u5236\uff08Jibri\uff09"}),"\n",(0,d.jsx)(e.li,{children:"\u9700\u8981\u79fb\u52a8\u7aef\u4e0e\u54c1\u724c\u81ea\u5b9a\u4e49"}),"\n",(0,d.jsx)(e.li,{children:"\u8ffd\u6c42\u6700\u77ed\u4e0a\u7ebf\u8def\u5f84\u3001\u540e\u7eed\u518d\u4f18\u5316"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u524d\u7f6e\u6761\u4ef6",children:"\u524d\u7f6e\u6761\u4ef6"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u57df\u540d\u4e0e DNS\uff1a\u5982 ",(0,d.jsx)(e.code,{children:"jitsi.weiyuai.cn"}),"\uff08A \u8bb0\u5f55\u6307\u5411\u516c\u7f51 IP\uff09"]}),"\n",(0,d.jsxs)(e.li,{children:["\u670d\u52a1\u5668\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Core\uff08Prosody/Jicofo/Web\uff09\uff1a2 vCPU / 4GB RAM"}),"\n",(0,d.jsx)(e.li,{children:"JVB\uff1a4 vCPU / 8GB RAM / \u2265300 Mbps \u5e26\u5bbd\uff08\u8d77\u6b65\uff09"}),"\n",(0,d.jsx)(e.li,{children:"Jibri\uff1a4 vCPU / 8GB RAM\uff08\u6bcf\u53f0\u5efa\u8bae\u540c\u65f6\u53ea\u5f55\u5236 1 \u573a\uff09"}),"\n",(0,d.jsx)(e.li,{children:"Coturn\uff1a2 vCPU / 4GB RAM / \u516c\u7f51 IP"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.li,{children:"\u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 20.04+/Debian/CentOS/RHEL \u5747\u53ef\uff08\u63a8\u8350 Ubuntu 22.04 LTS\uff09"}),"\n",(0,d.jsx)(e.li,{children:"\u8bc1\u4e66\uff1a\u751f\u4ea7\u5efa\u8bae\u4f7f\u7528\u6709\u6548\u7684 TLS \u8bc1\u4e66\uff08\u53ef\u7528\u53cd\u4ee3 + Let\u2019s Encrypt\uff09"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u7aef\u53e3\u4e0e\u5b89\u5168\u7ec4",children:"\u7aef\u53e3\u4e0e\u5b89\u5168\u7ec4"}),"\n",(0,d.jsx)(e.p,{children:"\u5bf9\u5916\u9700\u5f00\u653e\uff1a"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"443/tcp\uff1aHTTPS/WSS\uff08Web \u4e0e\u4fe1\u4ee4\uff09"}),"\n",(0,d.jsx)(e.li,{children:"10000/udp\uff1aJVB \u5a92\u4f53\u8f6c\u53d1\uff08\u53ef\u6309\u9700\u6269\u5927\u8303\u56f4\uff0c\u5982 10000-20000/udp\uff09"}),"\n",(0,d.jsx)(e.li,{children:"3478/udp\u30015349/tcp\uff1aCoturn\uff08TURN/DTLS/TLS\uff09"}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"\u5bf9\u5185\uff08\u5bb9\u5668/\u8282\u70b9\u95f4\uff09\u5e38\u89c1\u7aef\u53e3\uff08\u793a\u4f8b\uff09\uff1a"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Prosody\uff1a5280\uff08BOSH\uff09\u30015347\uff08\u7ec4\u4ef6\uff09\u30015222\uff08\u5ba2\u6237\u7aef\uff09\u7b49"}),"\n",(0,d.jsx)(e.li,{children:"Jicofo \u2194 Prosody\uff1aXMPP \u7ec4\u4ef6\u7aef\u53e3"}),"\n"]}),"\n",(0,d.jsxs)(e.blockquote,{children:["\n",(0,d.jsx)(e.p,{children:"\u6ce8\u610f\uff1a\u5b9e\u9645\u7aef\u53e3\u4ee5\u4f60\u7684\u90e8\u7f72/\u53cd\u5411\u4ee3\u7406\u4e3a\u51c6\uff1b\u5c3d\u91cf\u4ec5\u5bf9\u5916\u66b4\u9732 443 \u4e0e JVB UDP \u7aef\u53e3\uff0cCoturn \u66b4\u9732 3478/5349\u3002"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u5fae\u8bed\u5b98\u65b9\u6d4b\u8bd5\u5730\u5740\u4e0e\u53c2\u8003\u914d\u7f6e",children:"\u5fae\u8bed\u5b98\u65b9\u6d4b\u8bd5\u5730\u5740\u4e0e\u53c2\u8003\u914d\u7f6e"}),"\n",(0,d.jsx)(e.admonition,{title:"\u5b98\u65b9\u8d44\u6e90",type:"tip",children:(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u5728\u7ebf\u6d4b\u8bd5\u5730\u5740\uff08\u5fae\u8bed\u5b98\u65b9\u63d0\u4f9b\uff09\uff1a",(0,d.jsx)(e.a,{href:"https://jitsi.weiyuai.cn/",children:"https://jitsi.weiyuai.cn/"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u53c2\u8003\u914d\u7f6e\u6587\u4ef6\u4e0e\u90e8\u7f72\u793a\u4f8b\uff1a",(0,d.jsx)(e.a,{href:"https://github.com/Bytedesk/bytedesk/tree/main/deploy/jitsi",children:"https://github.com/Bytedesk/bytedesk/tree/main/deploy/jitsi"})]}),"\n"]})}),"\n",(0,d.jsx)(e.h2,{id:"\u5feb\u901f\u5b89\u88c5quickstart",children:"\u5feb\u901f\u5b89\u88c5\uff08Quickstart\uff09"}),"\n",(0,d.jsx)(e.p,{children:"\u4ee5\u4e0b\u4e3a\u201c\u6700\u5feb\u53ef\u7528\u201d\u7684\u4e24\u6761\u8def\u5f84\uff0c\u5efa\u8bae\u5148\u9009\u5176\u4e00\u5b8c\u6210\u53ef\u7528\u6027\u9a8c\u8bc1\uff1a"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u5b98\u65b9 Quickstart\uff1a",(0,d.jsx)(e.a,{href:"https://jitsi.github.io/handbook/docs/devops-guide/devops-guide-quickstart",children:"https://jitsi.github.io/handbook/docs/devops-guide/devops-guide-quickstart"})]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"a-ubuntudebian",children:"A. Ubuntu/Debian"}),"\n",(0,d.jsx)(e.p,{children:"\u4ee5\u4e0b\u4e3a\u57fa\u4e8e Ubuntu 22.04\uff08Debian \u540c\u7406\uff09\u7684\u5b8c\u6574\u5b89\u88c5\u6b65\u9aa4\uff0c\u6db5\u76d6\u4ed3\u5e93/\u5bc6\u94a5\uff08Prosody \u2265 0.12\uff09\u3001\u5206\u6b65\u5b89\u88c5\u3001\u72b6\u6001\u68c0\u67e5\u4e0e\u8bc1\u4e66\u3002"}),"\n",(0,d.jsx)(e.h4,{id:"\u524d\u7f6e\u6761\u4ef6-1",children:"\u524d\u7f6e\u6761\u4ef6"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u516c\u7f51\u670d\u52a1\u5668\uff0c\u63a8\u8350 Ubuntu 22.04 LTS"}),"\n",(0,d.jsxs)(e.li,{children:["\u5df2\u89e3\u6790\u7684\u57df\u540d\uff08\u4f8b\uff1a",(0,d.jsx)(e.code,{children:"jitsi.weiyuai.cn"}),"\uff09\uff0cA \u8bb0\u5f55\u6307\u5411\u672c\u673a\u516c\u7f51 IP"]}),"\n",(0,d.jsx)(e.li,{children:"\u7aef\u53e3\u7b56\u7565\u53ef\u653e\u901a\uff1a80/tcp\u3001443/tcp\u300110000/udp\uff08\u53ef\u7528 UFW \u6216\u5b89\u5168\u7ec4\uff09"}),"\n",(0,d.jsx)(e.li,{children:"Root \u6743\u9650\u6216\u7b49\u6548 sudo \u6743\u9650"}),"\n"]}),"\n",(0,d.jsx)(e.h4,{id:"\u5fc5\u9700\u7aef\u53e3\u4e0e\u9632\u706b\u5899",children:"\u5fc5\u9700\u7aef\u53e3\u4e0e\u9632\u706b\u5899"}),"\n",(0,d.jsx)(e.p,{children:"\u7aef\u53e3\u8bf4\u660e\u89c1\u4e0a\u6587\u201c\u7aef\u53e3\u4e0e\u5b89\u5168\u7ec4\u201d\u3002\u5982\u9700\u4f7f\u7528 UFW \u5feb\u901f\u653e\u884c\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sudo ufw allow 80/tcp\nsudo ufw allow 443/tcp\nsudo ufw allow 10000/udp\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u6dfb\u52a0\u5b98\u65b9\u4ed3\u5e93\u4e0e\u5bc6\u94a5jitsi-\u4e0e-prosody",children:"\u6dfb\u52a0\u5b98\u65b9\u4ed3\u5e93\u4e0e\u5bc6\u94a5\uff08Jitsi \u4e0e Prosody\uff09"}),"\n",(0,d.jsx)(e.p,{children:"Ubuntu/Debian \u9ed8\u8ba4\u4ed3\u5e93\u7684 Prosody \u5f80\u5f80\u662f 0.11.x\uff0cJitsi \u7ec4\u4ef6\u9700\u8981 Prosody \u2265 0.12\uff0c\u6545\u9700\u6dfb\u52a0 Prosody \u5b98\u65b9\u4ed3\u5e93\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sudo apt update\nsudo apt install -y curl gnupg ca-certificates software-properties-common lsb-release\n\n# Jitsi \u4ed3\u5e93\u4e0e\u5bc6\u94a5\nsudo install -d -m 0755 /usr/share/keyrings\ncurl -fsSL https://download.jitsi.org/jitsi-key.gpg.key \\\n\t\t| sudo gpg --dearmor -o /usr/share/keyrings/jitsi-keyring.gpg\necho 'deb [signed-by=/usr/share/keyrings/jitsi-keyring.gpg] https://download.jitsi.org stable/' \\\n\t\t| sudo tee /etc/apt/sources.list.d/jitsi-stable.list > /dev/null\n\n# Prosody \u4ed3\u5e93\u4e0e\u5bc6\u94a5\uff08\u786e\u4fdd \u2265 0.12\uff09\ncurl -fsSL https://prosody.im/files/prosody-debian-packages.key \\\n\t\t| sudo gpg --dearmor -o /usr/share/keyrings/prosody-archive-keyring.gpg\necho \"deb [signed-by=/usr/share/keyrings/prosody-archive-keyring.gpg] https://packages.prosody.im/debian $(lsb_release -cs) main\" \\\n\t\t| sudo tee /etc/apt/sources.list.d/prosody.list > /dev/null\n\nsudo apt update\n\n# \u53ef\u9009\uff1a\u9a8c\u8bc1\u4ed3\u5e93\u662f\u5426\u751f\u6548\napt-cache policy jitsi-meet | sed -n '1,15p'\napt-cache policy prosody | sed -n '1,15p'\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u5b89\u88c5-prosody\u786e\u4fdd\u7248\u672c--012",children:"\u5b89\u88c5 Prosody\uff08\u786e\u4fdd\u7248\u672c \u2265 0.12\uff09"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sudo apt install -y prosody\nprosodyctl --version || true\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u65e0\u4eba\u503c\u5b88\u53c2\u6570\u5148\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66\u4e0e\u4e34\u65f6\u4e3b\u673a\u540d",children:"\u65e0\u4eba\u503c\u5b88\u53c2\u6570\uff08\u5148\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66\u4e0e\u4e34\u65f6\u4e3b\u673a\u540d\uff09"}),"\n",(0,d.jsx)(e.p,{children:"\u5982\u6682\u672a\u786e\u5b9a\u57df\u540d\u6216\u5c1a\u672a\u7533\u8bf7\u8bc1\u4e66\uff0c\u53ef\u5148\u4f7f\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66\u4e0e\u4e34\u65f6\u4e3b\u673a\u540d\uff08\u540e\u7eed\u53ef\u5207\u6362\uff09\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sudo apt install -y debconf-utils\necho 'jitsi-meet jitsi-meet/hostname string jitsi.local' | sudo debconf-set-selections\necho 'jitsi-meet jitsi-meet/cert-choice select Generate a new self-signed certificate' | sudo debconf-set-selections\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u5b89\u88c5-jitsi-meet\u5206\u6b65\u5b89\u88c5\u964d\u4f4e\u4e2d\u65ad\u98ce\u9669",children:"\u5b89\u88c5 jitsi-meet\uff08\u5206\u6b65\u5b89\u88c5\uff0c\u964d\u4f4e\u4e2d\u65ad\u98ce\u9669\uff09"}),"\n",(0,d.jsxs)(e.p,{children:["\u90e8\u5206\u7ec4\u4ef6\uff08\u5982 ",(0,d.jsx)(e.code,{children:"jitsi-videobridge2"}),"\uff09\u4f53\u79ef\u8f83\u5927\uff0c\u5efa\u8bae\u5206\u6b65\u5b89\u88c5\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"# Web \u4e0e Prosody \u914d\u7f6e\uff08\u4f53\u79ef\u8f83\u5c0f\uff09\nsudo apt install -y jitsi-meet-web jitsi-meet-web-config jitsi-meet-prosody\n\n# Jicofo\uff08\u4f1a\u62c9\u53d6 Java \u8fd0\u884c\u65f6\uff09\nsudo apt install -y jicofo\n\n# \u89c6\u9891\u6865\uff08\u8f83\u5927\uff0c\u5355\u72ec\u5b89\u88c5\u4fbf\u4e8e\u91cd\u8bd5\uff09\nsudo apt install -y jitsi-videobridge2\n\n# TURN \u7ec4\u4ef6\uff08\u53ef\u9009\uff0c\u4f46\u5f31\u7f51/NAT \u5efa\u8bae\u540e\u7eed\u81ea\u5efa Coturn\uff09\nsudo apt install -y jitsi-meet-turnserver || true\n\n# \u6c47\u603b\u5143\u5305\uff08\u82e5\u524d\u9762\u90fd\u88c5\u597d\u4f1a\u5feb\u901f\u901a\u8fc7\uff09\nsudo apt install -y jitsi-meet\n"})}),"\n",(0,d.jsxs)(e.p,{children:["\u9047\u5230\u4e0b\u8f7d\u88ab\u7f51\u7edc\u4e2d\u65ad\u65f6\uff0c\u53ef\u518d\u6b21\u6267\u884c\u4e0a\u4e00\u6761\u547d\u4ee4\u91cd\u590d\u5c1d\u8bd5\uff1b\u6216\u4f7f\u7528 ",(0,d.jsx)(e.code,{children:"-o Acquire::Retries=3"})," \u589e\u52a0\u81ea\u52a8\u91cd\u8bd5\u3002"]}),"\n",(0,d.jsx)(e.h4,{id:"\u542f\u52a8\u4e0e\u5f00\u673a\u81ea\u542f\u72b6\u6001\u68c0\u67e5",children:"\u542f\u52a8\u4e0e\u5f00\u673a\u81ea\u542f\u3001\u72b6\u6001\u68c0\u67e5"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sudo systemctl enable --now prosody jicofo jitsi-videobridge2 nginx\n\n# \u7b80\u8981\u72b6\u6001\uff08active \u4e3a\u8fd0\u884c\u4e2d\uff09\nsystemctl is-active prosody\nsystemctl is-active jicofo\nsystemctl is-active jitsi-videobridge2\nsystemctl is-active nginx\n\n# \u7aef\u53e3\u68c0\u67e5\uff08\u5e94\u770b\u5230 80/443 TCP \u4e0e 10000 UDP\uff09\nss -ltn '( sport = :80 or sport = :443 )' | sed -n '1,10p'\nss -lun 'sport = :10000' | sed -n '1,10p'\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u5207\u6362\u57df\u540d\u4e0e\u7b7e\u53d1-https-\u8bc1\u4e66lets-encrypt",children:"\u5207\u6362\u57df\u540d\u4e0e\u7b7e\u53d1 HTTPS \u8bc1\u4e66\uff08Let\u2019s Encrypt\uff09"}),"\n",(0,d.jsxs)(e.p,{children:["\u5f53\u57df\u540d\uff08\u5982 ",(0,d.jsx)(e.code,{children:"jitsi.weiyuai.cn"}),"\uff09\u5df2\u89e3\u6790\u5230\u672c\u673a\u516c\u7f51 IP \u540e\uff1a"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"# \u91cd\u65b0\u914d\u7f6e\u7ad9\u70b9\u57df\u540d\uff08\u5982\u4e4b\u524d\u7528\u4e86 jitsi.local\uff09\nsudo dpkg-reconfigure jitsi-meet-web-config\n\n# \u7533\u8bf7\u5e76\u5b89\u88c5\u8bc1\u4e66\uff08\u4f1a\u81ea\u52a8\u914d\u7f6e Nginx\uff09\nsudo /usr/share/jitsi-meet/scripts/install-letsencrypt-cert.sh\n"})}),"\n",(0,d.jsxs)(e.p,{children:["\u5b8c\u6210\u540e\uff0c\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee ",(0,d.jsx)(e.code,{children:"https://jitsi.weiyuai.cn"})," \u521b\u5efa\u623f\u95f4\u8fdb\u884c\u9a8c\u8bc1\u3002"]}),"\n",(0,d.jsx)(e.h4,{id:"\u5378\u8f7d\u53ef\u9009",children:"\u5378\u8f7d\uff08\u53ef\u9009\uff09"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"sudo systemctl stop jicofo jitsi-videobridge2 prosody nginx || true\nsudo apt purge -y jitsi-meet jicofo jitsi-videobridge2 jitsi-meet-web jitsi-meet-prosody jitsi-meet-web-config jitsi-meet-turnserver prosody\nsudo apt autoremove -y\n"})}),"\n",(0,d.jsx)(e.h3,{id:"b-docker-compose",children:"B. Docker Compose"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"git clone https://github.com/jitsi/docker-jitsi-meet.git\ncd docker-jitsi-meet\ncp env.example .env && ./gen-passwords.sh\n\n# \u7f16\u8f91 .env \u81f3\u5c11\u8bbe\u7f6e\uff1a\n# PUBLIC_URL=https://<\u4f60\u7684\u57df\u540d>\n# DOCKER_HOST_ADDRESS=<\u4e3b\u673a\u516c\u7f51IP>\n# \u53ef\u9009\u5f00\u542f Let's Encrypt\uff1aENABLE_LETSENCRYPT=1 \u7b49\n\ndocker compose up -d\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u8bf4\u660e\uff1a\u5b98\u65b9\u5de5\u7a0b\u5305\u542b web/prosody/jicofo/jvb \u7684\u7f16\u6392\uff1b\u82e5\u5206\u79bb JVB\uff0c\u786e\u4fdd\u5bf9\u5916\u6620\u5c04 UDP 10000\u3002TURN \u4e0e Jibri \u89c1\u4e0b\u6587\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"\u65e5\u5fd7\u4f4d\u7f6e",children:"\u65e5\u5fd7\u4f4d\u7f6e"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["JVB\uff1a",(0,d.jsx)(e.code,{children:"/var/log/jitsi/jvb.log"})]}),"\n",(0,d.jsxs)(e.li,{children:["Jicofo\uff1a",(0,d.jsx)(e.code,{children:"/var/log/jitsi/jicofo.log"})]}),"\n",(0,d.jsxs)(e.li,{children:["Prosody\uff1a",(0,d.jsx)(e.code,{children:"/var/log/prosody/prosody.log"})]}),"\n",(0,d.jsxs)(e.li,{children:["Nginx\uff1a",(0,d.jsx)(e.code,{children:"/var/log/nginx/error.log"})]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u7ec4\u4ef6\u4e0e\u76ee\u5f55\u8def\u5f84\u901f\u67e5\u5b89\u88c5\u540e\u5e38\u7528\u4f4d\u7f6e",children:"\u7ec4\u4ef6\u4e0e\u76ee\u5f55\u8def\u5f84\u901f\u67e5\uff08\u5b89\u88c5\u540e\u5e38\u7528\u4f4d\u7f6e\uff09"}),"\n",(0,d.jsx)(e.p,{children:"\u4ee5\u4e0b\u4e3a\u901a\u8fc7\u5b98\u65b9\u4ed3\u5e93\u5b89\u88c5\u5728 Ubuntu/Debian \u4e0a\u7684\u5178\u578b\u8def\u5f84\uff0c\u4f9b\u5feb\u901f\u5b9a\u4f4d\u914d\u7f6e\u3001\u65e5\u5fd7\u4e0e\u670d\u52a1\u3002"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"Jitsi Meet Web\uff08\u524d\u7aef\u9759\u6001\u7ad9\u70b9\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u9759\u6001\u8d44\u6e90\uff1a",(0,d.jsx)(e.code,{children:"/usr/share/jitsi-meet"})]}),"\n",(0,d.jsxs)(e.li,{children:["Web \u914d\u7f6e\uff1a",(0,d.jsx)(e.code,{children:"/etc/jitsi/meet/<\u4f60\u7684\u57df\u540d>-config.js"})]}),"\n",(0,d.jsxs)(e.li,{children:["Nginx \u7ad9\u70b9\uff1a",(0,d.jsx)(e.code,{children:"/etc/nginx/sites-available/<\u4f60\u7684\u57df\u540d>.conf"}),"\uff08\u5e76\u5728 ",(0,d.jsx)(e.code,{children:"sites-enabled/"})," \u5efa\u94fe\u63a5\uff09"]}),"\n",(0,d.jsxs)(e.li,{children:["\u8bc1\u4e66\uff08Let\u2019s Encrypt\uff09\uff1a",(0,d.jsx)(e.code,{children:"/etc/letsencrypt/live/<\u4f60\u7684\u57df\u540d>/{fullchain.pem, privkey.pem}"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u67e5\u770b\u5305\u6587\u4ef6\uff1a",(0,d.jsx)(e.code,{children:"dpkg -L jitsi-meet-web"}),"\u3001",(0,d.jsx)(e.code,{children:"dpkg -L jitsi-meet-web-config"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"Prosody\uff08XMPP\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u4e3b\u914d\u7f6e\uff1a",(0,d.jsx)(e.code,{children:"/etc/prosody/prosody.cfg.lua"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u7ad9\u70b9\u914d\u7f6e\uff1a",(0,d.jsx)(e.code,{children:"/etc/prosody/conf.avail/<\u4f60\u7684\u57df\u540d>.cfg.lua"}),"\uff08\u542f\u7528\u94fe\u63a5\u5728 ",(0,d.jsx)(e.code,{children:"conf.d/"}),"\uff09"]}),"\n",(0,d.jsxs)(e.li,{children:["\u8bc1\u4e66\uff1a",(0,d.jsx)(e.code,{children:"/etc/prosody/certs"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u6570\u636e\uff1a",(0,d.jsx)(e.code,{children:"/var/lib/prosody"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u65e5\u5fd7\uff1a",(0,d.jsx)(e.code,{children:"/var/log/prosody/prosody.log"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u670d\u52a1\u540d\uff1a",(0,d.jsx)(e.code,{children:"prosody"}),"\uff08systemd \u5355\u5143\uff1a",(0,d.jsx)(e.code,{children:"/lib/systemd/system/prosody.service"}),"\uff09"]}),"\n",(0,d.jsxs)(e.li,{children:["\u67e5\u770b\u5305\u6587\u4ef6\uff1a",(0,d.jsx)(e.code,{children:"dpkg -L prosody"}),"\uff0c\u7248\u672c\u4fe1\u606f\uff1a",(0,d.jsx)(e.code,{children:"prosodyctl about"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"Jicofo\uff08\u4f1a\u8bae\u63a7\u5236\u5668\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u914d\u7f6e\uff1a",(0,d.jsx)(e.code,{children:"/etc/jitsi/jicofo/jicofo.conf"}),"\uff08HOCON\uff09\uff0c\u517c\u5bb9\u65e7\uff1a",(0,d.jsx)(e.code,{children:"/etc/jitsi/jicofo/sip-communicator.properties"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u53ef\u6267\u884c/\u8d44\u6e90\uff1a",(0,d.jsx)(e.code,{children:"/usr/share/jicofo"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u65e5\u5fd7\uff1a",(0,d.jsx)(e.code,{children:"/var/log/jitsi/jicofo.log"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u670d\u52a1\u540d\uff1a",(0,d.jsx)(e.code,{children:"jicofo"}),"\uff08\u5355\u5143\uff1a",(0,d.jsx)(e.code,{children:"/lib/systemd/system/jicofo.service"}),"\uff09"]}),"\n",(0,d.jsxs)(e.li,{children:["\u67e5\u770b\u5305\u6587\u4ef6\uff1a",(0,d.jsx)(e.code,{children:"dpkg -L jicofo"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"Jitsi Videobridge\uff08JVB\uff0c\u5a92\u4f53\u8f6c\u53d1 UDP 10000\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u914d\u7f6e\uff1a",(0,d.jsx)(e.code,{children:"/etc/jitsi/videobridge/jvb.conf"}),"\uff08HOCON\uff09\uff0c\u517c\u5bb9\u65e7\uff1a",(0,d.jsx)(e.code,{children:"/etc/jitsi/videobridge/sip-communicator.properties"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u53ef\u6267\u884c/\u8d44\u6e90\uff1a",(0,d.jsx)(e.code,{children:"/usr/share/jitsi-videobridge"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u65e5\u5fd7\uff1a",(0,d.jsx)(e.code,{children:"/var/log/jitsi/jvb.log"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u670d\u52a1\u540d\uff1a",(0,d.jsx)(e.code,{children:"jitsi-videobridge2"}),"\uff08\u5355\u5143\uff1a",(0,d.jsx)(e.code,{children:"/lib/systemd/system/jitsi-videobridge2.service"}),"\uff09"]}),"\n",(0,d.jsxs)(e.li,{children:["\u67e5\u770b\u5305\u6587\u4ef6\uff1a",(0,d.jsx)(e.code,{children:"dpkg -L jitsi-videobridge2"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"jitsi-meet-prosody\uff08Prosody \u63d2\u4ef6\u4e0e\u96c6\u6210\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u63d2\u4ef6\u76ee\u5f55\uff1a",(0,d.jsx)(e.code,{children:"/usr/share/jitsi-meet/prosody-plugins"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u5f71\u54cd\u7684\u7ad9\u70b9\u914d\u7f6e\uff1a",(0,d.jsx)(e.code,{children:"/etc/prosody/conf.avail/<\u4f60\u7684\u57df\u540d>.cfg.lua"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u67e5\u770b\u5305\u6587\u4ef6\uff1a",(0,d.jsx)(e.code,{children:"dpkg -L jitsi-meet-prosody"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"jitsi-meet-turnserver\uff08\u53ef\u9009\uff0c\u6253\u5305 Coturn\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u914d\u7f6e\uff1a",(0,d.jsx)(e.code,{children:"/etc/turnserver.conf"})," \u6216 ",(0,d.jsx)(e.code,{children:"/etc/coturn/turnserver.conf"}),"\uff08\u968f\u53d1\u884c\u5305\u800c\u5f02\uff09"]}),"\n",(0,d.jsxs)(e.li,{children:["\u670d\u52a1\u540d\uff1a",(0,d.jsx)(e.code,{children:"coturn"}),"\uff08\u5355\u5143\uff1a",(0,d.jsx)(e.code,{children:"/lib/systemd/system/coturn.service"}),"\uff09"]}),"\n",(0,d.jsxs)(e.li,{children:["\u67e5\u770b\u5305\u6587\u4ef6\uff1a",(0,d.jsx)(e.code,{children:"dpkg -L jitsi-meet-turnserver"}),"\u3001",(0,d.jsx)(e.code,{children:"dpkg -L coturn"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"\u5e38\u7528\u81ea\u68c0\u547d\u4ee4\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"# \u5217\u51fa\u5df2\u5b89\u88c5\u7684\u76f8\u5173\u5305\ndpkg -l | grep -E 'jitsi|jicofo|videobridge|prosody|coturn'\n\n# \u67e5\u770b\u67d0\u5305\u5b89\u88c5\u4e86\u54ea\u4e9b\u6587\u4ef6\uff08\u5b9a\u4f4d\u914d\u7f6e/\u811a\u672c/\u5355\u5143\uff09\ndpkg -L jitsi-meet-web\ndpkg -L jicofo\ndpkg -L jitsi-videobridge2\ndpkg -L jitsi-meet-prosody\ndpkg -L prosody\n\n# \u670d\u52a1\u4e0e\u7aef\u53e3\nsystemctl status prosody jicofo jitsi-videobridge2 nginx\nss -ltn '( sport = :80 or sport = :443 )'\nss -lun 'sport = :10000'\n"})}),"\n",(0,d.jsx)(e.h2,{id:"jibri\u5f55\u5236\u76f4\u64ad",children:"Jibri\uff08\u5f55\u5236/\u76f4\u64ad\uff09"}),"\n",(0,d.jsx)(e.p,{children:"Jibri \u7528\u4e8e\u201c\u5408\u6d41\u5f55\u5236/\u76f4\u64ad\u201d\u3002\u5efa\u8bae\u72ec\u7acb\u673a\u5668/\u5bb9\u5668\u90e8\u7f72\uff1b\u4e00\u53f0 Jibri \u901a\u5e38\u53ea\u670d\u52a1\u4e00\u573a\u5f55\u5236\u5e76\u53d1\u3002"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u8d44\u6e90\u5efa\u8bae\uff1a\u22654 vCPU / 8GB RAM\uff0c",(0,d.jsx)(e.code,{children:"/dev/shm"})," \u9002\u5f53\u589e\u5927\uff1b"]}),"\n",(0,d.jsx)(e.li,{children:"\u8f93\u51fa\uff1a\u672c\u5730\u78c1\u76d8\u3001NFS \u6216\u5bf9\u8c61\u5b58\u50a8\uff1b"}),"\n",(0,d.jsxs)(e.li,{children:["\u5b98\u65b9\u53c2\u8003\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Jitsi Handbook \u4e2d\u7684 Jibri \u7ae0\u8282\uff08\u5b89\u88c5\u4e0e\u914d\u7f6e\uff09\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"docker-jitsi-meet \u6587\u6863\u4e2d\u7684 Jibri \u914d\u7f6e\u6bb5\u843d\uff1b"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.li,{children:"\u5c0f\u8d34\u58eb\uff1a\u5148\u5728\u6d4b\u8bd5\u623f\u95f4\u9a8c\u8bc1\u201c\u5f00\u59cb/\u505c\u6b62\u5f55\u5236\u201d\uff0c\u786e\u8ba4\u8f93\u51fa\u6587\u4ef6\u4e0e\u65f6\u95f4\u6233\uff1b\u76f4\u64ad\u53ef\u6309\u9700\u914d\u7f6e RTMP \u63a8\u6d41\u3002"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u9274\u6743\u4e0e\u5b89\u5168",children:"\u9274\u6743\u4e0e\u5b89\u5168"}),"\n",(0,d.jsx)(e.p,{children:"\u751f\u4ea7\u73af\u5883\u5efa\u8bae\u542f\u7528\u201c\u5b89\u5168\u57df\uff08Secure Domain\uff09\u201d\u4e0e\u7b49\u5019\u5ba4\uff08Lobby\uff09\uff0c\u5e76\u6309\u9700\u5f15\u5165 JWT \u5355\u70b9\u767b\u5f55\uff1a"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u5b89\u5168\u57df\uff08\u9650\u5236\u521b\u5efa\u623f\u95f4\uff09\uff1a\u4ec5\u6388\u6743\u7528\u6237\u53ef\u521b\u5efa\u4f1a\u8bae\uff0c\u8bbf\u5ba2\u7ecf\u4e3b\u6301\u540c\u610f\u8fdb\u5165\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"Lobby\uff1a\u8bbf\u5ba2\u52a0\u5165\u524d\u8fdb\u5165\u7b49\u5019\u5ba4\uff0c\u7531\u4e3b\u6301\u5ba1\u6279\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"JWT \u9274\u6743\uff1a\u5bf9\u63a5\u4f60\u7684\u8d26\u53f7\u4f53\u7cfb/SSO\uff0c\u670d\u52a1\u7aef\u7b7e\u53d1\u4f1a\u8bae Token\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u5176\u4ed6\uff1aE2EE\uff08\u63d2\u5165\u5f0f\u52a0\u5bc6\uff09\u3001IP/\u56fd\u5bb6\u8bbf\u95ee\u63a7\u5236\u7b49\u6309\u9700\u8bc4\u4f30\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u5b98\u65b9\u53c2\u8003\uff1aJitsi Handbook \u7684 Secure Domain\u3001JWT\u3001Moderation/Lobby \u7b49\u7ae0\u8282\u3002"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u76d1\u63a7\u4e0e\u8fd0\u7ef4",children:"\u76d1\u63a7\u4e0e\u8fd0\u7ef4"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u6307\u6807\u4e0e\u53ef\u89c6\u5316\uff1aJitsi Videobridge \u652f\u6301\u5bfc\u51fa\u8fd0\u884c\u6307\u6807\uff08Prometheus \u7b49\uff09\uff0c\u5173\u6ce8\u7801\u7387\u3001\u4e22\u5305\u3001\u62e5\u585e\u4e0e\u5e76\u53d1\uff1b"}),"\n",(0,d.jsxs)(e.li,{children:["\u65e5\u5fd7\u5b9a\u4f4d\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["Ubuntu \u5305\u5b89\u88c5\uff1a",(0,d.jsx)(e.code,{children:"/var/log/jitsi/jvb.log"}),"\u3001",(0,d.jsx)(e.code,{children:"/var/log/jitsi/jicofo.log"}),"\u3001",(0,d.jsx)(e.code,{children:"/var/log/prosody/prosody.log"}),"\uff1b"]}),"\n",(0,d.jsxs)(e.li,{children:["Docker\uff1a\u5bb9\u5668\u65e5\u5fd7\uff08",(0,d.jsx)(e.code,{children:"docker compose logs -f"}),"\uff09\uff1b"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\u5065\u5eb7\u68c0\u67e5\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"443/WSS \u53ef\u8fbe\uff1bUDP 10000 \u901a\u7545\uff1b"}),"\n",(0,d.jsxs)(e.li,{children:["\u6d4f\u89c8\u5668 ",(0,d.jsx)(e.code,{children:"chrome://webrtc-internals"})," \u89c2\u5bdf ICE\u3001\u7801\u7387\u4e0e\u5206\u8fa8\u7387\u81ea\u9002\u5e94\uff1b"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.li,{children:"\u6269\u5bb9\u8def\u5f84\uff1a\u589e\u52a0 JVB \u5b9e\u4f8b\u3001\u8de8\u5730\u57df\u6865\u63a5\uff08Octo\uff09\uff0c\u5e76\u7ed3\u5408\u5e26\u5bbd\u5bb9\u91cf\u89c4\u5212\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u5b98\u65b9\u53c2\u8003\uff1aJitsi Handbook \u7684\u8fd0\u7ef4\u4e0e\u76d1\u63a7\u7ae0\u8282\u3002"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u9a8c\u8bc1\u4e0e\u81ea\u5b9a\u4e49",children:"\u9a8c\u8bc1\u4e0e\u81ea\u5b9a\u4e49"}),"\n",(0,d.jsx)(e.h3,{id:"\u5feb\u901f\u9a8c\u8bc1",children:"\u5feb\u901f\u9a8c\u8bc1"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u6d4f\u89c8\u5668\u8bbf\u95ee ",(0,d.jsx)(e.code,{children:"https://\u4f60\u7684\u57df\u540d"})," \u521b\u5efa\u623f\u95f4"]}),"\n",(0,d.jsx)(e.li,{children:"\u7528 2\u20133 \u53f0\u8bbe\u5907/\u6d4f\u89c8\u5668\u52a0\u5165\u6d4b\u8bd5"}),"\n",(0,d.jsxs)(e.li,{children:["\u5f00\u542f/\u505c\u6b62\u5f55\u5236\uff08\u82e5\u5df2\u90e8\u7f72 Jibri\uff09\u5e76\u68c0\u67e5 ",(0,d.jsx)(e.code,{children:"./recordings"})," \u8f93\u51fa\u6216\u5bf9\u8c61\u5b58\u50a8"]}),"\n",(0,d.jsx)(e.li,{children:"\u5f31\u7f51/NAT \u73af\u5883\u4e0b\u6d4b\u8bd5\u8fde\u901a\u6027\uff08\u5fc5\u8981\u65f6\u786e\u8ba4 TURN \u662f\u5426\u751f\u6548\uff09"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"\u54c1\u724c\u5316\u6700\u5c0f\u6539\u52a8",children:"\u54c1\u724c\u5316\uff08\u6700\u5c0f\u6539\u52a8\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u8986\u76d6 web \u9759\u6001\u8d44\u6e90\uff08Logo\u3001Favicon\u3001\u4e3b\u8272\uff09\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u901a\u8fc7\u73af\u5883\u53d8\u91cf/UI \u914d\u7f6e\u9690\u85cf\u4e0d\u9700\u8981\u7684\u6309\u94ae\uff08\u5982\u76f4\u64ad/\u5f55\u5236\u5165\u53e3\u89c6\u4e1a\u52a1\u5f00\u653e\uff09\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u767b\u5f55\u4e0e\u9274\u6743\uff08\u542f\u7528 internal \u6216 JWT\uff0c\u9650\u5236\u623f\u95f4\u521b\u5efa\u6743\u9650\uff09\u3002"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u5e38\u89c1\u95ee\u9898\u4e0e\u6392\u67e5",children:"\u5e38\u89c1\u95ee\u9898\u4e0e\u6392\u67e5"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u65e0\u6cd5\u5165\u4f1a\u6216\u65ad\u6d41\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u68c0\u67e5 443/tcp \u4e0e 10000/udp \u662f\u5426\u5f00\u653e\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u786e\u8ba4\u53cd\u5411\u4ee3\u7406\u7684 WebSocket \u8f6c\u53d1\u4e0e\u8bc1\u4e66\u6709\u6548\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u67e5\u770b JVB \u65e5\u5fd7\u4e0e\u6d4f\u89c8\u5668 WebRTC Internals\uff08\u7801\u7387/ICE \u5931\u8d25\uff09\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\u5f55\u5236\u5931\u8d25\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Jibri \u673a\u5668\u8d44\u6e90\u662f\u5426\u8db3\u591f\uff08CPU\u3001\u5185\u5b58\u3001/dev/shm\uff09\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u4e0e Prosody \u7684 XMPP \u51ed\u8bc1\u662f\u5426\u5339\u914d\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u5f55\u5236\u8f93\u51fa\u76ee\u5f55\u6743\u9650\u4e0e\u78c1\u76d8\u7a7a\u95f4\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\u5f31\u7f51\u8fdb\u4e0d\u6765\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"TURN 3478/5349 \u662f\u5426\u53ef\u8fbe\uff0c\u51ed\u8bc1\u662f\u5426\u4e0b\u53d1\u5230\u5ba2\u6237\u7aef\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u9632\u706b\u5899/\u8fd0\u8425\u5546\u5bf9 UDP \u7684\u9650\u5236\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u6269\u5c55\u4e0e\u4f18\u5316",children:"\u6269\u5c55\u4e0e\u4f18\u5316"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u6269\u5bb9\uff1a\u589e\u52a0 JVB \u5b9e\u4f8b\uff08\u540c\u4e00 XMPP \u57df\u4e0b\u6ce8\u518c\uff09\uff0c\u6309\u5e26\u5bbd/\u5e76\u53d1\u7ebf\u6027\u6269\u5c55\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u5f55\u5236\u5e76\u53d1\uff1a\u6309\u9700\u589e\u52a0 Jibri \u5b9e\u4f8b\uff0c\u5efa\u8bae 1 \u5b9e\u4f8b\u5bf9 1 \u5f55\u5236\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u5730\u57df\u4f18\u5316\uff1a\u591a JVB \u5206\u533a\u90e8\u7f72\uff0c\u5fc5\u8981\u65f6\u5f15\u5165\u8de8\u6865\uff08Octo\uff09\u65b9\u6848\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u76d1\u63a7\uff1a\u5bf9\u63a5 Prometheus/Grafana\uff0c\u5173\u6ce8 JVB \u7801\u7387\u3001\u62e5\u585e\u4e0e\u4e22\u5305\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u5b89\u5168\uff1a\u6536\u7d27\u66b4\u9732\u7aef\u53e3\u3001\u5f00\u542f\u9274\u6743/\u7b49\u5019\u5ba4\u3001\u9650\u5236\u623f\u95f4\u521b\u5efa\u6743\u9650\u3002"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u79fb\u52a8\u7aef\u4e0e\u5f00\u6e90\u5ba2\u6237\u7aef",children:"\u79fb\u52a8\u7aef\u4e0e\u5f00\u6e90\u5ba2\u6237\u7aef"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5f00\u6e90\u5ba2\u6237\u7aef\uff08Android/iOS\uff0cReact Native\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u540d\u79f0\uff1aJitsi Meet"}),"\n",(0,d.jsxs)(e.li,{children:["\u6e90\u7801\u4ed3\u5e93\uff1a",(0,d.jsx)(e.a,{href:"https://github.com/jitsi/jitsi-meet",children:"https://github.com/jitsi/jitsi-meet"})]}),"\n",(0,d.jsx)(e.li,{children:"\u8bb8\u53ef\u8bc1\uff1aApache 2.0"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u79fb\u52a8\u7aef SDK\uff08\u5c06\u4f1a\u8bae\u80fd\u529b\u5d4c\u5165\u81ea\u6709 App\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["Android SDK \u6307\u5357\uff1a",(0,d.jsx)(e.a,{href:"https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-android-sdk",children:"https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-android-sdk"})]}),"\n",(0,d.jsxs)(e.li,{children:["iOS SDK \u6307\u5357\uff1a",(0,d.jsx)(e.a,{href:"https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-ios-sdk",children:"https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-ios-sdk"})]}),"\n",(0,d.jsxs)(e.li,{children:["\u793a\u4f8b\u5de5\u7a0b\uff1a",(0,d.jsx)(e.a,{href:"https://github.com/jitsi/jitsi-meet-sdk-samples",children:"https://github.com/jitsi/jitsi-meet-sdk-samples"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u5e94\u7528\u5546\u5e97\u5ba2\u6237\u7aef\uff08\u53ef\u76f4\u63a5\u4f7f\u7528\uff09"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u5728 Google Play / App Store \u641c\u7d22 \u201cJitsi Meet\u201d"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:"\u767d\u6807\u4e0e\u96c6\u6210\u5efa\u8bae"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u6e90\u7801\u767d\u6807\uff1a\u66ff\u6362\u56fe\u6807/\u540d\u79f0/\u914d\u8272\uff0c\u9884\u7f6e\u4f60\u7684\u670d\u52a1\u5668 URL \u4e0e\u9274\u6743\u7b56\u7565\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"SDK \u96c6\u6210\uff1a\u5728\u73b0\u6709 App \u5185\u5d4c\u4f1a\u63a7\u80fd\u529b\uff0c\u7ed3\u5408 SSO/JWT \u5b8c\u6210\u767b\u5f55\u4e0e\u6743\u9650\uff1b"}),"\n",(0,d.jsx)(e.li,{children:"\u4e0e\u672c\u6587\u6863\u90e8\u7f72\u8054\u52a8\uff1a\u5c06\u79fb\u52a8\u7aef\u9ed8\u8ba4\u6307\u5411\u81ea\u5efa\u57df\u540d\uff08PUBLIC_URL\uff09\uff0c\u5e76\u786e\u4fdd TURN \u53ef\u7528\u4ee5\u9002\u914d\u5f31\u7f51/NAT\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u76f8\u5173\u94fe\u63a5",children:"\u76f8\u5173\u94fe\u63a5"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["\u5b98\u65b9\u6587\u6863\u4e0e\u9879\u76ee\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["Jitsi Handbook\uff1a",(0,d.jsx)(e.a,{href:"https://jitsi.github.io/handbook/",children:"https://jitsi.github.io/handbook/"})]}),"\n",(0,d.jsxs)(e.li,{children:["Jitsi Meet\uff1a",(0,d.jsx)(e.a,{href:"https://github.com/jitsi/jitsi-meet",children:"https://github.com/jitsi/jitsi-meet"})]}),"\n",(0,d.jsxs)(e.li,{children:["Docker\uff08\u5efa\u8bae\u4f5c\u4e3a\u6a21\u677f\u53c2\u8003\uff09\uff1a",(0,d.jsx)(e.a,{href:"https://github.com/jitsi/docker-jitsi-meet",children:"https://github.com/jitsi/docker-jitsi-meet"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\u672c\u7ad9\u76f8\u5173\u6587\u6863\uff1a","\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:["TURN/Coturn \u914d\u7f6e\u4e0e\u4f18\u5316\uff1a",(0,d.jsx)(e.a,{href:"/docs/zh-CN/docs/deploy/depend/coturn",children:"Coturn \u6587\u6863"})]}),"\n",(0,d.jsxs)(e.li,{children:["Janus \u6587\u6863\uff08\u7aef\u53e3\u4e0e\u5b89\u5168\u601d\u8def\u53ef\u53c2\u8003\uff09\uff1a",(0,d.jsx)(e.a,{href:"/docs/zh-CN/docs/deploy/depend/janus",children:"Janus \u90e8\u7f72"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://github.com/Kurento/kurento",children:"Kurento"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://hub.docker.com/u/jitsi/",children:"Jitsi Dockers"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://jitsi.github.io/handbook/docs/category/developer-guide",children:"\u5f00\u53d1\u6307\u5357"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://github.com/Bytedesk/bytedesk-conference/blob/main/README.zh.md",children:"\u5fae\u8bed\u89c6\u9891\u4f1a\u8baeGithub"})}),"\n"]})]})}function j(i={}){const{wrapper:e}={...(0,l.R)(),...i.components};return e?(0,d.jsx)(e,{...i,children:(0,d.jsx)(h,{...i})}):h(i)}}}]);