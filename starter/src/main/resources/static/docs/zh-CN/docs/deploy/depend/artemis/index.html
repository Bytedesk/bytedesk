<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-deploy/depend/artemis" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Artemis 消息中间件 | Bytedesk</title><meta data-rh="true" http-equiv="Content-Security-Policy" content=" default-src &#x27;self&#x27; https://www.weiyuai.cn *.weiyuai.cn; script-src &#x27;self&#x27; &#x27;unsafe-inline&#x27; &#x27;unsafe-eval&#x27; https://www.weiyuai.cn *.weiyuai.cn cdn.npmmirror.com; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27; https://www.weiyuai.cn *.weiyuai.cn fonts.googleapis.com cdn.npmmirror.com; img-src &#x27;self&#x27; data: https://www.weiyuai.cn *.weiyuai.cn *.npmmirror.com; font-src &#x27;self&#x27; https://www.weiyuai.cn *.weiyuai.cn fonts.gstatic.com data:; connect-src &#x27;self&#x27; https://www.weiyuai.cn *.weiyuai.cn; frame-src &#x27;self&#x27; https://www.weiyuai.cn *.weiyuai.cn; object-src &#x27;none&#x27;; base-uri &#x27;self&#x27;; form-action &#x27;self&#x27;; "><meta data-rh="true" http-equiv="X-Content-Type-Options" content="nosniff"><meta data-rh="true" http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin"><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://www.weiyuai.cn/docs/zh-CN/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.weiyuai.cn/docs/zh-CN/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.weiyuai.cn/docs/zh-CN/docs/deploy/depend/artemis"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_TW"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="keywords" content="bytedesk, 微语, 客服系统, AI客服, 智能客服"><meta data-rh="true" name="og:title" content="Bytedesk微语智能客服系统"><meta data-rh="true" name="og:description" content="微语智能客服系统官方文档，全面介绍系统功能、部署方案及集成指南"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Artemis 消息中间件 | Bytedesk"><meta data-rh="true" name="description" content="- 操作系统：Ubuntu 22.04 LTS"><meta data-rh="true" property="og:description" content="- 操作系统：Ubuntu 22.04 LTS"><link data-rh="true" rel="icon" href="/docs/zh-CN/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.weiyuai.cn/docs/zh-CN/docs/deploy/depend/artemis"><link data-rh="true" rel="alternate" href="https://www.weiyuai.cn/docs/docs/deploy/depend/artemis" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.weiyuai.cn/docs/zh-CN/docs/deploy/depend/artemis" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://www.weiyuai.cn/docs/zh-TW/docs/deploy/depend/artemis" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://www.weiyuai.cn/docs/docs/deploy/depend/artemis" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"私有部署","item":"https://www.weiyuai.cn/docs/zh-CN/docs/category/private-deployment"},{"@type":"ListItem","position":2,"name":"依赖组件","item":"https://www.weiyuai.cn/docs/zh-CN/docs/category/dependencies"},{"@type":"ListItem","position":3,"name":"Artemis","item":"https://www.weiyuai.cn/docs/zh-CN/docs/deploy/depend/artemis"}]}</script><link rel="alternate" type="application/rss+xml" href="/docs/zh-CN/blog/rss.xml" title="Bytedesk RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/zh-CN/blog/atom.xml" title="Bytedesk Atom Feed"><link rel="stylesheet" href="/docs/zh-CN/assets/css/styles.4ec1f2ed.css">
<script src="/docs/zh-CN/assets/js/runtime~main.43bb8b70.js" defer="defer"></script>
<script src="/docs/zh-CN/assets/js/main.7937c7c7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div class="progressContainer_awPh"><div class="progressBar_CB9G" style="width:0%"></div></div><div role="region" aria-label="跳到主要内容"><a class="skipToContent_hDlh" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/zh-CN/"><div class="navbar__logo"><img src="/docs/zh-CN/img/logo.png" alt="微语 Logo" class="themedComponent_nezP themedComponent--light_FLlG"><img src="/docs/zh-CN/img/logo.png" alt="微语 Logo" class="themedComponent_nezP themedComponent--dark_AjEN"></div><b class="navbar__title text--truncate">微语</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/zh-CN/docs/intro">文档</a><a class="navbar__item navbar__link" href="/docs/zh-CN/blog">博客</a><a class="navbar__item navbar__link" href="/docs/zh-CN/docs/payment">价格</a><a href="https://api.weiyuai.cn/swagger-ui/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">SwaggerApis<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.weiyuai.cn/apidocs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ApiDocs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.weiyuai.cn/javadocs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">JavaDocs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.weiyuai.cn/architecture.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">架构图<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">演示体验</a><ul class="dropdown__menu"><li><a href="https://www.weiyuai.cn/admin/" target="_blank" rel="noopener noreferrer" class="dropdown__link">管理后台<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.weiyuai.cn/agent/" target="_blank" rel="noopener noreferrer" class="dropdown__link">客服工作台<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.weiyuai.cn/reactdemo/" target="_blank" rel="noopener noreferrer" class="dropdown__link">访客端演示<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar-search-item navbarSearchContainer_S5Qv"><div class="navbar__search searchBarContainer_MFY3" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_rL4i" value=""><div class="loadingRing_cMvM searchBarLoadingRing_YKes"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/bytedesk/bytedesk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.weiyuai.cn/contact.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">联系我们<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_YYhs"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/docs/docs/deploy/depend/artemis" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/zh-CN/docs/deploy/depend/artemis" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">简体中文</a></li><li><a href="/docs/zh-TW/docs/deploy/depend/artemis" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-TW">繁体中文</a></li></ul></div><div class="toggle_nwaj colorModeToggle_ed4a"><button class="clean-btn toggleButton_XDyZ toggleButtonDisabled_VoN_" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_UGZv lightToggleIcon_GTAV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_UGZv darkToggleIcon_FEmf"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_UGZv systemToggleIcon_wHAe"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_tuwg"><div class="docsWrapper_nvId"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_LwBK" type="button"></button><div class="docRoot_WYpV"><aside class="theme-doc-sidebar-container docSidebarContainer_XCXD"><div class="sidebarViewport_UcBh"><div class="sidebar_jzvq"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_RET8"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zh-CN/docs/intro"><span title="微语协同平台" class="linkLabel_J_DF">微语协同平台</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist" href="/docs/zh-CN/docs/category/user-manual"><span title="使用手册" class="categoryLinkLabel_fMPM">使用手册</span></a><button aria-label="展开侧边栏分类 &#x27;使用手册&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist" href="/docs/zh-CN/docs/category/development"><span title="开发指南" class="categoryLinkLabel_fMPM">开发指南</span></a><button aria-label="展开侧边栏分类 &#x27;开发指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist menu__link--active" href="/docs/zh-CN/docs/category/private-deployment"><span title="私有部署" class="categoryLinkLabel_fMPM">私有部署</span></a><button aria-label="折叠侧边栏分类 &#x27;私有部署&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/jar"><span title="Jar包部署" class="linkLabel_J_DF">Jar包部署</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/source"><span title="源码部署" class="linkLabel_J_DF">源码部署</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/baota"><span title="宝塔面板部署" class="linkLabel_J_DF">宝塔面板部署</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/docker"><span title="Docker部署" class="linkLabel_J_DF">Docker部署</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/config"><span title="服务器配置参数说明" class="linkLabel_J_DF">服务器配置参数说明</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/cluster"><span title="集群部署" class="linkLabel_J_DF">集群部署</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/k8s"><span title="K8s部署" class="linkLabel_J_DF">K8s部署</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/zh-CN/docs/category/dependencies"><span title="依赖组件" class="categoryLinkLabel_fMPM">依赖组件</span></a><button aria-label="折叠侧边栏分类 &#x27;依赖组件&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/mysql"><span title="MySQL" class="linkLabel_J_DF">MySQL</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/kingbase"><span title="Kingbase" class="linkLabel_J_DF">Kingbase</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/redis"><span title="Redis" class="linkLabel_J_DF">Redis</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/ollama"><span title="Ollama" class="linkLabel_J_DF">Ollama</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/postgresql"><span title="Postgresql" class="linkLabel_J_DF">Postgresql</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/elasticsearch"><span title="Elasticsearch" class="linkLabel_J_DF">Elasticsearch</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/nginx"><span title="Nginx" class="linkLabel_J_DF">Nginx</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/artemis"><span title="Artemis" class="linkLabel_J_DF">Artemis</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/funasr"><span title="FunASR" class="linkLabel_J_DF">FunASR</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/minio"><span title="MinIO" class="linkLabel_J_DF">MinIO</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/docker"><span title="Docker" class="linkLabel_J_DF">Docker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/jdk"><span title="JDK17" class="linkLabel_J_DF">JDK17</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/kubernetes"><span title="Kubernetes" class="linkLabel_J_DF">Kubernetes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/letsencrypt"><span title="Letsencrypt" class="linkLabel_J_DF">Letsencrypt</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/zipkin"><span title="Zipkin" class="linkLabel_J_DF">Zipkin</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/prometheus"><span title="Prometheus" class="linkLabel_J_DF">Prometheus</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/grafana"><span title="Grafana" class="linkLabel_J_DF">Grafana</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/jitsi"><span title="Jitsi" class="linkLabel_J_DF">Jitsi</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/janus"><span title="Janus" class="linkLabel_J_DF">Janus</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/coturn"><span title="Coturn" class="linkLabel_J_DF">Coturn</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/freeswitch"><span title="Freeswitch" class="linkLabel_J_DF">Freeswitch</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/freeswitch_mysql"><span title="FreeSWITCH MySQL" class="linkLabel_J_DF">FreeSWITCH MySQL</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/freeswitch_mrcp"><span title="Freeswitch Mrcp" class="linkLabel_J_DF">Freeswitch Mrcp</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/kamailio"><span title="Kamailio" class="linkLabel_J_DF">Kamailio</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh-CN/docs/deploy/depend/opensips"><span title="OpenSIPS" class="linkLabel_J_DF">OpenSIPS</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist" href="/docs/zh-CN/docs/category/llm-provider"><span title="大模型对接" class="categoryLinkLabel_fMPM">大模型对接</span></a><button aria-label="展开侧边栏分类 &#x27;大模型对接&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist" href="/docs/zh-CN/docs/category/solutions"><span title="解决方案" class="categoryLinkLabel_fMPM">解决方案</span></a><button aria-label="展开侧边栏分类 &#x27;解决方案&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist" href="/docs/zh-CN/docs/category/channel"><span title="渠道对接" class="categoryLinkLabel_fMPM">渠道对接</span></a><button aria-label="展开侧边栏分类 &#x27;渠道对接&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist" href="/docs/zh-CN/docs/category/compare"><span title="同业对比" class="categoryLinkLabel_fMPM">同业对比</span></a><button aria-label="展开侧边栏分类 &#x27;同业对比&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist" href="/docs/zh-CN/docs/category/modules"><span title="功能模块" class="categoryLinkLabel_fMPM">功能模块</span></a><button aria-label="展开侧边栏分类 &#x27;功能模块&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist" href="/docs/zh-CN/docs/category/plugins"><span title="插件扩展" class="categoryLinkLabel_fMPM">插件扩展</span></a><button aria-label="展开侧边栏分类 &#x27;插件扩展&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_aJVM menu__link menu__link--sublist" href="/docs/zh-CN/docs/category/performance"><span title="性能测试" class="categoryLinkLabel_fMPM">性能测试</span></a><button aria-label="展开侧边栏分类 &#x27;性能测试&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zh-CN/docs/faq"><span title="常见问题" class="linkLabel_J_DF">常见问题</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zh-CN/docs/payment"><span title="费用相关" class="linkLabel_J_DF">费用相关</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zh-CN/docs/xinchuang"><span title="等保信创" class="linkLabel_J_DF">等保信创</span></a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_wLbt"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_v1u3"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_BpG3"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_C0ya"><div class="docItemContainer_Pevi"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_GkpC" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/docs/zh-CN/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_riqW"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/zh-CN/docs/category/private-deployment"><span>私有部署</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/zh-CN/docs/category/dependencies"><span>依赖组件</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Artemis</span></li></ul></nav><div class="tocCollapsible_eHMb theme-doc-toc-mobile tocMobile_maSG"><button type="button" class="clean-btn tocCollapsibleButton_CW2T">本页总览</button></div><div class="theme-doc-markdown markdown"><div class="row"><div class="col col--12 markdown"><header><h1>Artemis 消息中间件</h1></header>
<div class="theme-admonition theme-admonition-tip admonition_LRQD alert alert--success"><div class="admonitionHeading_BUzK"><span class="admonitionIcon_xl5e"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>系统要求</div><div class="admonitionContent_Iox6"><ul>
<li>操作系统：Ubuntu 22.04 LTS</li>
<li>服务器推荐配置：2核4G内存</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-info admonition_LRQD alert alert--info"><div class="admonitionHeading_BUzK"><span class="admonitionIcon_xl5e"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>第三方组件说明</div><div class="admonitionContent_Iox6"><p>以下说明仅供参考，具体配置和使用方法请参考 <a href="https://activemq.apache.org/components/artemis/documentation/latest/" target="_blank" rel="noopener noreferrer">Apache ActiveMQ Artemis 官方文档</a>。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="简介">简介<a href="#简介" class="hash-link" aria-label="简介的直接链接" title="简介的直接链接" translate="no">​</a></h2>
<p>Apache ActiveMQ Artemis 是 Apache 软件基金会开源的一个高性能、异步的消息传递系统。作为微语系统（基于Spring Boot 3.x开发）的核心组件之一，Artemis 消息队列在系统中扮演着至关重要的角色，主要用于处理实时聊天消息收发以及大规模FAQ文件批量导入等场景。</p>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="artemis-在微语系统中的应用场景">Artemis 在微语系统中的应用场景<a href="#artemis-在微语系统中的应用场景" class="hash-link" aria-label="Artemis 在微语系统中的应用场景的直接链接" title="Artemis 在微语系统中的应用场景的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="实时聊天消息处理">实时聊天消息处理<a href="#实时聊天消息处理" class="hash-link" aria-label="实时聊天消息处理的直接链接" title="实时聊天消息处理的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>消息即时收发</strong>：支持客服与访客之间的实时消息传递</li>
<li><strong>消息可靠投递</strong>：确保消息不丢失、不重复</li>
<li><strong>高并发处理</strong>：能够应对大量用户同时在线的场景</li>
<li><strong>多设备同步</strong>：实现消息在多端同步展示</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="批量数据处理">批量数据处理<a href="#批量数据处理" class="hash-link" aria-label="批量数据处理的直接链接" title="批量数据处理的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>FAQ文件批量导入</strong>：支持知识库文章、FAQ问答等大量数据的批量导入</li>
<li><strong>数据异步处理</strong>：将耗时操作异步化，提高系统响应速度</li>
<li><strong>任务队列管理</strong>：对大型批处理任务进行排队和调度</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="为什么选择-artemis">为什么选择 Artemis<a href="#为什么选择-artemis" class="hash-link" aria-label="为什么选择 Artemis的直接链接" title="为什么选择 Artemis的直接链接" translate="no">​</a></h2>
<p>Artemis 相比其他消息队列系统具有以下优势：</p>
<ul>
<li><strong>高性能</strong>：更高的消息吞吐量和更低的延迟</li>
<li><strong>可靠性</strong>：支持完整的JMS和AMQP协议，确保消息可靠投递</li>
<li><strong>Spring Boot整合</strong>：与Spring Boot 3.x完美集成，配置简单</li>
<li><strong>多协议支持</strong>：同时支持JMS、AMQP、STOMP、MQTT等多种协议</li>
<li><strong>灵活消息模式</strong>：支持点对点队列和发布订阅主题两种模式</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="方法一使用docker安装artemis">方法一：使用Docker安装Artemis<a href="#方法一使用docker安装artemis" class="hash-link" aria-label="方法一：使用Docker安装Artemis的直接链接" title="方法一：使用Docker安装Artemis的直接链接" translate="no">​</a></h2>
<p>推荐使用Docker方式部署Artemis，简单高效且易于管理。下面是完整的docker-compose配置示例：</p>
<div class="language-yaml codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-yaml codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Artemis消息中间件服务配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">bytedesk-artemis</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apache/activemq</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">artemis</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> artemis</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">bytedesk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 基本认证设置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ARTEMIS_USER=admin           </span><span class="token comment" style="color:#999988;font-style:italic"># 管理员账号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ARTEMIS_PASSWORD=admin       </span><span class="token comment" style="color:#999988;font-style:italic"># 管理员密码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ANONYMOUS_LOGIN=false        </span><span class="token comment" style="color:#999988;font-style:italic"># 禁用匿名登录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 额外参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> EXTRA_ARGS=</span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">host 0.0.0.0 </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">relax</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">jolokia  </span><span class="token comment" style="color:#999988;font-style:italic"># 允许远程访问</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;16161:61616&quot;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># JMS端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;18161:8161&quot;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Web控制台端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;16162:61617&quot;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># AMQP端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;15672:5672&quot;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># AMQP端口(备用)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;16163:61613&quot;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># STOMP端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;11883:1883&quot;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># MQTT端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> artemis_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/artemis/data  </span><span class="token comment" style="color:#999988;font-style:italic"># 数据持久化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> bytedesk</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always     </span><span class="token comment" style="color:#999988;font-style:italic"># 自动重启</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">healthcheck</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 健康检查</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">test</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;CMD&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--fail&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:8161/console/jolokia/read/org.apache.activemq.artemis:broker=\&quot;0.0.0.0\&quot;&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 30s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">retries</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 存储卷与网络定义</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">artemis_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Artemis数据持久化卷</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">bytedesk-network</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">driver</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bridge</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="方法二直接下载安装包解压部署">方法二：直接下载安装包解压部署<a href="#方法二直接下载安装包解压部署" class="hash-link" aria-label="方法二：直接下载安装包解压部署的直接链接" title="方法二：直接下载安装包解压部署的直接链接" translate="no">​</a></h2>
<ul>
<li><a href="https://activemq.apache.org/components/artemis/download/" target="_blank" rel="noopener noreferrer">下载Artemis安装包</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="安装">安装<a href="#安装" class="hash-link" aria-label="安装的直接链接" title="安装的直接链接" translate="no">​</a></h2>
<div class="language-shell codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-shell codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 解压到apache-artemis-2.37.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># tar -zxvf apache-artemis-2.37.0-bin.tar.gz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># artemis需要创建一个文件夹，cd到目标文件夹，执行以下命令，创建mybroker文件夹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./apache-artemis-2.37.0/bin/artemis create mybroker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 输入用户名和密码: admin/admin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 前台启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./mybroker/bin/artemis run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 后台启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./mybroker/bin/artemis-service start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 停止</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./mybroker/bin/artemis stop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 查看状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./mybroker/bin/artemis-service status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 查看日志</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./mybroker/bin/artemis-service log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 查看帮助</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./apache-artemis-2.37.0/bin/artemis </span><span class="token builtin class-name">help</span><span class="token plain"> create</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 修改端口号，本地冲突，将默认端口号+1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> mybroker/etc/broker.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># web管理界面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost:8161</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="artemis-部署模式选择">Artemis 部署模式选择<a href="#artemis-部署模式选择" class="hash-link" aria-label="Artemis 部署模式选择的直接链接" title="Artemis 部署模式选择的直接链接" translate="no">​</a></h2>
<p>微语系统支持两种 Artemis 部署模式，您可以根据实际需求选择最适合的方式：</p>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="1-embedded-模式开发测试推荐">1. Embedded 模式（开发测试推荐）<a href="#1-embedded-模式开发测试推荐" class="hash-link" aria-label="1. Embedded 模式（开发测试推荐）的直接链接" title="1. Embedded 模式（开发测试推荐）的直接链接" translate="no">​</a></h3>
<p>Embedded 模式下，Spring Boot 会自动启动内嵌的 Artemis broker，无需额外安装和配置 Artemis 服务。</p>
<p><strong>优点：</strong></p>
<ul>
<li>无需额外安装 Artemis</li>
<li>配置简单，开箱即用</li>
<li>适合开发和测试环境</li>
<li>快速启动和调试</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>性能相对较低</li>
<li>不适合生产环境</li>
<li>无法支持集群部署</li>
</ul>
<p><strong>配置示例：</strong></p>
<div class="language-properties codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-properties codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token plain"># ===============================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># = Artemis Embedded 模式配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ===============================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启用 embedded 模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.mode=embedded</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="2-native-模式生产环境推荐">2. Native 模式（生产环境推荐）<a href="#2-native-模式生产环境推荐" class="hash-link" aria-label="2. Native 模式（生产环境推荐）的直接链接" title="2. Native 模式（生产环境推荐）的直接链接" translate="no">​</a></h3>
<p>Native 模式连接到外部独立的 Artemis broker，适合生产环境部署。</p>
<p><strong>优点：</strong></p>
<ul>
<li>性能更高</li>
<li>支持集群部署</li>
<li>适合生产环境</li>
<li>更好的可扩展性和可维护性</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>需要额外安装和配置 Artemis</li>
<li>配置相对复杂</li>
<li>需要维护独立的消息服务</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="微语应用配置">微语应用配置<a href="#微语应用配置" class="hash-link" aria-label="微语应用配置的直接链接" title="微语应用配置的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="native-模式配置生产环境推荐">Native 模式配置（生产环境推荐）<a href="#native-模式配置生产环境推荐" class="hash-link" aria-label="Native 模式配置（生产环境推荐）的直接链接" title="Native 模式配置（生产环境推荐）的直接链接" translate="no">​</a></h3>
<p>在微语中配置连接到Docker中的Artemis。下面分别展示配置与对应的Docker环境变量设置方式：</p>
<div class="language-properties codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-properties codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token plain"># ===============================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># = Artemis Native 模式配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ===============================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启用 native 模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.mode=native</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># native 模式连接配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.broker-url=tcp://127.0.0.1:16161</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.user=admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.password=admin</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="配置模式切换">配置模式切换<a href="#配置模式切换" class="hash-link" aria-label="配置模式切换的直接链接" title="配置模式切换的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="如何在两种模式之间切换">如何在两种模式之间切换<a href="#如何在两种模式之间切换" class="hash-link" aria-label="如何在两种模式之间切换的直接链接" title="如何在两种模式之间切换的直接链接" translate="no">​</a></h3>
<p>要在 Embedded 模式和 Native 模式之间切换，请按以下步骤操作：</p>
<ol>
<li><strong>修改模式配置</strong>：更改 <code>spring.artemis.mode</code> 属性值</li>
<li><strong>注释当前模式配置</strong>：将当前模式的相关配置注释掉</li>
<li><strong>启用目标模式配置</strong>：取消注释目标模式的配置</li>
<li><strong>重启应用</strong>：重启微语应用以使配置生效</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="更多配置参数可选配置项">更多配置参数(可选配置项)<a href="#更多配置参数可选配置项" class="hash-link" aria-label="更多配置参数(可选配置项)的直接链接" title="更多配置参数(可选配置项)的直接链接" translate="no">​</a></h2>
<div class="language-bash codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-bash codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ===============================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># = JMS 配置（适用于两种模式）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ===============================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 启用Spring Boot的JMS自动配置，让Spring Boot自动管理ConnectionFactory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.auto-startup</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.acknowledge-mode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">auto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 并发消费者数 - 增加并发处理能力</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">spring.jms.listener.concurrency</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.max-concurrency</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 增加接收超时时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.receive-timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">15000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 消息失败重试配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.max-attempts</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 指数退避算法的初始间隔（毫秒）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.initial-interval</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 指数退避算法的最大间隔（毫秒）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.max-interval</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">15000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 指数退避算法的乘数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">spring.jms.listener.multiplier</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 启用JMS错误处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.missing-queues-fatal</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.connection-factory-fatal</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 连接池配置 - 解决连接问题</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">spring.artemis.pool.enabled</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.pool.max-connections</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.pool.min-connections</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.pool.time-between-expiration-check</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.pool.idle-timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">60000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.pool.max-lifetime</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">300000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 连接超时和重试配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.connection-timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">15000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.connection-ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.call-timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">15000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.call-failover-timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">15000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 连接重试和故障转移配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.retry-interval</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.max-retry-interval</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.reconnect-attempts</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">15</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.initial-connect-attempts</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 流控制和性能配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.consumer-window-size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.producer-window-size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.consumer-max-rate</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.producer-max-rate</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.confirmation-window-size</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.block-on-durable-send</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.block-on-non-durable-send</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ===============================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># = Artemis 健康检查配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ===============================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">management.health.jms.enabled</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">management.health.artemis.enabled</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="重要说明">重要说明<a href="#重要说明" class="hash-link" aria-label="重要说明的直接链接" title="重要说明的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="connectionfactory-创建机制">ConnectionFactory 创建机制<a href="#connectionfactory-创建机制" class="hash-link" aria-label="ConnectionFactory 创建机制的直接链接" title="ConnectionFactory 创建机制的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>Embedded 模式</strong>：Spring Boot 自动创建内嵌的 ConnectionFactory</li>
<li><strong>Native 模式</strong>：手动创建 并配置连接到外部 Artemis 的 ConnectionFactory</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="监听器工厂和-jmstemplate">监听器工厂和 JmsTemplate<a href="#监听器工厂和-jmstemplate" class="hash-link" aria-label="监听器工厂和 JmsTemplate的直接链接" title="监听器工厂和 JmsTemplate的直接链接" translate="no">​</a></h3>
<ul>
<li>两种模式都使用相同的 JMS 配置</li>
<li>自动使用对应模式的 ConnectionFactory</li>
<li>监听器工厂和 JmsTemplate 配置保持一致</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="健康检查">健康检查<a href="#健康检查" class="hash-link" aria-label="健康检查的直接链接" title="健康检查的直接链接" translate="no">​</a></h3>
<ul>
<li>两种模式都支持 Spring Boot Actuator 健康检查</li>
<li>可通过 <code>/actuator/health</code> 端点查看 Artemis 连接状态</li>
<li>生产环境建议启用健康检查监控</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="配置管理最佳实践">配置管理最佳实践<a href="#配置管理最佳实践" class="hash-link" aria-label="配置管理最佳实践的直接链接" title="配置管理最佳实践的直接链接" translate="no">​</a></h3>
<ol>
<li><strong>集中管理</strong>：所有 Artemis 和 JMS 配置集中在一个配置块中</li>
<li><strong>避免重复</strong>：不同模式的配置通过注释切换，避免配置分散</li>
<li><strong>环境区分</strong>：不同环境使用不同的配置文件（如 application-dev.properties、application-prod.properties）</li>
<li><strong>版本控制</strong>：将配置文件纳入版本控制，便于配置变更追踪</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="故障排除">故障排除<a href="#故障排除" class="hash-link" aria-label="故障排除的直接链接" title="故障排除的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="连接失败问题">连接失败问题<a href="#连接失败问题" class="hash-link" aria-label="连接失败问题的直接链接" title="连接失败问题的直接链接" translate="no">​</a></h3>
<p><strong>问题现象</strong>：应用启动时出现连接 Artemis 失败的错误</p>
<p><strong>排查步骤</strong>：</p>
<ol>
<li>
<p><strong>检查 Artemis 服务状态</strong></p>
<div class="language-bash codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-bash codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Docker 方式检查</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ps</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> artemis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> logs artemis-bytedesk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 独立安装方式检查</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./mybroker/bin/artemis-service status</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>验证连接参数</strong></p>
<ul>
<li>检查 broker URL 是否正确（IP、端口）</li>
<li>验证用户名和密码是否匹配</li>
<li>确认网络连通性</li>
</ul>
</li>
<li>
<p><strong>查看应用日志</strong></p>
<div class="language-bash codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-bash codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 查找 JMS 和 Artemis 相关错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;artemis\|jms&quot;</span><span class="token plain"> application.log</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="性能问题优化">性能问题优化<a href="#性能问题优化" class="hash-link" aria-label="性能问题优化的直接链接" title="性能问题优化的直接链接" translate="no">​</a></h3>
<p><strong>问题现象</strong>：消息处理延迟高或吞吐量低</p>
<p><strong>优化建议</strong>：</p>
<ol>
<li>
<p><strong>调整连接池配置</strong></p>
<div class="language-properties codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-properties codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token plain"># 增加连接池大小</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.pool.max-connections=50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.pool.idle-timeout=30000</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>优化并发消费者数量</strong></p>
<div class="language-properties codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-properties codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token plain"># 根据 CPU 核心数调整</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.max-concurrency=20</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>配置适当的超时时间</strong></p>
<div class="language-properties codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-properties codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token plain"># 调整接收超时</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.receive-timeout=5000</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="消息丢失问题">消息丢失问题<a href="#消息丢失问题" class="hash-link" aria-label="消息丢失问题的直接链接" title="消息丢失问题的直接链接" translate="no">​</a></h3>
<p><strong>问题现象</strong>：消息发送 后未能正确投递或处理</p>
<p><strong>排查方案</strong>：</p>
<ol>
<li>
<p><strong>检查消息确认模式</strong></p>
<div class="language-properties codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-properties codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token plain"># 使用客户端确认模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.jms.listener.acknowledge-mode=client</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>启用死信队列</strong></p>
<div class="language-properties codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-properties codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token plain"># 配置死信队列处理失败消息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.embedded.queues=DLQ</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>查看 Artemis 管理控制台</strong></p>
<ul>
<li>访问 <code>http://server:18161/console</code></li>
<li>检查队列中的消息堆积情况</li>
<li>查看死信队列中的失败消息</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="内存使用过高">内存使用过高<a href="#内存使用过高" class="hash-link" aria-label="内存使用过高的直接链接" title="内存使用过高的直接链接" translate="no">​</a></h3>
<p><strong>问题现象</strong>：Artemis 或应用内存占用过高</p>
<p><strong>解决方案</strong>：</p>
<ol>
<li>
<p><strong>调整 JVM 堆内存</strong></p>
<div class="language-bash codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-bash codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Docker 环境变量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JAVA_OPTS: </span><span class="token string" style="color:#e3116c">&quot;-Xmx2g -Xms1g&quot;</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>配置消息持久化</strong></p>
<div class="language-properties codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-properties codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token plain"># Embedded 模式启用持久化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.artemis.embedded.persistent=true</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>限制队列大小</strong></p>
<div class="language-xml codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-xml codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 在 artemis-config.xml 中配置 --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max-size-bytes</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">100MB</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max-size-bytes</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="docker-环境变量配置">Docker 环境变量配置<a href="#docker-环境变量配置" class="hash-link" aria-label="Docker 环境变量配置的直接链接" title="Docker 环境变量配置的直接链接" translate="no">​</a></h3>
<p>在使用 Docker 部署微语服务时，可以通过环境变量来设置以上配置：</p>
<div class="language-yaml codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-yaml codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">bytedesk-server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bytedesk/bytedesk</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Artemis基本连接配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SPRING_ARTEMIS_MODE=native</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SPRING_ARTEMIS_BROKER_URL=tcp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//bytedesk</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">artemis</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">61616</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SPRING_ARTEMIS_USER=admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SPRING_ARTEMIS_PASSWORD=admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 其他微语系统配置...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> bytedesk</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">artemis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> bytedesk</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">network</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="访问web管理控制台">访问Web管理控制台<a href="#访问web管理控制台" class="hash-link" aria-label="访问Web管理控制台的直接链接" title="访问Web管理控制台的直接链接" translate="no">​</a></h2>
<p>部署完成后，可以通过浏览器访问Web管理界面：</p>
<div class="language-bash codeBlockContainer_u6CE theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9BA"><pre tabindex="0" class="prism-code language-bash codeBlock_snH3 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Trvh"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 替换为自己服务器的IP地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># artemis管理控制台访问地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1:18161/console</span><br></span></code></pre></div></div>
<p>使用以下凭据登录：</p>
<ul>
<li>用户名：admin</li>
<li>密码：admin</li>
</ul>
<blockquote>
<p><strong>提示</strong>：访问管理控制台可以监控队列状态、消息流量和健康状况，是排查问题的重要工具
<strong>集群环境提示</strong>:</p>
<ol>
<li>确保所有微语服务实例使用相同的Artemis服务器地址</li>
<li>推荐使用内网地址（如Docker网络中的容器名称）以提高性能和安全性</li>
<li>根据服务器CPU核心数合理设置最大消费者数（max-concurrency）</li>
</ol>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="相关资源链接">相关资源链接<a href="#相关资源链接" class="hash-link" aria-label="相关资源链接的直接链接" title="相关资源链接的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="官方文档">官方文档<a href="#官方文档" class="hash-link" aria-label="官方文档的直接链接" title="官方文档的直接链接" translate="no">​</a></h3>
<ul>
<li><a href="https://docs.spring.io/spring-boot/reference/messaging/jms.html" target="_blank" rel="noopener noreferrer">Spring Boot JMS 文档</a> - Spring Boot JMS 集成指南</li>
<li><a href="https://activemq.apache.org/components/artemis/documentation/latest/index.html" target="_blank" rel="noopener noreferrer">Apache Artemis 官方文档</a> - Artemis 完整文档</li>
<li><a href="https://spring.io/guides/gs/messaging-jms/" target="_blank" rel="noopener noreferrer">Spring JMS 指南</a> - Spring JMS 快速入门</li>
<li><a href="https://hub.docker.com/r/apache/activemq-artemis" target="_blank" rel="noopener noreferrer">Artemis Docker镜像说明</a> - Docker 部署参考</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="总结">总结<a href="#总结" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接" translate="no">​</a></h2>
<p>Apache ActiveMQ Artemis 作为微语系统的消息中间件，在实时通讯场景中具有出色的性能和可靠性。本文档详细介绍了：</p>
<ol>
<li><strong>两种部署模式</strong>：Embedded 模式适合开发测试，Native 模式适合生产环境</li>
<li><strong>完整配置指南</strong>：包含所有必要的配置参数和最佳实践</li>
<li><strong>模式切换方法</strong>：如何在不同模式间灵活切换</li>
<li><strong>故障排除方案</strong>：常见问题的诊断和解决方法</li>
<li><strong>性能优化建议</strong>：提升系统性能的配置技巧</li>
</ol>
<p>通过 Docker 方式部署大大简化了安装和配置过程，无需关心繁琐的服务器配置细节，让您可以更专注于业务功能的开发。选择合适的部署模式，并根据实际需求调整配置参数，可以让微语系统发挥最佳性能。</p>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="artemis与其他消息队列系统对比">Artemis与其他消息队列系统对比<a href="#artemis与其他消息队列系统对比" class="hash-link" aria-label="Artemis与其他消息队列系统对比的直接链接" title="Artemis与其他消息队列系统对比的直接链接" translate="no">​</a></h2>
<p>作为消息中间件领域的后起之秀，Artemis在多个方面展现出了相比RabbitMQ、Kafka、RocketMQ等流行消息队列系统的独特优势。下面从多个维度对比了几种主流消息队列系统，帮助您理解微语系统选择Artemis的原因：</p>
<table><thead><tr><th>对比项</th><th>Artemis</th><th>RabbitMQ</th><th>Kafka</th><th>RocketMQ</th></tr></thead><tbody><tr><td><strong>定位</strong></td><td>全能型消息中间件</td><td>可靠性优先的消息代理</td><td>高吞吐量的流处理平台</td><td>金融级消息中间件</td></tr><tr><td><strong>性能</strong></td><td>极高（百万级TPS）</td><td>中等（数万级TPS）</td><td>极高（百万级TPS）</td><td>高（十万级TPS）</td></tr><tr><td><strong>易用性</strong></td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐</td><td>⭐⭐⭐</td></tr><tr><td><strong>运维复杂度</strong></td><td>低</td><td>低</td><td>高</td><td>中</td></tr><tr><td><strong>Spring整合</strong></td><td>原生支持（最佳）</td><td>良好</td><td>良好</td><td>良好</td></tr><tr><td><strong>协议支持</strong></td><td>AMQP, MQTT, STOMP, OpenWire, Core</td><td>AMQP</td><td>自定义协议</td><td>自定义协议</td></tr><tr><td><strong>资源占用</strong></td><td>低</td><td>中</td><td>高</td><td>中</td></tr><tr><td><strong>部署难度</strong></td><td>简单</td><td>简单</td><td>复杂</td><td>中等</td></tr><tr><td><strong>消息可靠性</strong></td><td>高</td><td>高</td><td>高（需配置）</td><td>高</td></tr><tr><td><strong>社区活跃度</strong></td><td>中等</td><td>高</td><td>极高</td><td>高</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="为什么微语系统选择artemis">为什么微语系统选择Artemis？<a href="#为什么微语系统选择artemis" class="hash-link" aria-label="为什么微语系统选择Artemis？的直接链接" title="为什么微语系统选择Artemis？的直接链接" translate="no">​</a></h3>
<ol>
<li>
<p><strong>实时通讯场景最佳匹配</strong></p>
<ul>
<li>Artemis专为低延迟、高并发的消息场景设计，完美匹配客服系统的实时通讯需求</li>
<li>对于客服消息这类小消息量大并发场景，Artemis表现出色</li>
</ul>
</li>
<li>
<p><strong>最简配置与维护</strong></p>
<ul>
<li>相比Kafka和RocketMQ复杂的集群配置，Artemis单节点即可满足大多数中小企业需求</li>
<li>Docker一键部署，无需深入了解中间件内部机制</li>
</ul>
</li>
<li>
<p><strong>与Spring Boot 3.x的无缝集成</strong></p>
<ul>
<li>Spring官方推荐的JMS实现，自动装配、零配置集成</li>
<li>丰富的注解支持和简洁的API设计，降低开发门槛</li>
</ul>
</li>
<li>
<p><strong>多协议支持</strong></p>
<ul>
<li>同时支持AMQP、MQTT等多种协议，使未来集成多样化客户端更加便捷</li>
<li>无需为不同设备端（小程序、APP、网页等）部署不同中间件</li>
</ul>
</li>
<li>
<p><strong>单一中间件解决多场景需求</strong></p>
<ul>
<li>既能处理实时消息的即时投递，又能应对批量导入的大量数据处理</li>
<li>队列和主题模式灵活切换，满足不同业务场景</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_jrcE" id="实用建议">实用建议<a href="#实用建议" class="hash-link" aria-label="实用建议的直接链接" title="实用建议的直接链接" translate="no">​</a></h3>
<p>针对不同规模的企业，我们有以下建议：</p>
<ul>
<li><strong>初创公司/小团队</strong>: 单节点Artemis足够应对大部分场景，简单易用且性能优异</li>
<li><strong>中型企业</strong>: 可考虑Artemis集群配置，提高可用性</li>
<li><strong>大型企业/特殊场景</strong>:<!-- -->
<ul>
<li>如果已有成熟的Kafka/RocketMQ运维团队，可继续使用现有中间件</li>
<li>超高并发场景(日消息量&gt;千万级)可考虑Kafka</li>
<li>需要复杂路由规则可考虑RabbitMQ</li>
</ul>
</li>
</ul>
<p>无论您选择哪种消息队列系统，微语都能通过配置进行适配。但对于大多数用户而言，Artemis提供了最佳的性能与易用性平衡，是微语系统推荐的首选消息中间件。</p>
<h2 class="anchor anchorWithStickyNavbar_jrcE" id="参  考资料">参考资料<a href="#参考资料" class="hash-link" aria-label="参考资料的直接链接" title="参考资料的直接链接" translate="no">​</a></h2>
<ul>
<li><a href="https://activemq.apache.org/components/artemis/documentation/latest/" target="_blank" rel="noopener noreferrer">ActiveMQ Artemis官方文档</a></li>
<li><a href="https://hub.docker.com/r/apache/activemq-artemis" target="_blank" rel="noopener noreferrer">Artemis Docker镜像说明</a></li>
<li><a href="https://spring.io/guides/gs/messaging-jms/" target="_blank" rel="noopener noreferrer">Spring Boot与Artemis集成指南</a></li>
</ul></div></div></div><div class="row"><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/bytedesk/bytedesk-docs/blob/main/i18n/zh-CN/docusaurus-plugin-content-docs/current/deploy/depend/artemis.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_D3U9" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_S4mo"><span class="theme-last-updated">最后<!-- -->由 <b>jack ning</b> <!-- -->于 <b><time datetime="2025-10-24T04:15:39.000Z" itemprop="dateModified">2025年10月24日</time></b> <!-- -->更新</span></div></div><div class="feedbackContainer_YCD2"><div class="feedbackQuestion_oWvU"><p>这页文档对您有帮助吗？</p><div class="buttonContainer_Zim_"><button class="feedbackButton_fT9j positive_qcHW">有帮助 👍</button><button class="feedbackButton_fT9j negative_CWIX">需改进 👎</button></div></div></div></footer></div></div></article><div class="row"><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/zh-CN/docs/deploy/depend/nginx"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Nginx</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/zh-CN/docs/deploy/depend/funasr"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">FunASR</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_XgtV thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#简介" class="table-of-contents__link toc-highlight">简介</a></li><li><a href="#artemis-在微语系统中的应用场景" class="table-of-contents__link toc-highlight">Artemis 在微语系统中的应用场景</a><ul><li><a href="#实时聊天消息处理" class="table-of-contents__link toc-highlight">实时聊天消息处理</a></li><li><a href="#批量数据处理" class="table-of-contents__link toc-highlight">批量数据处理</a></li></ul></li><li><a href="#为什么选择-artemis" class="table-of-contents__link toc-highlight">为什么选择 Artemis</a></li><li><a href="#方法一使用docker安装artemis" class="table-of-contents__link toc-highlight">方法一：使用Docker安装Artemis</a></li><li><a href="#方法二直接下载安装包解压部署" class="table-of-contents__link toc-highlight">方法二：直接下载安装包解压部署</a></li><li><a href="#安装" class="table-of-contents__link toc-highlight">安装</a></li><li><a href="#artemis-部署模式选择" class="table-of-contents__link toc-highlight">Artemis 部署模式选择</a><ul><li><a href="#1-embedded-模式开发测试推荐" class="table-of-contents__link toc-highlight">1. Embedded 模式（开发测试推荐）</a></li><li><a href="#2-native-模式生产环境推荐" class="table-of-contents__link toc-highlight">2. Native 模式（生产环境推荐）</a></li></ul></li><li><a href="#微语应用配置" class="table-of-contents__link toc-highlight">微语应用配置</a><ul><li><a href="#native-模式配置生产环境推荐" class="table-of-contents__link toc-highlight">Native 模式配置（生产环境推荐）</a></li></ul></li><li><a href="#配置模式切换" class="table-of-contents__link toc-highlight">配置模式切换</a><ul><li><a href="#如何在两种模式之间切换" class="table-of-contents__link toc-highlight">如何在两种模式之间切换</a></li></ul></li><li><a href="#更多配置参数可选配置项" class="table-of-contents__link toc-highlight">更多配置参数(可选配置项)</a></li><li><a href="#重要说明" class="table-of-contents__link toc-highlight">重要说明</a><ul><li><a href="#connectionfactory-创建机制" class="table-of-contents__link toc-highlight">ConnectionFactory 创建机制</a></li><li><a href="#监听器工厂和-jmstemplate" class="table-of-contents__link toc-highlight">监听器工厂和 JmsTemplate</a></li><li><a href="#健康检查" class="table-of-contents__link toc-highlight">健康检查</a></li><li><a href="#配置管理最佳实践" class="table-of-contents__link toc-highlight">配置管理最佳实践</a></li></ul></li><li><a href="#故障排除" class="table-of-contents__link toc-highlight">故障排除</a><ul><li><a href="#连接失败问题" class="table-of-contents__link toc-highlight">连接失败问题</a></li><li><a href="#性能问题优化" class="table-of-contents__link toc-highlight">性能问题优化</a></li><li><a href="#消息丢失问题" class="table-of-contents__link toc-highlight">消息丢失问题</a></li><li><a href="#内存使用过高" class="table-of-contents__link toc-highlight">内存使用过高</a></li><li><a href="#docker-环境变量配置" class="table-of-contents__link toc-highlight">Docker 环境变量配置</a></li></ul></li><li><a href="#访问web管理控制台" class="table-of-contents__link toc-highlight">访问Web管理控制台</a></li><li><a href="#相关资源链接" class="table-of-contents__link toc-highlight">相关资源链接</a><ul><li><a href="#官方文档" class="table-of-contents__link toc-highlight">官方文档</a></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#artemis与其他消息队列系统对比" class="table-of-contents__link toc-highlight">Artemis与其他消息队列系统对比</a><ul><li><a href="#为什么微语系统选择artemis" class="table-of-contents__link toc-highlight">为什么微语系统选择Artemis？</a></li><li><a href="#实用建议" class="table-of-contents__link toc-highlight">实用建议</a></li></ul></li><li><a href="#参考资料" class="table-of-contents__link toc-highlight">参考资料</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/zh-CN/docs/intro">教程</a></li><li class="footer__item"><a href="https://www.weiyuai.cn/contact.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">联系我们<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/bytedeskai" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.weiyuai.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">微信公众号<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/zh-CN/blog">博客</a></li><li class="footer__item"><a href="https://github.com/bytedesk/bytedesk" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/zh-CN/docs/payment">价格方案</a></li><li class="footer__item"><a href="https://www.weiyuai.cn/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">隐私政策<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_FmOW"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 weiyuai.cn, Inc. 京ICP备17041763号-20. 保留所有权利。</div></div></div></footer></div>
</body>
</html>