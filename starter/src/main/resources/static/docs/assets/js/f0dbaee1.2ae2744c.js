"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2491],{19971:(e,o,n)=>{n.d(o,{R:()=>a,x:()=>r});var l=n(30758);const s={},t=l.createContext(s);function a(e){const o=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),l.createElement(t.Provider,{value:o},e.children)}},31417:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>i,contentTitle:()=>r,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"deploy/docker","title":"Docker Deployment","description":"Need a trial license? Please refer to How to apply for licenseKey","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/deploy/docker.md","sourceDirName":"deploy","slug":"/deploy/docker","permalink":"/docs/docs/deploy/docker","draft":false,"unlisted":false,"editUrl":"https://github.com/bytedesk/bytedesk-docs/blob/main/docs/deploy/docker.md","tags":[],"version":"current","lastUpdatedBy":"jack ning","lastUpdatedAt":1761279339000,"sidebarPosition":3,"frontMatter":{"sidebar_label":"Docker Deployment","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Source Code Deployment","permalink":"/docs/docs/deploy/source"},"next":{"title":"JAR","permalink":"/docs/docs/deploy/jar"}}');var s=n(86070),t=n(19971);const a={sidebar_label:"Docker Deployment",sidebar_position:3},r="Docker Deployment",i={},d=[{value:"Method 1: One-line command startup, requires separate ollama installation",id:"method-1-one-line-command-startup-requires-separate-ollama-installation",level:2},{value:"Since the project uses ollama qwen3:0.6b model by default, you need to pull the model separately",id:"since-the-project-uses-ollama-qwen306b-model-by-default-you-need-to-pull-the-model-separately",level:3},{value:"Method 2: Use docker compose ollama, ollama integrated by default",id:"method-2-use-docker-compose-ollama-ollama-integrated-by-default",level:2},{value:"Stop Containers",id:"stop-containers",level:2},{value:"Open Ports",id:"open-ports",level:2},{value:"Demo",id:"demo",level:2},{value:"Orchestration Content (Choose One)",id:"orchestration-content-choose-one",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function c(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"docker-deployment",children:"Docker Deployment"})}),"\n",(0,s.jsx)(o.admonition,{title:"Trial License",type:"info",children:(0,s.jsxs)(o.p,{children:["Need a trial license? Please refer to: ",(0,s.jsx)(o.a,{href:"/docs/faq#question-13-how-to-apply-for-licensekey",children:"Question 13: How to apply for licenseKey"})]})}),"\n",(0,s.jsx)(o.admonition,{type:"tip",children:(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Operating System: Ubuntu 22.04 LTS"}),"\n",(0,s.jsx)(o.li,{children:"Server minimum configuration: 4 cores 8GB RAM"}),"\n",(0,s.jsx)(o.li,{children:"Configuration requirements too high? Suggestion: You can split MySQL, Redis, Elasticsearch, ArtemisMQ and other services to other servers, keeping only core services on the main server. This can effectively reduce server configuration requirements."}),"\n",(0,s.jsxs)(o.li,{children:["Docker Community Edition images, choose one of the two, recommend Alibaba Cloud image for domestic use","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["bytedesk/bytedesk-ce",":latest"," # hub.docker.com community"]}),"\n",(0,s.jsxs)(o.li,{children:["registry.cn-hangzhou.aliyuncs.com/bytedesk/bytedesk-ce",":latest"," # Alibaba Cloud community image"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["Docker Enterprise Edition/Platform Edition images, choose one of the two, recommend Alibaba Cloud image for domestic use","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["bytedesk/bytedesk",":latest"," # hub.docker.com enterprise"]}),"\n",(0,s.jsxs)(o.li,{children:["registry.cn-hangzhou.aliyuncs.com/bytedesk/bytedesk",":latest"," # Alibaba Cloud enterprise/platform image"]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,s.jsx)(o.h2,{id:"method-1-one-line-command-startup-requires-separate-ollama-installation",children:"Method 1: One-line command startup, requires separate ollama installation"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"git clone https://github.com/Bytedesk/bytedesk.git && cd weiyu/deploy/docker && docker compose -p weiyu -f docker-compose.yaml up -d\n"})}),"\n",(0,s.jsx)(o.h3,{id:"since-the-project-uses-ollama-qwen306b-model-by-default-you-need-to-pull-the-model-separately",children:"Since the project uses ollama qwen3:0.6b model by default, you need to pull the model separately"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"# Chat model\nollama pull qwen3:0.6b\n# Vector model\nollama pull bge-m3:latest\n"})}),"\n",(0,s.jsx)(o.h2,{id:"method-2-use-docker-compose-ollama-ollama-integrated-by-default",children:"Method 2: Use docker compose ollama, ollama integrated by default"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"git clone https://github.com/Bytedesk/bytedesk.git && cd weiyu/deploy/docker && docker compose -p weiyu -f docker-compose-ollama.yaml up -d\n# Chat model\ndocker exec ollama-bytedesk ollama pull qwen3:0.6b\n# Vector model\ndocker exec ollama-bytedesk ollama pull bge-m3:latest\n"})}),"\n",(0,s.jsx)(o.h2,{id:"stop-containers",children:"Stop Containers"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"docker compose -p weiyu -f docker-compose.yaml stop\n# or\ndocker compose -p weiyu -f docker-compose-ollama.yaml stop\n"})}),"\n",(0,s.jsx)(o.h2,{id:"open-ports",children:"Open Ports"}),"\n",(0,s.jsx)(o.p,{children:"Please open inbound ports in internal network"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"9003"}),"\n",(0,s.jsx)(o.li,{children:"9885"}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"demo",children:"Demo"}),"\n",(0,s.jsx)(o.p,{children:"Local preview"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"# Please replace 127.0.0.1 with your server IP\nAccess address: http://127.0.0.1:9003/\nDefault account: admin@email.com\nDefault password: admin\n"})}),"\n",(0,s.jsx)(o.h2,{id:"orchestration-content-choose-one",children:"Orchestration Content (Choose One)"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://github.com/Bytedesk/bytedesk/blob/main/deploy/docker/docker-compose.yaml",children:"Latest docker-compose.yaml - Uses Zhipu AI by default"})}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://github.com/Bytedesk/bytedesk/blob/main/deploy/docker/docker-compose-ollama.yaml",children:"Latest docker-compose-ollama.yaml - Uses ollama by default"})}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"If using docker-compose.yaml - you need to fill in Zhipu AI related configuration yourself, refer to the following configuration:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",children:'# Apply for Zhipu AI API Key: https://www.bigmodel.cn/usercenter/proj-mgmt/apikeys\nSPRING_AI_ZHIPUAI_API_KEY: \'sk-xxx\' # Zhipu AI API Key\nSPRING_AI_ZHIPUAI_CHAT_ENABLED: "true"\nSPRING_AI_ZHIPUAI_CHAT_OPTIONS_MODEL: glm-4-flash\nSPRING_AI_ZHIPUAI_CHAT_OPTIONS_TEMPERATURE: 0.7\nSPRING_AI_ZHIPUAI_EMBEDDING_ENABLED: "true"\n'})}),"\n",(0,s.jsx)(o.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(o.p,{children:"View logs"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"# For example, view MySQL container logs\ndocker logs mysql-bytedesk\n"})})]})}function m(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);