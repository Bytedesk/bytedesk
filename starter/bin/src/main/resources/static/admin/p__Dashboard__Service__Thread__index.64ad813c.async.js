"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2148],{68478:function(e,t,r){r.d(t,{Wq:function(){return l}});var a=r(90819),s=r.n(a),n=r(73193),o=r.n(n),i=r(89933),u=r.n(i),d=r(6844),m=r(19736);function l(e){return c.apply(this,arguments)}function c(){return(c=u()(s()().mark((function e(t){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/v1/queue/query/org",{method:"GET",params:o()(o()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},59244:function(e,t,r){r.d(t,{nV:function(){return m}});var a=r(90819),s=r.n(a),n=r(73193),o=r.n(n),i=r(89933),u=r.n(i),d=(r(6844),r(19736));function m(e){return l.apply(this,arguments)}function l(){return(l=u()(s()().mark((function e(t){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.request)("/api/v1/queue/member/query/org",{method:"GET",params:o()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},67728:function(e,t,r){r.d(t,{D$:function(){return g},EP:function(){return M},hS:function(){return h},z_:function(){return l}});var a=r(90819),s=r.n(a),n=r(73193),o=r.n(n),i=r(89933),u=r.n(i),d=r(6844),m=r(19736);function l(e){return c.apply(this,arguments)}function c(){return(c=u()(s()().mark((function e(t){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/v1/member/query/org",{method:"GET",params:o()(o()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=u()(s()().mark((function e(t){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/v1/member/create",{method:"POST",data:o()(o()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=u()(s()().mark((function e(t){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/v1/member/update",{method:"POST",data:o()(o()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return b.apply(this,arguments)}function b(){return(b=u()(s()().mark((function e(t){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/v1/member/delete",{method:"POST",data:o()(o()({},t),{},{channel:d.XtJ})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},87478:function(e,t,r){r.r(t),r.d(t,{default:function(){return re}});var a=r(31167),s=r(11658),n=r(96334),o=r(33376),i=r(19736),u=r(6844),d=r(88619),m=r(26481),l=r(65819),c=r(15873),g=r(5350),p=r(73193),h=r.n(p),x=r(84176),M=r.n(x),b=r(90819),f=r.n(b),F=r(89933),q=r.n(F),j=r(45332),v=r.n(j),y=r(93527),A=r(59244),I=r(44679),S=r(14888),C=r(35731),k=r(11090),R=r(86307),w=r(66810),Y=r(3925),T=r(96596),L=r.n(T),H=r(44194),D=r(88100),Z=r(67728),z=r(41587),O=r(80556),N=r(61689),P=r(20921),E=r(8232),B=r(12792),U=r(31549),J=function(e){var t=e.thread,r=e.drawerOpen,a=void 0!==r&&r,s=e.onClose,n=(0,i.useIntl)();return(0,U.jsx)(N.Z,{title:n.formatMessage({id:"thread.process.steps.title",defaultMessage:"会话处理流程"}),placement:"right",closable:!0,onClose:s,open:a,width:500,children:(0,U.jsx)(W,{thread:t,isDrawer:!0})})},W=function(e){var t=e.thread,r=e.isDrawer,a=void 0!==r&&r,s=(0,S.u)((function(e){return e.currentOrg})),n=(0,H.useState)([]),o=v()(n,2),u=o[0],d=o[1],m=(0,H.useState)(!1),l=v()(m,2),c=l[0],g=l[1];(0,i.useIntl)();console.log("currentThread",t,c);var p=(0,z.Z)(),h=p.memberResult,x=p.setMemberResult,M=function(){var e=q()(f()().mark((function e(){var r,a;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,g(!0),r={pageNumber:0,pageSize:100,uid:null==t?void 0:t.uid},e.next=7,(0,D.bN)(r);case 7:a=e.sent,console.log("queryThreadProcessHistoryActivity response:",null==a?void 0:a.data),200===a.code?d((null==a?void 0:a.data)||[]):(console.log("queryThreadProcessHistoryActivity error:",null==a?void 0:a.data),y.yw.error(a.message)),g(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Fetch thread history error:",e.t0),y.yw.error("获取工单历史记录失败"),g(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=q()(f()().mark((function e(){var t,r;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.yw.loading("loading"),t={pageNumber:0,pageSize:100,orgUid:null==s?void 0:s.uid},e.next=4,(0,Z.z_)(t);case 4:200===(r=e.sent).code?(y.yw.destroy(),x(r)):y.yw.destroy();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,H.useEffect)((function(){F()}),[t]);var F=function(){M(),b()},j=function(e){if(!e)return"-";var t=h.data.content.find((function(t){return t.uid===e}));return(null==t?void 0:t.nickname)||""},A=a?{}:{maxHeight:"400px",overflowY:"auto"};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(P.Z,{spinning:c,children:(0,U.jsxs)("div",{style:A,children:[(0,U.jsx)(Y.ZP,{type:"primary",shape:"circle",icon:(0,U.jsx)(O.Z,{}),size:"small",onClick:F,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},title:"刷新"}),(0,U.jsx)(E.Z,{direction:"vertical",size:"small",current:u.length-1,style:{padding:"16px"},items:u.map((function(e,t){var r,a;return{title:(a=null==e?void 0:e.activityName,a||"活动"),description:(0,U.jsxs)("div",{children:[(null==e?void 0:e.assignee)&&(0,U.jsxs)("div",{children:["处理人: ",j(null==e?void 0:e.assignee)||(null==e?void 0:e.assignee)]}),(0,U.jsxs)("div",{children:["处理时间: ",(null===(r=e.startTime)||void 0===r?void 0:r.toLocaleString())||"-"]})]}),status:t===u.length-1?"process":"finish"}}))}),0===u.length&&(0,U.jsx)(B.Z,{description:"请选择工单查看流转过程"})]})})})},G=["current","pageSize"],Q=function(){var e=(0,i.useIntl)(),t=(0,H.useRef)(),r=(0,I.Z)().translateString,a=(0,H.useState)(1),s=v()(a,2),n=s[0],o=s[1],d=(0,H.useState)(10),m=v()(d,2),c=m[0],g=m[1],p=(0,S.u)((function(e){return e.currentOrg})),x=(0,H.useState)(!1),b=v()(x,2),F=b[0],j=b[1],T=(0,H.useState)(),D=v()(T,2),Z=D[0],z=(D[1],[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:(0,U.jsx)(i.FormattedMessage,{id:"uid",defaultMessage:"Uid"}),dataIndex:"uid",hideInSearch:!0,fixed:"left"},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.nickname"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.nickname.tooltip"}),dataIndex:"visitorNickname",width:180,copyable:!0,render:function(e,t){var a;return r(null==t||null===(a=t.thread)||void 0===a||null===(a=a.user)||void 0===a?void 0:a.nickname)}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.number"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.number.tooltip"}),dataIndex:"queueNumber",hideInSearch:!0},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.queueNickname"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.nickname.tooltip"}),dataIndex:"queueNickname",copyable:!0,width:120,hideInSearch:!0,render:function(e,t){var a;return r(null==t||null===(a=t.queue)||void 0===a?void 0:a.nickname)}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robot"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robot.tooltip"}),dataIndex:"robotNickname",copyable:!0,render:function(e,t){var a,s=null==t||null===(a=t.thread)||void 0===a?void 0:a.robotProtobuf;return r(null==s?void 0:s.nickname)}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.waitTime"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.waitTime.tooltip"}),dataIndex:"waitLength",hideInSearch:!0,render:function(e,t){if(!t.waitLength&&0!==t.waitLength)return"-";var r=Math.floor(t.waitLength/60),a=t.waitLength%60;return r>0?"".concat(r,"分").concat(a,"秒"):"".concat(a,"秒")}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorPriority"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorPriority.tooltip"}),dataIndex:"visitorPriority",hideInSearch:!0,render:function(e,t){return t.visitorPriority||0}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorFirstMessageAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorFirstMessageAt.tooltip"}),dataIndex:"visitorFirstMessageAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.visitorFirstMessageAt?L()(null==t?void 0:t.visitorFirstMessageAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorLastMessageAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorLastMessageAt.tooltip"}),dataIndex:"visitorLastMessageAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.visitorLastMessageAt?L()(null==t?void 0:t.visitorLastMessageAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorLeavedAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorLeavedAt.tooltip"}),dataIndex:"visitorLeavedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.visitorLeavedAt?L()(null==t?void 0:t.visitorLeavedAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.enqueueTime"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.enqueueTime.tooltip"}),dataIndex:"visitorEnqueueAt",hideInSearch:!0,render:function(e,t){return L()(null==t?void 0:t.visitorEnqueueAt).format("YYYY-MM-DD HH:mm:ss")}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.status"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.status.tooltip"}),dataIndex:"status",hideInSearch:!0,render:function(e,t){var r;switch(null==t||null===(r=t.thread)||void 0===r?void 0:r.status){case u.ach:return(0,U.jsx)(i.FormattedMessage,{id:"thread.process.status.new"});case u.j0C:return(0,U.jsx)(i.FormattedMessage,{id:"thread.process.status.roboting"});case u.Q7C:return(0,U.jsx)(i.FormattedMessage,{id:"thread.process.status.offline"});case u.v1N:return(0,U.jsx)(i.FormattedMessage,{id:"thread.process.status.queuing"});case u.hl2:return(0,U.jsx)(i.FormattedMessage,{id:"thread.process.status.chatting"});case u.V1n:return(0,U.jsx)(i.FormattedMessage,{id:"thread.process.status.closed"});default:return(0,U.jsx)(i.FormattedMessage,{id:"queue.member.status.unknown"})}}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotAcceptType"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotAcceptType.tooltip"}),dataIndex:"robotAcceptType",hideInSearch:!0,render:function(e,t){switch(null==t?void 0:t.robotAcceptType){case"AUTO":return(0,U.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.auto"});case"MANUAL":return(0,U.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.manual"});case"ROBOT":return(0,U.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.robot"});default:return(0,U.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.unknown"})}}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotAcceptTime"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotAcceptTime.tooltip"}),dataIndex:"robotAcceptedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotAcceptedAt?L()(null==t?void 0:t.robotAcceptedAt).format("YYYY-MM-DD HH:mm:ss"):"未接入"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponse"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponse.tooltip"}),dataIndex:"robotFirstResponse",hideInSearch:!0,render:function(e,t){return t.robotFirstResponse?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponse.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponse.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponseAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotFirstResponseAt.tooltip"}),dataIndex:"robotFirstResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotFirstResponseAt?L()(null==t?void 0:t.robotFirstResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotLastResponseAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotLastResponseAt.tooltip"}),dataIndex:"robotLastResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotLastResponseAt?L()(null==t?void 0:t.robotLastResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotClosedAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotClosedAt.tooltip"}),dataIndex:"robotClosedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotClosedAt?L()(null==t?void 0:t.robotClosedAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotToAgent"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotToAgent.tooltip"}),dataIndex:"robotToAgent",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotToAgent?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.offline.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.offline.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotToAgentTime"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotToAgentTime.tooltip"}),dataIndex:"robotToAgentAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotToAgent?L()(null==t?void 0:t.robotToAgentAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotAvgResponseLength"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotAvgResponseLength.tooltip"}),dataIndex:"robotAvgResponseLength",hideInSearch:!0,render:function(e,t){if(!t.robotAvgResponseLength&&0!==t.robotAvgResponseLength)return"-";var r=Math.floor(t.robotAvgResponseLength/60),a=t.robotAvgResponseLength%60;return r>0?"".concat(r,"分").concat(a,"秒"):"".concat(a,"秒")}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotMaxResponseLength"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotMaxResponseLength.tooltip"}),dataIndex:"robotMaxResponseLength",hideInSearch:!0,render:function(e,t){if(!t.robotMaxResponseLength&&0!==t.robotMaxResponseLength)return"-";var r=Math.floor(t.robotMaxResponseLength/60),a=t.robotMaxResponseLength%60;return r>0?"".concat(r,"分").concat(a,"秒"):"".concat(a,"秒")}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeout"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeout.tooltip"}),dataIndex:"robotTimeout",hideInSearch:!0,render:function(e,t){return t.robotTimeout?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeout.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeout.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeoutAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotTimeoutAt.tooltip"}),dataIndex:"robotTimeoutAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotTimeoutAt?L()(null==t?void 0:t.robotTimeoutAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agent"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agent.tooltip"}),dataIndex:"agentNickname",copyable:!0,render:function(e,t){var a,s=JSON.parse((null==t||null===(a=t.thread)||void 0===a?void 0:a.agent)||"{}");return r(null==s?void 0:s.nickname)}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.offline"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.offline.tooltip"}),dataIndex:"agentOffline",hideInSearch:!0,render:function(e,t){return null!=t&&t.robotToAgent?null!=t&&t.agentOffline?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.offline.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.offline.no"}):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentAcceptType"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentAcceptType.tooltip"}),dataIndex:"agentAcceptType",hideInSearch:!0,render:function(e,t){switch(null==t?void 0:t.agentAcceptType){case"AUTO":return(0,U.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.auto"});case"MANUAL":return(0,U.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.manual"});case"ROBOT":return(0,U.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.robot"});default:return(0,U.jsx)(i.FormattedMessage,{id:"queue.member.acceptType.unknown"})}}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentAcceptTime"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentAcceptTime.tooltip"}),dataIndex:"agentAcceptedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentAcceptedAt?L()(null==t?void 0:t.agentAcceptedAt).format("YYYY-MM-DD HH:mm:ss"):"未接入"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponse"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponse.tooltip"}),dataIndex:"agentFirstResponse",hideInSearch:!0,render:function(e,t){return t.agentFirstResponse?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponse.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponse.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponseLength"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponseLength.tooltip"}),dataIndex:"agentFirstResponseLength",hideInSearch:!0,render:function(e,t){if(!t.agentFirstResponseLength&&0!==t.agentFirstResponseLength)return"-";var r=Math.floor(t.agentFirstResponseLength/60),a=t.agentFirstResponseLength%60;return r>0?"".concat(r,"分").concat(a,"秒"):"".concat(a,"秒")}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponseAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentFirstResponseAt.tooltip"}),dataIndex:"agentFirstResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentFirstResponseAt?L()(null==t?void 0:t.agentFirstResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentLastResponseAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentLastResponseAt.tooltip"}),dataIndex:"agentLastResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentLastResponseAt?L()(null==t?void 0:t.agentLastResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentClosedAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentClosedAt.tooltip"}),dataIndex:"agentClosedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentClosedAt?L()(null==t?void 0:t.agentClosedAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.solved"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.solved.tooltip"}),dataIndex:"resolved",hideInSearch:!0,render:function(e,t){return t.resolved?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.solved.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.solved.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.rated"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.rated.tooltip"}),dataIndex:"rated",hideInSearch:!0,render:function(e,t){return t.rated?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.rated.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.rated.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.rateScore"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.rateScore.tooltip"}),dataIndex:"rateScore",hideInSearch:!0},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.rateAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.rateAt.tooltip"}),dataIndex:"rateAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.rateAt?L()(null==t?void 0:t.rateAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.qualityChecked"}),dataIndex:"qualityChecked",key:"qualityChecked",width:150,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.qualityChecked.tooltip"}),valueEnum:{true:{text:"已质检",status:"Success"},false:{text:"待质检",status:"Processing"}},render:function(e,t){return(0,U.jsx)(w.Z,{color:t.qualityChecked?"green":"blue",children:t.qualityChecked?"已质检":"待质检"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.qualityCheckScore"}),dataIndex:"qualityCheckScore",key:"qualityCheckScore",width:100,hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.qualityCheckScore.tooltip"}),render:function(e,t){return(0,U.jsxs)(w.Z,{color:t.qualityCheckScore>=90?"green":t.qualityCheckScore>=80?"orange":"red",children:[t.qualityCheckScore||0,"分"]})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.qualityCheckedAt"}),dataIndex:"qualityCheckedAt",key:"qualityCheckedAt",valueType:"dateTime",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.qualityCheckedAt.tooltip"}),render:function(e,t){return t.qualityCheckedAt||"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.summarized"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.summarized.tooltip"}),dataIndex:"summarized",hideInSearch:!0,render:function(e,t){return t.summarized?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.summarized.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.summarized.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorMessageCount"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.visitorMessageCount.tooltip"}),dataIndex:"visitorMessageCount",hideInSearch:!0,render:function(e,t){return t.visitorMessageCount||0}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentMessageCount"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentMessageCount.tooltip"}),dataIndex:"agentMessageCount",hideInSearch:!0,render:function(e,t){return t.agentMessageCount||0}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentAvgResponseLength"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentAvgResponseLength.tooltip"}),dataIndex:"agentAvgResponseLength",hideInSearch:!0,render:function(e,t){if(!t.agentAvgResponseLength&&0!==t.agentAvgResponseLength)return"-";var r=Math.floor(t.agentAvgResponseLength/60),a=t.agentAvgResponseLength%60;return r>0?"".concat(r,"分").concat(a,"秒"):"".concat(a,"秒")}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentMaxResponseLength"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentMaxResponseLength.tooltip"}),dataIndex:"agentMaxResponseLength",hideInSearch:!0,render:function(e,t){if(!t.agentMaxResponseLength&&0!==t.agentMaxResponseLength)return"-";var r=Math.floor(t.agentMaxResponseLength/60),a=t.agentMaxResponseLength%60;return r>0?"".concat(r,"分").concat(a,"秒"):"".concat(a,"秒")}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeout"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeout.tooltip"}),dataIndex:"agentTimeout",hideInSearch:!0,render:function(e,t){return t.agentTimeout?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeout.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeout.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeoutAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeoutAt.tooltip"}),dataIndex:"agentTimeoutAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.agentTimeoutAt?L()(null==t?void 0:t.agentTimeoutAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeoutCount"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentTimeoutCount.tooltip"}),dataIndex:"agentTimeoutCount",hideInSearch:!0,render:function(e,t){return t.agentTimeoutCount||0}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentClose"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentClose.tooltip"}),dataIndex:"agentClose",hideInSearch:!0,render:function(e,t){return t.agentClose?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentClose.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.agentClose.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemFirstResponseAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemFirstResponseAt.tooltip"}),dataIndex:"systemFirstResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.systemFirstResponseAt?L()(null==t?void 0:t.systemFirstResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemLastResponseAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemLastResponseAt.tooltip"}),dataIndex:"systemLastResponseAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.systemLastResponseAt?L()(null==t?void 0:t.systemLastResponseAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemClosedAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemClosedAt.tooltip"}),dataIndex:"systemClosedAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.systemClosedAt?L()(null==t?void 0:t.systemClosedAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemClose"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemClose.tooltip"}),dataIndex:"systemClose",hideInSearch:!0,render:function(e,t){return t.systemClose?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemClose.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemClose.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemMessageCount"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.systemMessageCount.tooltip"}),dataIndex:"systemMessageCount",hideInSearch:!0,render:function(e,t){return t.systemMessageCount||0}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.messageLeaveAt"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.messageLeaveAt.tooltip"}),dataIndex:"messageLeaveAt",hideInSearch:!0,render:function(e,t){return null!=t&&t.messageLeaveAt?L()(null==t?void 0:t.messageLeaveAt).format("YYYY-MM-DD HH:mm:ss"):"-"}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotMessageCount"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.robotMessageCount.tooltip"}),dataIndex:"robotMessageCount",hideInSearch:!0,render:function(e,t){return t.robotMessageCount||0}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.leaveMsg"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.leaveMsg.tooltip"}),dataIndex:"messageLeave",hideInSearch:!0,render:function(e,t){return t.messageLeave?(0,U.jsx)(i.FormattedMessage,{id:"queue.member.leaveMsg.yes"}):(0,U.jsx)(i.FormattedMessage,{id:"queue.member.leaveMsg.no"})}},{title:(0,U.jsx)(i.FormattedMessage,{id:"channel"}),tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.channel.tooltip"}),dataIndex:"channel",copyable:!0,hideInSearch:!0,render:function(e,t){var r;return(0,C.YG)(null==t||null===(r=t.thread)||void 0===r?void 0:r.channel)}},{title:(0,U.jsx)(i.FormattedMessage,{id:"createdAt",defaultMessage:"createdAt"}),key:"createdAt",dataIndex:"createdAt",width:180,hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.tooltip.createdAt"}),render:function(e,t,r,a){return L()(t.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{title:(0,U.jsx)(i.FormattedMessage,{id:"updatedAt",defaultMessage:"updatedAt"}),key:"updatedAt",dataIndex:"updatedAt",width:180,hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.tooltip.updatedAt"}),render:function(e,t,r,a){return L()(t.updatedAt).format("YYYY-MM-DD HH:mm:ss")}}]);z.push({title:e.formatMessage({id:"actions",defaultMessage:"Actions"}),valueType:"option",key:"option",width:100,fixed:"right",render:function(t,r,a,s){return[(0,U.jsx)("a",{onClick:function(){O(r)},children:e.formatMessage({id:"view",defaultMessage:"View"})},"view")]}});var O=function(e){var t,r,a;console.log("handleShowChatHistory",e);var s={chatConfig:{org:null==e||null===(t=e.thread)||void 0===t?void 0:t.orgUid,t:u.CCt,sid:null==e||null===(r=e.thread)||void 0===r?void 0:r.uid}};null===(a=window.bytedesk)||void 0===a||a.showChat(s)},N=function(){var e=q()(f()().mark((function e(){var t;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",n,c),t=localStorage.getItem(u.LA8),window.open((0,l.kG)()+"/api/v1/queue/member/export?"+new URLSearchParams({orgUid:(null==p?void 0:p.uid)||"",pageNumber:String(n-1),pageSize:String(c),accessToken:t||""}).toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(R.Z,{columns:z,actionRef:t,cardBordered:!0,scroll:{x:"max-content"},request:function(){var t=q()(f()().mark((function t(r,a,s){var n,i,u,d,m;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.yw.loading(e.formatMessage({id:"loading",defaultMessage:"Loading"})),n=r.current,i=r.pageSize,u=M()(r,G),o(n),g(i),d=h()({pageNumber:n-1,pageSize:i,orgUid:null==p?void 0:p.uid},u),t.next=7,(0,A.nV)(d);case 7:return m=t.sent,console.log("queryQueueMembersByOrg response:",d,m),y.yw.destroy(),200===m.code||y.yw.error(m.message),t.abrupt("return",{data:null==m?void 0:m.data.content,success:!0,total:null==m?void 0:m.data.totalElements});case 12:case"end":return t.stop()}}),t)})));return function(e,r,a){return t.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:e.formatMessage({id:"queue.member.list"}),toolBarRender:function(){return[(0,U.jsx)(Y.ZP,{icon:(0,U.jsx)(k.Z,{}),type:"primary",onClick:N,children:(0,U.jsx)(i.FormattedMessage,{id:"queue.member.export"})},"button")]},columnsState:{persistenceKey:"queue-member-table",defaultValue:{}},options:{setting:{draggable:!0,checkable:!0,checkedReset:!0,extra:[(0,U.jsx)("a",{onClick:function(){var e,r;null===(e=t.current)||void 0===e||null===(r=e.reset)||void 0===r||r.call(e)},children:(0,U.jsx)(i.FormattedMessage,{id:"table.columns.reset"})},"reset")]}}}),(0,U.jsx)(J,{thread:Z,drawerOpen:F,onClose:function(){return j(!1)}})]})},V=r(86222),X=r.n(V),K=r(68478),_=r(51891),$=r(71194),ee=["current","pageSize"],te=function(){var e=(0,i.useIntl)(),t=(0,H.useRef)(),r=(0,I.Z)().translateString,a=(0,H.useState)(1),s=v()(a,2),n=s[0],o=s[1],d=(0,H.useState)(10),m=v()(d,2),c=m[0],g=m[1],p=(0,S.u)((function(e){return e.currentOrg})),x=(0,H.useState)([]),b=v()(x,2),F=b[0],j=b[1],A=(0,H.useState)([]),C=v()(A,2),w=C[0],T=C[1],D=(0,H.useState)(!1),Z=v()(D,2),z=Z[0],O=Z[1],N=[{dataIndex:"index",valueType:"indexBorder",width:48,fixed:"left"},{title:(0,U.jsx)(i.FormattedMessage,{id:"uid",defaultMessage:"Uid"}),dataIndex:"uid",hideInSearch:!0,fixed:"left"},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.nickname"}),dataIndex:"nickname",copyable:!0,width:150,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.nickname.tooltip",defaultMessage:"客服或工作组的名称"}),render:function(e,t){return r(null==t?void 0:t.nickname)}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.type"}),dataIndex:"type",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.type.tooltip",defaultMessage:"接待类型：工作组、客服或机器人"}),render:function(e,t){switch(t.type){case u.VXt:return(0,U.jsx)(i.FormattedMessage,{id:"queue.type.workgroup"});case u.BOH:return(0,U.jsx)(i.FormattedMessage,{id:"queue.type.agent"});case u.aOw:return(0,U.jsx)(i.FormattedMessage,{id:"queue.type.robot"});default:return(0,U.jsx)(i.FormattedMessage,{id:"queue.type.unknown"})}}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.day"}),dataIndex:"day",valueType:"date",tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.day.tooltip",defaultMessage:"统计的日期"}),search:{transform:function(e){return L()(e).format("YYYY-MM-DD")}}},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.totalCount"}),dataIndex:"totalCount",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.totalCount.tooltip",defaultMessage:"今日请求服务总人数"})},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.robotingCount"}),dataIndex:"robotingCount",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.robotingCount.tooltip",defaultMessage:"机器人服务中人次"})},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.offlineCount"}),dataIndex:"offlineCount",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.offlineCount.tooltip",defaultMessage:"客服离线人次"})},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.leaveMsgCount"}),dataIndex:"leaveMsgCount",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.leaveMsgCount.tooltip",defaultMessage:"访客留言数量"})},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.robotToAgentCount"}),dataIndex:"robotToAgentCount",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.robotToAgentCount.tooltip",defaultMessage:"从机器人转人工的次数"})},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.queuingCount"}),dataIndex:"queuingCount",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.queuingCount.tooltip",defaultMessage:"当前排队中人数"})},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.chattingCount"}),dataIndex:"chattingCount",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.chattingCount.tooltip",defaultMessage:"正在服务中人数"})},{title:(0,U.jsx)(i.FormattedMessage,{id:"queue.closedCount"}),dataIndex:"closedCount",hideInSearch:!0,tooltip:(0,U.jsx)(i.FormattedMessage,{id:"queue.closedCount.tooltip",defaultMessage:"已结束会话数量"})}],E=function(){var e=q()(f()().mark((function e(){var t;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleExportExcel",n,c),t=localStorage.getItem(u.LA8),window.open((0,l.kG)()+"/api/v1/queue/export?"+new URLSearchParams({orgUid:(null==p?void 0:p.uid)||"",pageNumber:String(n-1),pageSize:String(c),accessToken:t||""}).toString());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(R.Z,{columns:N,actionRef:t,cardBordered:!0,scroll:{x:"max-content"},request:function(){var t=q()(f()().mark((function t(a,s,n){var i,u,d,m,l,c,x,b,F,q;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.yw.loading(e.formatMessage({id:"loading",defaultMessage:"Loading"})),O(!0),i=a.current,u=a.pageSize,d=M()(a,ee),o(i),g(u),m=h()({pageNumber:i-1,pageSize:u,orgUid:null==p?void 0:p.uid},d),t.next=8,(0,K.Wq)(m);case 8:if(l=t.sent,console.log("queryQueuesByOrg response:",m,l),y.yw.destroy(),O(!1),200!==l.code){t.next=37;break}(c=null==l?void 0:l.data.content.map((function(e){return{day:e.day,totalCount:e.totalCount,nickname:r(e.nickname)}}))).sort((function(e,t){return L()(e.day).diff(L()(t.day))})),j(c),x=[],b=X()(null==l?void 0:l.data.content),t.prev=18,q=f()().mark((function e(){var t,a,s;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=F.value).threadsCountByHour&&t.threadsCountByHour.length>0&&(a=r(t.nickname),s=t.day||"",t.threadsCountByHour.forEach((function(e,t){x.push({hour:String(t)+"点",count:e,nickname:a,day:s})})));case 2:case"end":return e.stop()}}),e)})),b.s();case 21:if((F=b.n()).done){t.next=25;break}return t.delegateYield(q(),"t0",23);case 23:t.next=21;break;case 25:t.next=30;break;case 27:t.prev=27,t.t1=t.catch(18),b.e(t.t1);case 30:return t.prev=30,b.f(),t.finish(30);case 33:T(x),console.log("Hourly chart data sample:",x.slice(0,3)),t.next=38;break;case 37:y.yw.error(l.message);case 38:return t.abrupt("return",{data:null==l?void 0:l.data.content,success:!0,total:null==l?void 0:l.data.totalElements});case 39:case"end":return t.stop()}}),t,null,[[18,27,30,33]])})));return function(e,r,a){return t.apply(this,arguments)}}(),editable:{type:"multiple"},rowKey:"uid",search:{labelWidth:"auto"},pagination:{showQuickJumper:!0,onChange:function(e){console.log("page:",e)}},dateFormatter:"string",headerTitle:e.formatMessage({id:"queue.list"}),toolBarRender:function(){return[(0,U.jsx)(Y.ZP,{icon:(0,U.jsx)(k.Z,{}),type:"primary",onClick:E,children:(0,U.jsx)(i.FormattedMessage,{id:"queue.export"})},"button")]}}),(0,U.jsx)(_.Z,{title:e.formatMessage({id:"queue.totalCount.trend",defaultMessage:"总数趋势"}),style:{marginTop:16},children:(0,U.jsx)(P.Z,{spinning:z,children:F.length>0?(0,U.jsx)($.Z,{data:F,xField:"day",yField:"totalCount",seriesField:"nickname",colorField:"nickname",tooltip:function(e){return{name:e.nickname,title:e.day,value:e.totalCount}}}):(0,U.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:e.formatMessage({id:"noData",defaultMessage:"暂无数据"})})})}),(0,U.jsx)(_.Z,{title:e.formatMessage({id:"queue.hourly.trend",defaultMessage:"24小时接待人数趋势"}),style:{marginTop:16},children:(0,U.jsx)(P.Z,{spinning:z,children:w.length>0?(0,U.jsx)($.Z,h()(h()({},{smooth:!0,animation:!1,lineStyle:{lineWidth:100},point:{size:5,style:{lineWidth:15}},state:{active:{style:{shadowBlur:4,stroke:"#000",fill:"red"}}},tooltip:{shared:!0}}),{},{data:w,xField:"hour",yField:"count",seriesField:"nickname",colorField:"nickname",tooltip:function(e){return{name:e.nickname,title:"".concat(e.hour,":00"),value:"".concat(e.count).concat(e.day?" (".concat(e.day,")"):"")}}})):(0,U.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:e.formatMessage({id:"noData",defaultMessage:"暂无数据"})})})})]})},re=function(){var e=(0,i.useIntl)(),t=[{key:"thread",label:e.formatMessage({id:"thread.tab.all"}),children:(0,U.jsx)(s.Z,{type:u.Nqz})}];return(0,l.OJ)()&&t.push({key:"queue",label:e.formatMessage({id:"queue.tab.list"}),children:(0,U.jsx)(te,{})},{key:"queue_member",label:e.formatMessage({id:"queue.tab.member"}),children:(0,U.jsx)(Q,{})},{key:"rate",label:e.formatMessage({id:"thread.tab.rate"}),children:(0,U.jsx)(m.Z,{})},{key:"transfer",label:e.formatMessage({id:"thread.tab.transfer"}),children:(0,U.jsx)(o.Z,{})},{key:"invite",label:e.formatMessage({id:"thread.tab.invite"}),children:(0,U.jsx)(n.Z,{})},{key:"summary",label:e.formatMessage({id:"thread.tab.summary"}),children:(0,U.jsx)(d.Z,{})}),(0,l.Ox)()||t.push({key:"thread.group",label:e.formatMessage({id:"thread.tab.group"}),children:(0,U.jsx)(c.Z,{type:u.Nqz})},{key:"thread.member",label:e.formatMessage({id:"thread.tab.member"}),children:(0,U.jsx)(g.Z,{type:u.Nqz})}),(0,U.jsx)(a.Z,{defaultActiveKey:"thread",items:t,style:{padding:"10px"}})}},41587:function(e,t,r){r.d(t,{Z:function(){return i}});var a=r(6844),s=r(26557),n=r(26407),o=r(20744),i=(0,s.Ue)()((0,n.mW)((0,n.tJ)((0,o.n)((function(e,t){return{memberResult:{data:{content:[],totalElements:0}},insertMember:function(t){e((function(e){e.memberResult.data.content.unshift(t)}))},updateMember:function(t){e((function(e){var r=e.memberResult.data.content,a=r.findIndex((function(e){return e.uid===t.uid}));-1!==a?r[a]=t:console.warn("Member with uid ".concat(t.uid," not found."))}))},deleteMember:function(t){e((function(e){var r=e.memberResult.data.content,a=r.findIndex((function(e){return e.uid===t.uid}));-1!==a?r.splice(a,1):console.warn("Member with uid ".concat(t.uid," not found."))}))},setMemberResult:function(t){e({memberResult:t})},deleteMemberCache:function(){return e({},!0)}}})),{name:a.PQL})))}}]);